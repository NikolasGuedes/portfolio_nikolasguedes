(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const U of document.querySelectorAll('link[rel="modulepreload"]'))L(U);new MutationObserver(U=>{for(const W of U)if(W.type==="childList")for(const te of W.addedNodes)te.tagName==="LINK"&&te.rel==="modulepreload"&&L(te)}).observe(document,{childList:!0,subtree:!0});function A(U){const W={};return U.integrity&&(W.integrity=U.integrity),U.referrerPolicy&&(W.referrerPolicy=U.referrerPolicy),U.crossOrigin==="use-credentials"?W.credentials="include":U.crossOrigin==="anonymous"?W.credentials="omit":W.credentials="same-origin",W}function L(U){if(U.ep)return;U.ep=!0;const W=A(U);fetch(U.href,W)}})();function getDefaultExportFromCjs(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var P=Symbol.for("react.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),te=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),oe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ce=Symbol.iterator;function he(Ne){return Ne===null||typeof Ne!="object"?null:(Ne=ce&&Ne[ce]||Ne["@@iterator"],typeof Ne=="function"?Ne:null)}var ue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pe=Object.assign,ge={};function de(Ne,Ze,Wt){this.props=Ne,this.context=Ze,this.refs=ge,this.updater=Wt||ue}de.prototype.isReactComponent={},de.prototype.setState=function(Ne,Ze){if(typeof Ne!="object"&&typeof Ne!="function"&&Ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ne,Ze,"setState")},de.prototype.forceUpdate=function(Ne){this.updater.enqueueForceUpdate(this,Ne,"forceUpdate")};function me(){}me.prototype=de.prototype;function ye(Ne,Ze,Wt){this.props=Ne,this.context=Ze,this.refs=ge,this.updater=Wt||ue}var xe=ye.prototype=new me;xe.constructor=ye,pe(xe,de.prototype),xe.isPureReactComponent=!0;var Se=Array.isArray,Te=Object.prototype.hasOwnProperty,be={current:null},Pe={key:!0,ref:!0,__self:!0,__source:!0};function Ie(Ne,Ze,Wt){var Qe,Pt={},zt=null,It=null;if(Ze!=null)for(Qe in Ze.ref!==void 0&&(It=Ze.ref),Ze.key!==void 0&&(zt=""+Ze.key),Ze)Te.call(Ze,Qe)&&!Pe.hasOwnProperty(Qe)&&(Pt[Qe]=Ze[Qe]);var Yt=arguments.length-2;if(Yt===1)Pt.children=Wt;else if(1<Yt){for(var ln=Array(Yt),pn=0;pn<Yt;pn++)ln[pn]=arguments[pn+2];Pt.children=ln}if(Ne&&Ne.defaultProps)for(Qe in Yt=Ne.defaultProps,Yt)Pt[Qe]===void 0&&(Pt[Qe]=Yt[Qe]);return{$$typeof:P,type:Ne,key:zt,ref:It,props:Pt,_owner:be.current}}function De(Ne,Ze){return{$$typeof:P,type:Ne.type,key:Ze,ref:Ne.ref,props:Ne.props,_owner:Ne._owner}}function we(Ne){return typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===P}function Fe(Ne){var Ze={"=":"=0",":":"=2"};return"$"+Ne.replace(/[=:]/g,function(Wt){return Ze[Wt]})}var Ge=/\/+/g;function He(Ne,Ze){return typeof Ne=="object"&&Ne!==null&&Ne.key!=null?Fe(""+Ne.key):Ze.toString(36)}function je(Ne,Ze,Wt,Qe,Pt){var zt=typeof Ne;(zt==="undefined"||zt==="boolean")&&(Ne=null);var It=!1;if(Ne===null)It=!0;else switch(zt){case"string":case"number":It=!0;break;case"object":switch(Ne.$$typeof){case P:case T:It=!0}}if(It)return It=Ne,Pt=Pt(It),Ne=Qe===""?"."+He(It,0):Qe,Se(Pt)?(Wt="",Ne!=null&&(Wt=Ne.replace(Ge,"$&/")+"/"),je(Pt,Ze,Wt,"",function(pn){return pn})):Pt!=null&&(we(Pt)&&(Pt=De(Pt,Wt+(!Pt.key||It&&It.key===Pt.key?"":(""+Pt.key).replace(Ge,"$&/")+"/")+Ne)),Ze.push(Pt)),1;if(It=0,Qe=Qe===""?".":Qe+":",Se(Ne))for(var Yt=0;Yt<Ne.length;Yt++){zt=Ne[Yt];var ln=Qe+He(zt,Yt);It+=je(zt,Ze,Wt,ln,Pt)}else if(ln=he(Ne),typeof ln=="function")for(Ne=ln.call(Ne),Yt=0;!(zt=Ne.next()).done;)zt=zt.value,ln=Qe+He(zt,Yt++),It+=je(zt,Ze,Wt,ln,Pt);else if(zt==="object")throw Ze=String(Ne),Error("Objects are not valid as a React child (found: "+(Ze==="[object Object]"?"object with keys {"+Object.keys(Ne).join(", ")+"}":Ze)+"). If you meant to render a collection of children, use an array instead.");return It}function qe(Ne,Ze,Wt){if(Ne==null)return Ne;var Qe=[],Pt=0;return je(Ne,Qe,"","",function(zt){return Ze.call(Wt,zt,Pt++)}),Qe}function Ye(Ne){if(Ne._status===-1){var Ze=Ne._result;Ze=Ze(),Ze.then(function(Wt){(Ne._status===0||Ne._status===-1)&&(Ne._status=1,Ne._result=Wt)},function(Wt){(Ne._status===0||Ne._status===-1)&&(Ne._status=2,Ne._result=Wt)}),Ne._status===-1&&(Ne._status=0,Ne._result=Ze)}if(Ne._status===1)return Ne._result.default;throw Ne._result}var Ct={current:null},Re={transition:null},Oe={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Re,ReactCurrentOwner:be};function ze(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:qe,forEach:function(Ne,Ze,Wt){qe(Ne,function(){Ze.apply(this,arguments)},Wt)},count:function(Ne){var Ze=0;return qe(Ne,function(){Ze++}),Ze},toArray:function(Ne){return qe(Ne,function(Ze){return Ze})||[]},only:function(Ne){if(!we(Ne))throw Error("React.Children.only expected to receive a single React element child.");return Ne}},react_production_min.Component=de,react_production_min.Fragment=A,react_production_min.Profiler=U,react_production_min.PureComponent=ye,react_production_min.StrictMode=L,react_production_min.Suspense=ie,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,react_production_min.act=ze,react_production_min.cloneElement=function(Ne,Ze,Wt){if(Ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Ne+".");var Qe=pe({},Ne.props),Pt=Ne.key,zt=Ne.ref,It=Ne._owner;if(Ze!=null){if(Ze.ref!==void 0&&(zt=Ze.ref,It=be.current),Ze.key!==void 0&&(Pt=""+Ze.key),Ne.type&&Ne.type.defaultProps)var Yt=Ne.type.defaultProps;for(ln in Ze)Te.call(Ze,ln)&&!Pe.hasOwnProperty(ln)&&(Qe[ln]=Ze[ln]===void 0&&Yt!==void 0?Yt[ln]:Ze[ln])}var ln=arguments.length-2;if(ln===1)Qe.children=Wt;else if(1<ln){Yt=Array(ln);for(var pn=0;pn<ln;pn++)Yt[pn]=arguments[pn+2];Qe.children=Yt}return{$$typeof:P,type:Ne.type,key:Pt,ref:zt,props:Qe,_owner:It}},react_production_min.createContext=function(Ne){return Ne={$$typeof:te,_currentValue:Ne,_currentValue2:Ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Ne.Provider={$$typeof:W,_context:Ne},Ne.Consumer=Ne},react_production_min.createElement=Ie,react_production_min.createFactory=function(Ne){var Ze=Ie.bind(null,Ne);return Ze.type=Ne,Ze},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Ne){return{$$typeof:ne,render:Ne}},react_production_min.isValidElement=we,react_production_min.lazy=function(Ne){return{$$typeof:ae,_payload:{_status:-1,_result:Ne},_init:Ye}},react_production_min.memo=function(Ne,Ze){return{$$typeof:oe,type:Ne,compare:Ze===void 0?null:Ze}},react_production_min.startTransition=function(Ne){var Ze=Re.transition;Re.transition={};try{Ne()}finally{Re.transition=Ze}},react_production_min.unstable_act=ze,react_production_min.useCallback=function(Ne,Ze){return Ct.current.useCallback(Ne,Ze)},react_production_min.useContext=function(Ne){return Ct.current.useContext(Ne)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Ne){return Ct.current.useDeferredValue(Ne)},react_production_min.useEffect=function(Ne,Ze){return Ct.current.useEffect(Ne,Ze)},react_production_min.useId=function(){return Ct.current.useId()},react_production_min.useImperativeHandle=function(Ne,Ze,Wt){return Ct.current.useImperativeHandle(Ne,Ze,Wt)},react_production_min.useInsertionEffect=function(Ne,Ze){return Ct.current.useInsertionEffect(Ne,Ze)},react_production_min.useLayoutEffect=function(Ne,Ze){return Ct.current.useLayoutEffect(Ne,Ze)},react_production_min.useMemo=function(Ne,Ze){return Ct.current.useMemo(Ne,Ze)},react_production_min.useReducer=function(Ne,Ze,Wt){return Ct.current.useReducer(Ne,Ze,Wt)},react_production_min.useRef=function(Ne){return Ct.current.useRef(Ne)},react_production_min.useState=function(Ne){return Ct.current.useState(Ne)},react_production_min.useSyncExternalStore=function(Ne,Ze,Wt){return Ct.current.useSyncExternalStore(Ne,Ze,Wt)},react_production_min.useTransition=function(){return Ct.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var P=requireReact(),T=Symbol.for("react.element"),A=Symbol.for("react.fragment"),L=Object.prototype.hasOwnProperty,U=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};function te(ne,ie,oe){var ae,ce={},he=null,ue=null;oe!==void 0&&(he=""+oe),ie.key!==void 0&&(he=""+ie.key),ie.ref!==void 0&&(ue=ie.ref);for(ae in ie)L.call(ie,ae)&&!W.hasOwnProperty(ae)&&(ce[ae]=ie[ae]);if(ne&&ne.defaultProps)for(ae in ie=ne.defaultProps,ie)ce[ae]===void 0&&(ce[ae]=ie[ae]);return{$$typeof:T,type:ne,key:he,ref:ue,props:ce,_owner:U.current}}return reactJsxRuntime_production_min.Fragment=A,reactJsxRuntime_production_min.jsx=te,reactJsxRuntime_production_min.jsxs=te,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const p$2=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$2;function requireScheduler_production_min$2(){return hasRequiredScheduler_production_min$2||(hasRequiredScheduler_production_min$2=1,function(P){function T(Re,Oe){var ze=Re.length;Re.push(Oe);e:for(;0<ze;){var Ne=ze-1>>>1,Ze=Re[Ne];if(0<U(Ze,Oe))Re[Ne]=Oe,Re[ze]=Ze,ze=Ne;else break e}}function A(Re){return Re.length===0?null:Re[0]}function L(Re){if(Re.length===0)return null;var Oe=Re[0],ze=Re.pop();if(ze!==Oe){Re[0]=ze;e:for(var Ne=0,Ze=Re.length,Wt=Ze>>>1;Ne<Wt;){var Qe=2*(Ne+1)-1,Pt=Re[Qe],zt=Qe+1,It=Re[zt];if(0>U(Pt,ze))zt<Ze&&0>U(It,Pt)?(Re[Ne]=It,Re[zt]=ze,Ne=zt):(Re[Ne]=Pt,Re[Qe]=ze,Ne=Qe);else if(zt<Ze&&0>U(It,ze))Re[Ne]=It,Re[zt]=ze,Ne=zt;else break e}}return Oe}function U(Re,Oe){var ze=Re.sortIndex-Oe.sortIndex;return ze!==0?ze:Re.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var W=performance;P.unstable_now=function(){return W.now()}}else{var te=Date,ne=te.now();P.unstable_now=function(){return te.now()-ne}}var ie=[],oe=[],ae=1,ce=null,he=3,ue=!1,pe=!1,ge=!1,de=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xe(Re){for(var Oe=A(oe);Oe!==null;){if(Oe.callback===null)L(oe);else if(Oe.startTime<=Re)L(oe),Oe.sortIndex=Oe.expirationTime,T(ie,Oe);else break;Oe=A(oe)}}function Se(Re){if(ge=!1,xe(Re),!pe)if(A(ie)!==null)pe=!0,Ye(Te);else{var Oe=A(oe);Oe!==null&&Ct(Se,Oe.startTime-Re)}}function Te(Re,Oe){pe=!1,ge&&(ge=!1,me(Ie),Ie=-1),ue=!0;var ze=he;try{for(xe(Oe),ce=A(ie);ce!==null&&(!(ce.expirationTime>Oe)||Re&&!Fe());){var Ne=ce.callback;if(typeof Ne=="function"){ce.callback=null,he=ce.priorityLevel;var Ze=Ne(ce.expirationTime<=Oe);Oe=P.unstable_now(),typeof Ze=="function"?ce.callback=Ze:ce===A(ie)&&L(ie),xe(Oe)}else L(ie);ce=A(ie)}if(ce!==null)var Wt=!0;else{var Qe=A(oe);Qe!==null&&Ct(Se,Qe.startTime-Oe),Wt=!1}return Wt}finally{ce=null,he=ze,ue=!1}}var be=!1,Pe=null,Ie=-1,De=5,we=-1;function Fe(){return!(P.unstable_now()-we<De)}function Ge(){if(Pe!==null){var Re=P.unstable_now();we=Re;var Oe=!0;try{Oe=Pe(!0,Re)}finally{Oe?He():(be=!1,Pe=null)}}else be=!1}var He;if(typeof ye=="function")He=function(){ye(Ge)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,qe=je.port2;je.port1.onmessage=Ge,He=function(){qe.postMessage(null)}}else He=function(){de(Ge,0)};function Ye(Re){Pe=Re,be||(be=!0,He())}function Ct(Re,Oe){Ie=de(function(){Re(P.unstable_now())},Oe)}P.unstable_IdlePriority=5,P.unstable_ImmediatePriority=1,P.unstable_LowPriority=4,P.unstable_NormalPriority=3,P.unstable_Profiling=null,P.unstable_UserBlockingPriority=2,P.unstable_cancelCallback=function(Re){Re.callback=null},P.unstable_continueExecution=function(){pe||ue||(pe=!0,Ye(Te))},P.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<Re?Math.floor(1e3/Re):5},P.unstable_getCurrentPriorityLevel=function(){return he},P.unstable_getFirstCallbackNode=function(){return A(ie)},P.unstable_next=function(Re){switch(he){case 1:case 2:case 3:var Oe=3;break;default:Oe=he}var ze=he;he=Oe;try{return Re()}finally{he=ze}},P.unstable_pauseExecution=function(){},P.unstable_requestPaint=function(){},P.unstable_runWithPriority=function(Re,Oe){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var ze=he;he=Re;try{return Oe()}finally{he=ze}},P.unstable_scheduleCallback=function(Re,Oe,ze){var Ne=P.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Ne+ze:Ne):ze=Ne,Re){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ze+Ze,Re={id:ae++,callback:Oe,priorityLevel:Re,startTime:ze,expirationTime:Ze,sortIndex:-1},ze>Ne?(Re.sortIndex=ze,T(oe,Re),A(ie)===null&&Re===A(oe)&&(ge?(me(Ie),Ie=-1):ge=!0,Ct(Se,ze-Ne))):(Re.sortIndex=Ze,T(ie,Re),pe||ue||(pe=!0,Ye(Te))),Re},P.unstable_shouldYield=Fe,P.unstable_wrapCallback=function(Re){var Oe=he;return function(){var ze=he;he=Oe;try{return Re.apply(this,arguments)}finally{he=ze}}}}(scheduler_production_min$2)),scheduler_production_min$2}var hasRequiredScheduler$2;function requireScheduler$2(){return hasRequiredScheduler$2||(hasRequiredScheduler$2=1,scheduler$2.exports=requireScheduler_production_min$2()),scheduler$2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var P=requireReact(),T=requireScheduler$2();function A(ee){for(var re="https://reactjs.org/docs/error-decoder.html?invariant="+ee,fe=1;fe<arguments.length;fe++)re+="&args[]="+encodeURIComponent(arguments[fe]);return"Minified React error #"+ee+"; visit "+re+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L=new Set,U={};function W(ee,re){te(ee,re),te(ee+"Capture",re)}function te(ee,re){for(U[ee]=re,ee=0;ee<re.length;ee++)L.add(re[ee])}var ne=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ie=Object.prototype.hasOwnProperty,oe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ae={},ce={};function he(ee){return ie.call(ce,ee)?!0:ie.call(ae,ee)?!1:oe.test(ee)?ce[ee]=!0:(ae[ee]=!0,!1)}function ue(ee,re,fe,_e){if(fe!==null&&fe.type===0)return!1;switch(typeof re){case"function":case"symbol":return!0;case"boolean":return _e?!1:fe!==null?!fe.acceptsBooleans:(ee=ee.toLowerCase().slice(0,5),ee!=="data-"&&ee!=="aria-");default:return!1}}function pe(ee,re,fe,_e){if(re===null||typeof re>"u"||ue(ee,re,fe,_e))return!0;if(_e)return!1;if(fe!==null)switch(fe.type){case 3:return!re;case 4:return re===!1;case 5:return isNaN(re);case 6:return isNaN(re)||1>re}return!1}function ge(ee,re,fe,_e,Me,Ae,ke){this.acceptsBooleans=re===2||re===3||re===4,this.attributeName=_e,this.attributeNamespace=Me,this.mustUseProperty=fe,this.propertyName=ee,this.type=re,this.sanitizeURL=Ae,this.removeEmptyString=ke}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ee){de[ee]=new ge(ee,0,!1,ee,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ee){var re=ee[0];de[re]=new ge(re,1,!1,ee[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ee){de[ee]=new ge(ee,2,!1,ee.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ee){de[ee]=new ge(ee,2,!1,ee,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ee){de[ee]=new ge(ee,3,!1,ee.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ee){de[ee]=new ge(ee,3,!0,ee,null,!1,!1)}),["capture","download"].forEach(function(ee){de[ee]=new ge(ee,4,!1,ee,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ee){de[ee]=new ge(ee,6,!1,ee,null,!1,!1)}),["rowSpan","start"].forEach(function(ee){de[ee]=new ge(ee,5,!1,ee.toLowerCase(),null,!1,!1)});var me=/[\-:]([a-z])/g;function ye(ee){return ee[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ee){var re=ee.replace(me,ye);de[re]=new ge(re,1,!1,ee,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ee){var re=ee.replace(me,ye);de[re]=new ge(re,1,!1,ee,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ee){var re=ee.replace(me,ye);de[re]=new ge(re,1,!1,ee,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ee){de[ee]=new ge(ee,1,!1,ee.toLowerCase(),null,!1,!1)}),de.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ee){de[ee]=new ge(ee,1,!1,ee.toLowerCase(),null,!0,!0)});function xe(ee,re,fe,_e){var Me=de.hasOwnProperty(re)?de[re]:null;(Me!==null?Me.type!==0:_e||!(2<re.length)||re[0]!=="o"&&re[0]!=="O"||re[1]!=="n"&&re[1]!=="N")&&(pe(re,fe,Me,_e)&&(fe=null),_e||Me===null?he(re)&&(fe===null?ee.removeAttribute(re):ee.setAttribute(re,""+fe)):Me.mustUseProperty?ee[Me.propertyName]=fe===null?Me.type===3?!1:"":fe:(re=Me.attributeName,_e=Me.attributeNamespace,fe===null?ee.removeAttribute(re):(Me=Me.type,fe=Me===3||Me===4&&fe===!0?"":""+fe,_e?ee.setAttributeNS(_e,re,fe):ee.setAttribute(re,fe))))}var Se=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),be=Symbol.for("react.portal"),Pe=Symbol.for("react.fragment"),Ie=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Fe=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Ct=Symbol.for("react.offscreen"),Re=Symbol.iterator;function Oe(ee){return ee===null||typeof ee!="object"?null:(ee=Re&&ee[Re]||ee["@@iterator"],typeof ee=="function"?ee:null)}var ze=Object.assign,Ne;function Ze(ee){if(Ne===void 0)try{throw Error()}catch(fe){var re=fe.stack.trim().match(/\n( *(at )?)/);Ne=re&&re[1]||""}return`
`+Ne+ee}var Wt=!1;function Qe(ee,re){if(!ee||Wt)return"";Wt=!0;var fe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(re)if(re=function(){throw Error()},Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(kt){var _e=kt}Reflect.construct(ee,[],re)}else{try{re.call()}catch(kt){_e=kt}ee.call(re.prototype)}else{try{throw Error()}catch(kt){_e=kt}ee()}}catch(kt){if(kt&&_e&&typeof kt.stack=="string"){for(var Me=kt.stack.split(`
`),Ae=_e.stack.split(`
`),ke=Me.length-1,Xe=Ae.length-1;1<=ke&&0<=Xe&&Me[ke]!==Ae[Xe];)Xe--;for(;1<=ke&&0<=Xe;ke--,Xe--)if(Me[ke]!==Ae[Xe]){if(ke!==1||Xe!==1)do if(ke--,Xe--,0>Xe||Me[ke]!==Ae[Xe]){var Ke=`
`+Me[ke].replace(" at new "," at ");return ee.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",ee.displayName)),Ke}while(1<=ke&&0<=Xe);break}}}finally{Wt=!1,Error.prepareStackTrace=fe}return(ee=ee?ee.displayName||ee.name:"")?Ze(ee):""}function Pt(ee){switch(ee.tag){case 5:return Ze(ee.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return ee=Qe(ee.type,!1),ee;case 11:return ee=Qe(ee.type.render,!1),ee;case 1:return ee=Qe(ee.type,!0),ee;default:return""}}function zt(ee){if(ee==null)return null;if(typeof ee=="function")return ee.displayName||ee.name||null;if(typeof ee=="string")return ee;switch(ee){case Pe:return"Fragment";case be:return"Portal";case De:return"Profiler";case Ie:return"StrictMode";case He:return"Suspense";case je:return"SuspenseList"}if(typeof ee=="object")switch(ee.$$typeof){case Fe:return(ee.displayName||"Context")+".Consumer";case we:return(ee._context.displayName||"Context")+".Provider";case Ge:var re=ee.render;return ee=ee.displayName,ee||(ee=re.displayName||re.name||"",ee=ee!==""?"ForwardRef("+ee+")":"ForwardRef"),ee;case qe:return re=ee.displayName||null,re!==null?re:zt(ee.type)||"Memo";case Ye:re=ee._payload,ee=ee._init;try{return zt(ee(re))}catch{}}return null}function It(ee){var re=ee.type;switch(ee.tag){case 24:return"Cache";case 9:return(re.displayName||"Context")+".Consumer";case 10:return(re._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ee=re.render,ee=ee.displayName||ee.name||"",re.displayName||(ee!==""?"ForwardRef("+ee+")":"ForwardRef");case 7:return"Fragment";case 5:return re;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zt(re);case 8:return re===Ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof re=="function")return re.displayName||re.name||null;if(typeof re=="string")return re}return null}function Yt(ee){switch(typeof ee){case"boolean":case"number":case"string":case"undefined":return ee;case"object":return ee;default:return""}}function ln(ee){var re=ee.type;return(ee=ee.nodeName)&&ee.toLowerCase()==="input"&&(re==="checkbox"||re==="radio")}function pn(ee){var re=ln(ee)?"checked":"value",fe=Object.getOwnPropertyDescriptor(ee.constructor.prototype,re),_e=""+ee[re];if(!ee.hasOwnProperty(re)&&typeof fe<"u"&&typeof fe.get=="function"&&typeof fe.set=="function"){var Me=fe.get,Ae=fe.set;return Object.defineProperty(ee,re,{configurable:!0,get:function(){return Me.call(this)},set:function(ke){_e=""+ke,Ae.call(this,ke)}}),Object.defineProperty(ee,re,{enumerable:fe.enumerable}),{getValue:function(){return _e},setValue:function(ke){_e=""+ke},stopTracking:function(){ee._valueTracker=null,delete ee[re]}}}}function In(ee){ee._valueTracker||(ee._valueTracker=pn(ee))}function $t(ee){if(!ee)return!1;var re=ee._valueTracker;if(!re)return!0;var fe=re.getValue(),_e="";return ee&&(_e=ln(ee)?ee.checked?"true":"false":ee.value),ee=_e,ee!==fe?(re.setValue(ee),!0):!1}function jt(ee){if(ee=ee||(typeof document<"u"?document:void 0),typeof ee>"u")return null;try{return ee.activeElement||ee.body}catch{return ee.body}}function Ve(ee,re){var fe=re.checked;return ze({},re,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:fe??ee._wrapperState.initialChecked})}function Cn(ee,re){var fe=re.defaultValue==null?"":re.defaultValue,_e=re.checked!=null?re.checked:re.defaultChecked;fe=Yt(re.value!=null?re.value:fe),ee._wrapperState={initialChecked:_e,initialValue:fe,controlled:re.type==="checkbox"||re.type==="radio"?re.checked!=null:re.value!=null}}function Zt(ee,re){re=re.checked,re!=null&&xe(ee,"checked",re,!1)}function fn(ee,re){Zt(ee,re);var fe=Yt(re.value),_e=re.type;if(fe!=null)_e==="number"?(fe===0&&ee.value===""||ee.value!=fe)&&(ee.value=""+fe):ee.value!==""+fe&&(ee.value=""+fe);else if(_e==="submit"||_e==="reset"){ee.removeAttribute("value");return}re.hasOwnProperty("value")?Rn(ee,re.type,fe):re.hasOwnProperty("defaultValue")&&Rn(ee,re.type,Yt(re.defaultValue)),re.checked==null&&re.defaultChecked!=null&&(ee.defaultChecked=!!re.defaultChecked)}function Jt(ee,re,fe){if(re.hasOwnProperty("value")||re.hasOwnProperty("defaultValue")){var _e=re.type;if(!(_e!=="submit"&&_e!=="reset"||re.value!==void 0&&re.value!==null))return;re=""+ee._wrapperState.initialValue,fe||re===ee.value||(ee.value=re),ee.defaultValue=re}fe=ee.name,fe!==""&&(ee.name=""),ee.defaultChecked=!!ee._wrapperState.initialChecked,fe!==""&&(ee.name=fe)}function Rn(ee,re,fe){(re!=="number"||jt(ee.ownerDocument)!==ee)&&(fe==null?ee.defaultValue=""+ee._wrapperState.initialValue:ee.defaultValue!==""+fe&&(ee.defaultValue=""+fe))}var tn=Array.isArray;function We(ee,re,fe,_e){if(ee=ee.options,re){re={};for(var Me=0;Me<fe.length;Me++)re["$"+fe[Me]]=!0;for(fe=0;fe<ee.length;fe++)Me=re.hasOwnProperty("$"+ee[fe].value),ee[fe].selected!==Me&&(ee[fe].selected=Me),Me&&_e&&(ee[fe].defaultSelected=!0)}else{for(fe=""+Yt(fe),re=null,Me=0;Me<ee.length;Me++){if(ee[Me].value===fe){ee[Me].selected=!0,_e&&(ee[Me].defaultSelected=!0);return}re!==null||ee[Me].disabled||(re=ee[Me])}re!==null&&(re.selected=!0)}}function Be(ee,re){if(re.dangerouslySetInnerHTML!=null)throw Error(A(91));return ze({},re,{value:void 0,defaultValue:void 0,children:""+ee._wrapperState.initialValue})}function Mt(ee,re){var fe=re.value;if(fe==null){if(fe=re.children,re=re.defaultValue,fe!=null){if(re!=null)throw Error(A(92));if(tn(fe)){if(1<fe.length)throw Error(A(93));fe=fe[0]}re=fe}re==null&&(re=""),fe=re}ee._wrapperState={initialValue:Yt(fe)}}function Ut(ee,re){var fe=Yt(re.value),_e=Yt(re.defaultValue);fe!=null&&(fe=""+fe,fe!==ee.value&&(ee.value=fe),re.defaultValue==null&&ee.defaultValue!==fe&&(ee.defaultValue=fe)),_e!=null&&(ee.defaultValue=""+_e)}function Xt(ee){var re=ee.textContent;re===ee._wrapperState.initialValue&&re!==""&&re!==null&&(ee.value=re)}function Gt(ee){switch(ee){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function En(ee,re){return ee==null||ee==="http://www.w3.org/1999/xhtml"?Gt(re):ee==="http://www.w3.org/2000/svg"&&re==="foreignObject"?"http://www.w3.org/1999/xhtml":ee}var un,gn=function(ee){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(re,fe,_e,Me){MSApp.execUnsafeLocalFunction(function(){return ee(re,fe,_e,Me)})}:ee}(function(ee,re){if(ee.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ee)ee.innerHTML=re;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+re.valueOf().toString()+"</svg>",re=un.firstChild;ee.firstChild;)ee.removeChild(ee.firstChild);for(;re.firstChild;)ee.appendChild(re.firstChild)}});function jn(ee,re){if(re){var fe=ee.firstChild;if(fe&&fe===ee.lastChild&&fe.nodeType===3){fe.nodeValue=re;return}}ee.textContent=re}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(ee){An.forEach(function(re){re=re+ee.charAt(0).toUpperCase()+ee.substring(1),nn[re]=nn[ee]})});function zn(ee,re,fe){return re==null||typeof re=="boolean"||re===""?"":fe||typeof re!="number"||re===0||nn.hasOwnProperty(ee)&&nn[ee]?(""+re).trim():re+"px"}function $n(ee,re){ee=ee.style;for(var fe in re)if(re.hasOwnProperty(fe)){var _e=fe.indexOf("--")===0,Me=zn(fe,re[fe],_e);fe==="float"&&(fe="cssFloat"),_e?ee.setProperty(fe,Me):ee[fe]=Me}}var wn=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sr(ee,re){if(re){if(wn[ee]&&(re.children!=null||re.dangerouslySetInnerHTML!=null))throw Error(A(137,ee));if(re.dangerouslySetInnerHTML!=null){if(re.children!=null)throw Error(A(60));if(typeof re.dangerouslySetInnerHTML!="object"||!("__html"in re.dangerouslySetInnerHTML))throw Error(A(61))}if(re.style!=null&&typeof re.style!="object")throw Error(A(62))}}function Xn(ee,re){if(ee.indexOf("-")===-1)return typeof re.is=="string";switch(ee){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function dt(ee){return ee=ee.target||ee.srcElement||window,ee.correspondingUseElement&&(ee=ee.correspondingUseElement),ee.nodeType===3?ee.parentNode:ee}var mn=null,Nt=null,qt=null;function _n(ee){if(ee=Fs(ee)){if(typeof mn!="function")throw Error(A(280));var re=ee.stateNode;re&&(re=ql(re),mn(ee.stateNode,ee.type,re))}}function yn(ee){Nt?qt?qt.push(ee):qt=[ee]:Nt=ee}function qn(){if(Nt){var ee=Nt,re=qt;if(qt=Nt=null,_n(ee),re)for(ee=0;ee<re.length;ee++)_n(re[ee])}}function Cr(ee,re){return ee(re)}function Nr(){}var hr=!1;function di(ee,re,fe){if(hr)return ee(re,fe);hr=!0;try{return Cr(ee,re,fe)}finally{hr=!1,(Nt!==null||qt!==null)&&(Nr(),qn())}}function pi(ee,re){var fe=ee.stateNode;if(fe===null)return null;var _e=ql(fe);if(_e===null)return null;fe=_e[re];e:switch(re){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(ee=ee.type,_e=!(ee==="button"||ee==="input"||ee==="select"||ee==="textarea")),ee=!_e;break e;default:ee=!1}if(ee)return null;if(fe&&typeof fe!="function")throw Error(A(231,re,typeof fe));return fe}var Wa=!1;if(ne)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Wa=!1}function fs(ee,re,fe,_e,Me,Ae,ke,Xe,Ke){var kt=Array.prototype.slice.call(arguments,3);try{re.apply(fe,kt)}catch(Qt){this.onError(Qt)}}var Ji=!1,ua=null,es=!1,Zs=null,ll={onError:function(ee){Ji=!0,ua=ee}};function $a(ee,re,fe,_e,Me,Ae,ke,Xe,Ke){Ji=!1,ua=null,fs.apply(ll,arguments)}function cl(ee,re,fe,_e,Me,Ae,ke,Xe,Ke){if($a.apply(this,arguments),Ji){if(Ji){var kt=ua;Ji=!1,ua=null}else throw Error(A(198));es||(es=!0,Zs=kt)}}function ds(ee){var re=ee,fe=ee;if(ee.alternate)for(;re.return;)re=re.return;else{ee=re;do re=ee,re.flags&4098&&(fe=re.return),ee=re.return;while(ee)}return re.tag===3?fe:null}function ul(ee){if(ee.tag===13){var re=ee.memoizedState;if(re===null&&(ee=ee.alternate,ee!==null&&(re=ee.memoizedState)),re!==null)return re.dehydrated}return null}function hl(ee){if(ds(ee)!==ee)throw Error(A(188))}function fl(ee){var re=ee.alternate;if(!re){if(re=ds(ee),re===null)throw Error(A(188));return re!==ee?null:ee}for(var fe=ee,_e=re;;){var Me=fe.return;if(Me===null)break;var Ae=Me.alternate;if(Ae===null){if(_e=Me.return,_e!==null){fe=_e;continue}break}if(Me.child===Ae.child){for(Ae=Me.child;Ae;){if(Ae===fe)return hl(Me),ee;if(Ae===_e)return hl(Me),re;Ae=Ae.sibling}throw Error(A(188))}if(fe.return!==_e.return)fe=Me,_e=Ae;else{for(var ke=!1,Xe=Me.child;Xe;){if(Xe===fe){ke=!0,fe=Me,_e=Ae;break}if(Xe===_e){ke=!0,_e=Me,fe=Ae;break}Xe=Xe.sibling}if(!ke){for(Xe=Ae.child;Xe;){if(Xe===fe){ke=!0,fe=Ae,_e=Me;break}if(Xe===_e){ke=!0,_e=Ae,fe=Me;break}Xe=Xe.sibling}if(!ke)throw Error(A(189))}}if(fe.alternate!==_e)throw Error(A(190))}if(fe.tag!==3)throw Error(A(188));return fe.stateNode.current===fe?ee:re}function dl(ee){return ee=fl(ee),ee!==null?pl(ee):null}function pl(ee){if(ee.tag===5||ee.tag===6)return ee;for(ee=ee.child;ee!==null;){var re=pl(ee);if(re!==null)return re;ee=ee.sibling}return null}var ml=T.unstable_scheduleCallback,Ue=T.unstable_cancelCallback,vt=T.unstable_shouldYield,Ft=T.unstable_requestPaint,bt=T.unstable_now,xt=T.unstable_getCurrentPriorityLevel,en=T.unstable_ImmediatePriority,dn=T.unstable_UserBlockingPriority,Sn=T.unstable_NormalPriority,Tn=T.unstable_LowPriority,Un=T.unstable_IdlePriority,On=null,an=null;function Fn(ee){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(On,ee,void 0,(ee.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:er,ar=Math.log,or=Math.LN2;function er(ee){return ee>>>=0,ee===0?32:31-(ar(ee)/or|0)|0}var Ln=64,ur=4194304;function nr(ee){switch(ee&-ee){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ee&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ee&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ee}}function Qr(ee,re){var fe=ee.pendingLanes;if(fe===0)return 0;var _e=0,Me=ee.suspendedLanes,Ae=ee.pingedLanes,ke=fe&268435455;if(ke!==0){var Xe=ke&~Me;Xe!==0?_e=nr(Xe):(Ae&=ke,Ae!==0&&(_e=nr(Ae)))}else ke=fe&~Me,ke!==0?_e=nr(ke):Ae!==0&&(_e=nr(Ae));if(_e===0)return 0;if(re!==0&&re!==_e&&!(re&Me)&&(Me=_e&-_e,Ae=re&-re,Me>=Ae||Me===16&&(Ae&4194240)!==0))return re;if(_e&4&&(_e|=fe&16),re=ee.entangledLanes,re!==0)for(ee=ee.entanglements,re&=_e;0<re;)fe=31-Wn(re),Me=1<<fe,_e|=ee[fe],re&=~Me;return _e}function Ts(ee,re){switch(ee){case 1:case 2:case 4:return re+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return re+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(ee,re){for(var fe=ee.suspendedLanes,_e=ee.pingedLanes,Me=ee.expirationTimes,Ae=ee.pendingLanes;0<Ae;){var ke=31-Wn(Ae),Xe=1<<ke,Ke=Me[ke];Ke===-1?(!(Xe&fe)||Xe&_e)&&(Me[ke]=Ts(Xe,re)):Ke<=re&&(ee.expiredLanes|=Xe),Ae&=~Xe}}function ps(ee){return ee=ee.pendingLanes&-1073741825,ee!==0?ee:ee&1073741824?1073741824:0}function lr(){var ee=Ln;return Ln<<=1,!(Ln&4194240)&&(Ln=64),ee}function oi(ee){for(var re=[],fe=0;31>fe;fe++)re.push(ee);return re}function $r(ee,re,fe){ee.pendingLanes|=re,re!==536870912&&(ee.suspendedLanes=0,ee.pingedLanes=0),ee=ee.eventTimes,re=31-Wn(re),ee[re]=fe}function Jr(ee,re){var fe=ee.pendingLanes&~re;ee.pendingLanes=re,ee.suspendedLanes=0,ee.pingedLanes=0,ee.expiredLanes&=re,ee.mutableReadLanes&=re,ee.entangledLanes&=re,re=ee.entanglements;var _e=ee.eventTimes;for(ee=ee.expirationTimes;0<fe;){var Me=31-Wn(fe),Ae=1<<Me;re[Me]=0,_e[Me]=-1,ee[Me]=-1,fe&=~Ae}}function Fr(ee,re){var fe=ee.entangledLanes|=re;for(ee=ee.entanglements;fe;){var _e=31-Wn(fe),Me=1<<_e;Me&re|ee[_e]&re&&(ee[_e]|=re),fe&=~Me}}var cr=0;function Ci(ee){return ee&=-ee,1<ee?4<ee?ee&268435455?16:536870912:4:1}var Mo,dc,ou,gl,yl,ha=!1,vl=[],ms=null,ir=null,bs=null,fa=new Map,ja=new Map,Ks=[],Ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vr(ee,re){switch(ee){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":fa.delete(re.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(re.pointerId)}}function da(ee,re,fe,_e,Me,Ae){return ee===null||ee.nativeEvent!==Ae?(ee={blockedOn:re,domEventName:fe,eventSystemFlags:_e,nativeEvent:Ae,targetContainers:[Me]},re!==null&&(re=Fs(re),re!==null&&dc(re)),ee):(ee.eventSystemFlags|=_e,re=ee.targetContainers,Me!==null&&re.indexOf(Me)===-1&&re.push(Me),ee)}function eh(ee,re,fe,_e,Me){switch(re){case"focusin":return ms=da(ms,ee,re,fe,_e,Me),!0;case"dragenter":return ir=da(ir,ee,re,fe,_e,Me),!0;case"mouseover":return bs=da(bs,ee,re,fe,_e,Me),!0;case"pointerover":var Ae=Me.pointerId;return fa.set(Ae,da(fa.get(Ae)||null,ee,re,fe,_e,Me)),!0;case"gotpointercapture":return Ae=Me.pointerId,ja.set(Ae,da(ja.get(Ae)||null,ee,re,fe,_e,Me)),!0}return!1}function _l(ee){var re=ia(ee.target);if(re!==null){var fe=ds(re);if(fe!==null){if(re=fe.tag,re===13){if(re=ul(fe),re!==null){ee.blockedOn=re,yl(ee.priority,function(){ou(fe)});return}}else if(re===3&&fe.stateNode.current.memoizedState.isDehydrated){ee.blockedOn=fe.tag===3?fe.stateNode.containerInfo:null;return}}}ee.blockedOn=null}function xl(ee){if(ee.blockedOn!==null)return!1;for(var re=ee.targetContainers;0<re.length;){var fe=Hi(ee.domEventName,ee.eventSystemFlags,re[0],ee.nativeEvent);if(fe===null){fe=ee.nativeEvent;var _e=new fe.constructor(fe.type,fe);gr=_e,fe.target.dispatchEvent(_e),gr=null}else return re=Fs(fe),re!==null&&dc(re),ee.blockedOn=fe,!1;re.shift()}return!0}function Co(ee,re,fe){xl(ee)&&fe.delete(re)}function gs(){ha=!1,ms!==null&&xl(ms)&&(ms=null),ir!==null&&xl(ir)&&(ir=null),bs!==null&&xl(bs)&&(bs=null),fa.forEach(Co),ja.forEach(Co)}function To(ee,re){ee.blockedOn===re&&(ee.blockedOn=null,ha||(ha=!0,T.unstable_scheduleCallback(T.unstable_NormalPriority,gs)))}function bo(ee){function re(Me){return To(Me,ee)}if(0<vl.length){To(vl[0],ee);for(var fe=1;fe<vl.length;fe++){var _e=vl[fe];_e.blockedOn===ee&&(_e.blockedOn=null)}}for(ms!==null&&To(ms,ee),ir!==null&&To(ir,ee),bs!==null&&To(bs,ee),fa.forEach(re),ja.forEach(re),fe=0;fe<Ks.length;fe++)_e=Ks[fe],_e.blockedOn===ee&&(_e.blockedOn=null);for(;0<Ks.length&&(fe=Ks[0],fe.blockedOn===null);)_l(fe),fe.blockedOn===null&&Ks.shift()}var mi=Se.ReactCurrentBatchConfig,Gi=!0;function Sl(ee,re,fe,_e){var Me=cr,Ae=mi.transition;mi.transition=null;try{cr=1,El(ee,re,fe,_e)}finally{cr=Me,mi.transition=Ae}}function pc(ee,re,fe,_e){var Me=cr,Ae=mi.transition;mi.transition=null;try{cr=4,El(ee,re,fe,_e)}finally{cr=Me,mi.transition=Ae}}function El(ee,re,fe,_e){if(Gi){var Me=Hi(ee,re,fe,_e);if(Me===null)Gl(ee,re,_e,Ml,fe),Vr(ee,_e);else if(eh(Me,ee,re,fe,_e))_e.stopPropagation();else if(Vr(ee,_e),re&4&&-1<Ju.indexOf(ee)){for(;Me!==null;){var Ae=Fs(Me);if(Ae!==null&&Mo(Ae),Ae=Hi(ee,re,fe,_e),Ae===null&&Gl(ee,re,_e,Ml,fe),Ae===Me)break;Me=Ae}Me!==null&&_e.stopPropagation()}else Gl(ee,re,_e,null,fe)}}var Ml=null;function Hi(ee,re,fe,_e){if(Ml=null,ee=dt(_e),ee=ia(ee),ee!==null)if(re=ds(ee),re===null)ee=null;else if(fe=re.tag,fe===13){if(ee=ul(re),ee!==null)return ee;ee=null}else if(fe===3){if(re.stateNode.current.memoizedState.isDehydrated)return re.tag===3?re.stateNode.containerInfo:null;ee=null}else re!==ee&&(ee=null);return Ml=ee,null}function lu(ee){switch(ee){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xt()){case en:return 1;case dn:return 4;case Sn:case Tn:return 16;case Un:return 536870912;default:return 16}default:return 16}}var ts=null,mc=null,Ti=null;function Ao(){if(Ti)return Ti;var ee,re=mc,fe=re.length,_e,Me="value"in ts?ts.value:ts.textContent,Ae=Me.length;for(ee=0;ee<fe&&re[ee]===Me[ee];ee++);var ke=fe-ee;for(_e=1;_e<=ke&&re[fe-_e]===Me[Ae-_e];_e++);return Ti=Me.slice(ee,1<_e?1-_e:void 0)}function pa(ee){var re=ee.keyCode;return"charCode"in ee?(ee=ee.charCode,ee===0&&re===13&&(ee=13)):ee=re,ee===10&&(ee=13),32<=ee||ee===13?ee:0}function As(){return!0}function Cl(){return!1}function gi(ee){function re(fe,_e,Me,Ae,ke){this._reactName=fe,this._targetInst=Me,this.type=_e,this.nativeEvent=Ae,this.target=ke,this.currentTarget=null;for(var Xe in ee)ee.hasOwnProperty(Xe)&&(fe=ee[Xe],this[Xe]=fe?fe(Ae):Ae[Xe]);return this.isDefaultPrevented=(Ae.defaultPrevented!=null?Ae.defaultPrevented:Ae.returnValue===!1)?As:Cl,this.isPropagationStopped=Cl,this}return ze(re.prototype,{preventDefault:function(){this.defaultPrevented=!0;var fe=this.nativeEvent;fe&&(fe.preventDefault?fe.preventDefault():typeof fe.returnValue!="unknown"&&(fe.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var fe=this.nativeEvent;fe&&(fe.stopPropagation?fe.stopPropagation():typeof fe.cancelBubble!="unknown"&&(fe.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),re}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ee){return ee.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=gi(ma),ga=ze({},ma,{view:0,detail:0}),Xa=gi(ga),bi,Wi,$i,qa=ze({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(ee){return ee.relatedTarget===void 0?ee.fromElement===ee.srcElement?ee.toElement:ee.fromElement:ee.relatedTarget},movementX:function(ee){return"movementX"in ee?ee.movementX:(ee!==$i&&($i&&ee.type==="mousemove"?(bi=ee.screenX-$i.screenX,Wi=ee.screenY-$i.screenY):Wi=bi=0,$i=ee),bi)},movementY:function(ee){return"movementY"in ee?ee.movementY:Wi}}),gc=gi(qa),ws=ze({},qa,{dataTransfer:0}),Qs=gi(ws),Tl=ze({},ga,{relatedTarget:0}),bl=gi(Tl),Al=ze({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=gi(Al),uu=ze({},ma,{clipboardData:function(ee){return"clipboardData"in ee?ee.clipboardData:window.clipboardData}}),yc=gi(uu),wl=ze({},ma,{data:0}),vc=gi(wl),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ya(ee){var re=this.nativeEvent;return re.getModifierState?re.getModifierState(ee):(ee=_c[ee])?!!re[ee]:!1}function Js(){return Ya}var Pl=ze({},ga,{key:function(ee){if(ee.key){var re=hu[ee.key]||ee.key;if(re!=="Unidentified")return re}return ee.type==="keypress"?(ee=pa(ee),ee===13?"Enter":String.fromCharCode(ee)):ee.type==="keydown"||ee.type==="keyup"?fu[ee.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(ee){return ee.type==="keypress"?pa(ee):0},keyCode:function(ee){return ee.type==="keydown"||ee.type==="keyup"?ee.keyCode:0},which:function(ee){return ee.type==="keypress"?pa(ee):ee.type==="keydown"||ee.type==="keyup"?ee.keyCode:0}}),Rl=gi(Pl),ji=ze({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=gi(ji),ya=ze({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),Ps=gi(ya),Rs=ze({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=gi(Rs),du=ze({},qa,{deltaX:function(ee){return"deltaX"in ee?ee.deltaX:"wheelDeltaX"in ee?-ee.wheelDeltaX:0},deltaY:function(ee){return"deltaY"in ee?ee.deltaY:"wheelDeltaY"in ee?-ee.wheelDeltaY:"wheelDelta"in ee?-ee.wheelDelta:0},deltaZ:0,deltaMode:0}),xc=gi(du),Sc=[9,13,27,32],yi=ne&&"CompositionEvent"in window,ei=null;ne&&"documentMode"in document&&(ei=document.documentMode);var Ar=ne&&"TextEvent"in window&&!ei,Za=ne&&(!yi||ei&&8<ei&&11>=ei),Xi=" ",Ec=!1;function Mc(ee,re){switch(ee){case"keyup":return Sc.indexOf(re.keyCode)!==-1;case"keydown":return re.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(ee){return ee=ee.detail,typeof ee=="object"&&"data"in ee?ee.data:null}var ea=!1;function pu(ee,re){switch(ee){case"compositionend":return Dl(re);case"keypress":return re.which!==32?null:(Ec=!0,Xi);case"textInput":return ee=re.data,ee===Xi&&Ec?null:ee;default:return null}}function Po(ee,re){if(ea)return ee==="compositionend"||!yi&&Mc(ee,re)?(ee=Ao(),Ti=mc=ts=null,ea=!1,ee):null;switch(ee){case"paste":return null;case"keypress":if(!(re.ctrlKey||re.altKey||re.metaKey)||re.ctrlKey&&re.altKey){if(re.char&&1<re.char.length)return re.char;if(re.which)return String.fromCharCode(re.which)}return null;case"compositionend":return Za&&re.locale!=="ko"?null:re.data;default:return null}}var Ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Il(ee){var re=ee&&ee.nodeName&&ee.nodeName.toLowerCase();return re==="input"?!!Ka[ee.type]:re==="textarea"}function Qa(ee,re,fe,_e){yn(_e),re=Hl(re,"onChange"),0<re.length&&(fe=new wo("onChange","change",null,fe,_e),ee.push({event:fe,listeners:re}))}var ta=null,Ja=null;function mu(ee){ro(ee,0)}function Ds(ee){var re=kr(ee);if($t(re))return ee}function gu(ee,re){if(ee==="change")return re}var eo=!1;if(ne){var Ai;if(ne){var xa="oninput"in document;if(!xa){var Sa=document.createElement("div");Sa.setAttribute("oninput","return;"),xa=typeof Sa.oninput=="function"}Ai=xa}else Ai=!1;eo=Ai&&(!document.documentMode||9<document.documentMode)}function ns(){ta&&(ta.detachEvent("onpropertychange",Ll),Ja=ta=null)}function Ll(ee){if(ee.propertyName==="value"&&Ds(Ja)){var re=[];Qa(re,Ja,ee,dt(ee)),di(mu,re)}}function to(ee,re,fe){ee==="focusin"?(ns(),ta=re,Ja=fe,ta.attachEvent("onpropertychange",Ll)):ee==="focusout"&&ns()}function yu(ee){if(ee==="selectionchange"||ee==="keyup"||ee==="keydown")return Ds(Ja)}function Cc(ee,re){if(ee==="click")return Ds(re)}function Pr(ee,re){if(ee==="input"||ee==="change")return Ds(re)}function Fl(ee,re){return ee===re&&(ee!==0||1/ee===1/re)||ee!==ee&&re!==re}var Li=typeof Object.is=="function"?Object.is:Fl;function Ea(ee,re){if(Li(ee,re))return!0;if(typeof ee!="object"||ee===null||typeof re!="object"||re===null)return!1;var fe=Object.keys(ee),_e=Object.keys(re);if(fe.length!==_e.length)return!1;for(_e=0;_e<fe.length;_e++){var Me=fe[_e];if(!ie.call(re,Me)||!Li(ee[Me],re[Me]))return!1}return!0}function Ro(ee){for(;ee&&ee.firstChild;)ee=ee.firstChild;return ee}function Fi(ee,re){var fe=Ro(ee);ee=0;for(var _e;fe;){if(fe.nodeType===3){if(_e=ee+fe.textContent.length,ee<=re&&_e>=re)return{node:fe,offset:re-ee};ee=_e}e:{for(;fe;){if(fe.nextSibling){fe=fe.nextSibling;break e}fe=fe.parentNode}fe=void 0}fe=Ro(fe)}}function Ma(ee,re){return ee&&re?ee===re?!0:ee&&ee.nodeType===3?!1:re&&re.nodeType===3?Ma(ee,re.parentNode):"contains"in ee?ee.contains(re):ee.compareDocumentPosition?!!(ee.compareDocumentPosition(re)&16):!1:!1}function Rr(){for(var ee=window,re=jt();re instanceof ee.HTMLIFrameElement;){try{var fe=typeof re.contentWindow.location.href=="string"}catch{fe=!1}if(fe)ee=re.contentWindow;else break;re=jt(ee.document)}return re}function jr(ee){var re=ee&&ee.nodeName&&ee.nodeName.toLowerCase();return re&&(re==="input"&&(ee.type==="text"||ee.type==="search"||ee.type==="tel"||ee.type==="url"||ee.type==="password")||re==="textarea"||ee.contentEditable==="true")}function Xr(ee){var re=Rr(),fe=ee.focusedElem,_e=ee.selectionRange;if(re!==fe&&fe&&fe.ownerDocument&&Ma(fe.ownerDocument.documentElement,fe)){if(_e!==null&&jr(fe)){if(re=_e.start,ee=_e.end,ee===void 0&&(ee=re),"selectionStart"in fe)fe.selectionStart=re,fe.selectionEnd=Math.min(ee,fe.value.length);else if(ee=(re=fe.ownerDocument||document)&&re.defaultView||window,ee.getSelection){ee=ee.getSelection();var Me=fe.textContent.length,Ae=Math.min(_e.start,Me);_e=_e.end===void 0?Ae:Math.min(_e.end,Me),!ee.extend&&Ae>_e&&(Me=_e,_e=Ae,Ae=Me),Me=Fi(fe,Ae);var ke=Fi(fe,_e);Me&&ke&&(ee.rangeCount!==1||ee.anchorNode!==Me.node||ee.anchorOffset!==Me.offset||ee.focusNode!==ke.node||ee.focusOffset!==ke.offset)&&(re=re.createRange(),re.setStart(Me.node,Me.offset),ee.removeAllRanges(),Ae>_e?(ee.addRange(re),ee.extend(ke.node,ke.offset)):(re.setEnd(ke.node,ke.offset),ee.addRange(re)))}}for(re=[],ee=fe;ee=ee.parentNode;)ee.nodeType===1&&re.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<re.length;fe++)ee=re[fe],ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}var kl=ne&&"documentMode"in document&&11>=document.documentMode,ys=null,Ca=null,Do=null,qr=!1;function Bl(ee,re,fe){var _e=fe.window===fe?fe.document:fe.nodeType===9?fe:fe.ownerDocument;qr||ys==null||ys!==jt(_e)||(_e=ys,"selectionStart"in _e&&jr(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Do&&Ea(Do,_e)||(Do=_e,_e=Hl(Ca,"onSelect"),0<_e.length&&(re=new wo("onSelect","select",null,re,fe),ee.push({event:re,listeners:_e}),re.target=ys)))}function no(ee,re){var fe={};return fe[ee.toLowerCase()]=re.toLowerCase(),fe["Webkit"+ee]="webkit"+re,fe["Moz"+ee]="moz"+re,fe}var na={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},rs={},ss={};ne&&(ss=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function vs(ee){if(rs[ee])return rs[ee];if(!na[ee])return ee;var re=na[ee],fe;for(fe in re)if(re.hasOwnProperty(fe)&&fe in ss)return rs[ee]=re[fe];return ee}var Io=vs("animationend"),Lo=vs("animationiteration"),Tc=vs("animationstart"),bc=vs("transitionend"),Ac=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(ee,re){Ac.set(ee,re),W(re,[ee])}for(var Nl=0;Nl<wc.length;Nl++){var Fo=wc[Nl],ko=Fo.toLowerCase(),vu=Fo[0].toUpperCase()+Fo.slice(1);Is(ko,"on"+vu)}Is(Io,"onAnimationEnd"),Is(Lo,"onAnimationIteration"),Is(Tc,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(bc,"onTransitionEnd"),te("onMouseEnter",["mouseout","mouseover"]),te("onMouseLeave",["mouseout","mouseover"]),te("onPointerEnter",["pointerout","pointerover"]),te("onPointerLeave",["pointerout","pointerover"]),W("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),W("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),W("onBeforeInput",["compositionend","keypress","textInput","paste"]),W("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ol=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Ul(ee,re,fe){var _e=ee.type||"unknown-event";ee.currentTarget=fe,cl(_e,re,void 0,ee),ee.currentTarget=null}function ro(ee,re){re=(re&4)!==0;for(var fe=0;fe<ee.length;fe++){var _e=ee[fe],Me=_e.event;_e=_e.listeners;e:{var Ae=void 0;if(re)for(var ke=_e.length-1;0<=ke;ke--){var Xe=_e[ke],Ke=Xe.instance,kt=Xe.currentTarget;if(Xe=Xe.listener,Ke!==Ae&&Me.isPropagationStopped())break e;Ul(Me,Xe,kt),Ae=Ke}else for(ke=0;ke<_e.length;ke++){if(Xe=_e[ke],Ke=Xe.instance,kt=Xe.currentTarget,Xe=Xe.listener,Ke!==Ae&&Me.isPropagationStopped())break e;Ul(Me,Xe,kt),Ae=Ke}}}if(es)throw ee=Zs,es=!1,Zs=null,ee}function Sr(ee,re){var fe=re[Aa];fe===void 0&&(fe=re[Aa]=new Set);var _e=ee+"__bubble";fe.has(_e)||(Vl(re,ee,2,!1),fe.add(_e))}function zl(ee,re,fe){var _e=0;re&&(_e|=4),Vl(fe,ee,_e,re)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function io(ee){if(!ee[Bo]){ee[Bo]=!0,L.forEach(function(fe){fe!=="selectionchange"&&(Ol.has(fe)||zl(fe,!1,ee),zl(fe,!0,ee))});var re=ee.nodeType===9?ee:ee.ownerDocument;re===null||re[Bo]||(re[Bo]=!0,zl("selectionchange",!1,re))}}function Vl(ee,re,fe,_e){switch(lu(re)){case 1:var Me=Sl;break;case 4:Me=pc;break;default:Me=El}fe=Me.bind(null,re,fe,ee),Me=void 0,!Wa||re!=="touchstart"&&re!=="touchmove"&&re!=="wheel"||(Me=!0),_e?Me!==void 0?ee.addEventListener(re,fe,{capture:!0,passive:Me}):ee.addEventListener(re,fe,!0):Me!==void 0?ee.addEventListener(re,fe,{passive:Me}):ee.addEventListener(re,fe,!1)}function Gl(ee,re,fe,_e,Me){var Ae=_e;if(!(re&1)&&!(re&2)&&_e!==null)e:for(;;){if(_e===null)return;var ke=_e.tag;if(ke===3||ke===4){var Xe=_e.stateNode.containerInfo;if(Xe===Me||Xe.nodeType===8&&Xe.parentNode===Me)break;if(ke===4)for(ke=_e.return;ke!==null;){var Ke=ke.tag;if((Ke===3||Ke===4)&&(Ke=ke.stateNode.containerInfo,Ke===Me||Ke.nodeType===8&&Ke.parentNode===Me))return;ke=ke.return}for(;Xe!==null;){if(ke=ia(Xe),ke===null)return;if(Ke=ke.tag,Ke===5||Ke===6){_e=Ae=ke;continue e}Xe=Xe.parentNode}}_e=_e.return}di(function(){var kt=Ae,Qt=dt(fe),rn=[];e:{var Kt=Ac.get(ee);if(Kt!==void 0){var Mn=wo,Dn=ee;switch(ee){case"keypress":if(pa(fe)===0)break e;case"keydown":case"keyup":Mn=Rl;break;case"focusin":Dn="focus",Mn=bl;break;case"focusout":Dn="blur",Mn=bl;break;case"beforeblur":case"afterblur":Mn=bl;break;case"click":if(fe.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mn=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mn=Qs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mn=Ps;break;case Io:case Lo:case Tc:Mn=cu;break;case bc:Mn=va;break;case"scroll":Mn=Xa;break;case"wheel":Mn=xc;break;case"copy":case"cut":case"paste":Mn=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mn=Ii}var kn=(re&4)!==0,Hr=!kn&&ee==="scroll",wt=kn?Kt!==null?Kt+"Capture":null:Kt;kn=[];for(var Je=kt,Rt;Je!==null;){Rt=Je;var on=Rt.stateNode;if(Rt.tag===5&&on!==null&&(Rt=on,wt!==null&&(on=pi(Je,wt),on!=null&&kn.push(so(Je,on,Rt)))),Hr)break;Je=Je.return}0<kn.length&&(Kt=new Mn(Kt,Dn,null,fe,Qt),rn.push({event:Kt,listeners:kn}))}}if(!(re&7)){e:{if(Kt=ee==="mouseover"||ee==="pointerover",Mn=ee==="mouseout"||ee==="pointerout",Kt&&fe!==gr&&(Dn=fe.relatedTarget||fe.fromElement)&&(ia(Dn)||Dn[ki]))break e;if((Mn||Kt)&&(Kt=Qt.window===Qt?Qt:(Kt=Qt.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,Mn?(Dn=fe.relatedTarget||fe.toElement,Mn=kt,Dn=Dn?ia(Dn):null,Dn!==null&&(Hr=ds(Dn),Dn!==Hr||Dn.tag!==5&&Dn.tag!==6)&&(Dn=null)):(Mn=null,Dn=kt),Mn!==Dn)){if(kn=gc,on="onMouseLeave",wt="onMouseEnter",Je="mouse",(ee==="pointerout"||ee==="pointerover")&&(kn=Ii,on="onPointerLeave",wt="onPointerEnter",Je="pointer"),Hr=Mn==null?Kt:kr(Mn),Rt=Dn==null?Kt:kr(Dn),Kt=new kn(on,Je+"leave",Mn,fe,Qt),Kt.target=Hr,Kt.relatedTarget=Rt,on=null,ia(Qt)===kt&&(kn=new kn(wt,Je+"enter",Dn,fe,Qt),kn.target=Rt,kn.relatedTarget=Hr,on=kn),Hr=on,Mn&&Dn)t:{for(kn=Mn,wt=Dn,Je=0,Rt=kn;Rt;Rt=Ta(Rt))Je++;for(Rt=0,on=wt;on;on=Ta(on))Rt++;for(;0<Je-Rt;)kn=Ta(kn),Je--;for(;0<Rt-Je;)wt=Ta(wt),Rt--;for(;Je--;){if(kn===wt||wt!==null&&kn===wt.alternate)break t;kn=Ta(kn),wt=Ta(wt)}kn=null}else kn=null;Mn!==null&&_u(rn,Kt,Mn,kn,!1),Dn!==null&&Hr!==null&&_u(rn,Hr,Dn,kn,!0)}}e:{if(Kt=kt?kr(kt):window,Mn=Kt.nodeName&&Kt.nodeName.toLowerCase(),Mn==="select"||Mn==="input"&&Kt.type==="file")var Nn=gu;else if(Il(Kt))if(eo)Nn=Pr;else{Nn=yu;var Gn=to}else(Mn=Kt.nodeName)&&Mn.toLowerCase()==="input"&&(Kt.type==="checkbox"||Kt.type==="radio")&&(Nn=Cc);if(Nn&&(Nn=Nn(ee,kt))){Qa(rn,Nn,fe,Qt);break e}Gn&&Gn(ee,Kt,kt),ee==="focusout"&&(Gn=Kt._wrapperState)&&Gn.controlled&&Kt.type==="number"&&Rn(Kt,"number",Kt.value)}switch(Gn=kt?kr(kt):window,ee){case"focusin":(Il(Gn)||Gn.contentEditable==="true")&&(ys=Gn,Ca=kt,Do=null);break;case"focusout":Do=Ca=ys=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":qr=!1,Bl(rn,fe,Qt);break;case"selectionchange":if(kl)break;case"keydown":case"keyup":Bl(rn,fe,Qt)}var Hn;if(yi)e:{switch(ee){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else ea?Mc(ee,fe)&&(Yn="onCompositionEnd"):ee==="keydown"&&fe.keyCode===229&&(Yn="onCompositionStart");Yn&&(Za&&fe.locale!=="ko"&&(ea||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&ea&&(Hn=Ao()):(ts=Qt,mc="value"in ts?ts.value:ts.textContent,ea=!0)),Gn=Hl(kt,Yn),0<Gn.length&&(Yn=new vc(Yn,ee,null,fe,Qt),rn.push({event:Yn,listeners:Gn}),Hn?Yn.data=Hn:(Hn=Dl(fe),Hn!==null&&(Yn.data=Hn)))),(Hn=Ar?pu(ee,fe):Po(ee,fe))&&(kt=Hl(kt,"onBeforeInput"),0<kt.length&&(Qt=new vc("onBeforeInput","beforeinput",null,fe,Qt),rn.push({event:Qt,listeners:kt}),Qt.data=Hn))}ro(rn,re)})}function so(ee,re,fe){return{instance:ee,listener:re,currentTarget:fe}}function Hl(ee,re){for(var fe=re+"Capture",_e=[];ee!==null;){var Me=ee,Ae=Me.stateNode;Me.tag===5&&Ae!==null&&(Me=Ae,Ae=pi(ee,fe),Ae!=null&&_e.unshift(so(ee,Ae,Me)),Ae=pi(ee,re),Ae!=null&&_e.push(so(ee,Ae,Me))),ee=ee.return}return _e}function Ta(ee){if(ee===null)return null;do ee=ee.return;while(ee&&ee.tag!==5);return ee||null}function _u(ee,re,fe,_e,Me){for(var Ae=re._reactName,ke=[];fe!==null&&fe!==_e;){var Xe=fe,Ke=Xe.alternate,kt=Xe.stateNode;if(Ke!==null&&Ke===_e)break;Xe.tag===5&&kt!==null&&(Xe=kt,Me?(Ke=pi(fe,Ae),Ke!=null&&ke.unshift(so(fe,Ke,Xe))):Me||(Ke=pi(fe,Ae),Ke!=null&&ke.push(so(fe,Ke,Xe)))),fe=fe.return}ke.length!==0&&ee.push({event:re,listeners:ke})}var th=/\r\n?/g,xu=/\u0000|\uFFFD/g;function Pc(ee){return(typeof ee=="string"?ee:""+ee).replace(th,`
`).replace(xu,"")}function No(ee,re,fe){if(re=Pc(re),Pc(ee)!==re&&fe)throw Error(A(425))}function Oo(){}var ao=null,Rc=null;function Dc(ee,re){return ee==="textarea"||ee==="noscript"||typeof re.children=="string"||typeof re.children=="number"||typeof re.dangerouslySetInnerHTML=="object"&&re.dangerouslySetInnerHTML!==null&&re.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,Lc=typeof clearTimeout=="function"?clearTimeout:void 0,Wl=typeof Promise=="function"?Promise:void 0,nh=typeof queueMicrotask=="function"?queueMicrotask:typeof Wl<"u"?function(ee){return Wl.resolve(null).then(ee).catch(Su)}:Ic;function Su(ee){setTimeout(function(){throw ee})}function $l(ee,re){var fe=re,_e=0;do{var Me=fe.nextSibling;if(ee.removeChild(fe),Me&&Me.nodeType===8)if(fe=Me.data,fe==="/$"){if(_e===0){ee.removeChild(Me),bo(re);return}_e--}else fe!=="$"&&fe!=="$?"&&fe!=="$!"||_e++;fe=Me}while(fe);bo(re)}function Ls(ee){for(;ee!=null;ee=ee.nextSibling){var re=ee.nodeType;if(re===1||re===3)break;if(re===8){if(re=ee.data,re==="$"||re==="$!"||re==="$?")break;if(re==="/$")return null}}return ee}function Fc(ee){ee=ee.previousSibling;for(var re=0;ee;){if(ee.nodeType===8){var fe=ee.data;if(fe==="$"||fe==="$!"||fe==="$?"){if(re===0)return ee;re--}else fe==="/$"&&re++}ee=ee.previousSibling}return null}var ba=Math.random().toString(36).slice(2),Gr="__reactFiber$"+ba,oo="__reactProps$"+ba,ki="__reactContainer$"+ba,Aa="__reactEvents$"+ba,jl="__reactListeners$"+ba,Xl="__reactHandles$"+ba;function ia(ee){var re=ee[Gr];if(re)return re;for(var fe=ee.parentNode;fe;){if(re=fe[ki]||fe[Gr]){if(fe=re.alternate,re.child!==null||fe!==null&&fe.child!==null)for(ee=Fc(ee);ee!==null;){if(fe=ee[Gr])return fe;ee=Fc(ee)}return re}ee=fe,fe=ee.parentNode}return null}function Fs(ee){return ee=ee[Gr]||ee[ki],!ee||ee.tag!==5&&ee.tag!==6&&ee.tag!==13&&ee.tag!==3?null:ee}function kr(ee){if(ee.tag===5||ee.tag===6)return ee.stateNode;throw Error(A(33))}function ql(ee){return ee[oo]||null}var kc=[],Yr=-1;function Dr(ee){return{current:ee}}function Er(ee){0>Yr||(ee.current=kc[Yr],kc[Yr]=null,Yr--)}function xr(ee,re){Yr++,kc[Yr]=ee.current,ee.current=re}var ks={},ti=Dr(ks),vi=Dr(!1),Bs=ks;function wa(ee,re){var fe=ee.type.contextTypes;if(!fe)return ks;var _e=ee.stateNode;if(_e&&_e.__reactInternalMemoizedUnmaskedChildContext===re)return _e.__reactInternalMemoizedMaskedChildContext;var Me={},Ae;for(Ae in fe)Me[Ae]=re[Ae];return _e&&(ee=ee.stateNode,ee.__reactInternalMemoizedUnmaskedChildContext=re,ee.__reactInternalMemoizedMaskedChildContext=Me),Me}function li(ee){return ee=ee.childContextTypes,ee!=null}function Uo(){Er(vi),Er(ti)}function Bc(ee,re,fe){if(ti.current!==ks)throw Error(A(168));xr(ti,re),xr(vi,fe)}function zo(ee,re,fe){var _e=ee.stateNode;if(re=re.childContextTypes,typeof _e.getChildContext!="function")return fe;_e=_e.getChildContext();for(var Me in _e)if(!(Me in re))throw Error(A(108,It(ee)||"Unknown",Me));return ze({},fe,_e)}function Pa(ee){return ee=(ee=ee.stateNode)&&ee.__reactInternalMemoizedMergedChildContext||ks,Bs=ti.current,xr(ti,ee),xr(vi,vi.current),!0}function Nc(ee,re,fe){var _e=ee.stateNode;if(!_e)throw Error(A(169));fe?(ee=zo(ee,re,Bs),_e.__reactInternalMemoizedMergedChildContext=ee,Er(vi),Er(ti),xr(ti,ee)):Er(vi),xr(vi,fe)}var as=null,Vo=!1,Yl=!1;function Go(ee){as===null?as=[ee]:as.push(ee)}function Eu(ee){Vo=!0,Go(ee)}function _s(){if(!Yl&&as!==null){Yl=!0;var ee=0,re=cr;try{var fe=as;for(cr=1;ee<fe.length;ee++){var _e=fe[ee];do _e=_e(!0);while(_e!==null)}as=null,Vo=!1}catch(Me){throw as!==null&&(as=as.slice(ee+1)),ml(en,_s),Me}finally{cr=re,Yl=!1}}return null}var Ra=[],wi=0,Zl=null,Kl=0,_i=[],Zr=0,Da=null,hn=1,qi="";function Ns(ee,re){Ra[wi++]=Kl,Ra[wi++]=Zl,Zl=ee,Kl=re}function Oc(ee,re,fe){_i[Zr++]=hn,_i[Zr++]=qi,_i[Zr++]=Da,Da=ee;var _e=hn;ee=qi;var Me=32-Wn(_e)-1;_e&=~(1<<Me),fe+=1;var Ae=32-Wn(re)+Me;if(30<Ae){var ke=Me-Me%5;Ae=(_e&(1<<ke)-1).toString(32),_e>>=ke,Me-=ke,hn=1<<32-Wn(re)+Me|fe<<Me|_e,qi=Ae+ee}else hn=1<<Ae|fe<<Me|_e,qi=ee}function Uc(ee){ee.return!==null&&(Ns(ee,1),Oc(ee,1,0))}function Os(ee){for(;ee===Zl;)Zl=Ra[--wi],Ra[wi]=null,Kl=Ra[--wi],Ra[wi]=null;for(;ee===Da;)Da=_i[--Zr],_i[Zr]=null,qi=_i[--Zr],_i[Zr]=null,hn=_i[--Zr],_i[Zr]=null}var ni=null,xi=null,Tr=!1,Yi=null;function zc(ee,re){var fe=Cs(5,null,null,0);fe.elementType="DELETED",fe.stateNode=re,fe.return=ee,re=ee.deletions,re===null?(ee.deletions=[fe],ee.flags|=16):re.push(fe)}function Vc(ee,re){switch(ee.tag){case 5:var fe=ee.type;return re=re.nodeType!==1||fe.toLowerCase()!==re.nodeName.toLowerCase()?null:re,re!==null?(ee.stateNode=re,ni=ee,xi=Ls(re.firstChild),!0):!1;case 6:return re=ee.pendingProps===""||re.nodeType!==3?null:re,re!==null?(ee.stateNode=re,ni=ee,xi=null,!0):!1;case 13:return re=re.nodeType!==8?null:re,re!==null?(fe=Da!==null?{id:hn,overflow:qi}:null,ee.memoizedState={dehydrated:re,treeContext:fe,retryLane:1073741824},fe=Cs(18,null,null,0),fe.stateNode=re,fe.return=ee,ee.child=fe,ni=ee,xi=null,!0):!1;default:return!1}}function Ql(ee){return(ee.mode&1)!==0&&(ee.flags&128)===0}function Jl(ee){if(Tr){var re=xi;if(re){var fe=re;if(!Vc(ee,re)){if(Ql(ee))throw Error(A(418));re=Ls(fe.nextSibling);var _e=ni;re&&Vc(ee,re)?zc(_e,fe):(ee.flags=ee.flags&-4097|2,Tr=!1,ni=ee)}}else{if(Ql(ee))throw Error(A(418));ee.flags=ee.flags&-4097|2,Tr=!1,ni=ee}}}function ec(ee){for(ee=ee.return;ee!==null&&ee.tag!==5&&ee.tag!==3&&ee.tag!==13;)ee=ee.return;ni=ee}function lo(ee){if(ee!==ni)return!1;if(!Tr)return ec(ee),Tr=!0,!1;var re;if((re=ee.tag!==3)&&!(re=ee.tag!==5)&&(re=ee.type,re=re!=="head"&&re!=="body"&&!Dc(ee.type,ee.memoizedProps)),re&&(re=xi)){if(Ql(ee))throw Gc(),Error(A(418));for(;re;)zc(ee,re),re=Ls(re.nextSibling)}if(ec(ee),ee.tag===13){if(ee=ee.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(A(317));e:{for(ee=ee.nextSibling,re=0;ee;){if(ee.nodeType===8){var fe=ee.data;if(fe==="/$"){if(re===0){xi=Ls(ee.nextSibling);break e}re--}else fe!=="$"&&fe!=="$!"&&fe!=="$?"||re++}ee=ee.nextSibling}xi=null}}else xi=ni?Ls(ee.stateNode.nextSibling):null;return!0}function Gc(){for(var ee=xi;ee;)ee=Ls(ee.nextSibling)}function sa(){xi=ni=null,Tr=!1}function co(ee){Yi===null?Yi=[ee]:Yi.push(ee)}var rh=Se.ReactCurrentBatchConfig;function Ho(ee,re,fe){if(ee=fe.ref,ee!==null&&typeof ee!="function"&&typeof ee!="object"){if(fe._owner){if(fe=fe._owner,fe){if(fe.tag!==1)throw Error(A(309));var _e=fe.stateNode}if(!_e)throw Error(A(147,ee));var Me=_e,Ae=""+ee;return re!==null&&re.ref!==null&&typeof re.ref=="function"&&re.ref._stringRef===Ae?re.ref:(re=function(ke){var Xe=Me.refs;ke===null?delete Xe[Ae]:Xe[Ae]=ke},re._stringRef=Ae,re)}if(typeof ee!="string")throw Error(A(284));if(!fe._owner)throw Error(A(290,ee))}return ee}function Wo(ee,re){throw ee=Object.prototype.toString.call(re),Error(A(31,ee==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":ee))}function Hc(ee){var re=ee._init;return re(ee._payload)}function Wc(ee){function re(wt,Je){if(ee){var Rt=wt.deletions;Rt===null?(wt.deletions=[Je],wt.flags|=16):Rt.push(Je)}}function fe(wt,Je){if(!ee)return null;for(;Je!==null;)re(wt,Je),Je=Je.sibling;return null}function _e(wt,Je){for(wt=new Map;Je!==null;)Je.key!==null?wt.set(Je.key,Je):wt.set(Je.index,Je),Je=Je.sibling;return wt}function Me(wt,Je){return wt=So(wt,Je),wt.index=0,wt.sibling=null,wt}function Ae(wt,Je,Rt){return wt.index=Rt,ee?(Rt=wt.alternate,Rt!==null?(Rt=Rt.index,Rt<Je?(wt.flags|=2,Je):Rt):(wt.flags|=2,Je)):(wt.flags|=1048576,Je)}function ke(wt){return ee&&wt.alternate===null&&(wt.flags|=2),wt}function Xe(wt,Je,Rt,on){return Je===null||Je.tag!==6?(Je=Eh(Rt,wt.mode,on),Je.return=wt,Je):(Je=Me(Je,Rt),Je.return=wt,Je)}function Ke(wt,Je,Rt,on){var Nn=Rt.type;return Nn===Pe?Qt(wt,Je,Rt.props.children,on,Rt.key):Je!==null&&(Je.elementType===Nn||typeof Nn=="object"&&Nn!==null&&Nn.$$typeof===Ye&&Hc(Nn)===Je.type)?(on=Me(Je,Rt.props),on.ref=Ho(wt,Je,Rt),on.return=wt,on):(on=$u(Rt.type,Rt.key,Rt.props,null,wt.mode,on),on.ref=Ho(wt,Je,Rt),on.return=wt,on)}function kt(wt,Je,Rt,on){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==Rt.containerInfo||Je.stateNode.implementation!==Rt.implementation?(Je=Mh(Rt,wt.mode,on),Je.return=wt,Je):(Je=Me(Je,Rt.children||[]),Je.return=wt,Je)}function Qt(wt,Je,Rt,on,Nn){return Je===null||Je.tag!==7?(Je=ol(Rt,wt.mode,on,Nn),Je.return=wt,Je):(Je=Me(Je,Rt),Je.return=wt,Je)}function rn(wt,Je,Rt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Je=Eh(""+Je,wt.mode,Rt),Je.return=wt,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case Te:return Rt=$u(Je.type,Je.key,Je.props,null,wt.mode,Rt),Rt.ref=Ho(wt,null,Je),Rt.return=wt,Rt;case be:return Je=Mh(Je,wt.mode,Rt),Je.return=wt,Je;case Ye:var on=Je._init;return rn(wt,on(Je._payload),Rt)}if(tn(Je)||Oe(Je))return Je=ol(Je,wt.mode,Rt,null),Je.return=wt,Je;Wo(wt,Je)}return null}function Kt(wt,Je,Rt,on){var Nn=Je!==null?Je.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return Nn!==null?null:Xe(wt,Je,""+Rt,on);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Te:return Rt.key===Nn?Ke(wt,Je,Rt,on):null;case be:return Rt.key===Nn?kt(wt,Je,Rt,on):null;case Ye:return Nn=Rt._init,Kt(wt,Je,Nn(Rt._payload),on)}if(tn(Rt)||Oe(Rt))return Nn!==null?null:Qt(wt,Je,Rt,on,null);Wo(wt,Rt)}return null}function Mn(wt,Je,Rt,on,Nn){if(typeof on=="string"&&on!==""||typeof on=="number")return wt=wt.get(Rt)||null,Xe(Je,wt,""+on,Nn);if(typeof on=="object"&&on!==null){switch(on.$$typeof){case Te:return wt=wt.get(on.key===null?Rt:on.key)||null,Ke(Je,wt,on,Nn);case be:return wt=wt.get(on.key===null?Rt:on.key)||null,kt(Je,wt,on,Nn);case Ye:var Gn=on._init;return Mn(wt,Je,Rt,Gn(on._payload),Nn)}if(tn(on)||Oe(on))return wt=wt.get(Rt)||null,Qt(Je,wt,on,Nn,null);Wo(Je,on)}return null}function Dn(wt,Je,Rt,on){for(var Nn=null,Gn=null,Hn=Je,Yn=Je=0,fi=null;Hn!==null&&Yn<Rt.length;Yn++){Hn.index>Yn?(fi=Hn,Hn=null):fi=Hn.sibling;var yr=Kt(wt,Hn,Rt[Yn],on);if(yr===null){Hn===null&&(Hn=fi);break}ee&&Hn&&yr.alternate===null&&re(wt,Hn),Je=Ae(yr,Je,Yn),Gn===null?Nn=yr:Gn.sibling=yr,Gn=yr,Hn=fi}if(Yn===Rt.length)return fe(wt,Hn),Tr&&Ns(wt,Yn),Nn;if(Hn===null){for(;Yn<Rt.length;Yn++)Hn=rn(wt,Rt[Yn],on),Hn!==null&&(Je=Ae(Hn,Je,Yn),Gn===null?Nn=Hn:Gn.sibling=Hn,Gn=Hn);return Tr&&Ns(wt,Yn),Nn}for(Hn=_e(wt,Hn);Yn<Rt.length;Yn++)fi=Mn(Hn,wt,Yn,Rt[Yn],on),fi!==null&&(ee&&fi.alternate!==null&&Hn.delete(fi.key===null?Yn:fi.key),Je=Ae(fi,Je,Yn),Gn===null?Nn=fi:Gn.sibling=fi,Gn=fi);return ee&&Hn.forEach(function(Eo){return re(wt,Eo)}),Tr&&Ns(wt,Yn),Nn}function kn(wt,Je,Rt,on){var Nn=Oe(Rt);if(typeof Nn!="function")throw Error(A(150));if(Rt=Nn.call(Rt),Rt==null)throw Error(A(151));for(var Gn=Nn=null,Hn=Je,Yn=Je=0,fi=null,yr=Rt.next();Hn!==null&&!yr.done;Yn++,yr=Rt.next()){Hn.index>Yn?(fi=Hn,Hn=null):fi=Hn.sibling;var Eo=Kt(wt,Hn,yr.value,on);if(Eo===null){Hn===null&&(Hn=fi);break}ee&&Hn&&Eo.alternate===null&&re(wt,Hn),Je=Ae(Eo,Je,Yn),Gn===null?Nn=Eo:Gn.sibling=Eo,Gn=Eo,Hn=fi}if(yr.done)return fe(wt,Hn),Tr&&Ns(wt,Yn),Nn;if(Hn===null){for(;!yr.done;Yn++,yr=Rt.next())yr=rn(wt,yr.value,on),yr!==null&&(Je=Ae(yr,Je,Yn),Gn===null?Nn=yr:Gn.sibling=yr,Gn=yr);return Tr&&Ns(wt,Yn),Nn}for(Hn=_e(wt,Hn);!yr.done;Yn++,yr=Rt.next())yr=Mn(Hn,wt,Yn,yr.value,on),yr!==null&&(ee&&yr.alternate!==null&&Hn.delete(yr.key===null?Yn:yr.key),Je=Ae(yr,Je,Yn),Gn===null?Nn=yr:Gn.sibling=yr,Gn=yr);return ee&&Hn.forEach(function(Rf){return re(wt,Rf)}),Tr&&Ns(wt,Yn),Nn}function Hr(wt,Je,Rt,on){if(typeof Rt=="object"&&Rt!==null&&Rt.type===Pe&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Te:e:{for(var Nn=Rt.key,Gn=Je;Gn!==null;){if(Gn.key===Nn){if(Nn=Rt.type,Nn===Pe){if(Gn.tag===7){fe(wt,Gn.sibling),Je=Me(Gn,Rt.props.children),Je.return=wt,wt=Je;break e}}else if(Gn.elementType===Nn||typeof Nn=="object"&&Nn!==null&&Nn.$$typeof===Ye&&Hc(Nn)===Gn.type){fe(wt,Gn.sibling),Je=Me(Gn,Rt.props),Je.ref=Ho(wt,Gn,Rt),Je.return=wt,wt=Je;break e}fe(wt,Gn);break}else re(wt,Gn);Gn=Gn.sibling}Rt.type===Pe?(Je=ol(Rt.props.children,wt.mode,on,Rt.key),Je.return=wt,wt=Je):(on=$u(Rt.type,Rt.key,Rt.props,null,wt.mode,on),on.ref=Ho(wt,Je,Rt),on.return=wt,wt=on)}return ke(wt);case be:e:{for(Gn=Rt.key;Je!==null;){if(Je.key===Gn)if(Je.tag===4&&Je.stateNode.containerInfo===Rt.containerInfo&&Je.stateNode.implementation===Rt.implementation){fe(wt,Je.sibling),Je=Me(Je,Rt.children||[]),Je.return=wt,wt=Je;break e}else{fe(wt,Je);break}else re(wt,Je);Je=Je.sibling}Je=Mh(Rt,wt.mode,on),Je.return=wt,wt=Je}return ke(wt);case Ye:return Gn=Rt._init,Hr(wt,Je,Gn(Rt._payload),on)}if(tn(Rt))return Dn(wt,Je,Rt,on);if(Oe(Rt))return kn(wt,Je,Rt,on);Wo(wt,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"?(Rt=""+Rt,Je!==null&&Je.tag===6?(fe(wt,Je.sibling),Je=Me(Je,Rt),Je.return=wt,wt=Je):(fe(wt,Je),Je=Eh(Rt,wt.mode,on),Je.return=wt,wt=Je),ke(wt)):fe(wt,Je)}return Hr}var Ia=Wc(!0),$o=Wc(!1),La=Dr(null),Fa=null,Us=null,uo=null;function ka(){uo=Us=Fa=null}function jo(ee){var re=La.current;Er(La),ee._currentValue=re}function Xo(ee,re,fe){for(;ee!==null;){var _e=ee.alternate;if((ee.childLanes&re)!==re?(ee.childLanes|=re,_e!==null&&(_e.childLanes|=re)):_e!==null&&(_e.childLanes&re)!==re&&(_e.childLanes|=re),ee===fe)break;ee=ee.return}}function aa(ee,re){Fa=ee,uo=Us=null,ee=ee.dependencies,ee!==null&&ee.firstContext!==null&&(ee.lanes&re&&(tr=!0),ee.firstContext=null)}function Bi(ee){var re=ee._currentValue;if(uo!==ee)if(ee={context:ee,memoizedValue:re,next:null},Us===null){if(Fa===null)throw Error(A(308));Us=ee,Fa.dependencies={lanes:0,firstContext:ee}}else Us=Us.next=ee;return re}var zs=null;function $c(ee){zs===null?zs=[ee]:zs.push(ee)}function qo(ee,re,fe,_e){var Me=re.interleaved;return Me===null?(fe.next=fe,$c(re)):(fe.next=Me.next,Me.next=fe),re.interleaved=fe,os(ee,_e)}function os(ee,re){ee.lanes|=re;var fe=ee.alternate;for(fe!==null&&(fe.lanes|=re),fe=ee,ee=ee.return;ee!==null;)ee.childLanes|=re,fe=ee.alternate,fe!==null&&(fe.childLanes|=re),fe=ee,ee=ee.return;return fe.tag===3?fe.stateNode:null}var vr=!1;function Jn(ee){ee.updateQueue={baseState:ee.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Br(ee,re){ee=ee.updateQueue,re.updateQueue===ee&&(re.updateQueue={baseState:ee.baseState,firstBaseUpdate:ee.firstBaseUpdate,lastBaseUpdate:ee.lastBaseUpdate,shared:ee.shared,effects:ee.effects})}function _r(ee,re){return{eventTime:ee,lane:re,tag:0,payload:null,callback:null,next:null}}function wr(ee,re,fe){var _e=ee.updateQueue;if(_e===null)return null;if(_e=_e.shared,mr&2){var Me=_e.pending;return Me===null?re.next=re:(re.next=Me.next,Me.next=re),_e.pending=re,os(ee,fe)}return Me=_e.interleaved,Me===null?(re.next=re,$c(_e)):(re.next=Me.next,Me.next=re),_e.interleaved=re,os(ee,fe)}function ci(ee,re,fe){if(re=re.updateQueue,re!==null&&(re=re.shared,(fe&4194240)!==0)){var _e=re.lanes;_e&=ee.pendingLanes,fe|=_e,re.lanes=fe,Fr(ee,fe)}}function Ba(ee,re){var fe=ee.updateQueue,_e=ee.alternate;if(_e!==null&&(_e=_e.updateQueue,fe===_e)){var Me=null,Ae=null;if(fe=fe.firstBaseUpdate,fe!==null){do{var ke={eventTime:fe.eventTime,lane:fe.lane,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null};Ae===null?Me=Ae=ke:Ae=Ae.next=ke,fe=fe.next}while(fe!==null);Ae===null?Me=Ae=re:Ae=Ae.next=re}else Me=Ae=re;fe={baseState:_e.baseState,firstBaseUpdate:Me,lastBaseUpdate:Ae,shared:_e.shared,effects:_e.effects},ee.updateQueue=fe;return}ee=fe.lastBaseUpdate,ee===null?fe.firstBaseUpdate=re:ee.next=re,fe.lastBaseUpdate=re}function Ir(ee,re,fe,_e){var Me=ee.updateQueue;vr=!1;var Ae=Me.firstBaseUpdate,ke=Me.lastBaseUpdate,Xe=Me.shared.pending;if(Xe!==null){Me.shared.pending=null;var Ke=Xe,kt=Ke.next;Ke.next=null,ke===null?Ae=kt:ke.next=kt,ke=Ke;var Qt=ee.alternate;Qt!==null&&(Qt=Qt.updateQueue,Xe=Qt.lastBaseUpdate,Xe!==ke&&(Xe===null?Qt.firstBaseUpdate=kt:Xe.next=kt,Qt.lastBaseUpdate=Ke))}if(Ae!==null){var rn=Me.baseState;ke=0,Qt=kt=Ke=null,Xe=Ae;do{var Kt=Xe.lane,Mn=Xe.eventTime;if((_e&Kt)===Kt){Qt!==null&&(Qt=Qt.next={eventTime:Mn,lane:0,tag:Xe.tag,payload:Xe.payload,callback:Xe.callback,next:null});e:{var Dn=ee,kn=Xe;switch(Kt=re,Mn=fe,kn.tag){case 1:if(Dn=kn.payload,typeof Dn=="function"){rn=Dn.call(Mn,rn,Kt);break e}rn=Dn;break e;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=kn.payload,Kt=typeof Dn=="function"?Dn.call(Mn,rn,Kt):Dn,Kt==null)break e;rn=ze({},rn,Kt);break e;case 2:vr=!0}}Xe.callback!==null&&Xe.lane!==0&&(ee.flags|=64,Kt=Me.effects,Kt===null?Me.effects=[Xe]:Kt.push(Xe))}else Mn={eventTime:Mn,lane:Kt,tag:Xe.tag,payload:Xe.payload,callback:Xe.callback,next:null},Qt===null?(kt=Qt=Mn,Ke=rn):Qt=Qt.next=Mn,ke|=Kt;if(Xe=Xe.next,Xe===null){if(Xe=Me.shared.pending,Xe===null)break;Kt=Xe,Xe=Kt.next,Kt.next=null,Me.lastBaseUpdate=Kt,Me.shared.pending=null}}while(!0);if(Qt===null&&(Ke=rn),Me.baseState=Ke,Me.firstBaseUpdate=kt,Me.lastBaseUpdate=Qt,re=Me.shared.interleaved,re!==null){Me=re;do ke|=Me.lane,Me=Me.next;while(Me!==re)}else Ae===null&&(Me.shared.lanes=0);rl|=ke,ee.lanes=ke,ee.memoizedState=rn}}function ho(ee,re,fe){if(ee=re.effects,re.effects=null,ee!==null)for(re=0;re<ee.length;re++){var _e=ee[re],Me=_e.callback;if(Me!==null){if(_e.callback=null,_e=fe,typeof Me!="function")throw Error(A(191,Me));Me.call(_e)}}}var xs={},Ni=Dr(xs),Na=Dr(xs),Vs=Dr(xs);function Or(ee){if(ee===xs)throw Error(A(174));return ee}function Yo(ee,re){switch(xr(Vs,re),xr(Na,ee),xr(Ni,xs),ee=re.nodeType,ee){case 9:case 11:re=(re=re.documentElement)?re.namespaceURI:En(null,"");break;default:ee=ee===8?re.parentNode:re,re=ee.namespaceURI||null,ee=ee.tagName,re=En(re,ee)}Er(Ni),xr(Ni,re)}function oa(){Er(Ni),Er(Na),Er(Vs)}function Oa(ee){Or(Vs.current);var re=Or(Ni.current),fe=En(re,ee.type);re!==fe&&(xr(Na,ee),xr(Ni,fe))}function fo(ee){Na.current===ee&&(Er(Ni),Er(Na))}var br=Dr(0);function ls(ee){for(var re=ee;re!==null;){if(re.tag===13){var fe=re.memoizedState;if(fe!==null&&(fe=fe.dehydrated,fe===null||fe.data==="$?"||fe.data==="$!"))return re}else if(re.tag===19&&re.memoizedProps.revealOrder!==void 0){if(re.flags&128)return re}else if(re.child!==null){re.child.return=re,re=re.child;continue}if(re===ee)break;for(;re.sibling===null;){if(re.return===null||re.return===ee)return null;re=re.return}re.sibling.return=re.return,re=re.sibling}return null}var po=[];function Ss(){for(var ee=0;ee<po.length;ee++)po[ee]._workInProgressVersionPrimary=null;po.length=0}var Ua=Se.ReactCurrentDispatcher,za=Se.ReactCurrentBatchConfig,Gs=0,Mr=null,Lr=null,pr=null,cs=!1,ui=!1,la=0,Pi=0;function ri(){throw Error(A(321))}function Zo(ee,re){if(re===null)return!1;for(var fe=0;fe<re.length&&fe<ee.length;fe++)if(!Li(ee[fe],re[fe]))return!1;return!0}function Ko(ee,re,fe,_e,Me,Ae){if(Gs=Ae,Mr=re,re.memoizedState=null,re.updateQueue=null,re.lanes=0,Ua.current=ee===null||ee.memoizedState===null?Pu:Ru,ee=fe(_e,Me),ui){Ae=0;do{if(ui=!1,la=0,25<=Ae)throw Error(A(301));Ae+=1,pr=Lr=null,re.updateQueue=null,Ua.current=Du,ee=fe(_e,Me)}while(ui)}if(Ua.current=oc,re=Lr!==null&&Lr.next!==null,Gs=0,pr=Lr=Mr=null,cs=!1,re)throw Error(A(300));return ee}function jc(){var ee=la!==0;return la=0,ee}function ii(){var ee={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Mr.memoizedState=pr=ee:pr=pr.next=ee,pr}function Oi(){if(Lr===null){var ee=Mr.alternate;ee=ee!==null?ee.memoizedState:null}else ee=Lr.next;var re=pr===null?Mr.memoizedState:pr.next;if(re!==null)pr=re,Lr=ee;else{if(ee===null)throw Error(A(310));Lr=ee,ee={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},pr===null?Mr.memoizedState=pr=ee:pr=pr.next=ee}return pr}function mo(ee,re){return typeof re=="function"?re(ee):re}function Qo(ee){var re=Oi(),fe=re.queue;if(fe===null)throw Error(A(311));fe.lastRenderedReducer=ee;var _e=Lr,Me=_e.baseQueue,Ae=fe.pending;if(Ae!==null){if(Me!==null){var ke=Me.next;Me.next=Ae.next,Ae.next=ke}_e.baseQueue=Me=Ae,fe.pending=null}if(Me!==null){Ae=Me.next,_e=_e.baseState;var Xe=ke=null,Ke=null,kt=Ae;do{var Qt=kt.lane;if((Gs&Qt)===Qt)Ke!==null&&(Ke=Ke.next={lane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),_e=kt.hasEagerState?kt.eagerState:ee(_e,kt.action);else{var rn={lane:Qt,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null};Ke===null?(Xe=Ke=rn,ke=_e):Ke=Ke.next=rn,Mr.lanes|=Qt,rl|=Qt}kt=kt.next}while(kt!==null&&kt!==Ae);Ke===null?ke=_e:Ke.next=Xe,Li(_e,re.memoizedState)||(tr=!0),re.memoizedState=_e,re.baseState=ke,re.baseQueue=Ke,fe.lastRenderedState=_e}if(ee=fe.interleaved,ee!==null){Me=ee;do Ae=Me.lane,Mr.lanes|=Ae,rl|=Ae,Me=Me.next;while(Me!==ee)}else Me===null&&(fe.lanes=0);return[re.memoizedState,fe.dispatch]}function Hs(ee){var re=Oi(),fe=re.queue;if(fe===null)throw Error(A(311));fe.lastRenderedReducer=ee;var _e=fe.dispatch,Me=fe.pending,Ae=re.memoizedState;if(Me!==null){fe.pending=null;var ke=Me=Me.next;do Ae=ee(Ae,ke.action),ke=ke.next;while(ke!==Me);Li(Ae,re.memoizedState)||(tr=!0),re.memoizedState=Ae,re.baseQueue===null&&(re.baseState=Ae),fe.lastRenderedState=Ae}return[Ae,_e]}function Xc(){}function qc(ee,re){var fe=Mr,_e=Oi(),Me=re(),Ae=!Li(_e.memoizedState,Me);if(Ae&&(_e.memoizedState=Me,tr=!0),_e=_e.queue,Kc(Mu.bind(null,fe,_e,ee),[ee]),_e.getSnapshot!==re||Ae||pr!==null&&pr.memoizedState.tag&1){if(fe.flags|=2048,us(9,Jo.bind(null,fe,_e,Me,re),void 0,null),hi===null)throw Error(A(349));Gs&30||tc(fe,re,Me)}return Me}function tc(ee,re,fe){ee.flags|=16384,ee={getSnapshot:re,value:fe},re=Mr.updateQueue,re===null?(re={lastEffect:null,stores:null},Mr.updateQueue=re,re.stores=[ee]):(fe=re.stores,fe===null?re.stores=[ee]:fe.push(ee))}function Jo(ee,re,fe,_e){re.value=fe,re.getSnapshot=_e,Cu(re)&&Yc(ee)}function Mu(ee,re,fe){return fe(function(){Cu(re)&&Yc(ee)})}function Cu(ee){var re=ee.getSnapshot;ee=ee.value;try{var fe=re();return!Li(ee,fe)}catch{return!0}}function Yc(ee){var re=os(ee,1);re!==null&&qs(re,ee,1,-1)}function Zc(ee){var re=ii();return typeof ee=="function"&&(ee=ee()),re.memoizedState=re.baseState=ee,ee={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:ee},re.queue=ee,ee=ee.dispatch=Va.bind(null,Mr,ee),[re.memoizedState,ee]}function us(ee,re,fe,_e){return ee={tag:ee,create:re,destroy:fe,deps:_e,next:null},re=Mr.updateQueue,re===null?(re={lastEffect:null,stores:null},Mr.updateQueue=re,re.lastEffect=ee.next=ee):(fe=re.lastEffect,fe===null?re.lastEffect=ee.next=ee:(_e=fe.next,fe.next=ee,ee.next=_e,re.lastEffect=ee)),ee}function Tu(){return Oi().memoizedState}function Es(ee,re,fe,_e){var Me=ii();Mr.flags|=ee,Me.memoizedState=us(1|re,fe,void 0,_e===void 0?null:_e)}function el(ee,re,fe,_e){var Me=Oi();_e=_e===void 0?null:_e;var Ae=void 0;if(Lr!==null){var ke=Lr.memoizedState;if(Ae=ke.destroy,_e!==null&&Zo(_e,ke.deps)){Me.memoizedState=us(re,fe,Ae,_e);return}}Mr.flags|=ee,Me.memoizedState=us(1|re,fe,Ae,_e)}function Si(ee,re){return Es(8390656,8,ee,re)}function Kc(ee,re){return el(2048,8,ee,re)}function Qc(ee,re){return el(4,2,ee,re)}function bu(ee,re){return el(4,4,ee,re)}function Au(ee,re){if(typeof re=="function")return ee=ee(),re(ee),function(){re(null)};if(re!=null)return ee=ee(),re.current=ee,function(){re.current=null}}function Jc(ee,re,fe){return fe=fe!=null?fe.concat([ee]):null,el(4,4,Au.bind(null,re,ee),fe)}function nc(){}function wu(ee,re){var fe=Oi();re=re===void 0?null:re;var _e=fe.memoizedState;return _e!==null&&re!==null&&Zo(re,_e[1])?_e[0]:(fe.memoizedState=[ee,re],ee)}function Ui(ee,re){var fe=Oi();re=re===void 0?null:re;var _e=fe.memoizedState;return _e!==null&&re!==null&&Zo(re,_e[1])?_e[0]:(ee=ee(),fe.memoizedState=[ee,re],ee)}function rc(ee,re,fe){return Gs&21?(Li(fe,re)||(fe=lr(),Mr.lanes|=fe,rl|=fe,ee.baseState=!0),re):(ee.baseState&&(ee.baseState=!1,tr=!0),ee.memoizedState=fe)}function ih(ee,re){var fe=cr;cr=fe!==0&&4>fe?fe:4,ee(!0);var _e=za.transition;za.transition={};try{ee(!1),re()}finally{cr=fe,za.transition=_e}}function Ws(){return Oi().memoizedState}function ic(ee,re,fe){var _e=_o(ee);if(fe={lane:_e,action:fe,hasEagerState:!1,eagerState:null,next:null},tl(ee))sc(re,fe);else if(fe=qo(ee,re,fe,_e),fe!==null){var Me=Vi();qs(fe,ee,_e,Me),ac(fe,re,_e)}}function Va(ee,re,fe){var _e=_o(ee),Me={lane:_e,action:fe,hasEagerState:!1,eagerState:null,next:null};if(tl(ee))sc(re,Me);else{var Ae=ee.alternate;if(ee.lanes===0&&(Ae===null||Ae.lanes===0)&&(Ae=re.lastRenderedReducer,Ae!==null))try{var ke=re.lastRenderedState,Xe=Ae(ke,fe);if(Me.hasEagerState=!0,Me.eagerState=Xe,Li(Xe,ke)){var Ke=re.interleaved;Ke===null?(Me.next=Me,$c(re)):(Me.next=Ke.next,Ke.next=Me),re.interleaved=Me;return}}catch{}finally{}fe=qo(ee,re,Me,_e),fe!==null&&(Me=Vi(),qs(fe,ee,_e,Me),ac(fe,re,_e))}}function tl(ee){var re=ee.alternate;return ee===Mr||re!==null&&re===Mr}function sc(ee,re){ui=cs=!0;var fe=ee.pending;fe===null?re.next=re:(re.next=fe.next,fe.next=re),ee.pending=re}function ac(ee,re,fe){if(fe&4194240){var _e=re.lanes;_e&=ee.pendingLanes,fe|=_e,re.lanes=fe,Fr(ee,fe)}}var oc={readContext:Bi,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useInsertionEffect:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useSyncExternalStore:ri,useId:ri,unstable_isNewReconciler:!1},Pu={readContext:Bi,useCallback:function(ee,re){return ii().memoizedState=[ee,re===void 0?null:re],ee},useContext:Bi,useEffect:Si,useImperativeHandle:function(ee,re,fe){return fe=fe!=null?fe.concat([ee]):null,Es(4194308,4,Au.bind(null,re,ee),fe)},useLayoutEffect:function(ee,re){return Es(4194308,4,ee,re)},useInsertionEffect:function(ee,re){return Es(4,2,ee,re)},useMemo:function(ee,re){var fe=ii();return re=re===void 0?null:re,ee=ee(),fe.memoizedState=[ee,re],ee},useReducer:function(ee,re,fe){var _e=ii();return re=fe!==void 0?fe(re):re,_e.memoizedState=_e.baseState=re,ee={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ee,lastRenderedState:re},_e.queue=ee,ee=ee.dispatch=ic.bind(null,Mr,ee),[_e.memoizedState,ee]},useRef:function(ee){var re=ii();return ee={current:ee},re.memoizedState=ee},useState:Zc,useDebugValue:nc,useDeferredValue:function(ee){return ii().memoizedState=ee},useTransition:function(){var ee=Zc(!1),re=ee[0];return ee=ih.bind(null,ee[1]),ii().memoizedState=ee,[re,ee]},useMutableSource:function(){},useSyncExternalStore:function(ee,re,fe){var _e=Mr,Me=ii();if(Tr){if(fe===void 0)throw Error(A(407));fe=fe()}else{if(fe=re(),hi===null)throw Error(A(349));Gs&30||tc(_e,re,fe)}Me.memoizedState=fe;var Ae={value:fe,getSnapshot:re};return Me.queue=Ae,Si(Mu.bind(null,_e,Ae,ee),[ee]),_e.flags|=2048,us(9,Jo.bind(null,_e,Ae,fe,re),void 0,null),fe},useId:function(){var ee=ii(),re=hi.identifierPrefix;if(Tr){var fe=qi,_e=hn;fe=(_e&~(1<<32-Wn(_e)-1)).toString(32)+fe,re=":"+re+"R"+fe,fe=la++,0<fe&&(re+="H"+fe.toString(32)),re+=":"}else fe=Pi++,re=":"+re+"r"+fe.toString(32)+":";return ee.memoizedState=re},unstable_isNewReconciler:!1},Ru={readContext:Bi,useCallback:wu,useContext:Bi,useEffect:Kc,useImperativeHandle:Jc,useInsertionEffect:Qc,useLayoutEffect:bu,useMemo:Ui,useReducer:Qo,useRef:Tu,useState:function(){return Qo(mo)},useDebugValue:nc,useDeferredValue:function(ee){var re=Oi();return rc(re,Lr.memoizedState,ee)},useTransition:function(){var ee=Qo(mo)[0],re=Oi().memoizedState;return[ee,re]},useMutableSource:Xc,useSyncExternalStore:qc,useId:Ws,unstable_isNewReconciler:!1},Du={readContext:Bi,useCallback:wu,useContext:Bi,useEffect:Kc,useImperativeHandle:Jc,useInsertionEffect:Qc,useLayoutEffect:bu,useMemo:Ui,useReducer:Hs,useRef:Tu,useState:function(){return Hs(mo)},useDebugValue:nc,useDeferredValue:function(ee){var re=Oi();return Lr===null?re.memoizedState=ee:rc(re,Lr.memoizedState,ee)},useTransition:function(){var ee=Hs(mo)[0],re=Oi().memoizedState;return[ee,re]},useMutableSource:Xc,useSyncExternalStore:qc,useId:Ws,unstable_isNewReconciler:!1};function Zi(ee,re){if(ee&&ee.defaultProps){re=ze({},re),ee=ee.defaultProps;for(var fe in ee)re[fe]===void 0&&(re[fe]=ee[fe]);return re}return re}function nl(ee,re,fe,_e){re=ee.memoizedState,fe=fe(_e,re),fe=fe==null?re:ze({},re,fe),ee.memoizedState=fe,ee.lanes===0&&(ee.updateQueue.baseState=fe)}var lc={isMounted:function(ee){return(ee=ee._reactInternals)?ds(ee)===ee:!1},enqueueSetState:function(ee,re,fe){ee=ee._reactInternals;var _e=Vi(),Me=_o(ee),Ae=_r(_e,Me);Ae.payload=re,fe!=null&&(Ae.callback=fe),re=wr(ee,Ae,Me),re!==null&&(qs(re,ee,Me,_e),ci(re,ee,Me))},enqueueReplaceState:function(ee,re,fe){ee=ee._reactInternals;var _e=Vi(),Me=_o(ee),Ae=_r(_e,Me);Ae.tag=1,Ae.payload=re,fe!=null&&(Ae.callback=fe),re=wr(ee,Ae,Me),re!==null&&(qs(re,ee,Me,_e),ci(re,ee,Me))},enqueueForceUpdate:function(ee,re){ee=ee._reactInternals;var fe=Vi(),_e=_o(ee),Me=_r(fe,_e);Me.tag=2,re!=null&&(Me.callback=re),re=wr(ee,Me,_e),re!==null&&(qs(re,ee,_e,fe),ci(re,ee,_e))}};function Iu(ee,re,fe,_e,Me,Ae,ke){return ee=ee.stateNode,typeof ee.shouldComponentUpdate=="function"?ee.shouldComponentUpdate(_e,Ae,ke):re.prototype&&re.prototype.isPureReactComponent?!Ea(fe,_e)||!Ea(Me,Ae):!0}function se(ee,re,fe){var _e=!1,Me=ks,Ae=re.contextType;return typeof Ae=="object"&&Ae!==null?Ae=Bi(Ae):(Me=li(re)?Bs:ti.current,_e=re.contextTypes,Ae=(_e=_e!=null)?wa(ee,Me):ks),re=new re(fe,Ae),ee.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,re.updater=lc,ee.stateNode=re,re._reactInternals=ee,_e&&(ee=ee.stateNode,ee.__reactInternalMemoizedUnmaskedChildContext=Me,ee.__reactInternalMemoizedMaskedChildContext=Ae),re}function le(ee,re,fe,_e){ee=re.state,typeof re.componentWillReceiveProps=="function"&&re.componentWillReceiveProps(fe,_e),typeof re.UNSAFE_componentWillReceiveProps=="function"&&re.UNSAFE_componentWillReceiveProps(fe,_e),re.state!==ee&&lc.enqueueReplaceState(re,re.state,null)}function ve(ee,re,fe,_e){var Me=ee.stateNode;Me.props=fe,Me.state=ee.memoizedState,Me.refs={},Jn(ee);var Ae=re.contextType;typeof Ae=="object"&&Ae!==null?Me.context=Bi(Ae):(Ae=li(re)?Bs:ti.current,Me.context=wa(ee,Ae)),Me.state=ee.memoizedState,Ae=re.getDerivedStateFromProps,typeof Ae=="function"&&(nl(ee,re,Ae,fe),Me.state=ee.memoizedState),typeof re.getDerivedStateFromProps=="function"||typeof Me.getSnapshotBeforeUpdate=="function"||typeof Me.UNSAFE_componentWillMount!="function"&&typeof Me.componentWillMount!="function"||(re=Me.state,typeof Me.componentWillMount=="function"&&Me.componentWillMount(),typeof Me.UNSAFE_componentWillMount=="function"&&Me.UNSAFE_componentWillMount(),re!==Me.state&&lc.enqueueReplaceState(Me,Me.state,null),Ir(ee,fe,Me,_e),Me.state=ee.memoizedState),typeof Me.componentDidMount=="function"&&(ee.flags|=4194308)}function Ee(ee,re){try{var fe="",_e=re;do fe+=Pt(_e),_e=_e.return;while(_e);var Me=fe}catch(Ae){Me=`
Error generating stack: `+Ae.message+`
`+Ae.stack}return{value:ee,source:re,stack:Me,digest:null}}function Ce(ee,re,fe){return{value:ee,source:null,stack:fe??null,digest:re??null}}function Le(ee,re){try{console.error(re.value)}catch(fe){setTimeout(function(){throw fe})}}var $e=typeof WeakMap=="function"?WeakMap:Map;function st(ee,re,fe){fe=_r(-1,fe),fe.tag=3,fe.payload={element:null};var _e=re.value;return fe.callback=function(){Uu||(Uu=!0,ph=_e),Le(ee,re)},fe}function Vt(ee,re,fe){fe=_r(-1,fe),fe.tag=3;var _e=ee.type.getDerivedStateFromError;if(typeof _e=="function"){var Me=re.value;fe.payload=function(){return _e(Me)},fe.callback=function(){Le(ee,re)}}var Ae=ee.stateNode;return Ae!==null&&typeof Ae.componentDidCatch=="function"&&(fe.callback=function(){Le(ee,re),typeof _e!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var ke=re.stack;this.componentDidCatch(re.value,{componentStack:ke!==null?ke:""})}),fe}function sn(ee,re,fe){var _e=ee.pingCache;if(_e===null){_e=ee.pingCache=new $e;var Me=new Set;_e.set(re,Me)}else Me=_e.get(re),Me===void 0&&(Me=new Set,_e.set(re,Me));Me.has(fe)||(Me.add(fe),ee=_f.bind(null,ee,re,fe),re.then(ee,ee))}function bn(ee){do{var re;if((re=ee.tag===13)&&(re=ee.memoizedState,re=re!==null?re.dehydrated!==null:!0),re)return ee;ee=ee.return}while(ee!==null);return null}function Zn(ee,re,fe,_e,Me){return ee.mode&1?(ee.flags|=65536,ee.lanes=Me,ee):(ee===re?ee.flags|=65536:(ee.flags|=128,fe.flags|=131072,fe.flags&=-52805,fe.tag===1&&(fe.alternate===null?fe.tag=17:(re=_r(-1,1),re.tag=2,wr(fe,re,1))),fe.lanes|=1),ee)}var Vn=Se.ReactCurrentOwner,tr=!1;function xn(ee,re,fe,_e){re.child=ee===null?$o(re,null,fe,_e):Ia(re,ee.child,fe,_e)}function si(ee,re,fe,_e,Me){fe=fe.render;var Ae=re.ref;return aa(re,Me),_e=Ko(ee,re,fe,_e,Ae,Me),fe=jc(),ee!==null&&!tr?(re.updateQueue=ee.updateQueue,re.flags&=-2053,ee.lanes&=~Me,Ga(ee,re,Me)):(Tr&&fe&&Uc(re),re.flags|=1,xn(ee,re,_e,Me),re.child)}function zi(ee,re,fe,_e,Me){if(ee===null){var Ae=fe.type;return typeof Ae=="function"&&!Sh(Ae)&&Ae.defaultProps===void 0&&fe.compare===null&&fe.defaultProps===void 0?(re.tag=15,re.type=Ae,Dt(ee,re,Ae,_e,Me)):(ee=$u(fe.type,null,_e,re,re.mode,Me),ee.ref=re.ref,ee.return=re,re.child=ee)}if(Ae=ee.child,!(ee.lanes&Me)){var ke=Ae.memoizedProps;if(fe=fe.compare,fe=fe!==null?fe:Ea,fe(ke,_e)&&ee.ref===re.ref)return Ga(ee,re,Me)}return re.flags|=1,ee=So(Ae,_e),ee.ref=re.ref,ee.return=re,re.child=ee}function Dt(ee,re,fe,_e,Me){if(ee!==null){var Ae=ee.memoizedProps;if(Ea(Ae,_e)&&ee.ref===re.ref)if(tr=!1,re.pendingProps=_e=Ae,(ee.lanes&Me)!==0)ee.flags&131072&&(tr=!0);else return re.lanes=ee.lanes,Ga(ee,re,Me)}return vn(ee,re,fe,_e,Me)}function _t(ee,re,fe){var _e=re.pendingProps,Me=_e.children,Ae=ee!==null?ee.memoizedState:null;if(_e.mode==="hidden")if(!(re.mode&1))re.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(uc,hs),hs|=fe;else{if(!(fe&1073741824))return ee=Ae!==null?Ae.baseLanes|fe:fe,re.lanes=re.childLanes=1073741824,re.memoizedState={baseLanes:ee,cachePool:null,transitions:null},re.updateQueue=null,xr(uc,hs),hs|=ee,null;re.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e=Ae!==null?Ae.baseLanes:fe,xr(uc,hs),hs|=_e}else Ae!==null?(_e=Ae.baseLanes|fe,re.memoizedState=null):_e=fe,xr(uc,hs),hs|=_e;return xn(ee,re,Me,fe),re.child}function Bt(ee,re){var fe=re.ref;(ee===null&&fe!==null||ee!==null&&ee.ref!==fe)&&(re.flags|=512,re.flags|=2097152)}function vn(ee,re,fe,_e,Me){var Ae=li(fe)?Bs:ti.current;return Ae=wa(re,Ae),aa(re,Me),fe=Ko(ee,re,fe,_e,Ae,Me),_e=jc(),ee!==null&&!tr?(re.updateQueue=ee.updateQueue,re.flags&=-2053,ee.lanes&=~Me,Ga(ee,re,Me)):(Tr&&_e&&Uc(re),re.flags|=1,xn(ee,re,fe,Me),re.child)}function Bn(ee,re,fe,_e,Me){if(li(fe)){var Ae=!0;Pa(re)}else Ae=!1;if(aa(re,Me),re.stateNode===null)Fu(ee,re),se(re,fe,_e),ve(re,fe,_e,Me),_e=!0;else if(ee===null){var ke=re.stateNode,Xe=re.memoizedProps;ke.props=Xe;var Ke=ke.context,kt=fe.contextType;typeof kt=="object"&&kt!==null?kt=Bi(kt):(kt=li(fe)?Bs:ti.current,kt=wa(re,kt));var Qt=fe.getDerivedStateFromProps,rn=typeof Qt=="function"||typeof ke.getSnapshotBeforeUpdate=="function";rn||typeof ke.UNSAFE_componentWillReceiveProps!="function"&&typeof ke.componentWillReceiveProps!="function"||(Xe!==_e||Ke!==kt)&&le(re,ke,_e,kt),vr=!1;var Kt=re.memoizedState;ke.state=Kt,Ir(re,_e,ke,Me),Ke=re.memoizedState,Xe!==_e||Kt!==Ke||vi.current||vr?(typeof Qt=="function"&&(nl(re,fe,Qt,_e),Ke=re.memoizedState),(Xe=vr||Iu(re,fe,Xe,_e,Kt,Ke,kt))?(rn||typeof ke.UNSAFE_componentWillMount!="function"&&typeof ke.componentWillMount!="function"||(typeof ke.componentWillMount=="function"&&ke.componentWillMount(),typeof ke.UNSAFE_componentWillMount=="function"&&ke.UNSAFE_componentWillMount()),typeof ke.componentDidMount=="function"&&(re.flags|=4194308)):(typeof ke.componentDidMount=="function"&&(re.flags|=4194308),re.memoizedProps=_e,re.memoizedState=Ke),ke.props=_e,ke.state=Ke,ke.context=kt,_e=Xe):(typeof ke.componentDidMount=="function"&&(re.flags|=4194308),_e=!1)}else{ke=re.stateNode,Br(ee,re),Xe=re.memoizedProps,kt=re.type===re.elementType?Xe:Zi(re.type,Xe),ke.props=kt,rn=re.pendingProps,Kt=ke.context,Ke=fe.contextType,typeof Ke=="object"&&Ke!==null?Ke=Bi(Ke):(Ke=li(fe)?Bs:ti.current,Ke=wa(re,Ke));var Mn=fe.getDerivedStateFromProps;(Qt=typeof Mn=="function"||typeof ke.getSnapshotBeforeUpdate=="function")||typeof ke.UNSAFE_componentWillReceiveProps!="function"&&typeof ke.componentWillReceiveProps!="function"||(Xe!==rn||Kt!==Ke)&&le(re,ke,_e,Ke),vr=!1,Kt=re.memoizedState,ke.state=Kt,Ir(re,_e,ke,Me);var Dn=re.memoizedState;Xe!==rn||Kt!==Dn||vi.current||vr?(typeof Mn=="function"&&(nl(re,fe,Mn,_e),Dn=re.memoizedState),(kt=vr||Iu(re,fe,kt,_e,Kt,Dn,Ke)||!1)?(Qt||typeof ke.UNSAFE_componentWillUpdate!="function"&&typeof ke.componentWillUpdate!="function"||(typeof ke.componentWillUpdate=="function"&&ke.componentWillUpdate(_e,Dn,Ke),typeof ke.UNSAFE_componentWillUpdate=="function"&&ke.UNSAFE_componentWillUpdate(_e,Dn,Ke)),typeof ke.componentDidUpdate=="function"&&(re.flags|=4),typeof ke.getSnapshotBeforeUpdate=="function"&&(re.flags|=1024)):(typeof ke.componentDidUpdate!="function"||Xe===ee.memoizedProps&&Kt===ee.memoizedState||(re.flags|=4),typeof ke.getSnapshotBeforeUpdate!="function"||Xe===ee.memoizedProps&&Kt===ee.memoizedState||(re.flags|=1024),re.memoizedProps=_e,re.memoizedState=Dn),ke.props=_e,ke.state=Dn,ke.context=Ke,_e=kt):(typeof ke.componentDidUpdate!="function"||Xe===ee.memoizedProps&&Kt===ee.memoizedState||(re.flags|=4),typeof ke.getSnapshotBeforeUpdate!="function"||Xe===ee.memoizedProps&&Kt===ee.memoizedState||(re.flags|=1024),_e=!1)}return Qn(ee,re,fe,_e,Ae,Me)}function Qn(ee,re,fe,_e,Me,Ae){Bt(ee,re);var ke=(re.flags&128)!==0;if(!_e&&!ke)return Me&&Nc(re,fe,!1),Ga(ee,re,Ae);_e=re.stateNode,Vn.current=re;var Xe=ke&&typeof fe.getDerivedStateFromError!="function"?null:_e.render();return re.flags|=1,ee!==null&&ke?(re.child=Ia(re,ee.child,null,Ae),re.child=Ia(re,null,Xe,Ae)):xn(ee,re,Xe,Ae),re.memoizedState=_e.state,Me&&Nc(re,fe,!0),re.child}function Kn(ee){var re=ee.stateNode;re.pendingContext?Bc(ee,re.pendingContext,re.pendingContext!==re.context):re.context&&Bc(ee,re.context,!1),Yo(ee,re.containerInfo)}function dr(ee,re,fe,_e,Me){return sa(),co(Me),re.flags|=256,xn(ee,re,fe,_e),re.child}var Ur={dehydrated:null,treeContext:null,retryLane:0};function fr(ee){return{baseLanes:ee,cachePool:null,transitions:null}}function $s(ee,re,fe){var _e=re.pendingProps,Me=br.current,Ae=!1,ke=(re.flags&128)!==0,Xe;if((Xe=ke)||(Xe=ee!==null&&ee.memoizedState===null?!1:(Me&2)!==0),Xe?(Ae=!0,re.flags&=-129):(ee===null||ee.memoizedState!==null)&&(Me|=1),xr(br,Me&1),ee===null)return Jl(re),ee=re.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null)?(re.mode&1?ee.data==="$!"?re.lanes=8:re.lanes=1073741824:re.lanes=1,null):(ke=_e.children,ee=_e.fallback,Ae?(_e=re.mode,Ae=re.child,ke={mode:"hidden",children:ke},!(_e&1)&&Ae!==null?(Ae.childLanes=0,Ae.pendingProps=ke):Ae=ju(ke,_e,0,null),ee=ol(ee,_e,fe,null),Ae.return=re,ee.return=re,Ae.sibling=ee,re.child=Ae,re.child.memoizedState=fr(fe),re.memoizedState=Ur,ee):eu(re,ke));if(Me=ee.memoizedState,Me!==null&&(Xe=Me.dehydrated,Xe!==null))return of(ee,re,ke,_e,Xe,Me,fe);if(Ae){Ae=_e.fallback,ke=re.mode,Me=ee.child,Xe=Me.sibling;var Ke={mode:"hidden",children:_e.children};return!(ke&1)&&re.child!==Me?(_e=re.child,_e.childLanes=0,_e.pendingProps=Ke,re.deletions=null):(_e=So(Me,Ke),_e.subtreeFlags=Me.subtreeFlags&14680064),Xe!==null?Ae=So(Xe,Ae):(Ae=ol(Ae,ke,fe,null),Ae.flags|=2),Ae.return=re,_e.return=re,_e.sibling=Ae,re.child=_e,_e=Ae,Ae=re.child,ke=ee.child.memoizedState,ke=ke===null?fr(fe):{baseLanes:ke.baseLanes|fe,cachePool:null,transitions:ke.transitions},Ae.memoizedState=ke,Ae.childLanes=ee.childLanes&~fe,re.memoizedState=Ur,_e}return Ae=ee.child,ee=Ae.sibling,_e=So(Ae,{mode:"visible",children:_e.children}),!(re.mode&1)&&(_e.lanes=fe),_e.return=re,_e.sibling=null,ee!==null&&(fe=re.deletions,fe===null?(re.deletions=[ee],re.flags|=16):fe.push(ee)),re.child=_e,re.memoizedState=null,_e}function eu(ee,re){return re=ju({mode:"visible",children:re},ee.mode,0,null),re.return=ee,ee.child=re}function Lu(ee,re,fe,_e){return _e!==null&&co(_e),Ia(re,ee.child,null,fe),ee=eu(re,re.pendingProps.children),ee.flags|=2,re.memoizedState=null,ee}function of(ee,re,fe,_e,Me,Ae,ke){if(fe)return re.flags&256?(re.flags&=-257,_e=Ce(Error(A(422))),Lu(ee,re,ke,_e)):re.memoizedState!==null?(re.child=ee.child,re.flags|=128,null):(Ae=_e.fallback,Me=re.mode,_e=ju({mode:"visible",children:_e.children},Me,0,null),Ae=ol(Ae,Me,ke,null),Ae.flags|=2,_e.return=re,Ae.return=re,_e.sibling=Ae,re.child=_e,re.mode&1&&Ia(re,ee.child,null,ke),re.child.memoizedState=fr(ke),re.memoizedState=Ur,Ae);if(!(re.mode&1))return Lu(ee,re,ke,null);if(Me.data==="$!"){if(_e=Me.nextSibling&&Me.nextSibling.dataset,_e)var Xe=_e.dgst;return _e=Xe,Ae=Error(A(419)),_e=Ce(Ae,_e,void 0),Lu(ee,re,ke,_e)}if(Xe=(ke&ee.childLanes)!==0,tr||Xe){if(_e=hi,_e!==null){switch(ke&-ke){case 4:Me=2;break;case 16:Me=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Me=32;break;case 536870912:Me=268435456;break;default:Me=0}Me=Me&(_e.suspendedLanes|ke)?0:Me,Me!==0&&Me!==Ae.retryLane&&(Ae.retryLane=Me,os(ee,Me),qs(_e,ee,Me,-1))}return xh(),_e=Ce(Error(A(421))),Lu(ee,re,ke,_e)}return Me.data==="$?"?(re.flags|=128,re.child=ee.child,re=xf.bind(null,ee),Me._reactRetry=re,null):(ee=Ae.treeContext,xi=Ls(Me.nextSibling),ni=re,Tr=!0,Yi=null,ee!==null&&(_i[Zr++]=hn,_i[Zr++]=qi,_i[Zr++]=Da,hn=ee.id,qi=ee.overflow,Da=re),re=eu(re,_e.children),re.flags|=4096,re)}function Ph(ee,re,fe){ee.lanes|=re;var _e=ee.alternate;_e!==null&&(_e.lanes|=re),Xo(ee.return,re,fe)}function sh(ee,re,fe,_e,Me){var Ae=ee.memoizedState;Ae===null?ee.memoizedState={isBackwards:re,rendering:null,renderingStartTime:0,last:_e,tail:fe,tailMode:Me}:(Ae.isBackwards=re,Ae.rendering=null,Ae.renderingStartTime=0,Ae.last=_e,Ae.tail=fe,Ae.tailMode=Me)}function Rh(ee,re,fe){var _e=re.pendingProps,Me=_e.revealOrder,Ae=_e.tail;if(xn(ee,re,_e.children,fe),_e=br.current,_e&2)_e=_e&1|2,re.flags|=128;else{if(ee!==null&&ee.flags&128)e:for(ee=re.child;ee!==null;){if(ee.tag===13)ee.memoizedState!==null&&Ph(ee,fe,re);else if(ee.tag===19)Ph(ee,fe,re);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===re)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===re)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}_e&=1}if(xr(br,_e),!(re.mode&1))re.memoizedState=null;else switch(Me){case"forwards":for(fe=re.child,Me=null;fe!==null;)ee=fe.alternate,ee!==null&&ls(ee)===null&&(Me=fe),fe=fe.sibling;fe=Me,fe===null?(Me=re.child,re.child=null):(Me=fe.sibling,fe.sibling=null),sh(re,!1,Me,fe,Ae);break;case"backwards":for(fe=null,Me=re.child,re.child=null;Me!==null;){if(ee=Me.alternate,ee!==null&&ls(ee)===null){re.child=Me;break}ee=Me.sibling,Me.sibling=fe,fe=Me,Me=ee}sh(re,!0,fe,null,Ae);break;case"together":sh(re,!1,null,null,void 0);break;default:re.memoizedState=null}return re.child}function Fu(ee,re){!(re.mode&1)&&ee!==null&&(ee.alternate=null,re.alternate=null,re.flags|=2)}function Ga(ee,re,fe){if(ee!==null&&(re.dependencies=ee.dependencies),rl|=re.lanes,!(fe&re.childLanes))return null;if(ee!==null&&re.child!==ee.child)throw Error(A(153));if(re.child!==null){for(ee=re.child,fe=So(ee,ee.pendingProps),re.child=fe,fe.return=re;ee.sibling!==null;)ee=ee.sibling,fe=fe.sibling=So(ee,ee.pendingProps),fe.return=re;fe.sibling=null}return re.child}function lf(ee,re,fe){switch(re.tag){case 3:Kn(re),sa();break;case 5:Oa(re);break;case 1:li(re.type)&&Pa(re);break;case 4:Yo(re,re.stateNode.containerInfo);break;case 10:var _e=re.type._context,Me=re.memoizedProps.value;xr(La,_e._currentValue),_e._currentValue=Me;break;case 13:if(_e=re.memoizedState,_e!==null)return _e.dehydrated!==null?(xr(br,br.current&1),re.flags|=128,null):fe&re.child.childLanes?$s(ee,re,fe):(xr(br,br.current&1),ee=Ga(ee,re,fe),ee!==null?ee.sibling:null);xr(br,br.current&1);break;case 19:if(_e=(fe&re.childLanes)!==0,ee.flags&128){if(_e)return Rh(ee,re,fe);re.flags|=128}if(Me=re.memoizedState,Me!==null&&(Me.rendering=null,Me.tail=null,Me.lastEffect=null),xr(br,br.current),_e)break;return null;case 22:case 23:return re.lanes=0,_t(ee,re,fe)}return Ga(ee,re,fe)}var Dh,ah,Ih,Lh;Dh=function(ee,re){for(var fe=re.child;fe!==null;){if(fe.tag===5||fe.tag===6)ee.appendChild(fe.stateNode);else if(fe.tag!==4&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===re)break;for(;fe.sibling===null;){if(fe.return===null||fe.return===re)return;fe=fe.return}fe.sibling.return=fe.return,fe=fe.sibling}},ah=function(){},Ih=function(ee,re,fe,_e){var Me=ee.memoizedProps;if(Me!==_e){ee=re.stateNode,Or(Ni.current);var Ae=null;switch(fe){case"input":Me=Ve(ee,Me),_e=Ve(ee,_e),Ae=[];break;case"select":Me=ze({},Me,{value:void 0}),_e=ze({},_e,{value:void 0}),Ae=[];break;case"textarea":Me=Be(ee,Me),_e=Be(ee,_e),Ae=[];break;default:typeof Me.onClick!="function"&&typeof _e.onClick=="function"&&(ee.onclick=Oo)}sr(fe,_e);var ke;fe=null;for(kt in Me)if(!_e.hasOwnProperty(kt)&&Me.hasOwnProperty(kt)&&Me[kt]!=null)if(kt==="style"){var Xe=Me[kt];for(ke in Xe)Xe.hasOwnProperty(ke)&&(fe||(fe={}),fe[ke]="")}else kt!=="dangerouslySetInnerHTML"&&kt!=="children"&&kt!=="suppressContentEditableWarning"&&kt!=="suppressHydrationWarning"&&kt!=="autoFocus"&&(U.hasOwnProperty(kt)?Ae||(Ae=[]):(Ae=Ae||[]).push(kt,null));for(kt in _e){var Ke=_e[kt];if(Xe=Me!=null?Me[kt]:void 0,_e.hasOwnProperty(kt)&&Ke!==Xe&&(Ke!=null||Xe!=null))if(kt==="style")if(Xe){for(ke in Xe)!Xe.hasOwnProperty(ke)||Ke&&Ke.hasOwnProperty(ke)||(fe||(fe={}),fe[ke]="");for(ke in Ke)Ke.hasOwnProperty(ke)&&Xe[ke]!==Ke[ke]&&(fe||(fe={}),fe[ke]=Ke[ke])}else fe||(Ae||(Ae=[]),Ae.push(kt,fe)),fe=Ke;else kt==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Xe=Xe?Xe.__html:void 0,Ke!=null&&Xe!==Ke&&(Ae=Ae||[]).push(kt,Ke)):kt==="children"?typeof Ke!="string"&&typeof Ke!="number"||(Ae=Ae||[]).push(kt,""+Ke):kt!=="suppressContentEditableWarning"&&kt!=="suppressHydrationWarning"&&(U.hasOwnProperty(kt)?(Ke!=null&&kt==="onScroll"&&Sr("scroll",ee),Ae||Xe===Ke||(Ae=[])):(Ae=Ae||[]).push(kt,Ke))}fe&&(Ae=Ae||[]).push("style",fe);var kt=Ae;(re.updateQueue=kt)&&(re.flags|=4)}},Lh=function(ee,re,fe,_e){fe!==_e&&(re.flags|=4)};function tu(ee,re){if(!Tr)switch(ee.tailMode){case"hidden":re=ee.tail;for(var fe=null;re!==null;)re.alternate!==null&&(fe=re),re=re.sibling;fe===null?ee.tail=null:fe.sibling=null;break;case"collapsed":fe=ee.tail;for(var _e=null;fe!==null;)fe.alternate!==null&&(_e=fe),fe=fe.sibling;_e===null?re||ee.tail===null?ee.tail=null:ee.tail.sibling=null:_e.sibling=null}}function Ri(ee){var re=ee.alternate!==null&&ee.alternate.child===ee.child,fe=0,_e=0;if(re)for(var Me=ee.child;Me!==null;)fe|=Me.lanes|Me.childLanes,_e|=Me.subtreeFlags&14680064,_e|=Me.flags&14680064,Me.return=ee,Me=Me.sibling;else for(Me=ee.child;Me!==null;)fe|=Me.lanes|Me.childLanes,_e|=Me.subtreeFlags,_e|=Me.flags,Me.return=ee,Me=Me.sibling;return ee.subtreeFlags|=_e,ee.childLanes=fe,re}function cf(ee,re,fe){var _e=re.pendingProps;switch(Os(re),re.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(re),null;case 1:return li(re.type)&&Uo(),Ri(re),null;case 3:return _e=re.stateNode,oa(),Er(vi),Er(ti),Ss(),_e.pendingContext&&(_e.context=_e.pendingContext,_e.pendingContext=null),(ee===null||ee.child===null)&&(lo(re)?re.flags|=4:ee===null||ee.memoizedState.isDehydrated&&!(re.flags&256)||(re.flags|=1024,Yi!==null&&(yh(Yi),Yi=null))),ah(ee,re),Ri(re),null;case 5:fo(re);var Me=Or(Vs.current);if(fe=re.type,ee!==null&&re.stateNode!=null)Ih(ee,re,fe,_e,Me),ee.ref!==re.ref&&(re.flags|=512,re.flags|=2097152);else{if(!_e){if(re.stateNode===null)throw Error(A(166));return Ri(re),null}if(ee=Or(Ni.current),lo(re)){_e=re.stateNode,fe=re.type;var Ae=re.memoizedProps;switch(_e[Gr]=re,_e[oo]=Ae,ee=(re.mode&1)!==0,fe){case"dialog":Sr("cancel",_e),Sr("close",_e);break;case"iframe":case"object":case"embed":Sr("load",_e);break;case"video":case"audio":for(Me=0;Me<ra.length;Me++)Sr(ra[Me],_e);break;case"source":Sr("error",_e);break;case"img":case"image":case"link":Sr("error",_e),Sr("load",_e);break;case"details":Sr("toggle",_e);break;case"input":Cn(_e,Ae),Sr("invalid",_e);break;case"select":_e._wrapperState={wasMultiple:!!Ae.multiple},Sr("invalid",_e);break;case"textarea":Mt(_e,Ae),Sr("invalid",_e)}sr(fe,Ae),Me=null;for(var ke in Ae)if(Ae.hasOwnProperty(ke)){var Xe=Ae[ke];ke==="children"?typeof Xe=="string"?_e.textContent!==Xe&&(Ae.suppressHydrationWarning!==!0&&No(_e.textContent,Xe,ee),Me=["children",Xe]):typeof Xe=="number"&&_e.textContent!==""+Xe&&(Ae.suppressHydrationWarning!==!0&&No(_e.textContent,Xe,ee),Me=["children",""+Xe]):U.hasOwnProperty(ke)&&Xe!=null&&ke==="onScroll"&&Sr("scroll",_e)}switch(fe){case"input":In(_e),Jt(_e,Ae,!0);break;case"textarea":In(_e),Xt(_e);break;case"select":case"option":break;default:typeof Ae.onClick=="function"&&(_e.onclick=Oo)}_e=Me,re.updateQueue=_e,_e!==null&&(re.flags|=4)}else{ke=Me.nodeType===9?Me:Me.ownerDocument,ee==="http://www.w3.org/1999/xhtml"&&(ee=Gt(fe)),ee==="http://www.w3.org/1999/xhtml"?fe==="script"?(ee=ke.createElement("div"),ee.innerHTML="<script><\/script>",ee=ee.removeChild(ee.firstChild)):typeof _e.is=="string"?ee=ke.createElement(fe,{is:_e.is}):(ee=ke.createElement(fe),fe==="select"&&(ke=ee,_e.multiple?ke.multiple=!0:_e.size&&(ke.size=_e.size))):ee=ke.createElementNS(ee,fe),ee[Gr]=re,ee[oo]=_e,Dh(ee,re,!1,!1),re.stateNode=ee;e:{switch(ke=Xn(fe,_e),fe){case"dialog":Sr("cancel",ee),Sr("close",ee),Me=_e;break;case"iframe":case"object":case"embed":Sr("load",ee),Me=_e;break;case"video":case"audio":for(Me=0;Me<ra.length;Me++)Sr(ra[Me],ee);Me=_e;break;case"source":Sr("error",ee),Me=_e;break;case"img":case"image":case"link":Sr("error",ee),Sr("load",ee),Me=_e;break;case"details":Sr("toggle",ee),Me=_e;break;case"input":Cn(ee,_e),Me=Ve(ee,_e),Sr("invalid",ee);break;case"option":Me=_e;break;case"select":ee._wrapperState={wasMultiple:!!_e.multiple},Me=ze({},_e,{value:void 0}),Sr("invalid",ee);break;case"textarea":Mt(ee,_e),Me=Be(ee,_e),Sr("invalid",ee);break;default:Me=_e}sr(fe,Me),Xe=Me;for(Ae in Xe)if(Xe.hasOwnProperty(Ae)){var Ke=Xe[Ae];Ae==="style"?$n(ee,Ke):Ae==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ke!=null&&gn(ee,Ke)):Ae==="children"?typeof Ke=="string"?(fe!=="textarea"||Ke!=="")&&jn(ee,Ke):typeof Ke=="number"&&jn(ee,""+Ke):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(U.hasOwnProperty(Ae)?Ke!=null&&Ae==="onScroll"&&Sr("scroll",ee):Ke!=null&&xe(ee,Ae,Ke,ke))}switch(fe){case"input":In(ee),Jt(ee,_e,!1);break;case"textarea":In(ee),Xt(ee);break;case"option":_e.value!=null&&ee.setAttribute("value",""+Yt(_e.value));break;case"select":ee.multiple=!!_e.multiple,Ae=_e.value,Ae!=null?We(ee,!!_e.multiple,Ae,!1):_e.defaultValue!=null&&We(ee,!!_e.multiple,_e.defaultValue,!0);break;default:typeof Me.onClick=="function"&&(ee.onclick=Oo)}switch(fe){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}}_e&&(re.flags|=4)}re.ref!==null&&(re.flags|=512,re.flags|=2097152)}return Ri(re),null;case 6:if(ee&&re.stateNode!=null)Lh(ee,re,ee.memoizedProps,_e);else{if(typeof _e!="string"&&re.stateNode===null)throw Error(A(166));if(fe=Or(Vs.current),Or(Ni.current),lo(re)){if(_e=re.stateNode,fe=re.memoizedProps,_e[Gr]=re,(Ae=_e.nodeValue!==fe)&&(ee=ni,ee!==null))switch(ee.tag){case 3:No(_e.nodeValue,fe,(ee.mode&1)!==0);break;case 5:ee.memoizedProps.suppressHydrationWarning!==!0&&No(_e.nodeValue,fe,(ee.mode&1)!==0)}Ae&&(re.flags|=4)}else _e=(fe.nodeType===9?fe:fe.ownerDocument).createTextNode(_e),_e[Gr]=re,re.stateNode=_e}return Ri(re),null;case 13:if(Er(br),_e=re.memoizedState,ee===null||ee.memoizedState!==null&&ee.memoizedState.dehydrated!==null){if(Tr&&xi!==null&&re.mode&1&&!(re.flags&128))Gc(),sa(),re.flags|=98560,Ae=!1;else if(Ae=lo(re),_e!==null&&_e.dehydrated!==null){if(ee===null){if(!Ae)throw Error(A(318));if(Ae=re.memoizedState,Ae=Ae!==null?Ae.dehydrated:null,!Ae)throw Error(A(317));Ae[Gr]=re}else sa(),!(re.flags&128)&&(re.memoizedState=null),re.flags|=4;Ri(re),Ae=!1}else Yi!==null&&(yh(Yi),Yi=null),Ae=!0;if(!Ae)return re.flags&65536?re:null}return re.flags&128?(re.lanes=fe,re):(_e=_e!==null,_e!==(ee!==null&&ee.memoizedState!==null)&&_e&&(re.child.flags|=8192,re.mode&1&&(ee===null||br.current&1?ai===0&&(ai=3):xh())),re.updateQueue!==null&&(re.flags|=4),Ri(re),null);case 4:return oa(),ah(ee,re),ee===null&&io(re.stateNode.containerInfo),Ri(re),null;case 10:return jo(re.type._context),Ri(re),null;case 17:return li(re.type)&&Uo(),Ri(re),null;case 19:if(Er(br),Ae=re.memoizedState,Ae===null)return Ri(re),null;if(_e=(re.flags&128)!==0,ke=Ae.rendering,ke===null)if(_e)tu(Ae,!1);else{if(ai!==0||ee!==null&&ee.flags&128)for(ee=re.child;ee!==null;){if(ke=ls(ee),ke!==null){for(re.flags|=128,tu(Ae,!1),_e=ke.updateQueue,_e!==null&&(re.updateQueue=_e,re.flags|=4),re.subtreeFlags=0,_e=fe,fe=re.child;fe!==null;)Ae=fe,ee=_e,Ae.flags&=14680066,ke=Ae.alternate,ke===null?(Ae.childLanes=0,Ae.lanes=ee,Ae.child=null,Ae.subtreeFlags=0,Ae.memoizedProps=null,Ae.memoizedState=null,Ae.updateQueue=null,Ae.dependencies=null,Ae.stateNode=null):(Ae.childLanes=ke.childLanes,Ae.lanes=ke.lanes,Ae.child=ke.child,Ae.subtreeFlags=0,Ae.deletions=null,Ae.memoizedProps=ke.memoizedProps,Ae.memoizedState=ke.memoizedState,Ae.updateQueue=ke.updateQueue,Ae.type=ke.type,ee=ke.dependencies,Ae.dependencies=ee===null?null:{lanes:ee.lanes,firstContext:ee.firstContext}),fe=fe.sibling;return xr(br,br.current&1|2),re.child}ee=ee.sibling}Ae.tail!==null&&bt()>hc&&(re.flags|=128,_e=!0,tu(Ae,!1),re.lanes=4194304)}else{if(!_e)if(ee=ls(ke),ee!==null){if(re.flags|=128,_e=!0,fe=ee.updateQueue,fe!==null&&(re.updateQueue=fe,re.flags|=4),tu(Ae,!0),Ae.tail===null&&Ae.tailMode==="hidden"&&!ke.alternate&&!Tr)return Ri(re),null}else 2*bt()-Ae.renderingStartTime>hc&&fe!==1073741824&&(re.flags|=128,_e=!0,tu(Ae,!1),re.lanes=4194304);Ae.isBackwards?(ke.sibling=re.child,re.child=ke):(fe=Ae.last,fe!==null?fe.sibling=ke:re.child=ke,Ae.last=ke)}return Ae.tail!==null?(re=Ae.tail,Ae.rendering=re,Ae.tail=re.sibling,Ae.renderingStartTime=bt(),re.sibling=null,fe=br.current,xr(br,_e?fe&1|2:fe&1),re):(Ri(re),null);case 22:case 23:return _h(),_e=re.memoizedState!==null,ee!==null&&ee.memoizedState!==null!==_e&&(re.flags|=8192),_e&&re.mode&1?hs&1073741824&&(Ri(re),re.subtreeFlags&6&&(re.flags|=8192)):Ri(re),null;case 24:return null;case 25:return null}throw Error(A(156,re.tag))}function uf(ee,re){switch(Os(re),re.tag){case 1:return li(re.type)&&Uo(),ee=re.flags,ee&65536?(re.flags=ee&-65537|128,re):null;case 3:return oa(),Er(vi),Er(ti),Ss(),ee=re.flags,ee&65536&&!(ee&128)?(re.flags=ee&-65537|128,re):null;case 5:return fo(re),null;case 13:if(Er(br),ee=re.memoizedState,ee!==null&&ee.dehydrated!==null){if(re.alternate===null)throw Error(A(340));sa()}return ee=re.flags,ee&65536?(re.flags=ee&-65537|128,re):null;case 19:return Er(br),null;case 4:return oa(),null;case 10:return jo(re.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var ku=!1,Di=!1,hf=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function cc(ee,re){var fe=ee.ref;if(fe!==null)if(typeof fe=="function")try{fe(null)}catch(_e){zr(ee,re,_e)}else fe.current=null}function oh(ee,re,fe){try{fe()}catch(_e){zr(ee,re,_e)}}var Fh=!1;function ff(ee,re){if(ao=Gi,ee=Rr(),jr(ee)){if("selectionStart"in ee)var fe={start:ee.selectionStart,end:ee.selectionEnd};else e:{fe=(fe=ee.ownerDocument)&&fe.defaultView||window;var _e=fe.getSelection&&fe.getSelection();if(_e&&_e.rangeCount!==0){fe=_e.anchorNode;var Me=_e.anchorOffset,Ae=_e.focusNode;_e=_e.focusOffset;try{fe.nodeType,Ae.nodeType}catch{fe=null;break e}var ke=0,Xe=-1,Ke=-1,kt=0,Qt=0,rn=ee,Kt=null;t:for(;;){for(var Mn;rn!==fe||Me!==0&&rn.nodeType!==3||(Xe=ke+Me),rn!==Ae||_e!==0&&rn.nodeType!==3||(Ke=ke+_e),rn.nodeType===3&&(ke+=rn.nodeValue.length),(Mn=rn.firstChild)!==null;)Kt=rn,rn=Mn;for(;;){if(rn===ee)break t;if(Kt===fe&&++kt===Me&&(Xe=ke),Kt===Ae&&++Qt===_e&&(Ke=ke),(Mn=rn.nextSibling)!==null)break;rn=Kt,Kt=rn.parentNode}rn=Mn}fe=Xe===-1||Ke===-1?null:{start:Xe,end:Ke}}else fe=null}fe=fe||{start:0,end:0}}else fe=null;for(Rc={focusedElem:ee,selectionRange:fe},Gi=!1,Pn=re;Pn!==null;)if(re=Pn,ee=re.child,(re.subtreeFlags&1028)!==0&&ee!==null)ee.return=re,Pn=ee;else for(;Pn!==null;){re=Pn;try{var Dn=re.alternate;if(re.flags&1024)switch(re.tag){case 0:case 11:case 15:break;case 1:if(Dn!==null){var kn=Dn.memoizedProps,Hr=Dn.memoizedState,wt=re.stateNode,Je=wt.getSnapshotBeforeUpdate(re.elementType===re.type?kn:Zi(re.type,kn),Hr);wt.__reactInternalSnapshotBeforeUpdate=Je}break;case 3:var Rt=re.stateNode.containerInfo;Rt.nodeType===1?Rt.textContent="":Rt.nodeType===9&&Rt.documentElement&&Rt.removeChild(Rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(on){zr(re,re.return,on)}if(ee=re.sibling,ee!==null){ee.return=re.return,Pn=ee;break}Pn=re.return}return Dn=Fh,Fh=!1,Dn}function nu(ee,re,fe){var _e=re.updateQueue;if(_e=_e!==null?_e.lastEffect:null,_e!==null){var Me=_e=_e.next;do{if((Me.tag&ee)===ee){var Ae=Me.destroy;Me.destroy=void 0,Ae!==void 0&&oh(re,fe,Ae)}Me=Me.next}while(Me!==_e)}}function Bu(ee,re){if(re=re.updateQueue,re=re!==null?re.lastEffect:null,re!==null){var fe=re=re.next;do{if((fe.tag&ee)===ee){var _e=fe.create;fe.destroy=_e()}fe=fe.next}while(fe!==re)}}function lh(ee){var re=ee.ref;if(re!==null){var fe=ee.stateNode;switch(ee.tag){case 5:ee=fe;break;default:ee=fe}typeof re=="function"?re(ee):re.current=ee}}function kh(ee){var re=ee.alternate;re!==null&&(ee.alternate=null,kh(re)),ee.child=null,ee.deletions=null,ee.sibling=null,ee.tag===5&&(re=ee.stateNode,re!==null&&(delete re[Gr],delete re[oo],delete re[Aa],delete re[jl],delete re[Xl])),ee.stateNode=null,ee.return=null,ee.dependencies=null,ee.memoizedProps=null,ee.memoizedState=null,ee.pendingProps=null,ee.stateNode=null,ee.updateQueue=null}function Bh(ee){return ee.tag===5||ee.tag===3||ee.tag===4}function Nh(ee){e:for(;;){for(;ee.sibling===null;){if(ee.return===null||Bh(ee.return))return null;ee=ee.return}for(ee.sibling.return=ee.return,ee=ee.sibling;ee.tag!==5&&ee.tag!==6&&ee.tag!==18;){if(ee.flags&2||ee.child===null||ee.tag===4)continue e;ee.child.return=ee,ee=ee.child}if(!(ee.flags&2))return ee.stateNode}}function ch(ee,re,fe){var _e=ee.tag;if(_e===5||_e===6)ee=ee.stateNode,re?fe.nodeType===8?fe.parentNode.insertBefore(ee,re):fe.insertBefore(ee,re):(fe.nodeType===8?(re=fe.parentNode,re.insertBefore(ee,fe)):(re=fe,re.appendChild(ee)),fe=fe._reactRootContainer,fe!=null||re.onclick!==null||(re.onclick=Oo));else if(_e!==4&&(ee=ee.child,ee!==null))for(ch(ee,re,fe),ee=ee.sibling;ee!==null;)ch(ee,re,fe),ee=ee.sibling}function uh(ee,re,fe){var _e=ee.tag;if(_e===5||_e===6)ee=ee.stateNode,re?fe.insertBefore(ee,re):fe.appendChild(ee);else if(_e!==4&&(ee=ee.child,ee!==null))for(uh(ee,re,fe),ee=ee.sibling;ee!==null;)uh(ee,re,fe),ee=ee.sibling}var Ei=null,js=!1;function go(ee,re,fe){for(fe=fe.child;fe!==null;)Oh(ee,re,fe),fe=fe.sibling}function Oh(ee,re,fe){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(On,fe)}catch{}switch(fe.tag){case 5:Di||cc(fe,re);case 6:var _e=Ei,Me=js;Ei=null,go(ee,re,fe),Ei=_e,js=Me,Ei!==null&&(js?(ee=Ei,fe=fe.stateNode,ee.nodeType===8?ee.parentNode.removeChild(fe):ee.removeChild(fe)):Ei.removeChild(fe.stateNode));break;case 18:Ei!==null&&(js?(ee=Ei,fe=fe.stateNode,ee.nodeType===8?$l(ee.parentNode,fe):ee.nodeType===1&&$l(ee,fe),bo(ee)):$l(Ei,fe.stateNode));break;case 4:_e=Ei,Me=js,Ei=fe.stateNode.containerInfo,js=!0,go(ee,re,fe),Ei=_e,js=Me;break;case 0:case 11:case 14:case 15:if(!Di&&(_e=fe.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null))){Me=_e=_e.next;do{var Ae=Me,ke=Ae.destroy;Ae=Ae.tag,ke!==void 0&&(Ae&2||Ae&4)&&oh(fe,re,ke),Me=Me.next}while(Me!==_e)}go(ee,re,fe);break;case 1:if(!Di&&(cc(fe,re),_e=fe.stateNode,typeof _e.componentWillUnmount=="function"))try{_e.props=fe.memoizedProps,_e.state=fe.memoizedState,_e.componentWillUnmount()}catch(Xe){zr(fe,re,Xe)}go(ee,re,fe);break;case 21:go(ee,re,fe);break;case 22:fe.mode&1?(Di=(_e=Di)||fe.memoizedState!==null,go(ee,re,fe),Di=_e):go(ee,re,fe);break;default:go(ee,re,fe)}}function Uh(ee){var re=ee.updateQueue;if(re!==null){ee.updateQueue=null;var fe=ee.stateNode;fe===null&&(fe=ee.stateNode=new hf),re.forEach(function(_e){var Me=Sf.bind(null,ee,_e);fe.has(_e)||(fe.add(_e),_e.then(Me,Me))})}}function Xs(ee,re){var fe=re.deletions;if(fe!==null)for(var _e=0;_e<fe.length;_e++){var Me=fe[_e];try{var Ae=ee,ke=re,Xe=ke;e:for(;Xe!==null;){switch(Xe.tag){case 5:Ei=Xe.stateNode,js=!1;break e;case 3:Ei=Xe.stateNode.containerInfo,js=!0;break e;case 4:Ei=Xe.stateNode.containerInfo,js=!0;break e}Xe=Xe.return}if(Ei===null)throw Error(A(160));Oh(Ae,ke,Me),Ei=null,js=!1;var Ke=Me.alternate;Ke!==null&&(Ke.return=null),Me.return=null}catch(kt){zr(Me,re,kt)}}if(re.subtreeFlags&12854)for(re=re.child;re!==null;)zh(re,ee),re=re.sibling}function zh(ee,re){var fe=ee.alternate,_e=ee.flags;switch(ee.tag){case 0:case 11:case 14:case 15:if(Xs(re,ee),ca(ee),_e&4){try{nu(3,ee,ee.return),Bu(3,ee)}catch(kn){zr(ee,ee.return,kn)}try{nu(5,ee,ee.return)}catch(kn){zr(ee,ee.return,kn)}}break;case 1:Xs(re,ee),ca(ee),_e&512&&fe!==null&&cc(fe,fe.return);break;case 5:if(Xs(re,ee),ca(ee),_e&512&&fe!==null&&cc(fe,fe.return),ee.flags&32){var Me=ee.stateNode;try{jn(Me,"")}catch(kn){zr(ee,ee.return,kn)}}if(_e&4&&(Me=ee.stateNode,Me!=null)){var Ae=ee.memoizedProps,ke=fe!==null?fe.memoizedProps:Ae,Xe=ee.type,Ke=ee.updateQueue;if(ee.updateQueue=null,Ke!==null)try{Xe==="input"&&Ae.type==="radio"&&Ae.name!=null&&Zt(Me,Ae),Xn(Xe,ke);var kt=Xn(Xe,Ae);for(ke=0;ke<Ke.length;ke+=2){var Qt=Ke[ke],rn=Ke[ke+1];Qt==="style"?$n(Me,rn):Qt==="dangerouslySetInnerHTML"?gn(Me,rn):Qt==="children"?jn(Me,rn):xe(Me,Qt,rn,kt)}switch(Xe){case"input":fn(Me,Ae);break;case"textarea":Ut(Me,Ae);break;case"select":var Kt=Me._wrapperState.wasMultiple;Me._wrapperState.wasMultiple=!!Ae.multiple;var Mn=Ae.value;Mn!=null?We(Me,!!Ae.multiple,Mn,!1):Kt!==!!Ae.multiple&&(Ae.defaultValue!=null?We(Me,!!Ae.multiple,Ae.defaultValue,!0):We(Me,!!Ae.multiple,Ae.multiple?[]:"",!1))}Me[oo]=Ae}catch(kn){zr(ee,ee.return,kn)}}break;case 6:if(Xs(re,ee),ca(ee),_e&4){if(ee.stateNode===null)throw Error(A(162));Me=ee.stateNode,Ae=ee.memoizedProps;try{Me.nodeValue=Ae}catch(kn){zr(ee,ee.return,kn)}}break;case 3:if(Xs(re,ee),ca(ee),_e&4&&fe!==null&&fe.memoizedState.isDehydrated)try{bo(re.containerInfo)}catch(kn){zr(ee,ee.return,kn)}break;case 4:Xs(re,ee),ca(ee);break;case 13:Xs(re,ee),ca(ee),Me=ee.child,Me.flags&8192&&(Ae=Me.memoizedState!==null,Me.stateNode.isHidden=Ae,!Ae||Me.alternate!==null&&Me.alternate.memoizedState!==null||(dh=bt())),_e&4&&Uh(ee);break;case 22:if(Qt=fe!==null&&fe.memoizedState!==null,ee.mode&1?(Di=(kt=Di)||Qt,Xs(re,ee),Di=kt):Xs(re,ee),ca(ee),_e&8192){if(kt=ee.memoizedState!==null,(ee.stateNode.isHidden=kt)&&!Qt&&ee.mode&1)for(Pn=ee,Qt=ee.child;Qt!==null;){for(rn=Pn=Qt;Pn!==null;){switch(Kt=Pn,Mn=Kt.child,Kt.tag){case 0:case 11:case 14:case 15:nu(4,Kt,Kt.return);break;case 1:cc(Kt,Kt.return);var Dn=Kt.stateNode;if(typeof Dn.componentWillUnmount=="function"){_e=Kt,fe=Kt.return;try{re=_e,Dn.props=re.memoizedProps,Dn.state=re.memoizedState,Dn.componentWillUnmount()}catch(kn){zr(_e,fe,kn)}}break;case 5:cc(Kt,Kt.return);break;case 22:if(Kt.memoizedState!==null){Hh(rn);continue}}Mn!==null?(Mn.return=Kt,Pn=Mn):Hh(rn)}Qt=Qt.sibling}e:for(Qt=null,rn=ee;;){if(rn.tag===5){if(Qt===null){Qt=rn;try{Me=rn.stateNode,kt?(Ae=Me.style,typeof Ae.setProperty=="function"?Ae.setProperty("display","none","important"):Ae.display="none"):(Xe=rn.stateNode,Ke=rn.memoizedProps.style,ke=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null,Xe.style.display=zn("display",ke))}catch(kn){zr(ee,ee.return,kn)}}}else if(rn.tag===6){if(Qt===null)try{rn.stateNode.nodeValue=kt?"":rn.memoizedProps}catch(kn){zr(ee,ee.return,kn)}}else if((rn.tag!==22&&rn.tag!==23||rn.memoizedState===null||rn===ee)&&rn.child!==null){rn.child.return=rn,rn=rn.child;continue}if(rn===ee)break e;for(;rn.sibling===null;){if(rn.return===null||rn.return===ee)break e;Qt===rn&&(Qt=null),rn=rn.return}Qt===rn&&(Qt=null),rn.sibling.return=rn.return,rn=rn.sibling}}break;case 19:Xs(re,ee),ca(ee),_e&4&&Uh(ee);break;case 21:break;default:Xs(re,ee),ca(ee)}}function ca(ee){var re=ee.flags;if(re&2){try{e:{for(var fe=ee.return;fe!==null;){if(Bh(fe)){var _e=fe;break e}fe=fe.return}throw Error(A(160))}switch(_e.tag){case 5:var Me=_e.stateNode;_e.flags&32&&(jn(Me,""),_e.flags&=-33);var Ae=Nh(ee);uh(ee,Ae,Me);break;case 3:case 4:var ke=_e.stateNode.containerInfo,Xe=Nh(ee);ch(ee,Xe,ke);break;default:throw Error(A(161))}}catch(Ke){zr(ee,ee.return,Ke)}ee.flags&=-3}re&4096&&(ee.flags&=-4097)}function df(ee,re,fe){Pn=ee,Vh(ee)}function Vh(ee,re,fe){for(var _e=(ee.mode&1)!==0;Pn!==null;){var Me=Pn,Ae=Me.child;if(Me.tag===22&&_e){var ke=Me.memoizedState!==null||ku;if(!ke){var Xe=Me.alternate,Ke=Xe!==null&&Xe.memoizedState!==null||Di;Xe=ku;var kt=Di;if(ku=ke,(Di=Ke)&&!kt)for(Pn=Me;Pn!==null;)ke=Pn,Ke=ke.child,ke.tag===22&&ke.memoizedState!==null?Wh(Me):Ke!==null?(Ke.return=ke,Pn=Ke):Wh(Me);for(;Ae!==null;)Pn=Ae,Vh(Ae),Ae=Ae.sibling;Pn=Me,ku=Xe,Di=kt}Gh(ee)}else Me.subtreeFlags&8772&&Ae!==null?(Ae.return=Me,Pn=Ae):Gh(ee)}}function Gh(ee){for(;Pn!==null;){var re=Pn;if(re.flags&8772){var fe=re.alternate;try{if(re.flags&8772)switch(re.tag){case 0:case 11:case 15:Di||Bu(5,re);break;case 1:var _e=re.stateNode;if(re.flags&4&&!Di)if(fe===null)_e.componentDidMount();else{var Me=re.elementType===re.type?fe.memoizedProps:Zi(re.type,fe.memoizedProps);_e.componentDidUpdate(Me,fe.memoizedState,_e.__reactInternalSnapshotBeforeUpdate)}var Ae=re.updateQueue;Ae!==null&&ho(re,Ae,_e);break;case 3:var ke=re.updateQueue;if(ke!==null){if(fe=null,re.child!==null)switch(re.child.tag){case 5:fe=re.child.stateNode;break;case 1:fe=re.child.stateNode}ho(re,ke,fe)}break;case 5:var Xe=re.stateNode;if(fe===null&&re.flags&4){fe=Xe;var Ke=re.memoizedProps;switch(re.type){case"button":case"input":case"select":case"textarea":Ke.autoFocus&&fe.focus();break;case"img":Ke.src&&(fe.src=Ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(re.memoizedState===null){var kt=re.alternate;if(kt!==null){var Qt=kt.memoizedState;if(Qt!==null){var rn=Qt.dehydrated;rn!==null&&bo(rn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Di||re.flags&512&&lh(re)}catch(Kt){zr(re,re.return,Kt)}}if(re===ee){Pn=null;break}if(fe=re.sibling,fe!==null){fe.return=re.return,Pn=fe;break}Pn=re.return}}function Hh(ee){for(;Pn!==null;){var re=Pn;if(re===ee){Pn=null;break}var fe=re.sibling;if(fe!==null){fe.return=re.return,Pn=fe;break}Pn=re.return}}function Wh(ee){for(;Pn!==null;){var re=Pn;try{switch(re.tag){case 0:case 11:case 15:var fe=re.return;try{Bu(4,re)}catch(Ke){zr(re,fe,Ke)}break;case 1:var _e=re.stateNode;if(typeof _e.componentDidMount=="function"){var Me=re.return;try{_e.componentDidMount()}catch(Ke){zr(re,Me,Ke)}}var Ae=re.return;try{lh(re)}catch(Ke){zr(re,Ae,Ke)}break;case 5:var ke=re.return;try{lh(re)}catch(Ke){zr(re,ke,Ke)}}}catch(Ke){zr(re,re.return,Ke)}if(re===ee){Pn=null;break}var Xe=re.sibling;if(Xe!==null){Xe.return=re.return,Pn=Xe;break}Pn=re.return}}var pf=Math.ceil,Nu=Se.ReactCurrentDispatcher,hh=Se.ReactCurrentOwner,Ms=Se.ReactCurrentBatchConfig,mr=0,hi=null,Kr=null,Mi=0,hs=0,uc=Dr(0),ai=0,ru=null,rl=0,Ou=0,fh=0,iu=null,Ki=null,dh=0,hc=1/0,Ha=null,Uu=!1,ph=null,yo=null,zu=!1,vo=null,Vu=0,su=0,mh=null,Gu=-1,Hu=0;function Vi(){return mr&6?bt():Gu!==-1?Gu:Gu=bt()}function _o(ee){return ee.mode&1?mr&2&&Mi!==0?Mi&-Mi:rh.transition!==null?(Hu===0&&(Hu=lr()),Hu):(ee=cr,ee!==0||(ee=window.event,ee=ee===void 0?16:lu(ee.type)),ee):1}function qs(ee,re,fe,_e){if(50<su)throw su=0,mh=null,Error(A(185));$r(ee,fe,_e),(!(mr&2)||ee!==hi)&&(ee===hi&&(!(mr&2)&&(Ou|=fe),ai===4&&xo(ee,Mi)),Qi(ee,_e),fe===1&&mr===0&&!(re.mode&1)&&(hc=bt()+500,Vo&&_s()))}function Qi(ee,re){var fe=ee.callbackNode;Wr(ee,re);var _e=Qr(ee,ee===hi?Mi:0);if(_e===0)fe!==null&&Ue(fe),ee.callbackNode=null,ee.callbackPriority=0;else if(re=_e&-_e,ee.callbackPriority!==re){if(fe!=null&&Ue(fe),re===1)ee.tag===0?Eu(jh.bind(null,ee)):Go(jh.bind(null,ee)),nh(function(){!(mr&6)&&_s()}),fe=null;else{switch(Ci(_e)){case 1:fe=en;break;case 4:fe=dn;break;case 16:fe=Sn;break;case 536870912:fe=Un;break;default:fe=Sn}fe=ef(fe,$h.bind(null,ee))}ee.callbackPriority=re,ee.callbackNode=fe}}function $h(ee,re){if(Gu=-1,Hu=0,mr&6)throw Error(A(327));var fe=ee.callbackNode;if(fc()&&ee.callbackNode!==fe)return null;var _e=Qr(ee,ee===hi?Mi:0);if(_e===0)return null;if(_e&30||_e&ee.expiredLanes||re)re=Wu(ee,_e);else{re=_e;var Me=mr;mr|=2;var Ae=qh();(hi!==ee||Mi!==re)&&(Ha=null,hc=bt()+500,sl(ee,re));do try{yf();break}catch(Xe){Xh(ee,Xe)}while(!0);ka(),Nu.current=Ae,mr=Me,Kr!==null?re=0:(hi=null,Mi=0,re=ai)}if(re!==0){if(re===2&&(Me=ps(ee),Me!==0&&(_e=Me,re=gh(ee,Me))),re===1)throw fe=ru,sl(ee,0),xo(ee,_e),Qi(ee,bt()),fe;if(re===6)xo(ee,_e);else{if(Me=ee.current.alternate,!(_e&30)&&!mf(Me)&&(re=Wu(ee,_e),re===2&&(Ae=ps(ee),Ae!==0&&(_e=Ae,re=gh(ee,Ae))),re===1))throw fe=ru,sl(ee,0),xo(ee,_e),Qi(ee,bt()),fe;switch(ee.finishedWork=Me,ee.finishedLanes=_e,re){case 0:case 1:throw Error(A(345));case 2:al(ee,Ki,Ha);break;case 3:if(xo(ee,_e),(_e&130023424)===_e&&(re=dh+500-bt(),10<re)){if(Qr(ee,0)!==0)break;if(Me=ee.suspendedLanes,(Me&_e)!==_e){Vi(),ee.pingedLanes|=ee.suspendedLanes&Me;break}ee.timeoutHandle=Ic(al.bind(null,ee,Ki,Ha),re);break}al(ee,Ki,Ha);break;case 4:if(xo(ee,_e),(_e&4194240)===_e)break;for(re=ee.eventTimes,Me=-1;0<_e;){var ke=31-Wn(_e);Ae=1<<ke,ke=re[ke],ke>Me&&(Me=ke),_e&=~Ae}if(_e=Me,_e=bt()-_e,_e=(120>_e?120:480>_e?480:1080>_e?1080:1920>_e?1920:3e3>_e?3e3:4320>_e?4320:1960*pf(_e/1960))-_e,10<_e){ee.timeoutHandle=Ic(al.bind(null,ee,Ki,Ha),_e);break}al(ee,Ki,Ha);break;case 5:al(ee,Ki,Ha);break;default:throw Error(A(329))}}}return Qi(ee,bt()),ee.callbackNode===fe?$h.bind(null,ee):null}function gh(ee,re){var fe=iu;return ee.current.memoizedState.isDehydrated&&(sl(ee,re).flags|=256),ee=Wu(ee,re),ee!==2&&(re=Ki,Ki=fe,re!==null&&yh(re)),ee}function yh(ee){Ki===null?Ki=ee:Ki.push.apply(Ki,ee)}function mf(ee){for(var re=ee;;){if(re.flags&16384){var fe=re.updateQueue;if(fe!==null&&(fe=fe.stores,fe!==null))for(var _e=0;_e<fe.length;_e++){var Me=fe[_e],Ae=Me.getSnapshot;Me=Me.value;try{if(!Li(Ae(),Me))return!1}catch{return!1}}}if(fe=re.child,re.subtreeFlags&16384&&fe!==null)fe.return=re,re=fe;else{if(re===ee)break;for(;re.sibling===null;){if(re.return===null||re.return===ee)return!0;re=re.return}re.sibling.return=re.return,re=re.sibling}}return!0}function xo(ee,re){for(re&=~fh,re&=~Ou,ee.suspendedLanes|=re,ee.pingedLanes&=~re,ee=ee.expirationTimes;0<re;){var fe=31-Wn(re),_e=1<<fe;ee[fe]=-1,re&=~_e}}function jh(ee){if(mr&6)throw Error(A(327));fc();var re=Qr(ee,0);if(!(re&1))return Qi(ee,bt()),null;var fe=Wu(ee,re);if(ee.tag!==0&&fe===2){var _e=ps(ee);_e!==0&&(re=_e,fe=gh(ee,_e))}if(fe===1)throw fe=ru,sl(ee,0),xo(ee,re),Qi(ee,bt()),fe;if(fe===6)throw Error(A(345));return ee.finishedWork=ee.current.alternate,ee.finishedLanes=re,al(ee,Ki,Ha),Qi(ee,bt()),null}function vh(ee,re){var fe=mr;mr|=1;try{return ee(re)}finally{mr=fe,mr===0&&(hc=bt()+500,Vo&&_s())}}function il(ee){vo!==null&&vo.tag===0&&!(mr&6)&&fc();var re=mr;mr|=1;var fe=Ms.transition,_e=cr;try{if(Ms.transition=null,cr=1,ee)return ee()}finally{cr=_e,Ms.transition=fe,mr=re,!(mr&6)&&_s()}}function _h(){hs=uc.current,Er(uc)}function sl(ee,re){ee.finishedWork=null,ee.finishedLanes=0;var fe=ee.timeoutHandle;if(fe!==-1&&(ee.timeoutHandle=-1,Lc(fe)),Kr!==null)for(fe=Kr.return;fe!==null;){var _e=fe;switch(Os(_e),_e.tag){case 1:_e=_e.type.childContextTypes,_e!=null&&Uo();break;case 3:oa(),Er(vi),Er(ti),Ss();break;case 5:fo(_e);break;case 4:oa();break;case 13:Er(br);break;case 19:Er(br);break;case 10:jo(_e.type._context);break;case 22:case 23:_h()}fe=fe.return}if(hi=ee,Kr=ee=So(ee.current,null),Mi=hs=re,ai=0,ru=null,fh=Ou=rl=0,Ki=iu=null,zs!==null){for(re=0;re<zs.length;re++)if(fe=zs[re],_e=fe.interleaved,_e!==null){fe.interleaved=null;var Me=_e.next,Ae=fe.pending;if(Ae!==null){var ke=Ae.next;Ae.next=Me,_e.next=ke}fe.pending=_e}zs=null}return ee}function Xh(ee,re){do{var fe=Kr;try{if(ka(),Ua.current=oc,cs){for(var _e=Mr.memoizedState;_e!==null;){var Me=_e.queue;Me!==null&&(Me.pending=null),_e=_e.next}cs=!1}if(Gs=0,pr=Lr=Mr=null,ui=!1,la=0,hh.current=null,fe===null||fe.return===null){ai=1,ru=re,Kr=null;break}e:{var Ae=ee,ke=fe.return,Xe=fe,Ke=re;if(re=Mi,Xe.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var kt=Ke,Qt=Xe,rn=Qt.tag;if(!(Qt.mode&1)&&(rn===0||rn===11||rn===15)){var Kt=Qt.alternate;Kt?(Qt.updateQueue=Kt.updateQueue,Qt.memoizedState=Kt.memoizedState,Qt.lanes=Kt.lanes):(Qt.updateQueue=null,Qt.memoizedState=null)}var Mn=bn(ke);if(Mn!==null){Mn.flags&=-257,Zn(Mn,ke,Xe,Ae,re),Mn.mode&1&&sn(Ae,kt,re),re=Mn,Ke=kt;var Dn=re.updateQueue;if(Dn===null){var kn=new Set;kn.add(Ke),re.updateQueue=kn}else Dn.add(Ke);break e}else{if(!(re&1)){sn(Ae,kt,re),xh();break e}Ke=Error(A(426))}}else if(Tr&&Xe.mode&1){var Hr=bn(ke);if(Hr!==null){!(Hr.flags&65536)&&(Hr.flags|=256),Zn(Hr,ke,Xe,Ae,re),co(Ee(Ke,Xe));break e}}Ae=Ke=Ee(Ke,Xe),ai!==4&&(ai=2),iu===null?iu=[Ae]:iu.push(Ae),Ae=ke;do{switch(Ae.tag){case 3:Ae.flags|=65536,re&=-re,Ae.lanes|=re;var wt=st(Ae,Ke,re);Ba(Ae,wt);break e;case 1:Xe=Ke;var Je=Ae.type,Rt=Ae.stateNode;if(!(Ae.flags&128)&&(typeof Je.getDerivedStateFromError=="function"||Rt!==null&&typeof Rt.componentDidCatch=="function"&&(yo===null||!yo.has(Rt)))){Ae.flags|=65536,re&=-re,Ae.lanes|=re;var on=Vt(Ae,Xe,re);Ba(Ae,on);break e}}Ae=Ae.return}while(Ae!==null)}Zh(fe)}catch(Nn){re=Nn,Kr===fe&&fe!==null&&(Kr=fe=fe.return);continue}break}while(!0)}function qh(){var ee=Nu.current;return Nu.current=oc,ee===null?oc:ee}function xh(){(ai===0||ai===3||ai===2)&&(ai=4),hi===null||!(rl&268435455)&&!(Ou&268435455)||xo(hi,Mi)}function Wu(ee,re){var fe=mr;mr|=2;var _e=qh();(hi!==ee||Mi!==re)&&(Ha=null,sl(ee,re));do try{gf();break}catch(Me){Xh(ee,Me)}while(!0);if(ka(),mr=fe,Nu.current=_e,Kr!==null)throw Error(A(261));return hi=null,Mi=0,ai}function gf(){for(;Kr!==null;)Yh(Kr)}function yf(){for(;Kr!==null&&!vt();)Yh(Kr)}function Yh(ee){var re=Jh(ee.alternate,ee,hs);ee.memoizedProps=ee.pendingProps,re===null?Zh(ee):Kr=re,hh.current=null}function Zh(ee){var re=ee;do{var fe=re.alternate;if(ee=re.return,re.flags&32768){if(fe=uf(fe,re),fe!==null){fe.flags&=32767,Kr=fe;return}if(ee!==null)ee.flags|=32768,ee.subtreeFlags=0,ee.deletions=null;else{ai=6,Kr=null;return}}else if(fe=cf(fe,re,hs),fe!==null){Kr=fe;return}if(re=re.sibling,re!==null){Kr=re;return}Kr=re=ee}while(re!==null);ai===0&&(ai=5)}function al(ee,re,fe){var _e=cr,Me=Ms.transition;try{Ms.transition=null,cr=1,vf(ee,re,fe,_e)}finally{Ms.transition=Me,cr=_e}return null}function vf(ee,re,fe,_e){do fc();while(vo!==null);if(mr&6)throw Error(A(327));fe=ee.finishedWork;var Me=ee.finishedLanes;if(fe===null)return null;if(ee.finishedWork=null,ee.finishedLanes=0,fe===ee.current)throw Error(A(177));ee.callbackNode=null,ee.callbackPriority=0;var Ae=fe.lanes|fe.childLanes;if(Jr(ee,Ae),ee===hi&&(Kr=hi=null,Mi=0),!(fe.subtreeFlags&2064)&&!(fe.flags&2064)||zu||(zu=!0,ef(Sn,function(){return fc(),null})),Ae=(fe.flags&15990)!==0,fe.subtreeFlags&15990||Ae){Ae=Ms.transition,Ms.transition=null;var ke=cr;cr=1;var Xe=mr;mr|=4,hh.current=null,ff(ee,fe),zh(fe,ee),Xr(Rc),Gi=!!ao,Rc=ao=null,ee.current=fe,df(fe),Ft(),mr=Xe,cr=ke,Ms.transition=Ae}else ee.current=fe;if(zu&&(zu=!1,vo=ee,Vu=Me),Ae=ee.pendingLanes,Ae===0&&(yo=null),Fn(fe.stateNode),Qi(ee,bt()),re!==null)for(_e=ee.onRecoverableError,fe=0;fe<re.length;fe++)Me=re[fe],_e(Me.value,{componentStack:Me.stack,digest:Me.digest});if(Uu)throw Uu=!1,ee=ph,ph=null,ee;return Vu&1&&ee.tag!==0&&fc(),Ae=ee.pendingLanes,Ae&1?ee===mh?su++:(su=0,mh=ee):su=0,_s(),null}function fc(){if(vo!==null){var ee=Ci(Vu),re=Ms.transition,fe=cr;try{if(Ms.transition=null,cr=16>ee?16:ee,vo===null)var _e=!1;else{if(ee=vo,vo=null,Vu=0,mr&6)throw Error(A(331));var Me=mr;for(mr|=4,Pn=ee.current;Pn!==null;){var Ae=Pn,ke=Ae.child;if(Pn.flags&16){var Xe=Ae.deletions;if(Xe!==null){for(var Ke=0;Ke<Xe.length;Ke++){var kt=Xe[Ke];for(Pn=kt;Pn!==null;){var Qt=Pn;switch(Qt.tag){case 0:case 11:case 15:nu(8,Qt,Ae)}var rn=Qt.child;if(rn!==null)rn.return=Qt,Pn=rn;else for(;Pn!==null;){Qt=Pn;var Kt=Qt.sibling,Mn=Qt.return;if(kh(Qt),Qt===kt){Pn=null;break}if(Kt!==null){Kt.return=Mn,Pn=Kt;break}Pn=Mn}}}var Dn=Ae.alternate;if(Dn!==null){var kn=Dn.child;if(kn!==null){Dn.child=null;do{var Hr=kn.sibling;kn.sibling=null,kn=Hr}while(kn!==null)}}Pn=Ae}}if(Ae.subtreeFlags&2064&&ke!==null)ke.return=Ae,Pn=ke;else e:for(;Pn!==null;){if(Ae=Pn,Ae.flags&2048)switch(Ae.tag){case 0:case 11:case 15:nu(9,Ae,Ae.return)}var wt=Ae.sibling;if(wt!==null){wt.return=Ae.return,Pn=wt;break e}Pn=Ae.return}}var Je=ee.current;for(Pn=Je;Pn!==null;){ke=Pn;var Rt=ke.child;if(ke.subtreeFlags&2064&&Rt!==null)Rt.return=ke,Pn=Rt;else e:for(ke=Je;Pn!==null;){if(Xe=Pn,Xe.flags&2048)try{switch(Xe.tag){case 0:case 11:case 15:Bu(9,Xe)}}catch(Nn){zr(Xe,Xe.return,Nn)}if(Xe===ke){Pn=null;break e}var on=Xe.sibling;if(on!==null){on.return=Xe.return,Pn=on;break e}Pn=Xe.return}}if(mr=Me,_s(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(On,ee)}catch{}_e=!0}return _e}finally{cr=fe,Ms.transition=re}}return!1}function Kh(ee,re,fe){re=Ee(fe,re),re=st(ee,re,1),ee=wr(ee,re,1),re=Vi(),ee!==null&&($r(ee,1,re),Qi(ee,re))}function zr(ee,re,fe){if(ee.tag===3)Kh(ee,ee,fe);else for(;re!==null;){if(re.tag===3){Kh(re,ee,fe);break}else if(re.tag===1){var _e=re.stateNode;if(typeof re.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(yo===null||!yo.has(_e))){ee=Ee(fe,ee),ee=Vt(re,ee,1),re=wr(re,ee,1),ee=Vi(),re!==null&&($r(re,1,ee),Qi(re,ee));break}}re=re.return}}function _f(ee,re,fe){var _e=ee.pingCache;_e!==null&&_e.delete(re),re=Vi(),ee.pingedLanes|=ee.suspendedLanes&fe,hi===ee&&(Mi&fe)===fe&&(ai===4||ai===3&&(Mi&130023424)===Mi&&500>bt()-dh?sl(ee,0):fh|=fe),Qi(ee,re)}function Qh(ee,re){re===0&&(ee.mode&1?(re=ur,ur<<=1,!(ur&130023424)&&(ur=4194304)):re=1);var fe=Vi();ee=os(ee,re),ee!==null&&($r(ee,re,fe),Qi(ee,fe))}function xf(ee){var re=ee.memoizedState,fe=0;re!==null&&(fe=re.retryLane),Qh(ee,fe)}function Sf(ee,re){var fe=0;switch(ee.tag){case 13:var _e=ee.stateNode,Me=ee.memoizedState;Me!==null&&(fe=Me.retryLane);break;case 19:_e=ee.stateNode;break;default:throw Error(A(314))}_e!==null&&_e.delete(re),Qh(ee,fe)}var Jh;Jh=function(ee,re,fe){if(ee!==null)if(ee.memoizedProps!==re.pendingProps||vi.current)tr=!0;else{if(!(ee.lanes&fe)&&!(re.flags&128))return tr=!1,lf(ee,re,fe);tr=!!(ee.flags&131072)}else tr=!1,Tr&&re.flags&1048576&&Oc(re,Kl,re.index);switch(re.lanes=0,re.tag){case 2:var _e=re.type;Fu(ee,re),ee=re.pendingProps;var Me=wa(re,ti.current);aa(re,fe),Me=Ko(null,re,_e,ee,Me,fe);var Ae=jc();return re.flags|=1,typeof Me=="object"&&Me!==null&&typeof Me.render=="function"&&Me.$$typeof===void 0?(re.tag=1,re.memoizedState=null,re.updateQueue=null,li(_e)?(Ae=!0,Pa(re)):Ae=!1,re.memoizedState=Me.state!==null&&Me.state!==void 0?Me.state:null,Jn(re),Me.updater=lc,re.stateNode=Me,Me._reactInternals=re,ve(re,_e,ee,fe),re=Qn(null,re,_e,!0,Ae,fe)):(re.tag=0,Tr&&Ae&&Uc(re),xn(null,re,Me,fe),re=re.child),re;case 16:_e=re.elementType;e:{switch(Fu(ee,re),ee=re.pendingProps,Me=_e._init,_e=Me(_e._payload),re.type=_e,Me=re.tag=Mf(_e),ee=Zi(_e,ee),Me){case 0:re=vn(null,re,_e,ee,fe);break e;case 1:re=Bn(null,re,_e,ee,fe);break e;case 11:re=si(null,re,_e,ee,fe);break e;case 14:re=zi(null,re,_e,Zi(_e.type,ee),fe);break e}throw Error(A(306,_e,""))}return re;case 0:return _e=re.type,Me=re.pendingProps,Me=re.elementType===_e?Me:Zi(_e,Me),vn(ee,re,_e,Me,fe);case 1:return _e=re.type,Me=re.pendingProps,Me=re.elementType===_e?Me:Zi(_e,Me),Bn(ee,re,_e,Me,fe);case 3:e:{if(Kn(re),ee===null)throw Error(A(387));_e=re.pendingProps,Ae=re.memoizedState,Me=Ae.element,Br(ee,re),Ir(re,_e,null,fe);var ke=re.memoizedState;if(_e=ke.element,Ae.isDehydrated)if(Ae={element:_e,isDehydrated:!1,cache:ke.cache,pendingSuspenseBoundaries:ke.pendingSuspenseBoundaries,transitions:ke.transitions},re.updateQueue.baseState=Ae,re.memoizedState=Ae,re.flags&256){Me=Ee(Error(A(423)),re),re=dr(ee,re,_e,fe,Me);break e}else if(_e!==Me){Me=Ee(Error(A(424)),re),re=dr(ee,re,_e,fe,Me);break e}else for(xi=Ls(re.stateNode.containerInfo.firstChild),ni=re,Tr=!0,Yi=null,fe=$o(re,null,_e,fe),re.child=fe;fe;)fe.flags=fe.flags&-3|4096,fe=fe.sibling;else{if(sa(),_e===Me){re=Ga(ee,re,fe);break e}xn(ee,re,_e,fe)}re=re.child}return re;case 5:return Oa(re),ee===null&&Jl(re),_e=re.type,Me=re.pendingProps,Ae=ee!==null?ee.memoizedProps:null,ke=Me.children,Dc(_e,Me)?ke=null:Ae!==null&&Dc(_e,Ae)&&(re.flags|=32),Bt(ee,re),xn(ee,re,ke,fe),re.child;case 6:return ee===null&&Jl(re),null;case 13:return $s(ee,re,fe);case 4:return Yo(re,re.stateNode.containerInfo),_e=re.pendingProps,ee===null?re.child=Ia(re,null,_e,fe):xn(ee,re,_e,fe),re.child;case 11:return _e=re.type,Me=re.pendingProps,Me=re.elementType===_e?Me:Zi(_e,Me),si(ee,re,_e,Me,fe);case 7:return xn(ee,re,re.pendingProps,fe),re.child;case 8:return xn(ee,re,re.pendingProps.children,fe),re.child;case 12:return xn(ee,re,re.pendingProps.children,fe),re.child;case 10:e:{if(_e=re.type._context,Me=re.pendingProps,Ae=re.memoizedProps,ke=Me.value,xr(La,_e._currentValue),_e._currentValue=ke,Ae!==null)if(Li(Ae.value,ke)){if(Ae.children===Me.children&&!vi.current){re=Ga(ee,re,fe);break e}}else for(Ae=re.child,Ae!==null&&(Ae.return=re);Ae!==null;){var Xe=Ae.dependencies;if(Xe!==null){ke=Ae.child;for(var Ke=Xe.firstContext;Ke!==null;){if(Ke.context===_e){if(Ae.tag===1){Ke=_r(-1,fe&-fe),Ke.tag=2;var kt=Ae.updateQueue;if(kt!==null){kt=kt.shared;var Qt=kt.pending;Qt===null?Ke.next=Ke:(Ke.next=Qt.next,Qt.next=Ke),kt.pending=Ke}}Ae.lanes|=fe,Ke=Ae.alternate,Ke!==null&&(Ke.lanes|=fe),Xo(Ae.return,fe,re),Xe.lanes|=fe;break}Ke=Ke.next}}else if(Ae.tag===10)ke=Ae.type===re.type?null:Ae.child;else if(Ae.tag===18){if(ke=Ae.return,ke===null)throw Error(A(341));ke.lanes|=fe,Xe=ke.alternate,Xe!==null&&(Xe.lanes|=fe),Xo(ke,fe,re),ke=Ae.sibling}else ke=Ae.child;if(ke!==null)ke.return=Ae;else for(ke=Ae;ke!==null;){if(ke===re){ke=null;break}if(Ae=ke.sibling,Ae!==null){Ae.return=ke.return,ke=Ae;break}ke=ke.return}Ae=ke}xn(ee,re,Me.children,fe),re=re.child}return re;case 9:return Me=re.type,_e=re.pendingProps.children,aa(re,fe),Me=Bi(Me),_e=_e(Me),re.flags|=1,xn(ee,re,_e,fe),re.child;case 14:return _e=re.type,Me=Zi(_e,re.pendingProps),Me=Zi(_e.type,Me),zi(ee,re,_e,Me,fe);case 15:return Dt(ee,re,re.type,re.pendingProps,fe);case 17:return _e=re.type,Me=re.pendingProps,Me=re.elementType===_e?Me:Zi(_e,Me),Fu(ee,re),re.tag=1,li(_e)?(ee=!0,Pa(re)):ee=!1,aa(re,fe),se(re,_e,Me),ve(re,_e,Me,fe),Qn(null,re,_e,!0,ee,fe);case 19:return Rh(ee,re,fe);case 22:return _t(ee,re,fe)}throw Error(A(156,re.tag))};function ef(ee,re){return ml(ee,re)}function Ef(ee,re,fe,_e){this.tag=ee,this.key=fe,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=re,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(ee,re,fe,_e){return new Ef(ee,re,fe,_e)}function Sh(ee){return ee=ee.prototype,!(!ee||!ee.isReactComponent)}function Mf(ee){if(typeof ee=="function")return Sh(ee)?1:0;if(ee!=null){if(ee=ee.$$typeof,ee===Ge)return 11;if(ee===qe)return 14}return 2}function So(ee,re){var fe=ee.alternate;return fe===null?(fe=Cs(ee.tag,re,ee.key,ee.mode),fe.elementType=ee.elementType,fe.type=ee.type,fe.stateNode=ee.stateNode,fe.alternate=ee,ee.alternate=fe):(fe.pendingProps=re,fe.type=ee.type,fe.flags=0,fe.subtreeFlags=0,fe.deletions=null),fe.flags=ee.flags&14680064,fe.childLanes=ee.childLanes,fe.lanes=ee.lanes,fe.child=ee.child,fe.memoizedProps=ee.memoizedProps,fe.memoizedState=ee.memoizedState,fe.updateQueue=ee.updateQueue,re=ee.dependencies,fe.dependencies=re===null?null:{lanes:re.lanes,firstContext:re.firstContext},fe.sibling=ee.sibling,fe.index=ee.index,fe.ref=ee.ref,fe}function $u(ee,re,fe,_e,Me,Ae){var ke=2;if(_e=ee,typeof ee=="function")Sh(ee)&&(ke=1);else if(typeof ee=="string")ke=5;else e:switch(ee){case Pe:return ol(fe.children,Me,Ae,re);case Ie:ke=8,Me|=8;break;case De:return ee=Cs(12,fe,re,Me|2),ee.elementType=De,ee.lanes=Ae,ee;case He:return ee=Cs(13,fe,re,Me),ee.elementType=He,ee.lanes=Ae,ee;case je:return ee=Cs(19,fe,re,Me),ee.elementType=je,ee.lanes=Ae,ee;case Ct:return ju(fe,Me,Ae,re);default:if(typeof ee=="object"&&ee!==null)switch(ee.$$typeof){case we:ke=10;break e;case Fe:ke=9;break e;case Ge:ke=11;break e;case qe:ke=14;break e;case Ye:ke=16,_e=null;break e}throw Error(A(130,ee==null?ee:typeof ee,""))}return re=Cs(ke,fe,re,Me),re.elementType=ee,re.type=_e,re.lanes=Ae,re}function ol(ee,re,fe,_e){return ee=Cs(7,ee,_e,re),ee.lanes=fe,ee}function ju(ee,re,fe,_e){return ee=Cs(22,ee,_e,re),ee.elementType=Ct,ee.lanes=fe,ee.stateNode={isHidden:!1},ee}function Eh(ee,re,fe){return ee=Cs(6,ee,null,re),ee.lanes=fe,ee}function Mh(ee,re,fe){return re=Cs(4,ee.children!==null?ee.children:[],ee.key,re),re.lanes=fe,re.stateNode={containerInfo:ee.containerInfo,pendingChildren:null,implementation:ee.implementation},re}function Cf(ee,re,fe,_e,Me){this.tag=re,this.containerInfo=ee,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=_e,this.onRecoverableError=Me,this.mutableSourceEagerHydrationData=null}function Ch(ee,re,fe,_e,Me,Ae,ke,Xe,Ke){return ee=new Cf(ee,re,fe,Xe,Ke),re===1?(re=1,Ae===!0&&(re|=8)):re=0,Ae=Cs(3,null,null,re),ee.current=Ae,Ae.stateNode=ee,Ae.memoizedState={element:_e,isDehydrated:fe,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jn(Ae),ee}function Tf(ee,re,fe){var _e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:be,key:_e==null?null:""+_e,children:ee,containerInfo:re,implementation:fe}}function tf(ee){if(!ee)return ks;ee=ee._reactInternals;e:{if(ds(ee)!==ee||ee.tag!==1)throw Error(A(170));var re=ee;do{switch(re.tag){case 3:re=re.stateNode.context;break e;case 1:if(li(re.type)){re=re.stateNode.__reactInternalMemoizedMergedChildContext;break e}}re=re.return}while(re!==null);throw Error(A(171))}if(ee.tag===1){var fe=ee.type;if(li(fe))return zo(ee,fe,re)}return re}function nf(ee,re,fe,_e,Me,Ae,ke,Xe,Ke){return ee=Ch(fe,_e,!0,ee,Me,Ae,ke,Xe,Ke),ee.context=tf(null),fe=ee.current,_e=Vi(),Me=_o(fe),Ae=_r(_e,Me),Ae.callback=re??null,wr(fe,Ae,Me),ee.current.lanes=Me,$r(ee,Me,_e),Qi(ee,_e),ee}function Xu(ee,re,fe,_e){var Me=re.current,Ae=Vi(),ke=_o(Me);return fe=tf(fe),re.context===null?re.context=fe:re.pendingContext=fe,re=_r(Ae,ke),re.payload={element:ee},_e=_e===void 0?null:_e,_e!==null&&(re.callback=_e),ee=wr(Me,re,ke),ee!==null&&(qs(ee,Me,ke,Ae),ci(ee,Me,ke)),ke}function qu(ee){if(ee=ee.current,!ee.child)return null;switch(ee.child.tag){case 5:return ee.child.stateNode;default:return ee.child.stateNode}}function rf(ee,re){if(ee=ee.memoizedState,ee!==null&&ee.dehydrated!==null){var fe=ee.retryLane;ee.retryLane=fe!==0&&fe<re?fe:re}}function Th(ee,re){rf(ee,re),(ee=ee.alternate)&&rf(ee,re)}function bf(){return null}var sf=typeof reportError=="function"?reportError:function(ee){console.error(ee)};function bh(ee){this._internalRoot=ee}Yu.prototype.render=bh.prototype.render=function(ee){var re=this._internalRoot;if(re===null)throw Error(A(409));Xu(ee,re,null,null)},Yu.prototype.unmount=bh.prototype.unmount=function(){var ee=this._internalRoot;if(ee!==null){this._internalRoot=null;var re=ee.containerInfo;il(function(){Xu(null,ee,null,null)}),re[ki]=null}};function Yu(ee){this._internalRoot=ee}Yu.prototype.unstable_scheduleHydration=function(ee){if(ee){var re=gl();ee={blockedOn:null,target:ee,priority:re};for(var fe=0;fe<Ks.length&&re!==0&&re<Ks[fe].priority;fe++);Ks.splice(fe,0,ee),fe===0&&_l(ee)}};function Ah(ee){return!(!ee||ee.nodeType!==1&&ee.nodeType!==9&&ee.nodeType!==11)}function Zu(ee){return!(!ee||ee.nodeType!==1&&ee.nodeType!==9&&ee.nodeType!==11&&(ee.nodeType!==8||ee.nodeValue!==" react-mount-point-unstable "))}function af(){}function Af(ee,re,fe,_e,Me){if(Me){if(typeof _e=="function"){var Ae=_e;_e=function(){var kt=qu(ke);Ae.call(kt)}}var ke=nf(re,_e,ee,0,null,!1,!1,"",af);return ee._reactRootContainer=ke,ee[ki]=ke.current,io(ee.nodeType===8?ee.parentNode:ee),il(),ke}for(;Me=ee.lastChild;)ee.removeChild(Me);if(typeof _e=="function"){var Xe=_e;_e=function(){var kt=qu(Ke);Xe.call(kt)}}var Ke=Ch(ee,0,!1,null,null,!1,!1,"",af);return ee._reactRootContainer=Ke,ee[ki]=Ke.current,io(ee.nodeType===8?ee.parentNode:ee),il(function(){Xu(re,Ke,fe,_e)}),Ke}function Ku(ee,re,fe,_e,Me){var Ae=fe._reactRootContainer;if(Ae){var ke=Ae;if(typeof Me=="function"){var Xe=Me;Me=function(){var Ke=qu(ke);Xe.call(Ke)}}Xu(re,ke,ee,Me)}else ke=Af(fe,re,ee,Me,_e);return qu(ke)}Mo=function(ee){switch(ee.tag){case 3:var re=ee.stateNode;if(re.current.memoizedState.isDehydrated){var fe=nr(re.pendingLanes);fe!==0&&(Fr(re,fe|1),Qi(re,bt()),!(mr&6)&&(hc=bt()+500,_s()))}break;case 13:il(function(){var _e=os(ee,1);if(_e!==null){var Me=Vi();qs(_e,ee,1,Me)}}),Th(ee,1)}},dc=function(ee){if(ee.tag===13){var re=os(ee,134217728);if(re!==null){var fe=Vi();qs(re,ee,134217728,fe)}Th(ee,134217728)}},ou=function(ee){if(ee.tag===13){var re=_o(ee),fe=os(ee,re);if(fe!==null){var _e=Vi();qs(fe,ee,re,_e)}Th(ee,re)}},gl=function(){return cr},yl=function(ee,re){var fe=cr;try{return cr=ee,re()}finally{cr=fe}},mn=function(ee,re,fe){switch(re){case"input":if(fn(ee,fe),re=fe.name,fe.type==="radio"&&re!=null){for(fe=ee;fe.parentNode;)fe=fe.parentNode;for(fe=fe.querySelectorAll("input[name="+JSON.stringify(""+re)+'][type="radio"]'),re=0;re<fe.length;re++){var _e=fe[re];if(_e!==ee&&_e.form===ee.form){var Me=ql(_e);if(!Me)throw Error(A(90));$t(_e),fn(_e,Me)}}}break;case"textarea":Ut(ee,fe);break;case"select":re=fe.value,re!=null&&We(ee,!!fe.multiple,re,!1)}},Cr=vh,Nr=il;var wf={usingClientEntryPoint:!1,Events:[Fs,kr,ql,yn,qn,vh]},au={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pf={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(ee){return ee=dl(ee),ee===null?null:ee.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||bf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{On=Qu.inject(Pf),an=Qu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wf,reactDom_production_min.createPortal=function(ee,re){var fe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(re))throw Error(A(200));return Tf(ee,re,null,fe)},reactDom_production_min.createRoot=function(ee,re){if(!Ah(ee))throw Error(A(299));var fe=!1,_e="",Me=sf;return re!=null&&(re.unstable_strictMode===!0&&(fe=!0),re.identifierPrefix!==void 0&&(_e=re.identifierPrefix),re.onRecoverableError!==void 0&&(Me=re.onRecoverableError)),re=Ch(ee,1,!1,null,null,fe,!1,_e,Me),ee[ki]=re.current,io(ee.nodeType===8?ee.parentNode:ee),new bh(re)},reactDom_production_min.findDOMNode=function(ee){if(ee==null)return null;if(ee.nodeType===1)return ee;var re=ee._reactInternals;if(re===void 0)throw typeof ee.render=="function"?Error(A(188)):(ee=Object.keys(ee).join(","),Error(A(268,ee)));return ee=dl(re),ee=ee===null?null:ee.stateNode,ee},reactDom_production_min.flushSync=function(ee){return il(ee)},reactDom_production_min.hydrate=function(ee,re,fe){if(!Zu(re))throw Error(A(200));return Ku(null,ee,re,!0,fe)},reactDom_production_min.hydrateRoot=function(ee,re,fe){if(!Ah(ee))throw Error(A(405));var _e=fe!=null&&fe.hydratedSources||null,Me=!1,Ae="",ke=sf;if(fe!=null&&(fe.unstable_strictMode===!0&&(Me=!0),fe.identifierPrefix!==void 0&&(Ae=fe.identifierPrefix),fe.onRecoverableError!==void 0&&(ke=fe.onRecoverableError)),re=nf(re,null,ee,1,fe??null,Me,!1,Ae,ke),ee[ki]=re.current,io(ee),_e)for(ee=0;ee<_e.length;ee++)fe=_e[ee],Me=fe._getVersion,Me=Me(fe._source),re.mutableSourceEagerHydrationData==null?re.mutableSourceEagerHydrationData=[fe,Me]:re.mutableSourceEagerHydrationData.push(fe,Me);return new Yu(re)},reactDom_production_min.render=function(ee,re,fe){if(!Zu(re))throw Error(A(200));return Ku(null,ee,re,!1,fe)},reactDom_production_min.unmountComponentAtNode=function(ee){if(!Zu(ee))throw Error(A(40));return ee._reactRootContainer?(il(function(){Ku(null,null,ee,!1,function(){ee._reactRootContainer=null,ee[ki]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=vh,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ee,re,fe,_e){if(!Zu(fe))throw Error(A(200));if(ee==null||ee._reactInternals===void 0)throw Error(A(38));return Ku(ee,re,fe,!1,_e)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P)}catch(T){console.error(T)}}return P(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var P=requireReactDom();return client.createRoot=P.createRoot,client.hydrateRoot=P.hydrateRoot,client}var clientExports=requireClient();const Logo_NK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALEAAAAmCAYAAACLSno+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZmSURBVHgB5Z2BVeM4EIb/UMFeBSc6gApOVLBQwYYKNlcBoQLYCuKrgL0K7K0ArgLcAdvBnCaSLybEsTQeOfbe954evKDYjj0a/TMahQVGgog+uR8r154Xi8Xf4TXCcG7c8b5DgOD8lWv3rpVIo3bXeA4h7jKf3I9rpFG7duXOW2MA7twGcZ/30p3rp+tv3e+/u/Zj6LknA98E1x5ceyPPl9bfNHgLA0RybamUrllK5xVC3HvXJCPV6LvOv4k416bVf9l+nfwgyMoZMkH+YfMI5gfIHlhkaBHwce/wC0Leq0k+21o6Ox3ARvQpOl5fuvbqPsdT+CxZUDVid6Gfwkhk4+VmMQ6rnDfpFAQPtkE6j86A76FA8OampxtLpR89ffg4Jc9I1JqJtVAx4mC8a3ivyzfeYnx46srl7U8B62CDNGp4za7F54g+FeIxrhXBmNdaUmOQEQfJ8ABvvDztndKIDH4RWREcwgXSqOEDuZ9QIBjYMqKrZNAY+Gf1qqGbRUbc0rvccurdVGYvK1iOQTYYb5SzATaiT6VwziW8MZfSYDTaiINk+OraM8bVu6nMVlYEjyQN5F6gy9eIPgX0sK49SXRzrxHv6d1HpE9zY2MwX1nBzsEgDbVAriEMppjn3BfQSTDY6eYoqdFpxEEycJD2htPr3VRmJyvc9bKDMEjjxRnwn9AnxgkUmRczDHZSg425c1B9MOI9vbvEfHnATHD3m+OKmOm7Te3aDfJgI/oUGI+la89BN3+QGlsjbiSDa+x1p6x3U7hwn2fysmKADr7K4QkVc8M5sNhJjS+N1Dhr6d0xJEOFPDqqC7VcZA5CAMpOI/W+rzJO5TFB1bHVwKrn7xoY+Jmg3Epeyg/XNtzRgYwBjUNn8QqlU5Ji7YR7/ZHSyTa7kK9zicFEHmtD3mtmJVvtBPyIvHYe4zeOnpWS8JxGSj0OG90KE4NkOrjSzkTsYSP6ROWGuY9rt6F67xZpK3tJaBsxGxhH2dZd/FVTcql8fMlDvKMJyYpwLamBZw1vDDnJkht2dsCZjCv363l4v8qqYoOWEVfwK3fnnPLJKfrdsR+RPqpZykiKadSh+PrcfbLGK+RTWDG5YbFjarwzvDHzzxoKDDFiHk0s4Buv+01r3T6CW8xXVrCmNUiHjThn2jDKC2s8Yz5G8M5szBZD03WUTmegNsK5y9Z7V5QOX7sZcn4aENiRvMC9jUUGKC4A+wOZIB8ILkkQCEo8MQdX9Yhe9yBzkxXkp2uNzIL69dMEcsMhWGxaEhIjttglnNkbGpwOyZKrJaWtOwnw4HmCDuyxtNNsQ3PDYkhjoY102JBgmqN0ygPHuKN0tvvyKJ2SZHJCm3eyaAikmBtOPO+2vIEU0MpOLNHafkIjeueQN62RxmSyFUI0gzwb0UejbjhbOa92ntjAR5pszBs6UnmkjCR/Orak0OaadIK87HXD9H4HkHo5b84VuyWOVB5p4rxEBX9z/m8Mmk0oLjfMAXxybrjldbPvAGIjzl2sYZFY5CxEIivmztAgL8YLf0/JRJHX2GvsvK5FXqozd4Fck9osB+bEwHvnLLnGcKNzL8vmooZ8JhmSIbIRfQqkYZG/IrIpb7jghbatnMi1HDg2M5YVy7BDo0Y6oiCP/IZU09PtVHXDXbDxrrErb/iHX3yniYMxF63KoxfMj7nJinXLUKQziSTIi/lOiQLToIIf6AcrIjsDu2DMl9BY2x6RmcmKd5s8w0xSQQbHG1FTeJAfMdmZv3BaKuxqczqvpTc7wV6iJTUKzMDLBWPIHbAOpe7Y5CmtFzaIr0+2EX1UcsMC2pLhKkbORKfYWrqZ60LnoJsllW5jUcPfxw+EAVhARmyQF7WbGePSNt77lAGUnCc+oJsrTJAgK3JsZ9eg79t6+LolA7B3JTLkhg2OI8oNC6ngJYN4B9CgxY5WxT5r5wITg68P0xtkq75v6wkPUpplsT1BnnpuWEi7Fn1QBkRlxY4fyoR185RkBQdy3yL7cr8aMo4FeRb9FMhDIxnY694slNJ3qsvOBzYH1jgxYdqWBkuaJH1bT/CEqkHeCXPDPPPwsvP5Qm/T8H9kq51o6WZO5VQ4IcICek1qCL6tZ6AcOhTkjZ0bruAlw+XI29fyQLvvIRjyPzskGyzb53+jYZQkqyc2EELD6pfLvc+f9VrDeT6T/x8t2bYy7fMvqI3Q24PKOXwAAAAASUVORK5CYII=";function HeaderPage(){return jsxRuntimeExports.jsx("div",{className:"z-50 fixed bg-black border border-white w-[97%] px-20 max-lg:px-8 3xl:container 3xl:mx-auto py-2",children:jsxRuntimeExports.jsxs("nav",{className:"flex flex-row items-center w-full justify-between gap-10",children:[jsxRuntimeExports.jsx("img",{src:Logo_NK,alt:"logo exata",className:"flex items-center size-min"}),jsxRuntimeExports.jsxs("ul",{className:"flex flex-row items-center gap-10 max-lg:hidden border border-white",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{className:`font-normal text-xl tracking-wide relative after:absolute after:bottom-0 after:left-0 after:h-[7px] after:w-full after:origin-bottom-right after:scale-x-0  \r
      after:bg-white after:transition-transform after:duration-300 after:ease-[cubic-bezier(0.65_0.05_0.36_1)] hover:after:origin-bottom-left hover:after:scale-x-100`,children:"HOME"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{className:`font-normal text-xl tracking-wide relative after:absolute after:bottom-0 after:left-0 after:h-[7px] after:w-full after:origin-bottom-right after:scale-x-0  \r
      after:bg-white after:transition-transform after:duration-300 after:ease-[cubic-bezier(0.65_0.05_0.36_1)] hover:after:origin-bottom-left hover:after:scale-x-100`,children:"SKILLS"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{className:`font-normal text-xl tracking-wide relative after:absolute after:bottom-0 after:left-0 after:h-[7px] after:w-full after:origin-bottom-right after:scale-x-0  \r
      after:bg-white after:transition-transform after:duration-300 after:ease-[cubic-bezier(0.65_0.05_0.36_1)] hover:after:origin-bottom-left hover:after:scale-x-100`,children:"PROJECTS"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{className:`font-normal text-xl tracking-wide relative after:absolute after:bottom-0 after:left-0 after:h-[7px] after:w-full after:origin-bottom-right after:scale-x-0 \r
      after:bg-white after:transition-transform after:duration-300 after:ease-[cubic-bezier(0.65_0.05_0.36_1)] hover:after:origin-bottom-left hover:after:scale-x-100`,children:"CONTACT"})})]})]})})}var o$2=(P,T)=>({dpr:P,camera:{fov:T},linear:!0,flat:!0,gl:{preserveDrawingBuffer:!0}}),s$6=1,n$3=14,i$5={zoom:1,distance:14},a$5={zoom:5,distance:14},h$4="https://ruucm.github.io/shadergradient/shadergradient@1.0.0/hdr/",p$1=Object.create,h$3=Object.defineProperty,q$2=Object.defineProperties,r$5=Object.getOwnPropertyDescriptor,s$5=Object.getOwnPropertyDescriptors,t$3=Object.getOwnPropertyNames,g$2=Object.getOwnPropertySymbols,u$1=Object.getPrototypeOf,k$1=Object.prototype.hasOwnProperty,m$3=Object.prototype.propertyIsEnumerable,l$3=(P,T,A)=>T in P?h$3(P,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):P[T]=A,w$2=(P,T)=>{for(var A in T||(T={}))k$1.call(T,A)&&l$3(P,A,T[A]);if(g$2)for(var A of g$2(T))m$3.call(T,A)&&l$3(P,A,T[A]);return P},x$1=(P,T)=>q$2(P,s$5(T)),y$2=(P,T)=>{var A={};for(var L in P)k$1.call(P,L)&&T.indexOf(L)<0&&(A[L]=P[L]);if(P!=null&&g$2)for(var L of g$2(P))T.indexOf(L)<0&&m$3.call(P,L)&&(A[L]=P[L]);return A},z$2=(P,T)=>()=>(T||P((T={exports:{}}).exports,T),T.exports),v$2=(P,T,A,L)=>{if(T&&typeof T=="object"||typeof T=="function")for(let U of t$3(T))!k$1.call(P,U)&&U!==A&&h$3(P,U,{get:()=>T[U],enumerable:!(L=r$5(T,U))||L.enumerable});return P},B$1=(P,T,A)=>(A=P!=null?p$1(u$1(P)):{},v$2(!P||!P.__esModule?h$3(A,"default",{value:P,enumerable:!0}):A,P));/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="172",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(T,A){this._listeners===void 0&&(this._listeners={});const L=this._listeners;L[T]===void 0&&(L[T]=[]),L[T].indexOf(A)===-1&&L[T].push(A)}hasEventListener(T,A){if(this._listeners===void 0)return!1;const L=this._listeners;return L[T]!==void 0&&L[T].indexOf(A)!==-1}removeEventListener(T,A){if(this._listeners===void 0)return;const U=this._listeners[T];if(U!==void 0){const W=U.indexOf(A);W!==-1&&U.splice(W,1)}}dispatchEvent(T){if(this._listeners===void 0)return;const L=this._listeners[T.type];if(L!==void 0){T.target=this;const U=L.slice(0);for(let W=0,te=U.length;W<te;W++)U[W].call(this,T);T.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const P=Math.random()*4294967295|0,T=Math.random()*4294967295|0,A=Math.random()*4294967295|0,L=Math.random()*4294967295|0;return(_lut[P&255]+_lut[P>>8&255]+_lut[P>>16&255]+_lut[P>>24&255]+"-"+_lut[T&255]+_lut[T>>8&255]+"-"+_lut[T>>16&15|64]+_lut[T>>24&255]+"-"+_lut[A&63|128]+_lut[A>>8&255]+"-"+_lut[A>>16&255]+_lut[A>>24&255]+_lut[L&255]+_lut[L>>8&255]+_lut[L>>16&255]+_lut[L>>24&255]).toLowerCase()}function clamp(P,T,A){return Math.max(T,Math.min(A,P))}function euclideanModulo(P,T){return(P%T+T)%T}function mapLinear(P,T,A,L,U){return L+(P-T)*(U-L)/(A-T)}function inverseLerp(P,T,A){return P!==T?(A-P)/(T-P):0}function lerp(P,T,A){return(1-A)*P+A*T}function damp(P,T,A,L){return lerp(P,T,1-Math.exp(-A*L))}function pingpong(P,T=1){return T-Math.abs(euclideanModulo(P,T*2)-T)}function smoothstep(P,T,A){return P<=T?0:P>=A?1:(P=(P-T)/(A-T),P*P*(3-2*P))}function smootherstep(P,T,A){return P<=T?0:P>=A?1:(P=(P-T)/(A-T),P*P*P*(P*(P*6-15)+10))}function randInt(P,T){return P+Math.floor(Math.random()*(T-P+1))}function randFloat(P,T){return P+Math.random()*(T-P)}function randFloatSpread(P){return P*(.5-Math.random())}function seededRandom(P){P!==void 0&&(_seed=P);let T=_seed+=1831565813;return T=Math.imul(T^T>>>15,T|1),T^=T+Math.imul(T^T>>>7,T|61),((T^T>>>14)>>>0)/4294967296}function degToRad(P){return P*DEG2RAD}function radToDeg(P){return P*RAD2DEG}function isPowerOfTwo(P){return(P&P-1)===0&&P!==0}function ceilPowerOfTwo(P){return Math.pow(2,Math.ceil(Math.log(P)/Math.LN2))}function floorPowerOfTwo(P){return Math.pow(2,Math.floor(Math.log(P)/Math.LN2))}function setQuaternionFromProperEuler(P,T,A,L,U){const W=Math.cos,te=Math.sin,ne=W(A/2),ie=te(A/2),oe=W((T+L)/2),ae=te((T+L)/2),ce=W((T-L)/2),he=te((T-L)/2),ue=W((L-T)/2),pe=te((L-T)/2);switch(U){case"XYX":P.set(ne*ae,ie*ce,ie*he,ne*oe);break;case"YZY":P.set(ie*he,ne*ae,ie*ce,ne*oe);break;case"ZXZ":P.set(ie*ce,ie*he,ne*ae,ne*oe);break;case"XZX":P.set(ne*ae,ie*pe,ie*ue,ne*oe);break;case"YXY":P.set(ie*ue,ne*ae,ie*pe,ne*oe);break;case"ZYZ":P.set(ie*pe,ie*ue,ne*ae,ne*oe);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+U)}}function denormalize(P,T){switch(T.constructor){case Float32Array:return P;case Uint32Array:return P/4294967295;case Uint16Array:return P/65535;case Uint8Array:return P/255;case Int32Array:return Math.max(P/2147483647,-1);case Int16Array:return Math.max(P/32767,-1);case Int8Array:return Math.max(P/127,-1);default:throw new Error("Invalid component type.")}}function normalize(P,T){switch(T.constructor){case Float32Array:return P;case Uint32Array:return Math.round(P*4294967295);case Uint16Array:return Math.round(P*65535);case Uint8Array:return Math.round(P*255);case Int32Array:return Math.round(P*2147483647);case Int16Array:return Math.round(P*32767);case Int8Array:return Math.round(P*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(T=0,A=0){Vector2.prototype.isVector2=!0,this.x=T,this.y=A}get width(){return this.x}set width(T){this.x=T}get height(){return this.y}set height(T){this.y=T}set(T,A){return this.x=T,this.y=A,this}setScalar(T){return this.x=T,this.y=T,this}setX(T){return this.x=T,this}setY(T){return this.y=T,this}setComponent(T,A){switch(T){case 0:this.x=A;break;case 1:this.y=A;break;default:throw new Error("index is out of range: "+T)}return this}getComponent(T){switch(T){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+T)}}clone(){return new this.constructor(this.x,this.y)}copy(T){return this.x=T.x,this.y=T.y,this}add(T){return this.x+=T.x,this.y+=T.y,this}addScalar(T){return this.x+=T,this.y+=T,this}addVectors(T,A){return this.x=T.x+A.x,this.y=T.y+A.y,this}addScaledVector(T,A){return this.x+=T.x*A,this.y+=T.y*A,this}sub(T){return this.x-=T.x,this.y-=T.y,this}subScalar(T){return this.x-=T,this.y-=T,this}subVectors(T,A){return this.x=T.x-A.x,this.y=T.y-A.y,this}multiply(T){return this.x*=T.x,this.y*=T.y,this}multiplyScalar(T){return this.x*=T,this.y*=T,this}divide(T){return this.x/=T.x,this.y/=T.y,this}divideScalar(T){return this.multiplyScalar(1/T)}applyMatrix3(T){const A=this.x,L=this.y,U=T.elements;return this.x=U[0]*A+U[3]*L+U[6],this.y=U[1]*A+U[4]*L+U[7],this}min(T){return this.x=Math.min(this.x,T.x),this.y=Math.min(this.y,T.y),this}max(T){return this.x=Math.max(this.x,T.x),this.y=Math.max(this.y,T.y),this}clamp(T,A){return this.x=clamp(this.x,T.x,A.x),this.y=clamp(this.y,T.y,A.y),this}clampScalar(T,A){return this.x=clamp(this.x,T,A),this.y=clamp(this.y,T,A),this}clampLength(T,A){const L=this.length();return this.divideScalar(L||1).multiplyScalar(clamp(L,T,A))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(T){return this.x*T.x+this.y*T.y}cross(T){return this.x*T.y-this.y*T.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(T){const A=Math.sqrt(this.lengthSq()*T.lengthSq());if(A===0)return Math.PI/2;const L=this.dot(T)/A;return Math.acos(clamp(L,-1,1))}distanceTo(T){return Math.sqrt(this.distanceToSquared(T))}distanceToSquared(T){const A=this.x-T.x,L=this.y-T.y;return A*A+L*L}manhattanDistanceTo(T){return Math.abs(this.x-T.x)+Math.abs(this.y-T.y)}setLength(T){return this.normalize().multiplyScalar(T)}lerp(T,A){return this.x+=(T.x-this.x)*A,this.y+=(T.y-this.y)*A,this}lerpVectors(T,A,L){return this.x=T.x+(A.x-T.x)*L,this.y=T.y+(A.y-T.y)*L,this}equals(T){return T.x===this.x&&T.y===this.y}fromArray(T,A=0){return this.x=T[A],this.y=T[A+1],this}toArray(T=[],A=0){return T[A]=this.x,T[A+1]=this.y,T}fromBufferAttribute(T,A){return this.x=T.getX(A),this.y=T.getY(A),this}rotateAround(T,A){const L=Math.cos(A),U=Math.sin(A),W=this.x-T.x,te=this.y-T.y;return this.x=W*L-te*U+T.x,this.y=W*U+te*L+T.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(T,A,L,U,W,te,ne,ie,oe){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],T!==void 0&&this.set(T,A,L,U,W,te,ne,ie,oe)}set(T,A,L,U,W,te,ne,ie,oe){const ae=this.elements;return ae[0]=T,ae[1]=U,ae[2]=ne,ae[3]=A,ae[4]=W,ae[5]=ie,ae[6]=L,ae[7]=te,ae[8]=oe,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(T){const A=this.elements,L=T.elements;return A[0]=L[0],A[1]=L[1],A[2]=L[2],A[3]=L[3],A[4]=L[4],A[5]=L[5],A[6]=L[6],A[7]=L[7],A[8]=L[8],this}extractBasis(T,A,L){return T.setFromMatrix3Column(this,0),A.setFromMatrix3Column(this,1),L.setFromMatrix3Column(this,2),this}setFromMatrix4(T){const A=T.elements;return this.set(A[0],A[4],A[8],A[1],A[5],A[9],A[2],A[6],A[10]),this}multiply(T){return this.multiplyMatrices(this,T)}premultiply(T){return this.multiplyMatrices(T,this)}multiplyMatrices(T,A){const L=T.elements,U=A.elements,W=this.elements,te=L[0],ne=L[3],ie=L[6],oe=L[1],ae=L[4],ce=L[7],he=L[2],ue=L[5],pe=L[8],ge=U[0],de=U[3],me=U[6],ye=U[1],xe=U[4],Se=U[7],Te=U[2],be=U[5],Pe=U[8];return W[0]=te*ge+ne*ye+ie*Te,W[3]=te*de+ne*xe+ie*be,W[6]=te*me+ne*Se+ie*Pe,W[1]=oe*ge+ae*ye+ce*Te,W[4]=oe*de+ae*xe+ce*be,W[7]=oe*me+ae*Se+ce*Pe,W[2]=he*ge+ue*ye+pe*Te,W[5]=he*de+ue*xe+pe*be,W[8]=he*me+ue*Se+pe*Pe,this}multiplyScalar(T){const A=this.elements;return A[0]*=T,A[3]*=T,A[6]*=T,A[1]*=T,A[4]*=T,A[7]*=T,A[2]*=T,A[5]*=T,A[8]*=T,this}determinant(){const T=this.elements,A=T[0],L=T[1],U=T[2],W=T[3],te=T[4],ne=T[5],ie=T[6],oe=T[7],ae=T[8];return A*te*ae-A*ne*oe-L*W*ae+L*ne*ie+U*W*oe-U*te*ie}invert(){const T=this.elements,A=T[0],L=T[1],U=T[2],W=T[3],te=T[4],ne=T[5],ie=T[6],oe=T[7],ae=T[8],ce=ae*te-ne*oe,he=ne*ie-ae*W,ue=oe*W-te*ie,pe=A*ce+L*he+U*ue;if(pe===0)return this.set(0,0,0,0,0,0,0,0,0);const ge=1/pe;return T[0]=ce*ge,T[1]=(U*oe-ae*L)*ge,T[2]=(ne*L-U*te)*ge,T[3]=he*ge,T[4]=(ae*A-U*ie)*ge,T[5]=(U*W-ne*A)*ge,T[6]=ue*ge,T[7]=(L*ie-oe*A)*ge,T[8]=(te*A-L*W)*ge,this}transpose(){let T;const A=this.elements;return T=A[1],A[1]=A[3],A[3]=T,T=A[2],A[2]=A[6],A[6]=T,T=A[5],A[5]=A[7],A[7]=T,this}getNormalMatrix(T){return this.setFromMatrix4(T).invert().transpose()}transposeIntoArray(T){const A=this.elements;return T[0]=A[0],T[1]=A[3],T[2]=A[6],T[3]=A[1],T[4]=A[4],T[5]=A[7],T[6]=A[2],T[7]=A[5],T[8]=A[8],this}setUvTransform(T,A,L,U,W,te,ne){const ie=Math.cos(W),oe=Math.sin(W);return this.set(L*ie,L*oe,-L*(ie*te+oe*ne)+te+T,-U*oe,U*ie,-U*(-oe*te+ie*ne)+ne+A,0,0,1),this}scale(T,A){return this.premultiply(_m3.makeScale(T,A)),this}rotate(T){return this.premultiply(_m3.makeRotation(-T)),this}translate(T,A){return this.premultiply(_m3.makeTranslation(T,A)),this}makeTranslation(T,A){return T.isVector2?this.set(1,0,T.x,0,1,T.y,0,0,1):this.set(1,0,T,0,1,A,0,0,1),this}makeRotation(T){const A=Math.cos(T),L=Math.sin(T);return this.set(A,-L,0,L,A,0,0,0,1),this}makeScale(T,A){return this.set(T,0,0,0,A,0,0,0,1),this}equals(T){const A=this.elements,L=T.elements;for(let U=0;U<9;U++)if(A[U]!==L[U])return!1;return!0}fromArray(T,A=0){for(let L=0;L<9;L++)this.elements[L]=T[L+A];return this}toArray(T=[],A=0){const L=this.elements;return T[A]=L[0],T[A+1]=L[1],T[A+2]=L[2],T[A+3]=L[3],T[A+4]=L[4],T[A+5]=L[5],T[A+6]=L[6],T[A+7]=L[7],T[A+8]=L[8],T}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(P){for(let T=P.length-1;T>=0;--T)if(P[T]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(P,T){return new TYPED_ARRAYS[P](T)}function createElementNS(P){return document.createElementNS("http://www.w3.org/1999/xhtml",P)}function createCanvasElement(){const P=createElementNS("canvas");return P.style.display="block",P}const _cache={};function warnOnce(P){P in _cache||(_cache[P]=!0,console.warn(P))}function probeAsync(P,T,A){return new Promise(function(L,U){function W(){switch(P.clientWaitSync(T,P.SYNC_FLUSH_COMMANDS_BIT,0)){case P.WAIT_FAILED:U();break;case P.TIMEOUT_EXPIRED:setTimeout(W,A);break;default:L()}}setTimeout(W,A)})}function toNormalizedProjectionMatrix(P){const T=P.elements;T[2]=.5*T[2]+.5*T[3],T[6]=.5*T[6]+.5*T[7],T[10]=.5*T[10]+.5*T[11],T[14]=.5*T[14]+.5*T[15]}function toReversedProjectionMatrix(P){const T=P.elements;T[11]===-1?(T[10]=-T[10]-1,T[14]=-T[14]):(T[10]=-T[10],T[14]=-T[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const P={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(U,W,te){return this.enabled===!1||W===te||!W||!te||(this.spaces[W].transfer===SRGBTransfer&&(U.r=SRGBToLinear(U.r),U.g=SRGBToLinear(U.g),U.b=SRGBToLinear(U.b)),this.spaces[W].primaries!==this.spaces[te].primaries&&(U.applyMatrix3(this.spaces[W].toXYZ),U.applyMatrix3(this.spaces[te].fromXYZ)),this.spaces[te].transfer===SRGBTransfer&&(U.r=LinearToSRGB(U.r),U.g=LinearToSRGB(U.g),U.b=LinearToSRGB(U.b))),U},fromWorkingColorSpace:function(U,W){return this.convert(U,this.workingColorSpace,W)},toWorkingColorSpace:function(U,W){return this.convert(U,W,this.workingColorSpace)},getPrimaries:function(U){return this.spaces[U].primaries},getTransfer:function(U){return U===NoColorSpace?LinearTransfer:this.spaces[U].transfer},getLuminanceCoefficients:function(U,W=this.workingColorSpace){return U.fromArray(this.spaces[W].luminanceCoefficients)},define:function(U){Object.assign(this.spaces,U)},_getMatrix:function(U,W,te){return U.copy(this.spaces[W].toXYZ).multiply(this.spaces[te].fromXYZ)},_getDrawingBufferColorSpace:function(U){return this.spaces[U].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(U=this.workingColorSpace){return this.spaces[U].workingColorSpaceConfig.unpackColorSpace}},T=[.64,.33,.3,.6,.15,.06],A=[.2126,.7152,.0722],L=[.3127,.329];return P.define({[LinearSRGBColorSpace]:{primaries:T,whitePoint:L,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:A,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:T,whitePoint:L,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:A,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),P}const ColorManagement=createColorManagement();function SRGBToLinear(P){return P<.04045?P*.0773993808:Math.pow(P*.9478672986+.0521327014,2.4)}function LinearToSRGB(P){return P<.0031308?P*12.92:1.055*Math.pow(P,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(T){if(/^data:/i.test(T.src)||typeof HTMLCanvasElement>"u")return T.src;let A;if(T instanceof HTMLCanvasElement)A=T;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=T.width,_canvas.height=T.height;const L=_canvas.getContext("2d");T instanceof ImageData?L.putImageData(T,0,0):L.drawImage(T,0,0,T.width,T.height),A=_canvas}return A.width>2048||A.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",T),A.toDataURL("image/jpeg",.6)):A.toDataURL("image/png")}static sRGBToLinear(T){if(typeof HTMLImageElement<"u"&&T instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&T instanceof ImageBitmap){const A=createElementNS("canvas");A.width=T.width,A.height=T.height;const L=A.getContext("2d");L.drawImage(T,0,0,T.width,T.height);const U=L.getImageData(0,0,T.width,T.height),W=U.data;for(let te=0;te<W.length;te++)W[te]=SRGBToLinear(W[te]/255)*255;return L.putImageData(U,0,0),A}else if(T.data){const A=T.data.slice(0);for(let L=0;L<A.length;L++)A instanceof Uint8Array||A instanceof Uint8ClampedArray?A[L]=Math.floor(SRGBToLinear(A[L]/255)*255):A[L]=SRGBToLinear(A[L]);return{data:A,width:T.width,height:T.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),T}}let _sourceId=0;class Source{constructor(T=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=T,this.dataReady=!0,this.version=0}set needsUpdate(T){T===!0&&this.version++}toJSON(T){const A=T===void 0||typeof T=="string";if(!A&&T.images[this.uuid]!==void 0)return T.images[this.uuid];const L={uuid:this.uuid,url:""},U=this.data;if(U!==null){let W;if(Array.isArray(U)){W=[];for(let te=0,ne=U.length;te<ne;te++)U[te].isDataTexture?W.push(serializeImage(U[te].image)):W.push(serializeImage(U[te]))}else W=serializeImage(U);L.url=W}return A||(T.images[this.uuid]=L),L}}function serializeImage(P){return typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&P instanceof ImageBitmap?ImageUtils.getDataURL(P):P.data?{data:Array.from(P.data),width:P.width,height:P.height,type:P.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(T=Texture.DEFAULT_IMAGE,A=Texture.DEFAULT_MAPPING,L=ClampToEdgeWrapping,U=ClampToEdgeWrapping,W=LinearFilter,te=LinearMipmapLinearFilter,ne=RGBAFormat,ie=UnsignedByteType,oe=Texture.DEFAULT_ANISOTROPY,ae=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(T),this.mipmaps=[],this.mapping=A,this.channel=0,this.wrapS=L,this.wrapT=U,this.magFilter=W,this.minFilter=te,this.anisotropy=oe,this.format=ne,this.internalFormat=null,this.type=ie,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=ae,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(T=null){this.source.data=T}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(T){return this.name=T.name,this.source=T.source,this.mipmaps=T.mipmaps.slice(0),this.mapping=T.mapping,this.channel=T.channel,this.wrapS=T.wrapS,this.wrapT=T.wrapT,this.magFilter=T.magFilter,this.minFilter=T.minFilter,this.anisotropy=T.anisotropy,this.format=T.format,this.internalFormat=T.internalFormat,this.type=T.type,this.offset.copy(T.offset),this.repeat.copy(T.repeat),this.center.copy(T.center),this.rotation=T.rotation,this.matrixAutoUpdate=T.matrixAutoUpdate,this.matrix.copy(T.matrix),this.generateMipmaps=T.generateMipmaps,this.premultiplyAlpha=T.premultiplyAlpha,this.flipY=T.flipY,this.unpackAlignment=T.unpackAlignment,this.colorSpace=T.colorSpace,this.renderTarget=T.renderTarget,this.isRenderTargetTexture=T.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(T.userData)),this.needsUpdate=!0,this}toJSON(T){const A=T===void 0||typeof T=="string";if(!A&&T.textures[this.uuid]!==void 0)return T.textures[this.uuid];const L={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(T).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(L.userData=this.userData),A||(T.textures[this.uuid]=L),L}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(T){if(this.mapping!==UVMapping)return T;if(T.applyMatrix3(this.matrix),T.x<0||T.x>1)switch(this.wrapS){case RepeatWrapping:T.x=T.x-Math.floor(T.x);break;case ClampToEdgeWrapping:T.x=T.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(T.x)%2)===1?T.x=Math.ceil(T.x)-T.x:T.x=T.x-Math.floor(T.x);break}if(T.y<0||T.y>1)switch(this.wrapT){case RepeatWrapping:T.y=T.y-Math.floor(T.y);break;case ClampToEdgeWrapping:T.y=T.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(T.y)%2)===1?T.y=Math.ceil(T.y)-T.y:T.y=T.y-Math.floor(T.y);break}return this.flipY&&(T.y=1-T.y),T}set needsUpdate(T){T===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(T){T===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(T=0,A=0,L=0,U=1){Vector4.prototype.isVector4=!0,this.x=T,this.y=A,this.z=L,this.w=U}get width(){return this.z}set width(T){this.z=T}get height(){return this.w}set height(T){this.w=T}set(T,A,L,U){return this.x=T,this.y=A,this.z=L,this.w=U,this}setScalar(T){return this.x=T,this.y=T,this.z=T,this.w=T,this}setX(T){return this.x=T,this}setY(T){return this.y=T,this}setZ(T){return this.z=T,this}setW(T){return this.w=T,this}setComponent(T,A){switch(T){case 0:this.x=A;break;case 1:this.y=A;break;case 2:this.z=A;break;case 3:this.w=A;break;default:throw new Error("index is out of range: "+T)}return this}getComponent(T){switch(T){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+T)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(T){return this.x=T.x,this.y=T.y,this.z=T.z,this.w=T.w!==void 0?T.w:1,this}add(T){return this.x+=T.x,this.y+=T.y,this.z+=T.z,this.w+=T.w,this}addScalar(T){return this.x+=T,this.y+=T,this.z+=T,this.w+=T,this}addVectors(T,A){return this.x=T.x+A.x,this.y=T.y+A.y,this.z=T.z+A.z,this.w=T.w+A.w,this}addScaledVector(T,A){return this.x+=T.x*A,this.y+=T.y*A,this.z+=T.z*A,this.w+=T.w*A,this}sub(T){return this.x-=T.x,this.y-=T.y,this.z-=T.z,this.w-=T.w,this}subScalar(T){return this.x-=T,this.y-=T,this.z-=T,this.w-=T,this}subVectors(T,A){return this.x=T.x-A.x,this.y=T.y-A.y,this.z=T.z-A.z,this.w=T.w-A.w,this}multiply(T){return this.x*=T.x,this.y*=T.y,this.z*=T.z,this.w*=T.w,this}multiplyScalar(T){return this.x*=T,this.y*=T,this.z*=T,this.w*=T,this}applyMatrix4(T){const A=this.x,L=this.y,U=this.z,W=this.w,te=T.elements;return this.x=te[0]*A+te[4]*L+te[8]*U+te[12]*W,this.y=te[1]*A+te[5]*L+te[9]*U+te[13]*W,this.z=te[2]*A+te[6]*L+te[10]*U+te[14]*W,this.w=te[3]*A+te[7]*L+te[11]*U+te[15]*W,this}divide(T){return this.x/=T.x,this.y/=T.y,this.z/=T.z,this.w/=T.w,this}divideScalar(T){return this.multiplyScalar(1/T)}setAxisAngleFromQuaternion(T){this.w=2*Math.acos(T.w);const A=Math.sqrt(1-T.w*T.w);return A<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=T.x/A,this.y=T.y/A,this.z=T.z/A),this}setAxisAngleFromRotationMatrix(T){let A,L,U,W;const ie=T.elements,oe=ie[0],ae=ie[4],ce=ie[8],he=ie[1],ue=ie[5],pe=ie[9],ge=ie[2],de=ie[6],me=ie[10];if(Math.abs(ae-he)<.01&&Math.abs(ce-ge)<.01&&Math.abs(pe-de)<.01){if(Math.abs(ae+he)<.1&&Math.abs(ce+ge)<.1&&Math.abs(pe+de)<.1&&Math.abs(oe+ue+me-3)<.1)return this.set(1,0,0,0),this;A=Math.PI;const xe=(oe+1)/2,Se=(ue+1)/2,Te=(me+1)/2,be=(ae+he)/4,Pe=(ce+ge)/4,Ie=(pe+de)/4;return xe>Se&&xe>Te?xe<.01?(L=0,U=.707106781,W=.707106781):(L=Math.sqrt(xe),U=be/L,W=Pe/L):Se>Te?Se<.01?(L=.707106781,U=0,W=.707106781):(U=Math.sqrt(Se),L=be/U,W=Ie/U):Te<.01?(L=.707106781,U=.707106781,W=0):(W=Math.sqrt(Te),L=Pe/W,U=Ie/W),this.set(L,U,W,A),this}let ye=Math.sqrt((de-pe)*(de-pe)+(ce-ge)*(ce-ge)+(he-ae)*(he-ae));return Math.abs(ye)<.001&&(ye=1),this.x=(de-pe)/ye,this.y=(ce-ge)/ye,this.z=(he-ae)/ye,this.w=Math.acos((oe+ue+me-1)/2),this}setFromMatrixPosition(T){const A=T.elements;return this.x=A[12],this.y=A[13],this.z=A[14],this.w=A[15],this}min(T){return this.x=Math.min(this.x,T.x),this.y=Math.min(this.y,T.y),this.z=Math.min(this.z,T.z),this.w=Math.min(this.w,T.w),this}max(T){return this.x=Math.max(this.x,T.x),this.y=Math.max(this.y,T.y),this.z=Math.max(this.z,T.z),this.w=Math.max(this.w,T.w),this}clamp(T,A){return this.x=clamp(this.x,T.x,A.x),this.y=clamp(this.y,T.y,A.y),this.z=clamp(this.z,T.z,A.z),this.w=clamp(this.w,T.w,A.w),this}clampScalar(T,A){return this.x=clamp(this.x,T,A),this.y=clamp(this.y,T,A),this.z=clamp(this.z,T,A),this.w=clamp(this.w,T,A),this}clampLength(T,A){const L=this.length();return this.divideScalar(L||1).multiplyScalar(clamp(L,T,A))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(T){return this.x*T.x+this.y*T.y+this.z*T.z+this.w*T.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(T){return this.normalize().multiplyScalar(T)}lerp(T,A){return this.x+=(T.x-this.x)*A,this.y+=(T.y-this.y)*A,this.z+=(T.z-this.z)*A,this.w+=(T.w-this.w)*A,this}lerpVectors(T,A,L){return this.x=T.x+(A.x-T.x)*L,this.y=T.y+(A.y-T.y)*L,this.z=T.z+(A.z-T.z)*L,this.w=T.w+(A.w-T.w)*L,this}equals(T){return T.x===this.x&&T.y===this.y&&T.z===this.z&&T.w===this.w}fromArray(T,A=0){return this.x=T[A],this.y=T[A+1],this.z=T[A+2],this.w=T[A+3],this}toArray(T=[],A=0){return T[A]=this.x,T[A+1]=this.y,T[A+2]=this.z,T[A+3]=this.w,T}fromBufferAttribute(T,A){return this.x=T.getX(A),this.y=T.getY(A),this.z=T.getZ(A),this.w=T.getW(A),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(T=1,A=1,L={}){super(),this.isRenderTarget=!0,this.width=T,this.height=A,this.depth=1,this.scissor=new Vector4(0,0,T,A),this.scissorTest=!1,this.viewport=new Vector4(0,0,T,A);const U={width:T,height:A,depth:1};L=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},L);const W=new Texture(U,L.mapping,L.wrapS,L.wrapT,L.magFilter,L.minFilter,L.format,L.type,L.anisotropy,L.colorSpace);W.flipY=!1,W.generateMipmaps=L.generateMipmaps,W.internalFormat=L.internalFormat,this.textures=[];const te=L.count;for(let ne=0;ne<te;ne++)this.textures[ne]=W.clone(),this.textures[ne].isRenderTargetTexture=!0,this.textures[ne].renderTarget=this;this.depthBuffer=L.depthBuffer,this.stencilBuffer=L.stencilBuffer,this.resolveDepthBuffer=L.resolveDepthBuffer,this.resolveStencilBuffer=L.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=L.depthTexture,this.samples=L.samples}get texture(){return this.textures[0]}set texture(T){this.textures[0]=T}set depthTexture(T){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),T!==null&&(T.renderTarget=this),this._depthTexture=T}get depthTexture(){return this._depthTexture}setSize(T,A,L=1){if(this.width!==T||this.height!==A||this.depth!==L){this.width=T,this.height=A,this.depth=L;for(let U=0,W=this.textures.length;U<W;U++)this.textures[U].image.width=T,this.textures[U].image.height=A,this.textures[U].image.depth=L;this.dispose()}this.viewport.set(0,0,T,A),this.scissor.set(0,0,T,A)}clone(){return new this.constructor().copy(this)}copy(T){this.width=T.width,this.height=T.height,this.depth=T.depth,this.scissor.copy(T.scissor),this.scissorTest=T.scissorTest,this.viewport.copy(T.viewport),this.textures.length=0;for(let L=0,U=T.textures.length;L<U;L++)this.textures[L]=T.textures[L].clone(),this.textures[L].isRenderTargetTexture=!0,this.textures[L].renderTarget=this;const A=Object.assign({},T.texture.image);return this.texture.source=new Source(A),this.depthBuffer=T.depthBuffer,this.stencilBuffer=T.stencilBuffer,this.resolveDepthBuffer=T.resolveDepthBuffer,this.resolveStencilBuffer=T.resolveStencilBuffer,T.depthTexture!==null&&(this.depthTexture=T.depthTexture.clone()),this.samples=T.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(T=1,A=1,L={}){super(T,A,L),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(T=null,A=1,L=1,U=1){super(null),this.isDataArrayTexture=!0,this.image={data:T,width:A,height:L,depth:U},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(T){this.layerUpdates.add(T)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(T=1,A=1,L=1,U={}){super(T,A,U),this.isWebGLArrayRenderTarget=!0,this.depth=L,this.texture=new DataArrayTexture(null,T,A,L),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(T=null,A=1,L=1,U=1){super(null),this.isData3DTexture=!0,this.image={data:T,width:A,height:L,depth:U},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(T=1,A=1,L=1,U={}){super(T,A,U),this.isWebGL3DRenderTarget=!0,this.depth=L,this.texture=new Data3DTexture(null,T,A,L),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(T=0,A=0,L=0,U=1){this.isQuaternion=!0,this._x=T,this._y=A,this._z=L,this._w=U}static slerpFlat(T,A,L,U,W,te,ne){let ie=L[U+0],oe=L[U+1],ae=L[U+2],ce=L[U+3];const he=W[te+0],ue=W[te+1],pe=W[te+2],ge=W[te+3];if(ne===0){T[A+0]=ie,T[A+1]=oe,T[A+2]=ae,T[A+3]=ce;return}if(ne===1){T[A+0]=he,T[A+1]=ue,T[A+2]=pe,T[A+3]=ge;return}if(ce!==ge||ie!==he||oe!==ue||ae!==pe){let de=1-ne;const me=ie*he+oe*ue+ae*pe+ce*ge,ye=me>=0?1:-1,xe=1-me*me;if(xe>Number.EPSILON){const Te=Math.sqrt(xe),be=Math.atan2(Te,me*ye);de=Math.sin(de*be)/Te,ne=Math.sin(ne*be)/Te}const Se=ne*ye;if(ie=ie*de+he*Se,oe=oe*de+ue*Se,ae=ae*de+pe*Se,ce=ce*de+ge*Se,de===1-ne){const Te=1/Math.sqrt(ie*ie+oe*oe+ae*ae+ce*ce);ie*=Te,oe*=Te,ae*=Te,ce*=Te}}T[A]=ie,T[A+1]=oe,T[A+2]=ae,T[A+3]=ce}static multiplyQuaternionsFlat(T,A,L,U,W,te){const ne=L[U],ie=L[U+1],oe=L[U+2],ae=L[U+3],ce=W[te],he=W[te+1],ue=W[te+2],pe=W[te+3];return T[A]=ne*pe+ae*ce+ie*ue-oe*he,T[A+1]=ie*pe+ae*he+oe*ce-ne*ue,T[A+2]=oe*pe+ae*ue+ne*he-ie*ce,T[A+3]=ae*pe-ne*ce-ie*he-oe*ue,T}get x(){return this._x}set x(T){this._x=T,this._onChangeCallback()}get y(){return this._y}set y(T){this._y=T,this._onChangeCallback()}get z(){return this._z}set z(T){this._z=T,this._onChangeCallback()}get w(){return this._w}set w(T){this._w=T,this._onChangeCallback()}set(T,A,L,U){return this._x=T,this._y=A,this._z=L,this._w=U,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(T){return this._x=T.x,this._y=T.y,this._z=T.z,this._w=T.w,this._onChangeCallback(),this}setFromEuler(T,A=!0){const L=T._x,U=T._y,W=T._z,te=T._order,ne=Math.cos,ie=Math.sin,oe=ne(L/2),ae=ne(U/2),ce=ne(W/2),he=ie(L/2),ue=ie(U/2),pe=ie(W/2);switch(te){case"XYZ":this._x=he*ae*ce+oe*ue*pe,this._y=oe*ue*ce-he*ae*pe,this._z=oe*ae*pe+he*ue*ce,this._w=oe*ae*ce-he*ue*pe;break;case"YXZ":this._x=he*ae*ce+oe*ue*pe,this._y=oe*ue*ce-he*ae*pe,this._z=oe*ae*pe-he*ue*ce,this._w=oe*ae*ce+he*ue*pe;break;case"ZXY":this._x=he*ae*ce-oe*ue*pe,this._y=oe*ue*ce+he*ae*pe,this._z=oe*ae*pe+he*ue*ce,this._w=oe*ae*ce-he*ue*pe;break;case"ZYX":this._x=he*ae*ce-oe*ue*pe,this._y=oe*ue*ce+he*ae*pe,this._z=oe*ae*pe-he*ue*ce,this._w=oe*ae*ce+he*ue*pe;break;case"YZX":this._x=he*ae*ce+oe*ue*pe,this._y=oe*ue*ce+he*ae*pe,this._z=oe*ae*pe-he*ue*ce,this._w=oe*ae*ce-he*ue*pe;break;case"XZY":this._x=he*ae*ce-oe*ue*pe,this._y=oe*ue*ce-he*ae*pe,this._z=oe*ae*pe+he*ue*ce,this._w=oe*ae*ce+he*ue*pe;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+te)}return A===!0&&this._onChangeCallback(),this}setFromAxisAngle(T,A){const L=A/2,U=Math.sin(L);return this._x=T.x*U,this._y=T.y*U,this._z=T.z*U,this._w=Math.cos(L),this._onChangeCallback(),this}setFromRotationMatrix(T){const A=T.elements,L=A[0],U=A[4],W=A[8],te=A[1],ne=A[5],ie=A[9],oe=A[2],ae=A[6],ce=A[10],he=L+ne+ce;if(he>0){const ue=.5/Math.sqrt(he+1);this._w=.25/ue,this._x=(ae-ie)*ue,this._y=(W-oe)*ue,this._z=(te-U)*ue}else if(L>ne&&L>ce){const ue=2*Math.sqrt(1+L-ne-ce);this._w=(ae-ie)/ue,this._x=.25*ue,this._y=(U+te)/ue,this._z=(W+oe)/ue}else if(ne>ce){const ue=2*Math.sqrt(1+ne-L-ce);this._w=(W-oe)/ue,this._x=(U+te)/ue,this._y=.25*ue,this._z=(ie+ae)/ue}else{const ue=2*Math.sqrt(1+ce-L-ne);this._w=(te-U)/ue,this._x=(W+oe)/ue,this._y=(ie+ae)/ue,this._z=.25*ue}return this._onChangeCallback(),this}setFromUnitVectors(T,A){let L=T.dot(A)+1;return L<Number.EPSILON?(L=0,Math.abs(T.x)>Math.abs(T.z)?(this._x=-T.y,this._y=T.x,this._z=0,this._w=L):(this._x=0,this._y=-T.z,this._z=T.y,this._w=L)):(this._x=T.y*A.z-T.z*A.y,this._y=T.z*A.x-T.x*A.z,this._z=T.x*A.y-T.y*A.x,this._w=L),this.normalize()}angleTo(T){return 2*Math.acos(Math.abs(clamp(this.dot(T),-1,1)))}rotateTowards(T,A){const L=this.angleTo(T);if(L===0)return this;const U=Math.min(1,A/L);return this.slerp(T,U),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(T){return this._x*T._x+this._y*T._y+this._z*T._z+this._w*T._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let T=this.length();return T===0?(this._x=0,this._y=0,this._z=0,this._w=1):(T=1/T,this._x=this._x*T,this._y=this._y*T,this._z=this._z*T,this._w=this._w*T),this._onChangeCallback(),this}multiply(T){return this.multiplyQuaternions(this,T)}premultiply(T){return this.multiplyQuaternions(T,this)}multiplyQuaternions(T,A){const L=T._x,U=T._y,W=T._z,te=T._w,ne=A._x,ie=A._y,oe=A._z,ae=A._w;return this._x=L*ae+te*ne+U*oe-W*ie,this._y=U*ae+te*ie+W*ne-L*oe,this._z=W*ae+te*oe+L*ie-U*ne,this._w=te*ae-L*ne-U*ie-W*oe,this._onChangeCallback(),this}slerp(T,A){if(A===0)return this;if(A===1)return this.copy(T);const L=this._x,U=this._y,W=this._z,te=this._w;let ne=te*T._w+L*T._x+U*T._y+W*T._z;if(ne<0?(this._w=-T._w,this._x=-T._x,this._y=-T._y,this._z=-T._z,ne=-ne):this.copy(T),ne>=1)return this._w=te,this._x=L,this._y=U,this._z=W,this;const ie=1-ne*ne;if(ie<=Number.EPSILON){const ue=1-A;return this._w=ue*te+A*this._w,this._x=ue*L+A*this._x,this._y=ue*U+A*this._y,this._z=ue*W+A*this._z,this.normalize(),this}const oe=Math.sqrt(ie),ae=Math.atan2(oe,ne),ce=Math.sin((1-A)*ae)/oe,he=Math.sin(A*ae)/oe;return this._w=te*ce+this._w*he,this._x=L*ce+this._x*he,this._y=U*ce+this._y*he,this._z=W*ce+this._z*he,this._onChangeCallback(),this}slerpQuaternions(T,A,L){return this.copy(T).slerp(A,L)}random(){const T=2*Math.PI*Math.random(),A=2*Math.PI*Math.random(),L=Math.random(),U=Math.sqrt(1-L),W=Math.sqrt(L);return this.set(U*Math.sin(T),U*Math.cos(T),W*Math.sin(A),W*Math.cos(A))}equals(T){return T._x===this._x&&T._y===this._y&&T._z===this._z&&T._w===this._w}fromArray(T,A=0){return this._x=T[A],this._y=T[A+1],this._z=T[A+2],this._w=T[A+3],this._onChangeCallback(),this}toArray(T=[],A=0){return T[A]=this._x,T[A+1]=this._y,T[A+2]=this._z,T[A+3]=this._w,T}fromBufferAttribute(T,A){return this._x=T.getX(A),this._y=T.getY(A),this._z=T.getZ(A),this._w=T.getW(A),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(T){return this._onChangeCallback=T,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(T=0,A=0,L=0){Vector3.prototype.isVector3=!0,this.x=T,this.y=A,this.z=L}set(T,A,L){return L===void 0&&(L=this.z),this.x=T,this.y=A,this.z=L,this}setScalar(T){return this.x=T,this.y=T,this.z=T,this}setX(T){return this.x=T,this}setY(T){return this.y=T,this}setZ(T){return this.z=T,this}setComponent(T,A){switch(T){case 0:this.x=A;break;case 1:this.y=A;break;case 2:this.z=A;break;default:throw new Error("index is out of range: "+T)}return this}getComponent(T){switch(T){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+T)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(T){return this.x=T.x,this.y=T.y,this.z=T.z,this}add(T){return this.x+=T.x,this.y+=T.y,this.z+=T.z,this}addScalar(T){return this.x+=T,this.y+=T,this.z+=T,this}addVectors(T,A){return this.x=T.x+A.x,this.y=T.y+A.y,this.z=T.z+A.z,this}addScaledVector(T,A){return this.x+=T.x*A,this.y+=T.y*A,this.z+=T.z*A,this}sub(T){return this.x-=T.x,this.y-=T.y,this.z-=T.z,this}subScalar(T){return this.x-=T,this.y-=T,this.z-=T,this}subVectors(T,A){return this.x=T.x-A.x,this.y=T.y-A.y,this.z=T.z-A.z,this}multiply(T){return this.x*=T.x,this.y*=T.y,this.z*=T.z,this}multiplyScalar(T){return this.x*=T,this.y*=T,this.z*=T,this}multiplyVectors(T,A){return this.x=T.x*A.x,this.y=T.y*A.y,this.z=T.z*A.z,this}applyEuler(T){return this.applyQuaternion(_quaternion$4.setFromEuler(T))}applyAxisAngle(T,A){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(T,A))}applyMatrix3(T){const A=this.x,L=this.y,U=this.z,W=T.elements;return this.x=W[0]*A+W[3]*L+W[6]*U,this.y=W[1]*A+W[4]*L+W[7]*U,this.z=W[2]*A+W[5]*L+W[8]*U,this}applyNormalMatrix(T){return this.applyMatrix3(T).normalize()}applyMatrix4(T){const A=this.x,L=this.y,U=this.z,W=T.elements,te=1/(W[3]*A+W[7]*L+W[11]*U+W[15]);return this.x=(W[0]*A+W[4]*L+W[8]*U+W[12])*te,this.y=(W[1]*A+W[5]*L+W[9]*U+W[13])*te,this.z=(W[2]*A+W[6]*L+W[10]*U+W[14])*te,this}applyQuaternion(T){const A=this.x,L=this.y,U=this.z,W=T.x,te=T.y,ne=T.z,ie=T.w,oe=2*(te*U-ne*L),ae=2*(ne*A-W*U),ce=2*(W*L-te*A);return this.x=A+ie*oe+te*ce-ne*ae,this.y=L+ie*ae+ne*oe-W*ce,this.z=U+ie*ce+W*ae-te*oe,this}project(T){return this.applyMatrix4(T.matrixWorldInverse).applyMatrix4(T.projectionMatrix)}unproject(T){return this.applyMatrix4(T.projectionMatrixInverse).applyMatrix4(T.matrixWorld)}transformDirection(T){const A=this.x,L=this.y,U=this.z,W=T.elements;return this.x=W[0]*A+W[4]*L+W[8]*U,this.y=W[1]*A+W[5]*L+W[9]*U,this.z=W[2]*A+W[6]*L+W[10]*U,this.normalize()}divide(T){return this.x/=T.x,this.y/=T.y,this.z/=T.z,this}divideScalar(T){return this.multiplyScalar(1/T)}min(T){return this.x=Math.min(this.x,T.x),this.y=Math.min(this.y,T.y),this.z=Math.min(this.z,T.z),this}max(T){return this.x=Math.max(this.x,T.x),this.y=Math.max(this.y,T.y),this.z=Math.max(this.z,T.z),this}clamp(T,A){return this.x=clamp(this.x,T.x,A.x),this.y=clamp(this.y,T.y,A.y),this.z=clamp(this.z,T.z,A.z),this}clampScalar(T,A){return this.x=clamp(this.x,T,A),this.y=clamp(this.y,T,A),this.z=clamp(this.z,T,A),this}clampLength(T,A){const L=this.length();return this.divideScalar(L||1).multiplyScalar(clamp(L,T,A))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(T){return this.x*T.x+this.y*T.y+this.z*T.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(T){return this.normalize().multiplyScalar(T)}lerp(T,A){return this.x+=(T.x-this.x)*A,this.y+=(T.y-this.y)*A,this.z+=(T.z-this.z)*A,this}lerpVectors(T,A,L){return this.x=T.x+(A.x-T.x)*L,this.y=T.y+(A.y-T.y)*L,this.z=T.z+(A.z-T.z)*L,this}cross(T){return this.crossVectors(this,T)}crossVectors(T,A){const L=T.x,U=T.y,W=T.z,te=A.x,ne=A.y,ie=A.z;return this.x=U*ie-W*ne,this.y=W*te-L*ie,this.z=L*ne-U*te,this}projectOnVector(T){const A=T.lengthSq();if(A===0)return this.set(0,0,0);const L=T.dot(this)/A;return this.copy(T).multiplyScalar(L)}projectOnPlane(T){return _vector$c.copy(this).projectOnVector(T),this.sub(_vector$c)}reflect(T){return this.sub(_vector$c.copy(T).multiplyScalar(2*this.dot(T)))}angleTo(T){const A=Math.sqrt(this.lengthSq()*T.lengthSq());if(A===0)return Math.PI/2;const L=this.dot(T)/A;return Math.acos(clamp(L,-1,1))}distanceTo(T){return Math.sqrt(this.distanceToSquared(T))}distanceToSquared(T){const A=this.x-T.x,L=this.y-T.y,U=this.z-T.z;return A*A+L*L+U*U}manhattanDistanceTo(T){return Math.abs(this.x-T.x)+Math.abs(this.y-T.y)+Math.abs(this.z-T.z)}setFromSpherical(T){return this.setFromSphericalCoords(T.radius,T.phi,T.theta)}setFromSphericalCoords(T,A,L){const U=Math.sin(A)*T;return this.x=U*Math.sin(L),this.y=Math.cos(A)*T,this.z=U*Math.cos(L),this}setFromCylindrical(T){return this.setFromCylindricalCoords(T.radius,T.theta,T.y)}setFromCylindricalCoords(T,A,L){return this.x=T*Math.sin(A),this.y=L,this.z=T*Math.cos(A),this}setFromMatrixPosition(T){const A=T.elements;return this.x=A[12],this.y=A[13],this.z=A[14],this}setFromMatrixScale(T){const A=this.setFromMatrixColumn(T,0).length(),L=this.setFromMatrixColumn(T,1).length(),U=this.setFromMatrixColumn(T,2).length();return this.x=A,this.y=L,this.z=U,this}setFromMatrixColumn(T,A){return this.fromArray(T.elements,A*4)}setFromMatrix3Column(T,A){return this.fromArray(T.elements,A*3)}setFromEuler(T){return this.x=T._x,this.y=T._y,this.z=T._z,this}setFromColor(T){return this.x=T.r,this.y=T.g,this.z=T.b,this}equals(T){return T.x===this.x&&T.y===this.y&&T.z===this.z}fromArray(T,A=0){return this.x=T[A],this.y=T[A+1],this.z=T[A+2],this}toArray(T=[],A=0){return T[A]=this.x,T[A+1]=this.y,T[A+2]=this.z,T}fromBufferAttribute(T,A){return this.x=T.getX(A),this.y=T.getY(A),this.z=T.getZ(A),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const T=Math.random()*Math.PI*2,A=Math.random()*2-1,L=Math.sqrt(1-A*A);return this.x=L*Math.cos(T),this.y=A,this.z=L*Math.sin(T),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(T=new Vector3(1/0,1/0,1/0),A=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=T,this.max=A}set(T,A){return this.min.copy(T),this.max.copy(A),this}setFromArray(T){this.makeEmpty();for(let A=0,L=T.length;A<L;A+=3)this.expandByPoint(_vector$b.fromArray(T,A));return this}setFromBufferAttribute(T){this.makeEmpty();for(let A=0,L=T.count;A<L;A++)this.expandByPoint(_vector$b.fromBufferAttribute(T,A));return this}setFromPoints(T){this.makeEmpty();for(let A=0,L=T.length;A<L;A++)this.expandByPoint(T[A]);return this}setFromCenterAndSize(T,A){const L=_vector$b.copy(A).multiplyScalar(.5);return this.min.copy(T).sub(L),this.max.copy(T).add(L),this}setFromObject(T,A=!1){return this.makeEmpty(),this.expandByObject(T,A)}clone(){return new this.constructor().copy(this)}copy(T){return this.min.copy(T.min),this.max.copy(T.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(T){return this.isEmpty()?T.set(0,0,0):T.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(T){return this.isEmpty()?T.set(0,0,0):T.subVectors(this.max,this.min)}expandByPoint(T){return this.min.min(T),this.max.max(T),this}expandByVector(T){return this.min.sub(T),this.max.add(T),this}expandByScalar(T){return this.min.addScalar(-T),this.max.addScalar(T),this}expandByObject(T,A=!1){T.updateWorldMatrix(!1,!1);const L=T.geometry;if(L!==void 0){const W=L.getAttribute("position");if(A===!0&&W!==void 0&&T.isInstancedMesh!==!0)for(let te=0,ne=W.count;te<ne;te++)T.isMesh===!0?T.getVertexPosition(te,_vector$b):_vector$b.fromBufferAttribute(W,te),_vector$b.applyMatrix4(T.matrixWorld),this.expandByPoint(_vector$b);else T.boundingBox!==void 0?(T.boundingBox===null&&T.computeBoundingBox(),_box$4.copy(T.boundingBox)):(L.boundingBox===null&&L.computeBoundingBox(),_box$4.copy(L.boundingBox)),_box$4.applyMatrix4(T.matrixWorld),this.union(_box$4)}const U=T.children;for(let W=0,te=U.length;W<te;W++)this.expandByObject(U[W],A);return this}containsPoint(T){return T.x>=this.min.x&&T.x<=this.max.x&&T.y>=this.min.y&&T.y<=this.max.y&&T.z>=this.min.z&&T.z<=this.max.z}containsBox(T){return this.min.x<=T.min.x&&T.max.x<=this.max.x&&this.min.y<=T.min.y&&T.max.y<=this.max.y&&this.min.z<=T.min.z&&T.max.z<=this.max.z}getParameter(T,A){return A.set((T.x-this.min.x)/(this.max.x-this.min.x),(T.y-this.min.y)/(this.max.y-this.min.y),(T.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(T){return T.max.x>=this.min.x&&T.min.x<=this.max.x&&T.max.y>=this.min.y&&T.min.y<=this.max.y&&T.max.z>=this.min.z&&T.min.z<=this.max.z}intersectsSphere(T){return this.clampPoint(T.center,_vector$b),_vector$b.distanceToSquared(T.center)<=T.radius*T.radius}intersectsPlane(T){let A,L;return T.normal.x>0?(A=T.normal.x*this.min.x,L=T.normal.x*this.max.x):(A=T.normal.x*this.max.x,L=T.normal.x*this.min.x),T.normal.y>0?(A+=T.normal.y*this.min.y,L+=T.normal.y*this.max.y):(A+=T.normal.y*this.max.y,L+=T.normal.y*this.min.y),T.normal.z>0?(A+=T.normal.z*this.min.z,L+=T.normal.z*this.max.z):(A+=T.normal.z*this.max.z,L+=T.normal.z*this.min.z),A<=-T.constant&&L>=-T.constant}intersectsTriangle(T){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(T.a,_center),_v1$7.subVectors(T.b,_center),_v2$4.subVectors(T.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let A=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(A,_v0$2,_v1$7,_v2$4,_extents)||(A=[1,0,0,0,1,0,0,0,1],!satForAxes(A,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),A=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(A,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(T,A){return A.copy(T).clamp(this.min,this.max)}distanceToPoint(T){return this.clampPoint(T,_vector$b).distanceTo(T)}getBoundingSphere(T){return this.isEmpty()?T.makeEmpty():(this.getCenter(T.center),T.radius=this.getSize(_vector$b).length()*.5),T}intersect(T){return this.min.max(T.min),this.max.min(T.max),this.isEmpty()&&this.makeEmpty(),this}union(T){return this.min.min(T.min),this.max.max(T.max),this}applyMatrix4(T){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(T),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(T),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(T),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(T),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(T),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(T),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(T),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(T),this.setFromPoints(_points),this)}translate(T){return this.min.add(T),this.max.add(T),this}equals(T){return T.min.equals(this.min)&&T.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(P,T,A,L,U){for(let W=0,te=P.length-3;W<=te;W+=3){_testAxis.fromArray(P,W);const ne=U.x*Math.abs(_testAxis.x)+U.y*Math.abs(_testAxis.y)+U.z*Math.abs(_testAxis.z),ie=T.dot(_testAxis),oe=A.dot(_testAxis),ae=L.dot(_testAxis);if(Math.max(-Math.max(ie,oe,ae),Math.min(ie,oe,ae))>ne)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(T=new Vector3,A=-1){this.isSphere=!0,this.center=T,this.radius=A}set(T,A){return this.center.copy(T),this.radius=A,this}setFromPoints(T,A){const L=this.center;A!==void 0?L.copy(A):_box$3.setFromPoints(T).getCenter(L);let U=0;for(let W=0,te=T.length;W<te;W++)U=Math.max(U,L.distanceToSquared(T[W]));return this.radius=Math.sqrt(U),this}copy(T){return this.center.copy(T.center),this.radius=T.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(T){return T.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(T){return T.distanceTo(this.center)-this.radius}intersectsSphere(T){const A=this.radius+T.radius;return T.center.distanceToSquared(this.center)<=A*A}intersectsBox(T){return T.intersectsSphere(this)}intersectsPlane(T){return Math.abs(T.distanceToPoint(this.center))<=this.radius}clampPoint(T,A){const L=this.center.distanceToSquared(T);return A.copy(T),L>this.radius*this.radius&&(A.sub(this.center).normalize(),A.multiplyScalar(this.radius).add(this.center)),A}getBoundingBox(T){return this.isEmpty()?(T.makeEmpty(),T):(T.set(this.center,this.center),T.expandByScalar(this.radius),T)}applyMatrix4(T){return this.center.applyMatrix4(T),this.radius=this.radius*T.getMaxScaleOnAxis(),this}translate(T){return this.center.add(T),this}expandByPoint(T){if(this.isEmpty())return this.center.copy(T),this.radius=0,this;_v1$6.subVectors(T,this.center);const A=_v1$6.lengthSq();if(A>this.radius*this.radius){const L=Math.sqrt(A),U=(L-this.radius)*.5;this.center.addScaledVector(_v1$6,U/L),this.radius+=U}return this}union(T){return T.isEmpty()?this:this.isEmpty()?(this.copy(T),this):(this.center.equals(T.center)===!0?this.radius=Math.max(this.radius,T.radius):(_v2$3.subVectors(T.center,this.center).setLength(T.radius),this.expandByPoint(_v1$6.copy(T.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(T.center).sub(_v2$3))),this)}equals(T){return T.center.equals(this.center)&&T.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(T=new Vector3,A=new Vector3(0,0,-1)){this.origin=T,this.direction=A}set(T,A){return this.origin.copy(T),this.direction.copy(A),this}copy(T){return this.origin.copy(T.origin),this.direction.copy(T.direction),this}at(T,A){return A.copy(this.origin).addScaledVector(this.direction,T)}lookAt(T){return this.direction.copy(T).sub(this.origin).normalize(),this}recast(T){return this.origin.copy(this.at(T,_vector$a)),this}closestPointToPoint(T,A){A.subVectors(T,this.origin);const L=A.dot(this.direction);return L<0?A.copy(this.origin):A.copy(this.origin).addScaledVector(this.direction,L)}distanceToPoint(T){return Math.sqrt(this.distanceSqToPoint(T))}distanceSqToPoint(T){const A=_vector$a.subVectors(T,this.origin).dot(this.direction);return A<0?this.origin.distanceToSquared(T):(_vector$a.copy(this.origin).addScaledVector(this.direction,A),_vector$a.distanceToSquared(T))}distanceSqToSegment(T,A,L,U){_segCenter.copy(T).add(A).multiplyScalar(.5),_segDir.copy(A).sub(T).normalize(),_diff.copy(this.origin).sub(_segCenter);const W=T.distanceTo(A)*.5,te=-this.direction.dot(_segDir),ne=_diff.dot(this.direction),ie=-_diff.dot(_segDir),oe=_diff.lengthSq(),ae=Math.abs(1-te*te);let ce,he,ue,pe;if(ae>0)if(ce=te*ie-ne,he=te*ne-ie,pe=W*ae,ce>=0)if(he>=-pe)if(he<=pe){const ge=1/ae;ce*=ge,he*=ge,ue=ce*(ce+te*he+2*ne)+he*(te*ce+he+2*ie)+oe}else he=W,ce=Math.max(0,-(te*he+ne)),ue=-ce*ce+he*(he+2*ie)+oe;else he=-W,ce=Math.max(0,-(te*he+ne)),ue=-ce*ce+he*(he+2*ie)+oe;else he<=-pe?(ce=Math.max(0,-(-te*W+ne)),he=ce>0?-W:Math.min(Math.max(-W,-ie),W),ue=-ce*ce+he*(he+2*ie)+oe):he<=pe?(ce=0,he=Math.min(Math.max(-W,-ie),W),ue=he*(he+2*ie)+oe):(ce=Math.max(0,-(te*W+ne)),he=ce>0?W:Math.min(Math.max(-W,-ie),W),ue=-ce*ce+he*(he+2*ie)+oe);else he=te>0?-W:W,ce=Math.max(0,-(te*he+ne)),ue=-ce*ce+he*(he+2*ie)+oe;return L&&L.copy(this.origin).addScaledVector(this.direction,ce),U&&U.copy(_segCenter).addScaledVector(_segDir,he),ue}intersectSphere(T,A){_vector$a.subVectors(T.center,this.origin);const L=_vector$a.dot(this.direction),U=_vector$a.dot(_vector$a)-L*L,W=T.radius*T.radius;if(U>W)return null;const te=Math.sqrt(W-U),ne=L-te,ie=L+te;return ie<0?null:ne<0?this.at(ie,A):this.at(ne,A)}intersectsSphere(T){return this.distanceSqToPoint(T.center)<=T.radius*T.radius}distanceToPlane(T){const A=T.normal.dot(this.direction);if(A===0)return T.distanceToPoint(this.origin)===0?0:null;const L=-(this.origin.dot(T.normal)+T.constant)/A;return L>=0?L:null}intersectPlane(T,A){const L=this.distanceToPlane(T);return L===null?null:this.at(L,A)}intersectsPlane(T){const A=T.distanceToPoint(this.origin);return A===0||T.normal.dot(this.direction)*A<0}intersectBox(T,A){let L,U,W,te,ne,ie;const oe=1/this.direction.x,ae=1/this.direction.y,ce=1/this.direction.z,he=this.origin;return oe>=0?(L=(T.min.x-he.x)*oe,U=(T.max.x-he.x)*oe):(L=(T.max.x-he.x)*oe,U=(T.min.x-he.x)*oe),ae>=0?(W=(T.min.y-he.y)*ae,te=(T.max.y-he.y)*ae):(W=(T.max.y-he.y)*ae,te=(T.min.y-he.y)*ae),L>te||W>U||((W>L||isNaN(L))&&(L=W),(te<U||isNaN(U))&&(U=te),ce>=0?(ne=(T.min.z-he.z)*ce,ie=(T.max.z-he.z)*ce):(ne=(T.max.z-he.z)*ce,ie=(T.min.z-he.z)*ce),L>ie||ne>U)||((ne>L||L!==L)&&(L=ne),(ie<U||U!==U)&&(U=ie),U<0)?null:this.at(L>=0?L:U,A)}intersectsBox(T){return this.intersectBox(T,_vector$a)!==null}intersectTriangle(T,A,L,U,W){_edge1.subVectors(A,T),_edge2.subVectors(L,T),_normal$1.crossVectors(_edge1,_edge2);let te=this.direction.dot(_normal$1),ne;if(te>0){if(U)return null;ne=1}else if(te<0)ne=-1,te=-te;else return null;_diff.subVectors(this.origin,T);const ie=ne*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ie<0)return null;const oe=ne*this.direction.dot(_edge1.cross(_diff));if(oe<0||ie+oe>te)return null;const ae=-ne*_diff.dot(_normal$1);return ae<0?null:this.at(ae/te,W)}applyMatrix4(T){return this.origin.applyMatrix4(T),this.direction.transformDirection(T),this}equals(T){return T.origin.equals(this.origin)&&T.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(T,A,L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge,de){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T!==void 0&&this.set(T,A,L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge,de)}set(T,A,L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge,de){const me=this.elements;return me[0]=T,me[4]=A,me[8]=L,me[12]=U,me[1]=W,me[5]=te,me[9]=ne,me[13]=ie,me[2]=oe,me[6]=ae,me[10]=ce,me[14]=he,me[3]=ue,me[7]=pe,me[11]=ge,me[15]=de,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(T){const A=this.elements,L=T.elements;return A[0]=L[0],A[1]=L[1],A[2]=L[2],A[3]=L[3],A[4]=L[4],A[5]=L[5],A[6]=L[6],A[7]=L[7],A[8]=L[8],A[9]=L[9],A[10]=L[10],A[11]=L[11],A[12]=L[12],A[13]=L[13],A[14]=L[14],A[15]=L[15],this}copyPosition(T){const A=this.elements,L=T.elements;return A[12]=L[12],A[13]=L[13],A[14]=L[14],this}setFromMatrix3(T){const A=T.elements;return this.set(A[0],A[3],A[6],0,A[1],A[4],A[7],0,A[2],A[5],A[8],0,0,0,0,1),this}extractBasis(T,A,L){return T.setFromMatrixColumn(this,0),A.setFromMatrixColumn(this,1),L.setFromMatrixColumn(this,2),this}makeBasis(T,A,L){return this.set(T.x,A.x,L.x,0,T.y,A.y,L.y,0,T.z,A.z,L.z,0,0,0,0,1),this}extractRotation(T){const A=this.elements,L=T.elements,U=1/_v1$5.setFromMatrixColumn(T,0).length(),W=1/_v1$5.setFromMatrixColumn(T,1).length(),te=1/_v1$5.setFromMatrixColumn(T,2).length();return A[0]=L[0]*U,A[1]=L[1]*U,A[2]=L[2]*U,A[3]=0,A[4]=L[4]*W,A[5]=L[5]*W,A[6]=L[6]*W,A[7]=0,A[8]=L[8]*te,A[9]=L[9]*te,A[10]=L[10]*te,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,this}makeRotationFromEuler(T){const A=this.elements,L=T.x,U=T.y,W=T.z,te=Math.cos(L),ne=Math.sin(L),ie=Math.cos(U),oe=Math.sin(U),ae=Math.cos(W),ce=Math.sin(W);if(T.order==="XYZ"){const he=te*ae,ue=te*ce,pe=ne*ae,ge=ne*ce;A[0]=ie*ae,A[4]=-ie*ce,A[8]=oe,A[1]=ue+pe*oe,A[5]=he-ge*oe,A[9]=-ne*ie,A[2]=ge-he*oe,A[6]=pe+ue*oe,A[10]=te*ie}else if(T.order==="YXZ"){const he=ie*ae,ue=ie*ce,pe=oe*ae,ge=oe*ce;A[0]=he+ge*ne,A[4]=pe*ne-ue,A[8]=te*oe,A[1]=te*ce,A[5]=te*ae,A[9]=-ne,A[2]=ue*ne-pe,A[6]=ge+he*ne,A[10]=te*ie}else if(T.order==="ZXY"){const he=ie*ae,ue=ie*ce,pe=oe*ae,ge=oe*ce;A[0]=he-ge*ne,A[4]=-te*ce,A[8]=pe+ue*ne,A[1]=ue+pe*ne,A[5]=te*ae,A[9]=ge-he*ne,A[2]=-te*oe,A[6]=ne,A[10]=te*ie}else if(T.order==="ZYX"){const he=te*ae,ue=te*ce,pe=ne*ae,ge=ne*ce;A[0]=ie*ae,A[4]=pe*oe-ue,A[8]=he*oe+ge,A[1]=ie*ce,A[5]=ge*oe+he,A[9]=ue*oe-pe,A[2]=-oe,A[6]=ne*ie,A[10]=te*ie}else if(T.order==="YZX"){const he=te*ie,ue=te*oe,pe=ne*ie,ge=ne*oe;A[0]=ie*ae,A[4]=ge-he*ce,A[8]=pe*ce+ue,A[1]=ce,A[5]=te*ae,A[9]=-ne*ae,A[2]=-oe*ae,A[6]=ue*ce+pe,A[10]=he-ge*ce}else if(T.order==="XZY"){const he=te*ie,ue=te*oe,pe=ne*ie,ge=ne*oe;A[0]=ie*ae,A[4]=-ce,A[8]=oe*ae,A[1]=he*ce+ge,A[5]=te*ae,A[9]=ue*ce-pe,A[2]=pe*ce-ue,A[6]=ne*ae,A[10]=ge*ce+he}return A[3]=0,A[7]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,this}makeRotationFromQuaternion(T){return this.compose(_zero,T,_one)}lookAt(T,A,L){const U=this.elements;return _z.subVectors(T,A),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(L,_z),_x.lengthSq()===0&&(Math.abs(L.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(L,_z)),_x.normalize(),_y.crossVectors(_z,_x),U[0]=_x.x,U[4]=_y.x,U[8]=_z.x,U[1]=_x.y,U[5]=_y.y,U[9]=_z.y,U[2]=_x.z,U[6]=_y.z,U[10]=_z.z,this}multiply(T){return this.multiplyMatrices(this,T)}premultiply(T){return this.multiplyMatrices(T,this)}multiplyMatrices(T,A){const L=T.elements,U=A.elements,W=this.elements,te=L[0],ne=L[4],ie=L[8],oe=L[12],ae=L[1],ce=L[5],he=L[9],ue=L[13],pe=L[2],ge=L[6],de=L[10],me=L[14],ye=L[3],xe=L[7],Se=L[11],Te=L[15],be=U[0],Pe=U[4],Ie=U[8],De=U[12],we=U[1],Fe=U[5],Ge=U[9],He=U[13],je=U[2],qe=U[6],Ye=U[10],Ct=U[14],Re=U[3],Oe=U[7],ze=U[11],Ne=U[15];return W[0]=te*be+ne*we+ie*je+oe*Re,W[4]=te*Pe+ne*Fe+ie*qe+oe*Oe,W[8]=te*Ie+ne*Ge+ie*Ye+oe*ze,W[12]=te*De+ne*He+ie*Ct+oe*Ne,W[1]=ae*be+ce*we+he*je+ue*Re,W[5]=ae*Pe+ce*Fe+he*qe+ue*Oe,W[9]=ae*Ie+ce*Ge+he*Ye+ue*ze,W[13]=ae*De+ce*He+he*Ct+ue*Ne,W[2]=pe*be+ge*we+de*je+me*Re,W[6]=pe*Pe+ge*Fe+de*qe+me*Oe,W[10]=pe*Ie+ge*Ge+de*Ye+me*ze,W[14]=pe*De+ge*He+de*Ct+me*Ne,W[3]=ye*be+xe*we+Se*je+Te*Re,W[7]=ye*Pe+xe*Fe+Se*qe+Te*Oe,W[11]=ye*Ie+xe*Ge+Se*Ye+Te*ze,W[15]=ye*De+xe*He+Se*Ct+Te*Ne,this}multiplyScalar(T){const A=this.elements;return A[0]*=T,A[4]*=T,A[8]*=T,A[12]*=T,A[1]*=T,A[5]*=T,A[9]*=T,A[13]*=T,A[2]*=T,A[6]*=T,A[10]*=T,A[14]*=T,A[3]*=T,A[7]*=T,A[11]*=T,A[15]*=T,this}determinant(){const T=this.elements,A=T[0],L=T[4],U=T[8],W=T[12],te=T[1],ne=T[5],ie=T[9],oe=T[13],ae=T[2],ce=T[6],he=T[10],ue=T[14],pe=T[3],ge=T[7],de=T[11],me=T[15];return pe*(+W*ie*ce-U*oe*ce-W*ne*he+L*oe*he+U*ne*ue-L*ie*ue)+ge*(+A*ie*ue-A*oe*he+W*te*he-U*te*ue+U*oe*ae-W*ie*ae)+de*(+A*oe*ce-A*ne*ue-W*te*ce+L*te*ue+W*ne*ae-L*oe*ae)+me*(-U*ne*ae-A*ie*ce+A*ne*he+U*te*ce-L*te*he+L*ie*ae)}transpose(){const T=this.elements;let A;return A=T[1],T[1]=T[4],T[4]=A,A=T[2],T[2]=T[8],T[8]=A,A=T[6],T[6]=T[9],T[9]=A,A=T[3],T[3]=T[12],T[12]=A,A=T[7],T[7]=T[13],T[13]=A,A=T[11],T[11]=T[14],T[14]=A,this}setPosition(T,A,L){const U=this.elements;return T.isVector3?(U[12]=T.x,U[13]=T.y,U[14]=T.z):(U[12]=T,U[13]=A,U[14]=L),this}invert(){const T=this.elements,A=T[0],L=T[1],U=T[2],W=T[3],te=T[4],ne=T[5],ie=T[6],oe=T[7],ae=T[8],ce=T[9],he=T[10],ue=T[11],pe=T[12],ge=T[13],de=T[14],me=T[15],ye=ce*de*oe-ge*he*oe+ge*ie*ue-ne*de*ue-ce*ie*me+ne*he*me,xe=pe*he*oe-ae*de*oe-pe*ie*ue+te*de*ue+ae*ie*me-te*he*me,Se=ae*ge*oe-pe*ce*oe+pe*ne*ue-te*ge*ue-ae*ne*me+te*ce*me,Te=pe*ce*ie-ae*ge*ie-pe*ne*he+te*ge*he+ae*ne*de-te*ce*de,be=A*ye+L*xe+U*Se+W*Te;if(be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Pe=1/be;return T[0]=ye*Pe,T[1]=(ge*he*W-ce*de*W-ge*U*ue+L*de*ue+ce*U*me-L*he*me)*Pe,T[2]=(ne*de*W-ge*ie*W+ge*U*oe-L*de*oe-ne*U*me+L*ie*me)*Pe,T[3]=(ce*ie*W-ne*he*W-ce*U*oe+L*he*oe+ne*U*ue-L*ie*ue)*Pe,T[4]=xe*Pe,T[5]=(ae*de*W-pe*he*W+pe*U*ue-A*de*ue-ae*U*me+A*he*me)*Pe,T[6]=(pe*ie*W-te*de*W-pe*U*oe+A*de*oe+te*U*me-A*ie*me)*Pe,T[7]=(te*he*W-ae*ie*W+ae*U*oe-A*he*oe-te*U*ue+A*ie*ue)*Pe,T[8]=Se*Pe,T[9]=(pe*ce*W-ae*ge*W-pe*L*ue+A*ge*ue+ae*L*me-A*ce*me)*Pe,T[10]=(te*ge*W-pe*ne*W+pe*L*oe-A*ge*oe-te*L*me+A*ne*me)*Pe,T[11]=(ae*ne*W-te*ce*W-ae*L*oe+A*ce*oe+te*L*ue-A*ne*ue)*Pe,T[12]=Te*Pe,T[13]=(ae*ge*U-pe*ce*U+pe*L*he-A*ge*he-ae*L*de+A*ce*de)*Pe,T[14]=(pe*ne*U-te*ge*U-pe*L*ie+A*ge*ie+te*L*de-A*ne*de)*Pe,T[15]=(te*ce*U-ae*ne*U+ae*L*ie-A*ce*ie-te*L*he+A*ne*he)*Pe,this}scale(T){const A=this.elements,L=T.x,U=T.y,W=T.z;return A[0]*=L,A[4]*=U,A[8]*=W,A[1]*=L,A[5]*=U,A[9]*=W,A[2]*=L,A[6]*=U,A[10]*=W,A[3]*=L,A[7]*=U,A[11]*=W,this}getMaxScaleOnAxis(){const T=this.elements,A=T[0]*T[0]+T[1]*T[1]+T[2]*T[2],L=T[4]*T[4]+T[5]*T[5]+T[6]*T[6],U=T[8]*T[8]+T[9]*T[9]+T[10]*T[10];return Math.sqrt(Math.max(A,L,U))}makeTranslation(T,A,L){return T.isVector3?this.set(1,0,0,T.x,0,1,0,T.y,0,0,1,T.z,0,0,0,1):this.set(1,0,0,T,0,1,0,A,0,0,1,L,0,0,0,1),this}makeRotationX(T){const A=Math.cos(T),L=Math.sin(T);return this.set(1,0,0,0,0,A,-L,0,0,L,A,0,0,0,0,1),this}makeRotationY(T){const A=Math.cos(T),L=Math.sin(T);return this.set(A,0,L,0,0,1,0,0,-L,0,A,0,0,0,0,1),this}makeRotationZ(T){const A=Math.cos(T),L=Math.sin(T);return this.set(A,-L,0,0,L,A,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(T,A){const L=Math.cos(A),U=Math.sin(A),W=1-L,te=T.x,ne=T.y,ie=T.z,oe=W*te,ae=W*ne;return this.set(oe*te+L,oe*ne-U*ie,oe*ie+U*ne,0,oe*ne+U*ie,ae*ne+L,ae*ie-U*te,0,oe*ie-U*ne,ae*ie+U*te,W*ie*ie+L,0,0,0,0,1),this}makeScale(T,A,L){return this.set(T,0,0,0,0,A,0,0,0,0,L,0,0,0,0,1),this}makeShear(T,A,L,U,W,te){return this.set(1,L,W,0,T,1,te,0,A,U,1,0,0,0,0,1),this}compose(T,A,L){const U=this.elements,W=A._x,te=A._y,ne=A._z,ie=A._w,oe=W+W,ae=te+te,ce=ne+ne,he=W*oe,ue=W*ae,pe=W*ce,ge=te*ae,de=te*ce,me=ne*ce,ye=ie*oe,xe=ie*ae,Se=ie*ce,Te=L.x,be=L.y,Pe=L.z;return U[0]=(1-(ge+me))*Te,U[1]=(ue+Se)*Te,U[2]=(pe-xe)*Te,U[3]=0,U[4]=(ue-Se)*be,U[5]=(1-(he+me))*be,U[6]=(de+ye)*be,U[7]=0,U[8]=(pe+xe)*Pe,U[9]=(de-ye)*Pe,U[10]=(1-(he+ge))*Pe,U[11]=0,U[12]=T.x,U[13]=T.y,U[14]=T.z,U[15]=1,this}decompose(T,A,L){const U=this.elements;let W=_v1$5.set(U[0],U[1],U[2]).length();const te=_v1$5.set(U[4],U[5],U[6]).length(),ne=_v1$5.set(U[8],U[9],U[10]).length();this.determinant()<0&&(W=-W),T.x=U[12],T.y=U[13],T.z=U[14],_m1$2.copy(this);const oe=1/W,ae=1/te,ce=1/ne;return _m1$2.elements[0]*=oe,_m1$2.elements[1]*=oe,_m1$2.elements[2]*=oe,_m1$2.elements[4]*=ae,_m1$2.elements[5]*=ae,_m1$2.elements[6]*=ae,_m1$2.elements[8]*=ce,_m1$2.elements[9]*=ce,_m1$2.elements[10]*=ce,A.setFromRotationMatrix(_m1$2),L.x=W,L.y=te,L.z=ne,this}makePerspective(T,A,L,U,W,te,ne=WebGLCoordinateSystem){const ie=this.elements,oe=2*W/(A-T),ae=2*W/(L-U),ce=(A+T)/(A-T),he=(L+U)/(L-U);let ue,pe;if(ne===WebGLCoordinateSystem)ue=-(te+W)/(te-W),pe=-2*te*W/(te-W);else if(ne===WebGPUCoordinateSystem)ue=-te/(te-W),pe=-te*W/(te-W);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+ne);return ie[0]=oe,ie[4]=0,ie[8]=ce,ie[12]=0,ie[1]=0,ie[5]=ae,ie[9]=he,ie[13]=0,ie[2]=0,ie[6]=0,ie[10]=ue,ie[14]=pe,ie[3]=0,ie[7]=0,ie[11]=-1,ie[15]=0,this}makeOrthographic(T,A,L,U,W,te,ne=WebGLCoordinateSystem){const ie=this.elements,oe=1/(A-T),ae=1/(L-U),ce=1/(te-W),he=(A+T)*oe,ue=(L+U)*ae;let pe,ge;if(ne===WebGLCoordinateSystem)pe=(te+W)*ce,ge=-2*ce;else if(ne===WebGPUCoordinateSystem)pe=W*ce,ge=-1*ce;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+ne);return ie[0]=2*oe,ie[4]=0,ie[8]=0,ie[12]=-he,ie[1]=0,ie[5]=2*ae,ie[9]=0,ie[13]=-ue,ie[2]=0,ie[6]=0,ie[10]=ge,ie[14]=-pe,ie[3]=0,ie[7]=0,ie[11]=0,ie[15]=1,this}equals(T){const A=this.elements,L=T.elements;for(let U=0;U<16;U++)if(A[U]!==L[U])return!1;return!0}fromArray(T,A=0){for(let L=0;L<16;L++)this.elements[L]=T[L+A];return this}toArray(T=[],A=0){const L=this.elements;return T[A]=L[0],T[A+1]=L[1],T[A+2]=L[2],T[A+3]=L[3],T[A+4]=L[4],T[A+5]=L[5],T[A+6]=L[6],T[A+7]=L[7],T[A+8]=L[8],T[A+9]=L[9],T[A+10]=L[10],T[A+11]=L[11],T[A+12]=L[12],T[A+13]=L[13],T[A+14]=L[14],T[A+15]=L[15],T}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(T=0,A=0,L=0,U=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=T,this._y=A,this._z=L,this._order=U}get x(){return this._x}set x(T){this._x=T,this._onChangeCallback()}get y(){return this._y}set y(T){this._y=T,this._onChangeCallback()}get z(){return this._z}set z(T){this._z=T,this._onChangeCallback()}get order(){return this._order}set order(T){this._order=T,this._onChangeCallback()}set(T,A,L,U=this._order){return this._x=T,this._y=A,this._z=L,this._order=U,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(T){return this._x=T._x,this._y=T._y,this._z=T._z,this._order=T._order,this._onChangeCallback(),this}setFromRotationMatrix(T,A=this._order,L=!0){const U=T.elements,W=U[0],te=U[4],ne=U[8],ie=U[1],oe=U[5],ae=U[9],ce=U[2],he=U[6],ue=U[10];switch(A){case"XYZ":this._y=Math.asin(clamp(ne,-1,1)),Math.abs(ne)<.9999999?(this._x=Math.atan2(-ae,ue),this._z=Math.atan2(-te,W)):(this._x=Math.atan2(he,oe),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ae,-1,1)),Math.abs(ae)<.9999999?(this._y=Math.atan2(ne,ue),this._z=Math.atan2(ie,oe)):(this._y=Math.atan2(-ce,W),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(he,-1,1)),Math.abs(he)<.9999999?(this._y=Math.atan2(-ce,ue),this._z=Math.atan2(-te,oe)):(this._y=0,this._z=Math.atan2(ie,W));break;case"ZYX":this._y=Math.asin(-clamp(ce,-1,1)),Math.abs(ce)<.9999999?(this._x=Math.atan2(he,ue),this._z=Math.atan2(ie,W)):(this._x=0,this._z=Math.atan2(-te,oe));break;case"YZX":this._z=Math.asin(clamp(ie,-1,1)),Math.abs(ie)<.9999999?(this._x=Math.atan2(-ae,oe),this._y=Math.atan2(-ce,W)):(this._x=0,this._y=Math.atan2(ne,ue));break;case"XZY":this._z=Math.asin(-clamp(te,-1,1)),Math.abs(te)<.9999999?(this._x=Math.atan2(he,oe),this._y=Math.atan2(ne,W)):(this._x=Math.atan2(-ae,ue),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+A)}return this._order=A,L===!0&&this._onChangeCallback(),this}setFromQuaternion(T,A,L){return _matrix$2.makeRotationFromQuaternion(T),this.setFromRotationMatrix(_matrix$2,A,L)}setFromVector3(T,A=this._order){return this.set(T.x,T.y,T.z,A)}reorder(T){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,T)}equals(T){return T._x===this._x&&T._y===this._y&&T._z===this._z&&T._order===this._order}fromArray(T){return this._x=T[0],this._y=T[1],this._z=T[2],T[3]!==void 0&&(this._order=T[3]),this._onChangeCallback(),this}toArray(T=[],A=0){return T[A]=this._x,T[A+1]=this._y,T[A+2]=this._z,T[A+3]=this._order,T}_onChange(T){return this._onChangeCallback=T,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(T){this.mask=(1<<T|0)>>>0}enable(T){this.mask|=1<<T|0}enableAll(){this.mask=-1}toggle(T){this.mask^=1<<T|0}disable(T){this.mask&=~(1<<T|0)}disableAll(){this.mask=0}test(T){return(this.mask&T.mask)!==0}isEnabled(T){return(this.mask&(1<<T|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const T=new Vector3,A=new Euler,L=new Quaternion,U=new Vector3(1,1,1);function W(){L.setFromEuler(A,!1)}function te(){A.setFromQuaternion(L,void 0,!1)}A._onChange(W),L._onChange(te),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:T},rotation:{configurable:!0,enumerable:!0,value:A},quaternion:{configurable:!0,enumerable:!0,value:L},scale:{configurable:!0,enumerable:!0,value:U},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(T){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(T),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(T){return this.quaternion.premultiply(T),this}setRotationFromAxisAngle(T,A){this.quaternion.setFromAxisAngle(T,A)}setRotationFromEuler(T){this.quaternion.setFromEuler(T,!0)}setRotationFromMatrix(T){this.quaternion.setFromRotationMatrix(T)}setRotationFromQuaternion(T){this.quaternion.copy(T)}rotateOnAxis(T,A){return _q1.setFromAxisAngle(T,A),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(T,A){return _q1.setFromAxisAngle(T,A),this.quaternion.premultiply(_q1),this}rotateX(T){return this.rotateOnAxis(_xAxis,T)}rotateY(T){return this.rotateOnAxis(_yAxis,T)}rotateZ(T){return this.rotateOnAxis(_zAxis,T)}translateOnAxis(T,A){return _v1$4.copy(T).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(A)),this}translateX(T){return this.translateOnAxis(_xAxis,T)}translateY(T){return this.translateOnAxis(_yAxis,T)}translateZ(T){return this.translateOnAxis(_zAxis,T)}localToWorld(T){return this.updateWorldMatrix(!0,!1),T.applyMatrix4(this.matrixWorld)}worldToLocal(T){return this.updateWorldMatrix(!0,!1),T.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(T,A,L){T.isVector3?_target.copy(T):_target.set(T,A,L);const U=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),U&&(_m1$1$1.extractRotation(U.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(T){if(arguments.length>1){for(let A=0;A<arguments.length;A++)this.add(arguments[A]);return this}return T===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",T),this):(T&&T.isObject3D?(T.removeFromParent(),T.parent=this,this.children.push(T),T.dispatchEvent(_addedEvent),_childaddedEvent.child=T,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",T),this)}remove(T){if(arguments.length>1){for(let L=0;L<arguments.length;L++)this.remove(arguments[L]);return this}const A=this.children.indexOf(T);return A!==-1&&(T.parent=null,this.children.splice(A,1),T.dispatchEvent(_removedEvent),_childremovedEvent.child=T,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const T=this.parent;return T!==null&&T.remove(this),this}clear(){return this.remove(...this.children)}attach(T){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),T.parent!==null&&(T.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(T.parent.matrixWorld)),T.applyMatrix4(_m1$1$1),T.removeFromParent(),T.parent=this,this.children.push(T),T.updateWorldMatrix(!1,!0),T.dispatchEvent(_addedEvent),_childaddedEvent.child=T,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(T){return this.getObjectByProperty("id",T)}getObjectByName(T){return this.getObjectByProperty("name",T)}getObjectByProperty(T,A){if(this[T]===A)return this;for(let L=0,U=this.children.length;L<U;L++){const te=this.children[L].getObjectByProperty(T,A);if(te!==void 0)return te}}getObjectsByProperty(T,A,L=[]){this[T]===A&&L.push(this);const U=this.children;for(let W=0,te=U.length;W<te;W++)U[W].getObjectsByProperty(T,A,L);return L}getWorldPosition(T){return this.updateWorldMatrix(!0,!1),T.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(T){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,T,_scale$2),T}getWorldScale(T){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,T),T}getWorldDirection(T){this.updateWorldMatrix(!0,!1);const A=this.matrixWorld.elements;return T.set(A[8],A[9],A[10]).normalize()}raycast(){}traverse(T){T(this);const A=this.children;for(let L=0,U=A.length;L<U;L++)A[L].traverse(T)}traverseVisible(T){if(this.visible===!1)return;T(this);const A=this.children;for(let L=0,U=A.length;L<U;L++)A[L].traverseVisible(T)}traverseAncestors(T){const A=this.parent;A!==null&&(T(A),A.traverseAncestors(T))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(T){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||T)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,T=!0);const A=this.children;for(let L=0,U=A.length;L<U;L++)A[L].updateMatrixWorld(T)}updateWorldMatrix(T,A){const L=this.parent;if(T===!0&&L!==null&&L.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),A===!0){const U=this.children;for(let W=0,te=U.length;W<te;W++)U[W].updateWorldMatrix(!1,!0)}}toJSON(T){const A=T===void 0||typeof T=="string",L={};A&&(T={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},L.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const U={};U.uuid=this.uuid,U.type=this.type,this.name!==""&&(U.name=this.name),this.castShadow===!0&&(U.castShadow=!0),this.receiveShadow===!0&&(U.receiveShadow=!0),this.visible===!1&&(U.visible=!1),this.frustumCulled===!1&&(U.frustumCulled=!1),this.renderOrder!==0&&(U.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(U.userData=this.userData),U.layers=this.layers.mask,U.matrix=this.matrix.toArray(),U.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(U.matrixAutoUpdate=!1),this.isInstancedMesh&&(U.type="InstancedMesh",U.count=this.count,U.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(U.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(U.type="BatchedMesh",U.perObjectFrustumCulled=this.perObjectFrustumCulled,U.sortObjects=this.sortObjects,U.drawRanges=this._drawRanges,U.reservedRanges=this._reservedRanges,U.visibility=this._visibility,U.active=this._active,U.bounds=this._bounds.map(ne=>({boxInitialized:ne.boxInitialized,boxMin:ne.box.min.toArray(),boxMax:ne.box.max.toArray(),sphereInitialized:ne.sphereInitialized,sphereRadius:ne.sphere.radius,sphereCenter:ne.sphere.center.toArray()})),U.maxInstanceCount=this._maxInstanceCount,U.maxVertexCount=this._maxVertexCount,U.maxIndexCount=this._maxIndexCount,U.geometryInitialized=this._geometryInitialized,U.geometryCount=this._geometryCount,U.matricesTexture=this._matricesTexture.toJSON(T),this._colorsTexture!==null&&(U.colorsTexture=this._colorsTexture.toJSON(T)),this.boundingSphere!==null&&(U.boundingSphere={center:U.boundingSphere.center.toArray(),radius:U.boundingSphere.radius}),this.boundingBox!==null&&(U.boundingBox={min:U.boundingBox.min.toArray(),max:U.boundingBox.max.toArray()}));function W(ne,ie){return ne[ie.uuid]===void 0&&(ne[ie.uuid]=ie.toJSON(T)),ie.uuid}if(this.isScene)this.background&&(this.background.isColor?U.background=this.background.toJSON():this.background.isTexture&&(U.background=this.background.toJSON(T).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(U.environment=this.environment.toJSON(T).uuid);else if(this.isMesh||this.isLine||this.isPoints){U.geometry=W(T.geometries,this.geometry);const ne=this.geometry.parameters;if(ne!==void 0&&ne.shapes!==void 0){const ie=ne.shapes;if(Array.isArray(ie))for(let oe=0,ae=ie.length;oe<ae;oe++){const ce=ie[oe];W(T.shapes,ce)}else W(T.shapes,ie)}}if(this.isSkinnedMesh&&(U.bindMode=this.bindMode,U.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(W(T.skeletons,this.skeleton),U.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const ne=[];for(let ie=0,oe=this.material.length;ie<oe;ie++)ne.push(W(T.materials,this.material[ie]));U.material=ne}else U.material=W(T.materials,this.material);if(this.children.length>0){U.children=[];for(let ne=0;ne<this.children.length;ne++)U.children.push(this.children[ne].toJSON(T).object)}if(this.animations.length>0){U.animations=[];for(let ne=0;ne<this.animations.length;ne++){const ie=this.animations[ne];U.animations.push(W(T.animations,ie))}}if(A){const ne=te(T.geometries),ie=te(T.materials),oe=te(T.textures),ae=te(T.images),ce=te(T.shapes),he=te(T.skeletons),ue=te(T.animations),pe=te(T.nodes);ne.length>0&&(L.geometries=ne),ie.length>0&&(L.materials=ie),oe.length>0&&(L.textures=oe),ae.length>0&&(L.images=ae),ce.length>0&&(L.shapes=ce),he.length>0&&(L.skeletons=he),ue.length>0&&(L.animations=ue),pe.length>0&&(L.nodes=pe)}return L.object=U,L;function te(ne){const ie=[];for(const oe in ne){const ae=ne[oe];delete ae.metadata,ie.push(ae)}return ie}}clone(T){return new this.constructor().copy(this,T)}copy(T,A=!0){if(this.name=T.name,this.up.copy(T.up),this.position.copy(T.position),this.rotation.order=T.rotation.order,this.quaternion.copy(T.quaternion),this.scale.copy(T.scale),this.matrix.copy(T.matrix),this.matrixWorld.copy(T.matrixWorld),this.matrixAutoUpdate=T.matrixAutoUpdate,this.matrixWorldAutoUpdate=T.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=T.matrixWorldNeedsUpdate,this.layers.mask=T.layers.mask,this.visible=T.visible,this.castShadow=T.castShadow,this.receiveShadow=T.receiveShadow,this.frustumCulled=T.frustumCulled,this.renderOrder=T.renderOrder,this.animations=T.animations.slice(),this.userData=JSON.parse(JSON.stringify(T.userData)),A===!0)for(let L=0;L<T.children.length;L++){const U=T.children[L];this.add(U.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(T=new Vector3,A=new Vector3,L=new Vector3){this.a=T,this.b=A,this.c=L}static getNormal(T,A,L,U){U.subVectors(L,A),_v0$1.subVectors(T,A),U.cross(_v0$1);const W=U.lengthSq();return W>0?U.multiplyScalar(1/Math.sqrt(W)):U.set(0,0,0)}static getBarycoord(T,A,L,U,W){_v0$1.subVectors(U,A),_v1$3.subVectors(L,A),_v2$2.subVectors(T,A);const te=_v0$1.dot(_v0$1),ne=_v0$1.dot(_v1$3),ie=_v0$1.dot(_v2$2),oe=_v1$3.dot(_v1$3),ae=_v1$3.dot(_v2$2),ce=te*oe-ne*ne;if(ce===0)return W.set(0,0,0),null;const he=1/ce,ue=(oe*ie-ne*ae)*he,pe=(te*ae-ne*ie)*he;return W.set(1-ue-pe,pe,ue)}static containsPoint(T,A,L,U){return this.getBarycoord(T,A,L,U,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(T,A,L,U,W,te,ne,ie){return this.getBarycoord(T,A,L,U,_v3$2)===null?(ie.x=0,ie.y=0,"z"in ie&&(ie.z=0),"w"in ie&&(ie.w=0),null):(ie.setScalar(0),ie.addScaledVector(W,_v3$2.x),ie.addScaledVector(te,_v3$2.y),ie.addScaledVector(ne,_v3$2.z),ie)}static getInterpolatedAttribute(T,A,L,U,W,te){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(T,A),_v41.fromBufferAttribute(T,L),_v42.fromBufferAttribute(T,U),te.setScalar(0),te.addScaledVector(_v40,W.x),te.addScaledVector(_v41,W.y),te.addScaledVector(_v42,W.z),te}static isFrontFacing(T,A,L,U){return _v0$1.subVectors(L,A),_v1$3.subVectors(T,A),_v0$1.cross(_v1$3).dot(U)<0}set(T,A,L){return this.a.copy(T),this.b.copy(A),this.c.copy(L),this}setFromPointsAndIndices(T,A,L,U){return this.a.copy(T[A]),this.b.copy(T[L]),this.c.copy(T[U]),this}setFromAttributeAndIndices(T,A,L,U){return this.a.fromBufferAttribute(T,A),this.b.fromBufferAttribute(T,L),this.c.fromBufferAttribute(T,U),this}clone(){return new this.constructor().copy(this)}copy(T){return this.a.copy(T.a),this.b.copy(T.b),this.c.copy(T.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(T){return T.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(T){return Triangle.getNormal(this.a,this.b,this.c,T)}getPlane(T){return T.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(T,A){return Triangle.getBarycoord(T,this.a,this.b,this.c,A)}getInterpolation(T,A,L,U,W){return Triangle.getInterpolation(T,this.a,this.b,this.c,A,L,U,W)}containsPoint(T){return Triangle.containsPoint(T,this.a,this.b,this.c)}isFrontFacing(T){return Triangle.isFrontFacing(this.a,this.b,this.c,T)}intersectsBox(T){return T.intersectsTriangle(this)}closestPointToPoint(T,A){const L=this.a,U=this.b,W=this.c;let te,ne;_vab.subVectors(U,L),_vac.subVectors(W,L),_vap.subVectors(T,L);const ie=_vab.dot(_vap),oe=_vac.dot(_vap);if(ie<=0&&oe<=0)return A.copy(L);_vbp.subVectors(T,U);const ae=_vab.dot(_vbp),ce=_vac.dot(_vbp);if(ae>=0&&ce<=ae)return A.copy(U);const he=ie*ce-ae*oe;if(he<=0&&ie>=0&&ae<=0)return te=ie/(ie-ae),A.copy(L).addScaledVector(_vab,te);_vcp.subVectors(T,W);const ue=_vab.dot(_vcp),pe=_vac.dot(_vcp);if(pe>=0&&ue<=pe)return A.copy(W);const ge=ue*oe-ie*pe;if(ge<=0&&oe>=0&&pe<=0)return ne=oe/(oe-pe),A.copy(L).addScaledVector(_vac,ne);const de=ae*pe-ue*ce;if(de<=0&&ce-ae>=0&&ue-pe>=0)return _vbc.subVectors(W,U),ne=(ce-ae)/(ce-ae+(ue-pe)),A.copy(U).addScaledVector(_vbc,ne);const me=1/(de+ge+he);return te=ge*me,ne=he*me,A.copy(L).addScaledVector(_vab,te).addScaledVector(_vac,ne)}equals(T){return T.a.equals(this.a)&&T.b.equals(this.b)&&T.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(P,T,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?P+(T-P)*6*A:A<1/2?T:A<2/3?P+(T-P)*6*(2/3-A):P}class Color{constructor(T,A,L){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(T,A,L)}set(T,A,L){if(A===void 0&&L===void 0){const U=T;U&&U.isColor?this.copy(U):typeof U=="number"?this.setHex(U):typeof U=="string"&&this.setStyle(U)}else this.setRGB(T,A,L);return this}setScalar(T){return this.r=T,this.g=T,this.b=T,this}setHex(T,A=SRGBColorSpace){return T=Math.floor(T),this.r=(T>>16&255)/255,this.g=(T>>8&255)/255,this.b=(T&255)/255,ColorManagement.toWorkingColorSpace(this,A),this}setRGB(T,A,L,U=ColorManagement.workingColorSpace){return this.r=T,this.g=A,this.b=L,ColorManagement.toWorkingColorSpace(this,U),this}setHSL(T,A,L,U=ColorManagement.workingColorSpace){if(T=euclideanModulo(T,1),A=clamp(A,0,1),L=clamp(L,0,1),A===0)this.r=this.g=this.b=L;else{const W=L<=.5?L*(1+A):L+A-L*A,te=2*L-W;this.r=hue2rgb(te,W,T+1/3),this.g=hue2rgb(te,W,T),this.b=hue2rgb(te,W,T-1/3)}return ColorManagement.toWorkingColorSpace(this,U),this}setStyle(T,A=SRGBColorSpace){function L(W){W!==void 0&&parseFloat(W)<1&&console.warn("THREE.Color: Alpha component of "+T+" will be ignored.")}let U;if(U=/^(\w+)\(([^\)]*)\)/.exec(T)){let W;const te=U[1],ne=U[2];switch(te){case"rgb":case"rgba":if(W=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ne))return L(W[4]),this.setRGB(Math.min(255,parseInt(W[1],10))/255,Math.min(255,parseInt(W[2],10))/255,Math.min(255,parseInt(W[3],10))/255,A);if(W=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ne))return L(W[4]),this.setRGB(Math.min(100,parseInt(W[1],10))/100,Math.min(100,parseInt(W[2],10))/100,Math.min(100,parseInt(W[3],10))/100,A);break;case"hsl":case"hsla":if(W=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ne))return L(W[4]),this.setHSL(parseFloat(W[1])/360,parseFloat(W[2])/100,parseFloat(W[3])/100,A);break;default:console.warn("THREE.Color: Unknown color model "+T)}}else if(U=/^\#([A-Fa-f\d]+)$/.exec(T)){const W=U[1],te=W.length;if(te===3)return this.setRGB(parseInt(W.charAt(0),16)/15,parseInt(W.charAt(1),16)/15,parseInt(W.charAt(2),16)/15,A);if(te===6)return this.setHex(parseInt(W,16),A);console.warn("THREE.Color: Invalid hex color "+T)}else if(T&&T.length>0)return this.setColorName(T,A);return this}setColorName(T,A=SRGBColorSpace){const L=_colorKeywords[T.toLowerCase()];return L!==void 0?this.setHex(L,A):console.warn("THREE.Color: Unknown color "+T),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(T){return this.r=T.r,this.g=T.g,this.b=T.b,this}copySRGBToLinear(T){return this.r=SRGBToLinear(T.r),this.g=SRGBToLinear(T.g),this.b=SRGBToLinear(T.b),this}copyLinearToSRGB(T){return this.r=LinearToSRGB(T.r),this.g=LinearToSRGB(T.g),this.b=LinearToSRGB(T.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(T=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),T),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(T=SRGBColorSpace){return("000000"+this.getHex(T).toString(16)).slice(-6)}getHSL(T,A=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),A);const L=_color.r,U=_color.g,W=_color.b,te=Math.max(L,U,W),ne=Math.min(L,U,W);let ie,oe;const ae=(ne+te)/2;if(ne===te)ie=0,oe=0;else{const ce=te-ne;switch(oe=ae<=.5?ce/(te+ne):ce/(2-te-ne),te){case L:ie=(U-W)/ce+(U<W?6:0);break;case U:ie=(W-L)/ce+2;break;case W:ie=(L-U)/ce+4;break}ie/=6}return T.h=ie,T.s=oe,T.l=ae,T}getRGB(T,A=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),A),T.r=_color.r,T.g=_color.g,T.b=_color.b,T}getStyle(T=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),T);const A=_color.r,L=_color.g,U=_color.b;return T!==SRGBColorSpace?`color(${T} ${A.toFixed(3)} ${L.toFixed(3)} ${U.toFixed(3)})`:`rgb(${Math.round(A*255)},${Math.round(L*255)},${Math.round(U*255)})`}offsetHSL(T,A,L){return this.getHSL(_hslA),this.setHSL(_hslA.h+T,_hslA.s+A,_hslA.l+L)}add(T){return this.r+=T.r,this.g+=T.g,this.b+=T.b,this}addColors(T,A){return this.r=T.r+A.r,this.g=T.g+A.g,this.b=T.b+A.b,this}addScalar(T){return this.r+=T,this.g+=T,this.b+=T,this}sub(T){return this.r=Math.max(0,this.r-T.r),this.g=Math.max(0,this.g-T.g),this.b=Math.max(0,this.b-T.b),this}multiply(T){return this.r*=T.r,this.g*=T.g,this.b*=T.b,this}multiplyScalar(T){return this.r*=T,this.g*=T,this.b*=T,this}lerp(T,A){return this.r+=(T.r-this.r)*A,this.g+=(T.g-this.g)*A,this.b+=(T.b-this.b)*A,this}lerpColors(T,A,L){return this.r=T.r+(A.r-T.r)*L,this.g=T.g+(A.g-T.g)*L,this.b=T.b+(A.b-T.b)*L,this}lerpHSL(T,A){this.getHSL(_hslA),T.getHSL(_hslB);const L=lerp(_hslA.h,_hslB.h,A),U=lerp(_hslA.s,_hslB.s,A),W=lerp(_hslA.l,_hslB.l,A);return this.setHSL(L,U,W),this}setFromVector3(T){return this.r=T.x,this.g=T.y,this.b=T.z,this}applyMatrix3(T){const A=this.r,L=this.g,U=this.b,W=T.elements;return this.r=W[0]*A+W[3]*L+W[6]*U,this.g=W[1]*A+W[4]*L+W[7]*U,this.b=W[2]*A+W[5]*L+W[8]*U,this}equals(T){return T.r===this.r&&T.g===this.g&&T.b===this.b}fromArray(T,A=0){return this.r=T[A],this.g=T[A+1],this.b=T[A+2],this}toArray(T=[],A=0){return T[A]=this.r,T[A+1]=this.g,T[A+2]=this.b,T}fromBufferAttribute(T,A){return this.r=T.getX(A),this.g=T.getY(A),this.b=T.getZ(A),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(T){this._alphaTest>0!=T>0&&this.version++,this._alphaTest=T}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(T){if(T!==void 0)for(const A in T){const L=T[A];if(L===void 0){console.warn(`THREE.Material: parameter '${A}' has value of undefined.`);continue}const U=this[A];if(U===void 0){console.warn(`THREE.Material: '${A}' is not a property of THREE.${this.type}.`);continue}U&&U.isColor?U.set(L):U&&U.isVector3&&L&&L.isVector3?U.copy(L):this[A]=L}}toJSON(T){const A=T===void 0||typeof T=="string";A&&(T={textures:{},images:{}});const L={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};L.uuid=this.uuid,L.type=this.type,this.name!==""&&(L.name=this.name),this.color&&this.color.isColor&&(L.color=this.color.getHex()),this.roughness!==void 0&&(L.roughness=this.roughness),this.metalness!==void 0&&(L.metalness=this.metalness),this.sheen!==void 0&&(L.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(L.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(L.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(L.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(L.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(L.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(L.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(L.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(L.shininess=this.shininess),this.clearcoat!==void 0&&(L.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(L.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(L.clearcoatMap=this.clearcoatMap.toJSON(T).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(L.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(T).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(L.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(T).uuid,L.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(L.dispersion=this.dispersion),this.iridescence!==void 0&&(L.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(L.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(L.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(L.iridescenceMap=this.iridescenceMap.toJSON(T).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(L.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(T).uuid),this.anisotropy!==void 0&&(L.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(L.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(L.anisotropyMap=this.anisotropyMap.toJSON(T).uuid),this.map&&this.map.isTexture&&(L.map=this.map.toJSON(T).uuid),this.matcap&&this.matcap.isTexture&&(L.matcap=this.matcap.toJSON(T).uuid),this.alphaMap&&this.alphaMap.isTexture&&(L.alphaMap=this.alphaMap.toJSON(T).uuid),this.lightMap&&this.lightMap.isTexture&&(L.lightMap=this.lightMap.toJSON(T).uuid,L.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(L.aoMap=this.aoMap.toJSON(T).uuid,L.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(L.bumpMap=this.bumpMap.toJSON(T).uuid,L.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(L.normalMap=this.normalMap.toJSON(T).uuid,L.normalMapType=this.normalMapType,L.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(L.displacementMap=this.displacementMap.toJSON(T).uuid,L.displacementScale=this.displacementScale,L.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(L.roughnessMap=this.roughnessMap.toJSON(T).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(L.metalnessMap=this.metalnessMap.toJSON(T).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(L.emissiveMap=this.emissiveMap.toJSON(T).uuid),this.specularMap&&this.specularMap.isTexture&&(L.specularMap=this.specularMap.toJSON(T).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(L.specularIntensityMap=this.specularIntensityMap.toJSON(T).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(L.specularColorMap=this.specularColorMap.toJSON(T).uuid),this.envMap&&this.envMap.isTexture&&(L.envMap=this.envMap.toJSON(T).uuid,this.combine!==void 0&&(L.combine=this.combine)),this.envMapRotation!==void 0&&(L.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(L.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(L.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(L.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(L.gradientMap=this.gradientMap.toJSON(T).uuid),this.transmission!==void 0&&(L.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(L.transmissionMap=this.transmissionMap.toJSON(T).uuid),this.thickness!==void 0&&(L.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(L.thicknessMap=this.thicknessMap.toJSON(T).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(L.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(L.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(L.size=this.size),this.shadowSide!==null&&(L.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(L.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(L.blending=this.blending),this.side!==FrontSide&&(L.side=this.side),this.vertexColors===!0&&(L.vertexColors=!0),this.opacity<1&&(L.opacity=this.opacity),this.transparent===!0&&(L.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(L.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(L.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(L.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(L.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(L.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(L.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(L.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(L.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(L.depthFunc=this.depthFunc),this.depthTest===!1&&(L.depthTest=this.depthTest),this.depthWrite===!1&&(L.depthWrite=this.depthWrite),this.colorWrite===!1&&(L.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(L.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(L.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(L.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(L.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(L.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(L.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(L.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(L.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(L.rotation=this.rotation),this.polygonOffset===!0&&(L.polygonOffset=!0),this.polygonOffsetFactor!==0&&(L.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(L.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(L.linewidth=this.linewidth),this.dashSize!==void 0&&(L.dashSize=this.dashSize),this.gapSize!==void 0&&(L.gapSize=this.gapSize),this.scale!==void 0&&(L.scale=this.scale),this.dithering===!0&&(L.dithering=!0),this.alphaTest>0&&(L.alphaTest=this.alphaTest),this.alphaHash===!0&&(L.alphaHash=!0),this.alphaToCoverage===!0&&(L.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(L.premultipliedAlpha=!0),this.forceSinglePass===!0&&(L.forceSinglePass=!0),this.wireframe===!0&&(L.wireframe=!0),this.wireframeLinewidth>1&&(L.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(L.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(L.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(L.flatShading=!0),this.visible===!1&&(L.visible=!1),this.toneMapped===!1&&(L.toneMapped=!1),this.fog===!1&&(L.fog=!1),Object.keys(this.userData).length>0&&(L.userData=this.userData);function U(W){const te=[];for(const ne in W){const ie=W[ne];delete ie.metadata,te.push(ie)}return te}if(A){const W=U(T.textures),te=U(T.images);W.length>0&&(L.textures=W),te.length>0&&(L.images=te)}return L}clone(){return new this.constructor().copy(this)}copy(T){this.name=T.name,this.blending=T.blending,this.side=T.side,this.vertexColors=T.vertexColors,this.opacity=T.opacity,this.transparent=T.transparent,this.blendSrc=T.blendSrc,this.blendDst=T.blendDst,this.blendEquation=T.blendEquation,this.blendSrcAlpha=T.blendSrcAlpha,this.blendDstAlpha=T.blendDstAlpha,this.blendEquationAlpha=T.blendEquationAlpha,this.blendColor.copy(T.blendColor),this.blendAlpha=T.blendAlpha,this.depthFunc=T.depthFunc,this.depthTest=T.depthTest,this.depthWrite=T.depthWrite,this.stencilWriteMask=T.stencilWriteMask,this.stencilFunc=T.stencilFunc,this.stencilRef=T.stencilRef,this.stencilFuncMask=T.stencilFuncMask,this.stencilFail=T.stencilFail,this.stencilZFail=T.stencilZFail,this.stencilZPass=T.stencilZPass,this.stencilWrite=T.stencilWrite;const A=T.clippingPlanes;let L=null;if(A!==null){const U=A.length;L=new Array(U);for(let W=0;W!==U;++W)L[W]=A[W].clone()}return this.clippingPlanes=L,this.clipIntersection=T.clipIntersection,this.clipShadows=T.clipShadows,this.shadowSide=T.shadowSide,this.colorWrite=T.colorWrite,this.precision=T.precision,this.polygonOffset=T.polygonOffset,this.polygonOffsetFactor=T.polygonOffsetFactor,this.polygonOffsetUnits=T.polygonOffsetUnits,this.dithering=T.dithering,this.alphaTest=T.alphaTest,this.alphaHash=T.alphaHash,this.alphaToCoverage=T.alphaToCoverage,this.premultipliedAlpha=T.premultipliedAlpha,this.forceSinglePass=T.forceSinglePass,this.visible=T.visible,this.toneMapped=T.toneMapped,this.userData=JSON.parse(JSON.stringify(T.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(T){T===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor(T){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.map=T.map,this.lightMap=T.lightMap,this.lightMapIntensity=T.lightMapIntensity,this.aoMap=T.aoMap,this.aoMapIntensity=T.aoMapIntensity,this.specularMap=T.specularMap,this.alphaMap=T.alphaMap,this.envMap=T.envMap,this.envMapRotation.copy(T.envMapRotation),this.combine=T.combine,this.reflectivity=T.reflectivity,this.refractionRatio=T.refractionRatio,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.wireframeLinecap=T.wireframeLinecap,this.wireframeLinejoin=T.wireframeLinejoin,this.fog=T.fog,this}}const _tables=_generateTables();function _generateTables(){const P=new ArrayBuffer(4),T=new Float32Array(P),A=new Uint32Array(P),L=new Uint32Array(512),U=new Uint32Array(512);for(let ie=0;ie<256;++ie){const oe=ie-127;oe<-27?(L[ie]=0,L[ie|256]=32768,U[ie]=24,U[ie|256]=24):oe<-14?(L[ie]=1024>>-oe-14,L[ie|256]=1024>>-oe-14|32768,U[ie]=-oe-1,U[ie|256]=-oe-1):oe<=15?(L[ie]=oe+15<<10,L[ie|256]=oe+15<<10|32768,U[ie]=13,U[ie|256]=13):oe<128?(L[ie]=31744,L[ie|256]=64512,U[ie]=24,U[ie|256]=24):(L[ie]=31744,L[ie|256]=64512,U[ie]=13,U[ie|256]=13)}const W=new Uint32Array(2048),te=new Uint32Array(64),ne=new Uint32Array(64);for(let ie=1;ie<1024;++ie){let oe=ie<<13,ae=0;for(;!(oe&8388608);)oe<<=1,ae-=8388608;oe&=-8388609,ae+=947912704,W[ie]=oe|ae}for(let ie=1024;ie<2048;++ie)W[ie]=939524096+(ie-1024<<13);for(let ie=1;ie<31;++ie)te[ie]=ie<<23;te[31]=1199570944,te[32]=2147483648;for(let ie=33;ie<63;++ie)te[ie]=2147483648+(ie-32<<23);te[63]=3347054592;for(let ie=1;ie<64;++ie)ie!==32&&(ne[ie]=1024);return{floatView:T,uint32View:A,baseTable:L,shiftTable:U,mantissaTable:W,exponentTable:te,offsetTable:ne}}function toHalfFloat(P){Math.abs(P)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),P=clamp(P,-65504,65504),_tables.floatView[0]=P;const T=_tables.uint32View[0],A=T>>23&511;return _tables.baseTable[A]+((T&8388607)>>_tables.shiftTable[A])}function fromHalfFloat(P){const T=P>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[T]+(P&1023)]+_tables.exponentTable[T],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(T,A,L=!1){if(Array.isArray(T))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=T,this.itemSize=A,this.count=T!==void 0?T.length/A:0,this.normalized=L,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(T){T===!0&&this.version++}setUsage(T){return this.usage=T,this}addUpdateRange(T,A){this.updateRanges.push({start:T,count:A})}clearUpdateRanges(){this.updateRanges.length=0}copy(T){return this.name=T.name,this.array=new T.array.constructor(T.array),this.itemSize=T.itemSize,this.count=T.count,this.normalized=T.normalized,this.usage=T.usage,this.gpuType=T.gpuType,this}copyAt(T,A,L){T*=this.itemSize,L*=A.itemSize;for(let U=0,W=this.itemSize;U<W;U++)this.array[T+U]=A.array[L+U];return this}copyArray(T){return this.array.set(T),this}applyMatrix3(T){if(this.itemSize===2)for(let A=0,L=this.count;A<L;A++)_vector2$1.fromBufferAttribute(this,A),_vector2$1.applyMatrix3(T),this.setXY(A,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let A=0,L=this.count;A<L;A++)_vector$9.fromBufferAttribute(this,A),_vector$9.applyMatrix3(T),this.setXYZ(A,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(T){for(let A=0,L=this.count;A<L;A++)_vector$9.fromBufferAttribute(this,A),_vector$9.applyMatrix4(T),this.setXYZ(A,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(T){for(let A=0,L=this.count;A<L;A++)_vector$9.fromBufferAttribute(this,A),_vector$9.applyNormalMatrix(T),this.setXYZ(A,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(T){for(let A=0,L=this.count;A<L;A++)_vector$9.fromBufferAttribute(this,A),_vector$9.transformDirection(T),this.setXYZ(A,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(T,A=0){return this.array.set(T,A),this}getComponent(T,A){let L=this.array[T*this.itemSize+A];return this.normalized&&(L=denormalize(L,this.array)),L}setComponent(T,A,L){return this.normalized&&(L=normalize(L,this.array)),this.array[T*this.itemSize+A]=L,this}getX(T){let A=this.array[T*this.itemSize];return this.normalized&&(A=denormalize(A,this.array)),A}setX(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize]=A,this}getY(T){let A=this.array[T*this.itemSize+1];return this.normalized&&(A=denormalize(A,this.array)),A}setY(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize+1]=A,this}getZ(T){let A=this.array[T*this.itemSize+2];return this.normalized&&(A=denormalize(A,this.array)),A}setZ(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize+2]=A,this}getW(T){let A=this.array[T*this.itemSize+3];return this.normalized&&(A=denormalize(A,this.array)),A}setW(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize+3]=A,this}setXY(T,A,L){return T*=this.itemSize,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array)),this.array[T+0]=A,this.array[T+1]=L,this}setXYZ(T,A,L,U){return T*=this.itemSize,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array),U=normalize(U,this.array)),this.array[T+0]=A,this.array[T+1]=L,this.array[T+2]=U,this}setXYZW(T,A,L,U,W){return T*=this.itemSize,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array),U=normalize(U,this.array),W=normalize(W,this.array)),this.array[T+0]=A,this.array[T+1]=L,this.array[T+2]=U,this.array[T+3]=W,this}onUpload(T){return this.onUploadCallback=T,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const T={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(T.name=this.name),this.usage!==StaticDrawUsage&&(T.usage=this.usage),T}}class Int8BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Int8Array(T),A,L)}}class Uint8BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Uint8Array(T),A,L)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Uint8ClampedArray(T),A,L)}}class Int16BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Int16Array(T),A,L)}}class Uint16BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Uint16Array(T),A,L)}}class Int32BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Int32Array(T),A,L)}}class Uint32BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Uint32Array(T),A,L)}}class Float16BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Uint16Array(T),A,L),this.isFloat16BufferAttribute=!0}getX(T){let A=fromHalfFloat(this.array[T*this.itemSize]);return this.normalized&&(A=denormalize(A,this.array)),A}setX(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize]=toHalfFloat(A),this}getY(T){let A=fromHalfFloat(this.array[T*this.itemSize+1]);return this.normalized&&(A=denormalize(A,this.array)),A}setY(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize+1]=toHalfFloat(A),this}getZ(T){let A=fromHalfFloat(this.array[T*this.itemSize+2]);return this.normalized&&(A=denormalize(A,this.array)),A}setZ(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize+2]=toHalfFloat(A),this}getW(T){let A=fromHalfFloat(this.array[T*this.itemSize+3]);return this.normalized&&(A=denormalize(A,this.array)),A}setW(T,A){return this.normalized&&(A=normalize(A,this.array)),this.array[T*this.itemSize+3]=toHalfFloat(A),this}setXY(T,A,L){return T*=this.itemSize,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array)),this.array[T+0]=toHalfFloat(A),this.array[T+1]=toHalfFloat(L),this}setXYZ(T,A,L,U){return T*=this.itemSize,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array),U=normalize(U,this.array)),this.array[T+0]=toHalfFloat(A),this.array[T+1]=toHalfFloat(L),this.array[T+2]=toHalfFloat(U),this}setXYZW(T,A,L,U,W){return T*=this.itemSize,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array),U=normalize(U,this.array),W=normalize(W,this.array)),this.array[T+0]=toHalfFloat(A),this.array[T+1]=toHalfFloat(L),this.array[T+2]=toHalfFloat(U),this.array[T+3]=toHalfFloat(W),this}}class Float32BufferAttribute extends BufferAttribute{constructor(T,A,L){super(new Float32Array(T),A,L)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(T){return Array.isArray(T)?this.index=new(arrayNeedsUint32(T)?Uint32BufferAttribute:Uint16BufferAttribute)(T,1):this.index=T,this}setIndirect(T){return this.indirect=T,this}getIndirect(){return this.indirect}getAttribute(T){return this.attributes[T]}setAttribute(T,A){return this.attributes[T]=A,this}deleteAttribute(T){return delete this.attributes[T],this}hasAttribute(T){return this.attributes[T]!==void 0}addGroup(T,A,L=0){this.groups.push({start:T,count:A,materialIndex:L})}clearGroups(){this.groups=[]}setDrawRange(T,A){this.drawRange.start=T,this.drawRange.count=A}applyMatrix4(T){const A=this.attributes.position;A!==void 0&&(A.applyMatrix4(T),A.needsUpdate=!0);const L=this.attributes.normal;if(L!==void 0){const W=new Matrix3().getNormalMatrix(T);L.applyNormalMatrix(W),L.needsUpdate=!0}const U=this.attributes.tangent;return U!==void 0&&(U.transformDirection(T),U.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(T){return _m1$3.makeRotationFromQuaternion(T),this.applyMatrix4(_m1$3),this}rotateX(T){return _m1$3.makeRotationX(T),this.applyMatrix4(_m1$3),this}rotateY(T){return _m1$3.makeRotationY(T),this.applyMatrix4(_m1$3),this}rotateZ(T){return _m1$3.makeRotationZ(T),this.applyMatrix4(_m1$3),this}translate(T,A,L){return _m1$3.makeTranslation(T,A,L),this.applyMatrix4(_m1$3),this}scale(T,A,L){return _m1$3.makeScale(T,A,L),this.applyMatrix4(_m1$3),this}lookAt(T){return _obj.lookAt(T),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(T){const A=this.getAttribute("position");if(A===void 0){const L=[];for(let U=0,W=T.length;U<W;U++){const te=T[U];L.push(te.x,te.y,te.z||0)}this.setAttribute("position",new Float32BufferAttribute(L,3))}else{const L=Math.min(T.length,A.count);for(let U=0;U<L;U++){const W=T[U];A.setXYZ(U,W.x,W.y,W.z||0)}T.length>A.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),A.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const T=this.attributes.position,A=this.morphAttributes.position;if(T&&T.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(T!==void 0){if(this.boundingBox.setFromBufferAttribute(T),A)for(let L=0,U=A.length;L<U;L++){const W=A[L];_box$2.setFromBufferAttribute(W),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const T=this.attributes.position,A=this.morphAttributes.position;if(T&&T.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(T){const L=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(T),A)for(let W=0,te=A.length;W<te;W++){const ne=A[W];_boxMorphTargets.setFromBufferAttribute(ne),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(L);let U=0;for(let W=0,te=T.count;W<te;W++)_vector$8.fromBufferAttribute(T,W),U=Math.max(U,L.distanceToSquared(_vector$8));if(A)for(let W=0,te=A.length;W<te;W++){const ne=A[W],ie=this.morphTargetsRelative;for(let oe=0,ae=ne.count;oe<ae;oe++)_vector$8.fromBufferAttribute(ne,oe),ie&&(_offset.fromBufferAttribute(T,oe),_vector$8.add(_offset)),U=Math.max(U,L.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(U),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const T=this.index,A=this.attributes;if(T===null||A.position===void 0||A.normal===void 0||A.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const L=A.position,U=A.normal,W=A.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*L.count),4));const te=this.getAttribute("tangent"),ne=[],ie=[];for(let Ie=0;Ie<L.count;Ie++)ne[Ie]=new Vector3,ie[Ie]=new Vector3;const oe=new Vector3,ae=new Vector3,ce=new Vector3,he=new Vector2,ue=new Vector2,pe=new Vector2,ge=new Vector3,de=new Vector3;function me(Ie,De,we){oe.fromBufferAttribute(L,Ie),ae.fromBufferAttribute(L,De),ce.fromBufferAttribute(L,we),he.fromBufferAttribute(W,Ie),ue.fromBufferAttribute(W,De),pe.fromBufferAttribute(W,we),ae.sub(oe),ce.sub(oe),ue.sub(he),pe.sub(he);const Fe=1/(ue.x*pe.y-pe.x*ue.y);isFinite(Fe)&&(ge.copy(ae).multiplyScalar(pe.y).addScaledVector(ce,-ue.y).multiplyScalar(Fe),de.copy(ce).multiplyScalar(ue.x).addScaledVector(ae,-pe.x).multiplyScalar(Fe),ne[Ie].add(ge),ne[De].add(ge),ne[we].add(ge),ie[Ie].add(de),ie[De].add(de),ie[we].add(de))}let ye=this.groups;ye.length===0&&(ye=[{start:0,count:T.count}]);for(let Ie=0,De=ye.length;Ie<De;++Ie){const we=ye[Ie],Fe=we.start,Ge=we.count;for(let He=Fe,je=Fe+Ge;He<je;He+=3)me(T.getX(He+0),T.getX(He+1),T.getX(He+2))}const xe=new Vector3,Se=new Vector3,Te=new Vector3,be=new Vector3;function Pe(Ie){Te.fromBufferAttribute(U,Ie),be.copy(Te);const De=ne[Ie];xe.copy(De),xe.sub(Te.multiplyScalar(Te.dot(De))).normalize(),Se.crossVectors(be,De);const Fe=Se.dot(ie[Ie])<0?-1:1;te.setXYZW(Ie,xe.x,xe.y,xe.z,Fe)}for(let Ie=0,De=ye.length;Ie<De;++Ie){const we=ye[Ie],Fe=we.start,Ge=we.count;for(let He=Fe,je=Fe+Ge;He<je;He+=3)Pe(T.getX(He+0)),Pe(T.getX(He+1)),Pe(T.getX(He+2))}}computeVertexNormals(){const T=this.index,A=this.getAttribute("position");if(A!==void 0){let L=this.getAttribute("normal");if(L===void 0)L=new BufferAttribute(new Float32Array(A.count*3),3),this.setAttribute("normal",L);else for(let he=0,ue=L.count;he<ue;he++)L.setXYZ(he,0,0,0);const U=new Vector3,W=new Vector3,te=new Vector3,ne=new Vector3,ie=new Vector3,oe=new Vector3,ae=new Vector3,ce=new Vector3;if(T)for(let he=0,ue=T.count;he<ue;he+=3){const pe=T.getX(he+0),ge=T.getX(he+1),de=T.getX(he+2);U.fromBufferAttribute(A,pe),W.fromBufferAttribute(A,ge),te.fromBufferAttribute(A,de),ae.subVectors(te,W),ce.subVectors(U,W),ae.cross(ce),ne.fromBufferAttribute(L,pe),ie.fromBufferAttribute(L,ge),oe.fromBufferAttribute(L,de),ne.add(ae),ie.add(ae),oe.add(ae),L.setXYZ(pe,ne.x,ne.y,ne.z),L.setXYZ(ge,ie.x,ie.y,ie.z),L.setXYZ(de,oe.x,oe.y,oe.z)}else for(let he=0,ue=A.count;he<ue;he+=3)U.fromBufferAttribute(A,he+0),W.fromBufferAttribute(A,he+1),te.fromBufferAttribute(A,he+2),ae.subVectors(te,W),ce.subVectors(U,W),ae.cross(ce),L.setXYZ(he+0,ae.x,ae.y,ae.z),L.setXYZ(he+1,ae.x,ae.y,ae.z),L.setXYZ(he+2,ae.x,ae.y,ae.z);this.normalizeNormals(),L.needsUpdate=!0}}normalizeNormals(){const T=this.attributes.normal;for(let A=0,L=T.count;A<L;A++)_vector$8.fromBufferAttribute(T,A),_vector$8.normalize(),T.setXYZ(A,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function T(ne,ie){const oe=ne.array,ae=ne.itemSize,ce=ne.normalized,he=new oe.constructor(ie.length*ae);let ue=0,pe=0;for(let ge=0,de=ie.length;ge<de;ge++){ne.isInterleavedBufferAttribute?ue=ie[ge]*ne.data.stride+ne.offset:ue=ie[ge]*ae;for(let me=0;me<ae;me++)he[pe++]=oe[ue++]}return new BufferAttribute(he,ae,ce)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const A=new BufferGeometry,L=this.index.array,U=this.attributes;for(const ne in U){const ie=U[ne],oe=T(ie,L);A.setAttribute(ne,oe)}const W=this.morphAttributes;for(const ne in W){const ie=[],oe=W[ne];for(let ae=0,ce=oe.length;ae<ce;ae++){const he=oe[ae],ue=T(he,L);ie.push(ue)}A.morphAttributes[ne]=ie}A.morphTargetsRelative=this.morphTargetsRelative;const te=this.groups;for(let ne=0,ie=te.length;ne<ie;ne++){const oe=te[ne];A.addGroup(oe.start,oe.count,oe.materialIndex)}return A}toJSON(){const T={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(T.uuid=this.uuid,T.type=this.type,this.name!==""&&(T.name=this.name),Object.keys(this.userData).length>0&&(T.userData=this.userData),this.parameters!==void 0){const ie=this.parameters;for(const oe in ie)ie[oe]!==void 0&&(T[oe]=ie[oe]);return T}T.data={attributes:{}};const A=this.index;A!==null&&(T.data.index={type:A.array.constructor.name,array:Array.prototype.slice.call(A.array)});const L=this.attributes;for(const ie in L){const oe=L[ie];T.data.attributes[ie]=oe.toJSON(T.data)}const U={};let W=!1;for(const ie in this.morphAttributes){const oe=this.morphAttributes[ie],ae=[];for(let ce=0,he=oe.length;ce<he;ce++){const ue=oe[ce];ae.push(ue.toJSON(T.data))}ae.length>0&&(U[ie]=ae,W=!0)}W&&(T.data.morphAttributes=U,T.data.morphTargetsRelative=this.morphTargetsRelative);const te=this.groups;te.length>0&&(T.data.groups=JSON.parse(JSON.stringify(te)));const ne=this.boundingSphere;return ne!==null&&(T.data.boundingSphere={center:ne.center.toArray(),radius:ne.radius}),T}clone(){return new this.constructor().copy(this)}copy(T){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const A={};this.name=T.name;const L=T.index;L!==null&&this.setIndex(L.clone(A));const U=T.attributes;for(const oe in U){const ae=U[oe];this.setAttribute(oe,ae.clone(A))}const W=T.morphAttributes;for(const oe in W){const ae=[],ce=W[oe];for(let he=0,ue=ce.length;he<ue;he++)ae.push(ce[he].clone(A));this.morphAttributes[oe]=ae}this.morphTargetsRelative=T.morphTargetsRelative;const te=T.groups;for(let oe=0,ae=te.length;oe<ae;oe++){const ce=te[oe];this.addGroup(ce.start,ce.count,ce.materialIndex)}const ne=T.boundingBox;ne!==null&&(this.boundingBox=ne.clone());const ie=T.boundingSphere;return ie!==null&&(this.boundingSphere=ie.clone()),this.drawRange.start=T.drawRange.start,this.drawRange.count=T.drawRange.count,this.userData=T.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(T=new BufferGeometry,A=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=T,this.material=A,this.updateMorphTargets()}copy(T,A){return super.copy(T,A),T.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=T.morphTargetInfluences.slice()),T.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},T.morphTargetDictionary)),this.material=Array.isArray(T.material)?T.material.slice():T.material,this.geometry=T.geometry,this}updateMorphTargets(){const A=this.geometry.morphAttributes,L=Object.keys(A);if(L.length>0){const U=A[L[0]];if(U!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W=0,te=U.length;W<te;W++){const ne=U[W].name||String(W);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ne]=W}}}}getVertexPosition(T,A){const L=this.geometry,U=L.attributes.position,W=L.morphAttributes.position,te=L.morphTargetsRelative;A.fromBufferAttribute(U,T);const ne=this.morphTargetInfluences;if(W&&ne){_morphA.set(0,0,0);for(let ie=0,oe=W.length;ie<oe;ie++){const ae=ne[ie],ce=W[ie];ae!==0&&(_tempA.fromBufferAttribute(ce,T),te?_morphA.addScaledVector(_tempA,ae):_morphA.addScaledVector(_tempA.sub(A),ae))}A.add(_morphA)}return A}raycast(T,A){const L=this.geometry,U=this.material,W=this.matrixWorld;U!==void 0&&(L.boundingSphere===null&&L.computeBoundingSphere(),_sphere$6.copy(L.boundingSphere),_sphere$6.applyMatrix4(W),_ray$3.copy(T.ray).recast(T.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(T.far-T.near)**2))&&(_inverseMatrix$3.copy(W).invert(),_ray$3.copy(T.ray).applyMatrix4(_inverseMatrix$3),!(L.boundingBox!==null&&_ray$3.intersectsBox(L.boundingBox)===!1)&&this._computeIntersections(T,A,_ray$3)))}_computeIntersections(T,A,L){let U;const W=this.geometry,te=this.material,ne=W.index,ie=W.attributes.position,oe=W.attributes.uv,ae=W.attributes.uv1,ce=W.attributes.normal,he=W.groups,ue=W.drawRange;if(ne!==null)if(Array.isArray(te))for(let pe=0,ge=he.length;pe<ge;pe++){const de=he[pe],me=te[de.materialIndex],ye=Math.max(de.start,ue.start),xe=Math.min(ne.count,Math.min(de.start+de.count,ue.start+ue.count));for(let Se=ye,Te=xe;Se<Te;Se+=3){const be=ne.getX(Se),Pe=ne.getX(Se+1),Ie=ne.getX(Se+2);U=checkGeometryIntersection(this,me,T,L,oe,ae,ce,be,Pe,Ie),U&&(U.faceIndex=Math.floor(Se/3),U.face.materialIndex=de.materialIndex,A.push(U))}}else{const pe=Math.max(0,ue.start),ge=Math.min(ne.count,ue.start+ue.count);for(let de=pe,me=ge;de<me;de+=3){const ye=ne.getX(de),xe=ne.getX(de+1),Se=ne.getX(de+2);U=checkGeometryIntersection(this,te,T,L,oe,ae,ce,ye,xe,Se),U&&(U.faceIndex=Math.floor(de/3),A.push(U))}}else if(ie!==void 0)if(Array.isArray(te))for(let pe=0,ge=he.length;pe<ge;pe++){const de=he[pe],me=te[de.materialIndex],ye=Math.max(de.start,ue.start),xe=Math.min(ie.count,Math.min(de.start+de.count,ue.start+ue.count));for(let Se=ye,Te=xe;Se<Te;Se+=3){const be=Se,Pe=Se+1,Ie=Se+2;U=checkGeometryIntersection(this,me,T,L,oe,ae,ce,be,Pe,Ie),U&&(U.faceIndex=Math.floor(Se/3),U.face.materialIndex=de.materialIndex,A.push(U))}}else{const pe=Math.max(0,ue.start),ge=Math.min(ie.count,ue.start+ue.count);for(let de=pe,me=ge;de<me;de+=3){const ye=de,xe=de+1,Se=de+2;U=checkGeometryIntersection(this,te,T,L,oe,ae,ce,ye,xe,Se),U&&(U.faceIndex=Math.floor(de/3),A.push(U))}}}}function checkIntersection$1(P,T,A,L,U,W,te,ne){let ie;if(T.side===BackSide?ie=L.intersectTriangle(te,W,U,!0,ne):ie=L.intersectTriangle(U,W,te,T.side===FrontSide,ne),ie===null)return null;_intersectionPointWorld.copy(ne),_intersectionPointWorld.applyMatrix4(P.matrixWorld);const oe=A.ray.origin.distanceTo(_intersectionPointWorld);return oe<A.near||oe>A.far?null:{distance:oe,point:_intersectionPointWorld.clone(),object:P}}function checkGeometryIntersection(P,T,A,L,U,W,te,ne,ie,oe){P.getVertexPosition(ne,_vA$1),P.getVertexPosition(ie,_vB$1),P.getVertexPosition(oe,_vC$1);const ae=checkIntersection$1(P,T,A,L,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ae){const ce=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,ce),U&&(ae.uv=Triangle.getInterpolatedAttribute(U,ne,ie,oe,ce,new Vector2)),W&&(ae.uv1=Triangle.getInterpolatedAttribute(W,ne,ie,oe,ce,new Vector2)),te&&(ae.normal=Triangle.getInterpolatedAttribute(te,ne,ie,oe,ce,new Vector3),ae.normal.dot(L.direction)>0&&ae.normal.multiplyScalar(-1));const he={a:ne,b:ie,c:oe,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,he.normal),ae.face=he,ae.barycoord=ce}return ae}class BoxGeometry extends BufferGeometry{constructor(T=1,A=1,L=1,U=1,W=1,te=1){super(),this.type="BoxGeometry",this.parameters={width:T,height:A,depth:L,widthSegments:U,heightSegments:W,depthSegments:te};const ne=this;U=Math.floor(U),W=Math.floor(W),te=Math.floor(te);const ie=[],oe=[],ae=[],ce=[];let he=0,ue=0;pe("z","y","x",-1,-1,L,A,T,te,W,0),pe("z","y","x",1,-1,L,A,-T,te,W,1),pe("x","z","y",1,1,T,L,A,U,te,2),pe("x","z","y",1,-1,T,L,-A,U,te,3),pe("x","y","z",1,-1,T,A,L,U,W,4),pe("x","y","z",-1,-1,T,A,-L,U,W,5),this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(oe,3)),this.setAttribute("normal",new Float32BufferAttribute(ae,3)),this.setAttribute("uv",new Float32BufferAttribute(ce,2));function pe(ge,de,me,ye,xe,Se,Te,be,Pe,Ie,De){const we=Se/Pe,Fe=Te/Ie,Ge=Se/2,He=Te/2,je=be/2,qe=Pe+1,Ye=Ie+1;let Ct=0,Re=0;const Oe=new Vector3;for(let ze=0;ze<Ye;ze++){const Ne=ze*Fe-He;for(let Ze=0;Ze<qe;Ze++){const Wt=Ze*we-Ge;Oe[ge]=Wt*ye,Oe[de]=Ne*xe,Oe[me]=je,oe.push(Oe.x,Oe.y,Oe.z),Oe[ge]=0,Oe[de]=0,Oe[me]=be>0?1:-1,ae.push(Oe.x,Oe.y,Oe.z),ce.push(Ze/Pe),ce.push(1-ze/Ie),Ct+=1}}for(let ze=0;ze<Ie;ze++)for(let Ne=0;Ne<Pe;Ne++){const Ze=he+Ne+qe*ze,Wt=he+Ne+qe*(ze+1),Qe=he+(Ne+1)+qe*(ze+1),Pt=he+(Ne+1)+qe*ze;ie.push(Ze,Wt,Pt),ie.push(Wt,Qe,Pt),Re+=6}ne.addGroup(ue,Re,De),ue+=Re,he+=Ct}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new BoxGeometry(T.width,T.height,T.depth,T.widthSegments,T.heightSegments,T.depthSegments)}}function cloneUniforms(P){const T={};for(const A in P){T[A]={};for(const L in P[A]){const U=P[A][L];U&&(U.isColor||U.isMatrix3||U.isMatrix4||U.isVector2||U.isVector3||U.isVector4||U.isTexture||U.isQuaternion)?U.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),T[A][L]=null):T[A][L]=U.clone():Array.isArray(U)?T[A][L]=U.slice():T[A][L]=U}}return T}function mergeUniforms(P){const T={};for(let A=0;A<P.length;A++){const L=cloneUniforms(P[A]);for(const U in L)T[U]=L[U]}return T}function cloneUniformsGroups(P){const T=[];for(let A=0;A<P.length;A++)T.push(P[A].clone());return T}function getUnlitUniformColorSpace(P){const T=P.getRenderTarget();return T===null?P.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(T){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,T!==void 0&&this.setValues(T)}copy(T){return super.copy(T),this.fragmentShader=T.fragmentShader,this.vertexShader=T.vertexShader,this.uniforms=cloneUniforms(T.uniforms),this.uniformsGroups=cloneUniformsGroups(T.uniformsGroups),this.defines=Object.assign({},T.defines),this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.fog=T.fog,this.lights=T.lights,this.clipping=T.clipping,this.extensions=Object.assign({},T.extensions),this.glslVersion=T.glslVersion,this}toJSON(T){const A=super.toJSON(T);A.glslVersion=this.glslVersion,A.uniforms={};for(const U in this.uniforms){const te=this.uniforms[U].value;te&&te.isTexture?A.uniforms[U]={type:"t",value:te.toJSON(T).uuid}:te&&te.isColor?A.uniforms[U]={type:"c",value:te.getHex()}:te&&te.isVector2?A.uniforms[U]={type:"v2",value:te.toArray()}:te&&te.isVector3?A.uniforms[U]={type:"v3",value:te.toArray()}:te&&te.isVector4?A.uniforms[U]={type:"v4",value:te.toArray()}:te&&te.isMatrix3?A.uniforms[U]={type:"m3",value:te.toArray()}:te&&te.isMatrix4?A.uniforms[U]={type:"m4",value:te.toArray()}:A.uniforms[U]={value:te}}Object.keys(this.defines).length>0&&(A.defines=this.defines),A.vertexShader=this.vertexShader,A.fragmentShader=this.fragmentShader,A.lights=this.lights,A.clipping=this.clipping;const L={};for(const U in this.extensions)this.extensions[U]===!0&&(L[U]=!0);return Object.keys(L).length>0&&(A.extensions=L),A}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(T,A){return super.copy(T,A),this.matrixWorldInverse.copy(T.matrixWorldInverse),this.projectionMatrix.copy(T.projectionMatrix),this.projectionMatrixInverse.copy(T.projectionMatrixInverse),this.coordinateSystem=T.coordinateSystem,this}getWorldDirection(T){return super.getWorldDirection(T).negate()}updateMatrixWorld(T){super.updateMatrixWorld(T),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(T,A){super.updateWorldMatrix(T,A),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(T=50,A=1,L=.1,U=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=T,this.zoom=1,this.near=L,this.far=U,this.focus=10,this.aspect=A,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(T,A){return super.copy(T,A),this.fov=T.fov,this.zoom=T.zoom,this.near=T.near,this.far=T.far,this.focus=T.focus,this.aspect=T.aspect,this.view=T.view===null?null:Object.assign({},T.view),this.filmGauge=T.filmGauge,this.filmOffset=T.filmOffset,this}setFocalLength(T){const A=.5*this.getFilmHeight()/T;this.fov=RAD2DEG*2*Math.atan(A),this.updateProjectionMatrix()}getFocalLength(){const T=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/T}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(T,A,L){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),A.set(_v3$1.x,_v3$1.y).multiplyScalar(-T/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),L.set(_v3$1.x,_v3$1.y).multiplyScalar(-T/_v3$1.z)}getViewSize(T,A){return this.getViewBounds(T,_minTarget,_maxTarget),A.subVectors(_maxTarget,_minTarget)}setViewOffset(T,A,L,U,W,te){this.aspect=T/A,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=T,this.view.fullHeight=A,this.view.offsetX=L,this.view.offsetY=U,this.view.width=W,this.view.height=te,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const T=this.near;let A=T*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,L=2*A,U=this.aspect*L,W=-.5*U;const te=this.view;if(this.view!==null&&this.view.enabled){const ie=te.fullWidth,oe=te.fullHeight;W+=te.offsetX*U/ie,A-=te.offsetY*L/oe,U*=te.width/ie,L*=te.height/oe}const ne=this.filmOffset;ne!==0&&(W+=T*ne/this.getFilmWidth()),this.projectionMatrix.makePerspective(W,W+U,A,A-L,T,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(T){const A=super.toJSON(T);return A.object.fov=this.fov,A.object.zoom=this.zoom,A.object.near=this.near,A.object.far=this.far,A.object.focus=this.focus,A.object.aspect=this.aspect,this.view!==null&&(A.object.view=Object.assign({},this.view)),A.object.filmGauge=this.filmGauge,A.object.filmOffset=this.filmOffset,A}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(T,A,L){super(),this.type="CubeCamera",this.renderTarget=L,this.coordinateSystem=null,this.activeMipmapLevel=0;const U=new PerspectiveCamera(fov,aspect,T,A);U.layers=this.layers,this.add(U);const W=new PerspectiveCamera(fov,aspect,T,A);W.layers=this.layers,this.add(W);const te=new PerspectiveCamera(fov,aspect,T,A);te.layers=this.layers,this.add(te);const ne=new PerspectiveCamera(fov,aspect,T,A);ne.layers=this.layers,this.add(ne);const ie=new PerspectiveCamera(fov,aspect,T,A);ie.layers=this.layers,this.add(ie);const oe=new PerspectiveCamera(fov,aspect,T,A);oe.layers=this.layers,this.add(oe)}updateCoordinateSystem(){const T=this.coordinateSystem,A=this.children.concat(),[L,U,W,te,ne,ie]=A;for(const oe of A)this.remove(oe);if(T===WebGLCoordinateSystem)L.up.set(0,1,0),L.lookAt(1,0,0),U.up.set(0,1,0),U.lookAt(-1,0,0),W.up.set(0,0,-1),W.lookAt(0,1,0),te.up.set(0,0,1),te.lookAt(0,-1,0),ne.up.set(0,1,0),ne.lookAt(0,0,1),ie.up.set(0,1,0),ie.lookAt(0,0,-1);else if(T===WebGPUCoordinateSystem)L.up.set(0,-1,0),L.lookAt(-1,0,0),U.up.set(0,-1,0),U.lookAt(1,0,0),W.up.set(0,0,1),W.lookAt(0,1,0),te.up.set(0,0,-1),te.lookAt(0,-1,0),ne.up.set(0,-1,0),ne.lookAt(0,0,1),ie.up.set(0,-1,0),ie.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+T);for(const oe of A)this.add(oe),oe.updateMatrixWorld()}update(T,A){this.parent===null&&this.updateMatrixWorld();const{renderTarget:L,activeMipmapLevel:U}=this;this.coordinateSystem!==T.coordinateSystem&&(this.coordinateSystem=T.coordinateSystem,this.updateCoordinateSystem());const[W,te,ne,ie,oe,ae]=this.children,ce=T.getRenderTarget(),he=T.getActiveCubeFace(),ue=T.getActiveMipmapLevel(),pe=T.xr.enabled;T.xr.enabled=!1;const ge=L.texture.generateMipmaps;L.texture.generateMipmaps=!1,T.setRenderTarget(L,0,U),T.render(A,W),T.setRenderTarget(L,1,U),T.render(A,te),T.setRenderTarget(L,2,U),T.render(A,ne),T.setRenderTarget(L,3,U),T.render(A,ie),T.setRenderTarget(L,4,U),T.render(A,oe),L.texture.generateMipmaps=ge,T.setRenderTarget(L,5,U),T.render(A,ae),T.setRenderTarget(ce,he,ue),T.xr.enabled=pe,L.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(T,A,L,U,W,te,ne,ie,oe,ae){T=T!==void 0?T:[],A=A!==void 0?A:CubeReflectionMapping,super(T,A,L,U,W,te,ne,ie,oe,ae),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(T){this.image=T}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(T=1,A={}){super(T,T,A),this.isWebGLCubeRenderTarget=!0;const L={width:T,height:T,depth:1},U=[L,L,L,L,L,L];this.texture=new CubeTexture(U,A.mapping,A.wrapS,A.wrapT,A.magFilter,A.minFilter,A.format,A.type,A.anisotropy,A.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=A.generateMipmaps!==void 0?A.generateMipmaps:!1,this.texture.minFilter=A.minFilter!==void 0?A.minFilter:LinearFilter}fromEquirectangularTexture(T,A){this.texture.type=A.type,this.texture.colorSpace=A.colorSpace,this.texture.generateMipmaps=A.generateMipmaps,this.texture.minFilter=A.minFilter,this.texture.magFilter=A.magFilter;const L={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},U=new BoxGeometry(5,5,5),W=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(L.uniforms),vertexShader:L.vertexShader,fragmentShader:L.fragmentShader,side:BackSide,blending:NoBlending});W.uniforms.tEquirect.value=A;const te=new Mesh(U,W),ne=A.minFilter;return A.minFilter===LinearMipmapLinearFilter&&(A.minFilter=LinearFilter),new CubeCamera(1,10,this).update(T,te),A.minFilter=ne,te.geometry.dispose(),te.material.dispose(),this}clear(T,A,L,U){const W=T.getRenderTarget();for(let te=0;te<6;te++)T.setRenderTarget(this,te),T.clear(A,L,U);T.setRenderTarget(W)}}class FogExp2{constructor(T,A=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(T),this.density=A}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(T,A=1,L=1e3){this.isFog=!0,this.name="",this.color=new Color(T),this.near=A,this.far=L}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(T,A){return super.copy(T,A),T.background!==null&&(this.background=T.background.clone()),T.environment!==null&&(this.environment=T.environment.clone()),T.fog!==null&&(this.fog=T.fog.clone()),this.backgroundBlurriness=T.backgroundBlurriness,this.backgroundIntensity=T.backgroundIntensity,this.backgroundRotation.copy(T.backgroundRotation),this.environmentIntensity=T.environmentIntensity,this.environmentRotation.copy(T.environmentRotation),T.overrideMaterial!==null&&(this.overrideMaterial=T.overrideMaterial.clone()),this.matrixAutoUpdate=T.matrixAutoUpdate,this}toJSON(T){const A=super.toJSON(T);return this.fog!==null&&(A.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(A.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(A.object.backgroundIntensity=this.backgroundIntensity),A.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(A.object.environmentIntensity=this.environmentIntensity),A.object.environmentRotation=this.environmentRotation.toArray(),A}}class InterleavedBuffer{constructor(T,A){this.isInterleavedBuffer=!0,this.array=T,this.stride=A,this.count=T!==void 0?T.length/A:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(T){T===!0&&this.version++}setUsage(T){return this.usage=T,this}addUpdateRange(T,A){this.updateRanges.push({start:T,count:A})}clearUpdateRanges(){this.updateRanges.length=0}copy(T){return this.array=new T.array.constructor(T.array),this.count=T.count,this.stride=T.stride,this.usage=T.usage,this}copyAt(T,A,L){T*=this.stride,L*=A.stride;for(let U=0,W=this.stride;U<W;U++)this.array[T+U]=A.array[L+U];return this}set(T,A=0){return this.array.set(T,A),this}clone(T){T.arrayBuffers===void 0&&(T.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),T.arrayBuffers[this.array.buffer._uuid]===void 0&&(T.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const A=new this.array.constructor(T.arrayBuffers[this.array.buffer._uuid]),L=new this.constructor(A,this.stride);return L.setUsage(this.usage),L}onUpload(T){return this.onUploadCallback=T,this}toJSON(T){return T.arrayBuffers===void 0&&(T.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),T.arrayBuffers[this.array.buffer._uuid]===void 0&&(T.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(T,A,L,U=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=T,this.itemSize=A,this.offset=L,this.normalized=U}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(T){this.data.needsUpdate=T}applyMatrix4(T){for(let A=0,L=this.data.count;A<L;A++)_vector$7.fromBufferAttribute(this,A),_vector$7.applyMatrix4(T),this.setXYZ(A,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(T){for(let A=0,L=this.count;A<L;A++)_vector$7.fromBufferAttribute(this,A),_vector$7.applyNormalMatrix(T),this.setXYZ(A,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(T){for(let A=0,L=this.count;A<L;A++)_vector$7.fromBufferAttribute(this,A),_vector$7.transformDirection(T),this.setXYZ(A,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(T,A){let L=this.array[T*this.data.stride+this.offset+A];return this.normalized&&(L=denormalize(L,this.array)),L}setComponent(T,A,L){return this.normalized&&(L=normalize(L,this.array)),this.data.array[T*this.data.stride+this.offset+A]=L,this}setX(T,A){return this.normalized&&(A=normalize(A,this.array)),this.data.array[T*this.data.stride+this.offset]=A,this}setY(T,A){return this.normalized&&(A=normalize(A,this.array)),this.data.array[T*this.data.stride+this.offset+1]=A,this}setZ(T,A){return this.normalized&&(A=normalize(A,this.array)),this.data.array[T*this.data.stride+this.offset+2]=A,this}setW(T,A){return this.normalized&&(A=normalize(A,this.array)),this.data.array[T*this.data.stride+this.offset+3]=A,this}getX(T){let A=this.data.array[T*this.data.stride+this.offset];return this.normalized&&(A=denormalize(A,this.array)),A}getY(T){let A=this.data.array[T*this.data.stride+this.offset+1];return this.normalized&&(A=denormalize(A,this.array)),A}getZ(T){let A=this.data.array[T*this.data.stride+this.offset+2];return this.normalized&&(A=denormalize(A,this.array)),A}getW(T){let A=this.data.array[T*this.data.stride+this.offset+3];return this.normalized&&(A=denormalize(A,this.array)),A}setXY(T,A,L){return T=T*this.data.stride+this.offset,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array)),this.data.array[T+0]=A,this.data.array[T+1]=L,this}setXYZ(T,A,L,U){return T=T*this.data.stride+this.offset,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array),U=normalize(U,this.array)),this.data.array[T+0]=A,this.data.array[T+1]=L,this.data.array[T+2]=U,this}setXYZW(T,A,L,U,W){return T=T*this.data.stride+this.offset,this.normalized&&(A=normalize(A,this.array),L=normalize(L,this.array),U=normalize(U,this.array),W=normalize(W,this.array)),this.data.array[T+0]=A,this.data.array[T+1]=L,this.data.array[T+2]=U,this.data.array[T+3]=W,this}clone(T){if(T===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const A=[];for(let L=0;L<this.count;L++){const U=L*this.data.stride+this.offset;for(let W=0;W<this.itemSize;W++)A.push(this.data.array[U+W])}return new BufferAttribute(new this.array.constructor(A),this.itemSize,this.normalized)}else return T.interleavedBuffers===void 0&&(T.interleavedBuffers={}),T.interleavedBuffers[this.data.uuid]===void 0&&(T.interleavedBuffers[this.data.uuid]=this.data.clone(T)),new InterleavedBufferAttribute(T.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(T){if(T===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const A=[];for(let L=0;L<this.count;L++){const U=L*this.data.stride+this.offset;for(let W=0;W<this.itemSize;W++)A.push(this.data.array[U+W])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:A,normalized:this.normalized}}else return T.interleavedBuffers===void 0&&(T.interleavedBuffers={}),T.interleavedBuffers[this.data.uuid]===void 0&&(T.interleavedBuffers[this.data.uuid]=this.data.toJSON(T)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(T){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.map=T.map,this.alphaMap=T.alphaMap,this.rotation=T.rotation,this.sizeAttenuation=T.sizeAttenuation,this.fog=T.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(T=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const A=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),L=new InterleavedBuffer(A,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(L,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(L,2,3,!1))}this.geometry=_geometry,this.material=T,this.center=new Vector2(.5,.5)}raycast(T,A){T.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(T.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(T.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),T.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const L=this.material.rotation;let U,W;L!==0&&(W=Math.cos(L),U=Math.sin(L));const te=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,te,_worldScale,U,W),transformVertex(_vB.set(.5,-.5,0),_mvPosition,te,_worldScale,U,W),transformVertex(_vC.set(.5,.5,0),_mvPosition,te,_worldScale,U,W),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let ne=T.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(ne===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,te,_worldScale,U,W),_uvB.set(0,1),ne=T.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),ne===null))return;const ie=T.ray.origin.distanceTo(_intersectPoint);ie<T.near||ie>T.far||A.push({distance:ie,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(T,A){return super.copy(T,A),T.center!==void 0&&this.center.copy(T.center),this.material=T.material,this}}function transformVertex(P,T,A,L,U,W){_alignedPosition.subVectors(P,A).addScalar(.5).multiply(L),U!==void 0?(_rotatedPosition.x=W*_alignedPosition.x-U*_alignedPosition.y,_rotatedPosition.y=U*_alignedPosition.x+W*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),P.copy(T),P.x+=_rotatedPosition.x,P.y+=_rotatedPosition.y,P.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(T){super.copy(T,!1);const A=T.levels;for(let L=0,U=A.length;L<U;L++){const W=A[L];this.addLevel(W.object.clone(),W.distance,W.hysteresis)}return this.autoUpdate=T.autoUpdate,this}addLevel(T,A=0,L=0){A=Math.abs(A);const U=this.levels;let W;for(W=0;W<U.length&&!(A<U[W].distance);W++);return U.splice(W,0,{distance:A,hysteresis:L,object:T}),this.add(T),this}removeLevel(T){const A=this.levels;for(let L=0;L<A.length;L++)if(A[L].distance===T){const U=A.splice(L,1);return this.remove(U[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(T){const A=this.levels;if(A.length>0){let L,U;for(L=1,U=A.length;L<U;L++){let W=A[L].distance;if(A[L].object.visible&&(W-=W*A[L].hysteresis),T<W)break}return A[L-1].object}return null}raycast(T,A){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const U=T.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(U).raycast(T,A)}}update(T){const A=this.levels;if(A.length>1){_v1$2.setFromMatrixPosition(T.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const L=_v1$2.distanceTo(_v2$1)/T.zoom;A[0].object.visible=!0;let U,W;for(U=1,W=A.length;U<W;U++){let te=A[U].distance;if(A[U].object.visible&&(te-=te*A[U].hysteresis),L>=te)A[U-1].object.visible=!1,A[U].object.visible=!0;else break}for(this._currentLevel=U-1;U<W;U++)A[U].object.visible=!1}}toJSON(T){const A=super.toJSON(T);this.autoUpdate===!1&&(A.object.autoUpdate=!1),A.object.levels=[];const L=this.levels;for(let U=0,W=L.length;U<W;U++){const te=L[U];A.object.levels.push({object:te.object.uuid,distance:te.distance,hysteresis:te.hysteresis})}return A}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(T,A){super(T,A),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const T=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const A=T.getAttribute("position");for(let L=0;L<A.count;L++)this.getVertexPosition(L,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const T=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const A=T.getAttribute("position");for(let L=0;L<A.count;L++)this.getVertexPosition(L,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(T,A){return super.copy(T,A),this.bindMode=T.bindMode,this.bindMatrix.copy(T.bindMatrix),this.bindMatrixInverse.copy(T.bindMatrixInverse),this.skeleton=T.skeleton,T.boundingBox!==null&&(this.boundingBox=T.boundingBox.clone()),T.boundingSphere!==null&&(this.boundingSphere=T.boundingSphere.clone()),this}raycast(T,A){const L=this.material,U=this.matrixWorld;L!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(U),T.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(U).invert(),_ray$2.copy(T.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(T,A,_ray$2)))}getVertexPosition(T,A){return super.getVertexPosition(T,A),this.applyBoneTransform(T,A),A}bind(T,A){this.skeleton=T,A===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),A=this.matrixWorld),this.bindMatrix.copy(A),this.bindMatrixInverse.copy(A).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const T=new Vector4,A=this.geometry.attributes.skinWeight;for(let L=0,U=A.count;L<U;L++){T.fromBufferAttribute(A,L);const W=1/T.manhattanLength();W!==1/0?T.multiplyScalar(W):T.set(1,0,0,0),A.setXYZW(L,T.x,T.y,T.z,T.w)}}updateMatrixWorld(T){super.updateMatrixWorld(T),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(T,A){const L=this.skeleton,U=this.geometry;_skinIndex.fromBufferAttribute(U.attributes.skinIndex,T),_skinWeight.fromBufferAttribute(U.attributes.skinWeight,T),_basePosition.copy(A).applyMatrix4(this.bindMatrix),A.set(0,0,0);for(let W=0;W<4;W++){const te=_skinWeight.getComponent(W);if(te!==0){const ne=_skinIndex.getComponent(W);_matrix4.multiplyMatrices(L.bones[ne].matrixWorld,L.boneInverses[ne]),A.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),te)}}return A.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(T=null,A=1,L=1,U,W,te,ne,ie,oe=NearestFilter,ae=NearestFilter,ce,he){super(null,te,ne,ie,oe,ae,U,W,ce,he),this.isDataTexture=!0,this.image={data:T,width:A,height:L},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(T=[],A=[]){this.uuid=generateUUID(),this.bones=T.slice(0),this.boneInverses=A,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const T=this.bones,A=this.boneInverses;if(this.boneMatrices=new Float32Array(T.length*16),A.length===0)this.calculateInverses();else if(T.length!==A.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let L=0,U=this.bones.length;L<U;L++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let T=0,A=this.bones.length;T<A;T++){const L=new Matrix4;this.bones[T]&&L.copy(this.bones[T].matrixWorld).invert(),this.boneInverses.push(L)}}pose(){for(let T=0,A=this.bones.length;T<A;T++){const L=this.bones[T];L&&L.matrixWorld.copy(this.boneInverses[T]).invert()}for(let T=0,A=this.bones.length;T<A;T++){const L=this.bones[T];L&&(L.parent&&L.parent.isBone?(L.matrix.copy(L.parent.matrixWorld).invert(),L.matrix.multiply(L.matrixWorld)):L.matrix.copy(L.matrixWorld),L.matrix.decompose(L.position,L.quaternion,L.scale))}}update(){const T=this.bones,A=this.boneInverses,L=this.boneMatrices,U=this.boneTexture;for(let W=0,te=T.length;W<te;W++){const ne=T[W]?T[W].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(ne,A[W]),_offsetMatrix.toArray(L,W*16)}U!==null&&(U.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let T=Math.sqrt(this.bones.length*4);T=Math.ceil(T/4)*4,T=Math.max(T,4);const A=new Float32Array(T*T*4);A.set(this.boneMatrices);const L=new DataTexture(A,T,T,RGBAFormat,FloatType);return L.needsUpdate=!0,this.boneMatrices=A,this.boneTexture=L,this}getBoneByName(T){for(let A=0,L=this.bones.length;A<L;A++){const U=this.bones[A];if(U.name===T)return U}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(T,A){this.uuid=T.uuid;for(let L=0,U=T.bones.length;L<U;L++){const W=T.bones[L];let te=A[W];te===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",W),te=new Bone),this.bones.push(te),this.boneInverses.push(new Matrix4().fromArray(T.boneInverses[L]))}return this.init(),this}toJSON(){const T={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};T.uuid=this.uuid;const A=this.bones,L=this.boneInverses;for(let U=0,W=A.length;U<W;U++){const te=A[U];T.bones.push(te.uuid);const ne=L[U];T.boneInverses.push(ne.toArray())}return T}}class InstancedBufferAttribute extends BufferAttribute{constructor(T,A,L,U=1){super(T,A,L),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=U}copy(T){return super.copy(T),this.meshPerAttribute=T.meshPerAttribute,this}toJSON(){const T=super.toJSON();return T.meshPerAttribute=this.meshPerAttribute,T.isInstancedBufferAttribute=!0,T}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(T,A,L){super(T,A),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(L*16),16),this.instanceColor=null,this.morphTexture=null,this.count=L,this.boundingBox=null,this.boundingSphere=null;for(let U=0;U<L;U++)this.setMatrixAt(U,_identity)}computeBoundingBox(){const T=this.geometry,A=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),T.boundingBox===null&&T.computeBoundingBox(),this.boundingBox.makeEmpty();for(let L=0;L<A;L++)this.getMatrixAt(L,_instanceLocalMatrix),_box3.copy(T.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const T=this.geometry,A=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),T.boundingSphere===null&&T.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let L=0;L<A;L++)this.getMatrixAt(L,_instanceLocalMatrix),_sphere$4.copy(T.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(T,A){return super.copy(T,A),this.instanceMatrix.copy(T.instanceMatrix),T.morphTexture!==null&&(this.morphTexture=T.morphTexture.clone()),T.instanceColor!==null&&(this.instanceColor=T.instanceColor.clone()),this.count=T.count,T.boundingBox!==null&&(this.boundingBox=T.boundingBox.clone()),T.boundingSphere!==null&&(this.boundingSphere=T.boundingSphere.clone()),this}getColorAt(T,A){A.fromArray(this.instanceColor.array,T*3)}getMatrixAt(T,A){A.fromArray(this.instanceMatrix.array,T*16)}getMorphAt(T,A){const L=A.morphTargetInfluences,U=this.morphTexture.source.data.data,W=L.length+1,te=T*W+1;for(let ne=0;ne<L.length;ne++)L[ne]=U[te+ne]}raycast(T,A){const L=this.matrixWorld,U=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(L),T.ray.intersectsSphere(_sphere$4)!==!1))for(let W=0;W<U;W++){this.getMatrixAt(W,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(L,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(T,_instanceIntersects);for(let te=0,ne=_instanceIntersects.length;te<ne;te++){const ie=_instanceIntersects[te];ie.instanceId=W,ie.object=this,A.push(ie)}_instanceIntersects.length=0}}setColorAt(T,A){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),A.toArray(this.instanceColor.array,T*3)}setMatrixAt(T,A){A.toArray(this.instanceMatrix.array,T*16)}setMorphAt(T,A){const L=A.morphTargetInfluences,U=L.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(U*this.count),U,this.count,RedFormat,FloatType));const W=this.morphTexture.source.data.data;let te=0;for(let oe=0;oe<L.length;oe++)te+=L[oe];const ne=this.geometry.morphTargetsRelative?1:1-te,ie=U*T;W[ie]=ne,W.set(L,ie+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(T=new Vector3(1,0,0),A=0){this.isPlane=!0,this.normal=T,this.constant=A}set(T,A){return this.normal.copy(T),this.constant=A,this}setComponents(T,A,L,U){return this.normal.set(T,A,L),this.constant=U,this}setFromNormalAndCoplanarPoint(T,A){return this.normal.copy(T),this.constant=-A.dot(this.normal),this}setFromCoplanarPoints(T,A,L){const U=_vector1.subVectors(L,A).cross(_vector2.subVectors(T,A)).normalize();return this.setFromNormalAndCoplanarPoint(U,T),this}copy(T){return this.normal.copy(T.normal),this.constant=T.constant,this}normalize(){const T=1/this.normal.length();return this.normal.multiplyScalar(T),this.constant*=T,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(T){return this.normal.dot(T)+this.constant}distanceToSphere(T){return this.distanceToPoint(T.center)-T.radius}projectPoint(T,A){return A.copy(T).addScaledVector(this.normal,-this.distanceToPoint(T))}intersectLine(T,A){const L=T.delta(_vector1),U=this.normal.dot(L);if(U===0)return this.distanceToPoint(T.start)===0?A.copy(T.start):null;const W=-(T.start.dot(this.normal)+this.constant)/U;return W<0||W>1?null:A.copy(T.start).addScaledVector(L,W)}intersectsLine(T){const A=this.distanceToPoint(T.start),L=this.distanceToPoint(T.end);return A<0&&L>0||L<0&&A>0}intersectsBox(T){return T.intersectsPlane(this)}intersectsSphere(T){return T.intersectsPlane(this)}coplanarPoint(T){return T.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(T,A){const L=A||_normalMatrix.getNormalMatrix(T),U=this.coplanarPoint(_vector1).applyMatrix4(T),W=this.normal.applyMatrix3(L).normalize();return this.constant=-U.dot(W),this}translate(T){return this.constant-=T.dot(this.normal),this}equals(T){return T.normal.equals(this.normal)&&T.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(T=new Plane,A=new Plane,L=new Plane,U=new Plane,W=new Plane,te=new Plane){this.planes=[T,A,L,U,W,te]}set(T,A,L,U,W,te){const ne=this.planes;return ne[0].copy(T),ne[1].copy(A),ne[2].copy(L),ne[3].copy(U),ne[4].copy(W),ne[5].copy(te),this}copy(T){const A=this.planes;for(let L=0;L<6;L++)A[L].copy(T.planes[L]);return this}setFromProjectionMatrix(T,A=WebGLCoordinateSystem){const L=this.planes,U=T.elements,W=U[0],te=U[1],ne=U[2],ie=U[3],oe=U[4],ae=U[5],ce=U[6],he=U[7],ue=U[8],pe=U[9],ge=U[10],de=U[11],me=U[12],ye=U[13],xe=U[14],Se=U[15];if(L[0].setComponents(ie-W,he-oe,de-ue,Se-me).normalize(),L[1].setComponents(ie+W,he+oe,de+ue,Se+me).normalize(),L[2].setComponents(ie+te,he+ae,de+pe,Se+ye).normalize(),L[3].setComponents(ie-te,he-ae,de-pe,Se-ye).normalize(),L[4].setComponents(ie-ne,he-ce,de-ge,Se-xe).normalize(),A===WebGLCoordinateSystem)L[5].setComponents(ie+ne,he+ce,de+ge,Se+xe).normalize();else if(A===WebGPUCoordinateSystem)L[5].setComponents(ne,ce,ge,xe).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+A);return this}intersectsObject(T){if(T.boundingSphere!==void 0)T.boundingSphere===null&&T.computeBoundingSphere(),_sphere$3.copy(T.boundingSphere).applyMatrix4(T.matrixWorld);else{const A=T.geometry;A.boundingSphere===null&&A.computeBoundingSphere(),_sphere$3.copy(A.boundingSphere).applyMatrix4(T.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(T){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(T.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(T){const A=this.planes,L=T.center,U=-T.radius;for(let W=0;W<6;W++)if(A[W].distanceToPoint(L)<U)return!1;return!0}intersectsBox(T){const A=this.planes;for(let L=0;L<6;L++){const U=A[L];if(_vector$6.x=U.normal.x>0?T.max.x:T.min.x,_vector$6.y=U.normal.y>0?T.max.y:T.min.y,_vector$6.z=U.normal.z>0?T.max.z:T.min.z,U.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(T){const A=this.planes;for(let L=0;L<6;L++)if(A[L].distanceToPoint(T)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ascIdSort(P,T){return P-T}function sortOpaque(P,T){return P.z-T.z}function sortTransparent(P,T){return T.z-P.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(T,A,L,U){const W=this.pool,te=this.list;this.index>=W.length&&W.push({start:-1,count:-1,z:-1,index:-1});const ne=W[this.index];te.push(ne),this.index++,ne.start=T,ne.count=A,ne.z=L,ne.index=U}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color(1,1,1),_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(P,T,A=0){const L=T.itemSize;if(P.isInterleavedBufferAttribute||P.array.constructor!==T.array.constructor){const U=P.count;for(let W=0;W<U;W++)for(let te=0;te<L;te++)T.setComponent(W+A,te,P.getComponent(W,te))}else T.array.set(P.array,A*L);T.needsUpdate=!0}function copyArrayContents(P,T){if(P.constructor!==T.constructor){const A=Math.min(P.length,T.length);for(let L=0;L<A;L++)T[L]=P[L]}else{const A=Math.min(P.length,T.length);T.set(new P.constructor(P.buffer,0,A))}}class BatchedMesh extends Mesh{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(T,A,L=A*2,U){super(new BufferGeometry,U),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=T,this._maxVertexCount=A,this._maxIndexCount=L,this._multiDrawCounts=new Int32Array(T),this._multiDrawStarts=new Int32Array(T),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let T=Math.sqrt(this._maxInstanceCount*4);T=Math.ceil(T/4)*4,T=Math.max(T,4);const A=new Float32Array(T*T*4),L=new DataTexture(A,T,T,RGBAFormat,FloatType);this._matricesTexture=L}_initIndirectTexture(){let T=Math.sqrt(this._maxInstanceCount);T=Math.ceil(T);const A=new Uint32Array(T*T),L=new DataTexture(A,T,T,RedIntegerFormat,UnsignedIntType);this._indirectTexture=L}_initColorsTexture(){let T=Math.sqrt(this._maxInstanceCount);T=Math.ceil(T);const A=new Float32Array(T*T*4).fill(1),L=new DataTexture(A,T,T,RGBAFormat,FloatType);L.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=L}_initializeGeometry(T){const A=this.geometry,L=this._maxVertexCount,U=this._maxIndexCount;if(this._geometryInitialized===!1){for(const W in T.attributes){const te=T.getAttribute(W),{array:ne,itemSize:ie,normalized:oe}=te,ae=new ne.constructor(L*ie),ce=new BufferAttribute(ae,ie,oe);A.setAttribute(W,ce)}if(T.getIndex()!==null){const W=L>65535?new Uint32Array(U):new Uint16Array(U);A.setIndex(new BufferAttribute(W,1))}this._geometryInitialized=!0}}_validateGeometry(T){const A=this.geometry;if(!!T.getIndex()!=!!A.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const L in A.attributes){if(!T.hasAttribute(L))throw new Error(`THREE.BatchedMesh: Added geometry missing "${L}". All geometries must have consistent attributes.`);const U=T.getAttribute(L),W=A.getAttribute(L);if(U.itemSize!==W.itemSize||U.normalized!==W.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(T){const A=this._instanceInfo;if(T<0||T>=A.length||A[T].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${T}. Instance is either out of range or has been deleted.`)}validateGeometryId(T){const A=this._geometryInfo;if(T<0||T>=A.length||A[T].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${T}. Geometry is either out of range or has been deleted.`)}setCustomSort(T){return this.customSort=T,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const T=this.boundingBox,A=this._instanceInfo;T.makeEmpty();for(let L=0,U=A.length;L<U;L++){if(A[L].active===!1)continue;const W=A[L].geometryIndex;this.getMatrixAt(L,_matrix$1),this.getBoundingBoxAt(W,_box$1).applyMatrix4(_matrix$1),T.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const T=this.boundingSphere,A=this._instanceInfo;T.makeEmpty();for(let L=0,U=A.length;L<U;L++){if(A[L].active===!1)continue;const W=A[L].geometryIndex;this.getMatrixAt(L,_matrix$1),this.getBoundingSphereAt(W,_sphere$2).applyMatrix4(_matrix$1),T.union(_sphere$2)}}addInstance(T){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const L={visible:!0,active:!0,geometryIndex:T};let U=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),U=this._availableInstanceIds.shift(),this._instanceInfo[U]=L):(U=this._instanceInfo.length,this._instanceInfo.push(L));const W=this._matricesTexture;_matrix$1.identity().toArray(W.image.data,U*16),W.needsUpdate=!0;const te=this._colorsTexture;return te&&(_whiteColor.toArray(te.image.data,U*4),te.needsUpdate=!0),this._visibilityChanged=!0,U}addGeometry(T,A=-1,L=-1){this._initializeGeometry(T),this._validateGeometry(T);const U={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},W=this._geometryInfo;U.vertexStart=this._nextVertexStart,U.reservedVertexCount=A===-1?T.getAttribute("position").count:A;const te=T.getIndex();if(te!==null&&(U.indexStart=this._nextIndexStart,U.reservedIndexCount=L===-1?te.count:L),U.indexStart!==-1&&U.indexStart+U.reservedIndexCount>this._maxIndexCount||U.vertexStart+U.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let ie;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),ie=this._availableGeometryIds.shift(),W[ie]=U):(ie=this._geometryCount,this._geometryCount++,W.push(U)),this.setGeometryAt(ie,T),this._nextIndexStart=U.indexStart+U.reservedIndexCount,this._nextVertexStart=U.vertexStart+U.reservedVertexCount,ie}setGeometryAt(T,A){if(T>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(A);const L=this.geometry,U=L.getIndex()!==null,W=L.getIndex(),te=A.getIndex(),ne=this._geometryInfo[T];if(U&&te.count>ne.reservedIndexCount||A.attributes.position.count>ne.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const ie=ne.vertexStart,oe=ne.reservedVertexCount;ne.vertexCount=A.getAttribute("position").count;for(const ae in L.attributes){const ce=A.getAttribute(ae),he=L.getAttribute(ae);copyAttributeData(ce,he,ie);const ue=ce.itemSize;for(let pe=ce.count,ge=oe;pe<ge;pe++){const de=ie+pe;for(let me=0;me<ue;me++)he.setComponent(de,me,0)}he.needsUpdate=!0,he.addUpdateRange(ie*ue,oe*ue)}if(U){const ae=ne.indexStart,ce=ne.reservedIndexCount;ne.indexCount=A.getIndex().count;for(let he=0;he<te.count;he++)W.setX(ae+he,ie+te.getX(he));for(let he=te.count,ue=ce;he<ue;he++)W.setX(ae+he,ie);W.needsUpdate=!0,W.addUpdateRange(ae,ne.reservedIndexCount)}return ne.start=U?ne.indexStart:ne.vertexStart,ne.count=U?ne.indexCount:ne.vertexCount,ne.boundingBox=null,A.boundingBox!==null&&(ne.boundingBox=A.boundingBox.clone()),ne.boundingSphere=null,A.boundingSphere!==null&&(ne.boundingSphere=A.boundingSphere.clone()),this._visibilityChanged=!0,T}deleteGeometry(T){const A=this._geometryInfo;if(T>=A.length||A[T].active===!1)return this;const L=this._instanceInfo;for(let U=0,W=L.length;U<W;U++)L[U].geometryIndex===T&&this.deleteInstance(U);return A[T].active=!1,this._availableGeometryIds.push(T),this._visibilityChanged=!0,this}deleteInstance(T){return this.validateInstanceId(T),this._instanceInfo[T].active=!1,this._availableInstanceIds.push(T),this._visibilityChanged=!0,this}optimize(){let T=0,A=0;const L=this._geometryInfo,U=L.map((te,ne)=>ne).sort((te,ne)=>L[te].vertexStart-L[ne].vertexStart),W=this.geometry;for(let te=0,ne=L.length;te<ne;te++){const ie=U[te],oe=L[ie];if(oe.active!==!1){if(W.index!==null){if(oe.indexStart!==A){const{indexStart:ae,vertexStart:ce,reservedIndexCount:he}=oe,ue=W.index,pe=ue.array,ge=T-ce;for(let de=ae;de<ae+he;de++)pe[de]=pe[de]+ge;ue.array.copyWithin(A,ae,ae+he),ue.addUpdateRange(A,he),oe.indexStart=A}A+=oe.reservedIndexCount}if(oe.vertexStart!==T){const{vertexStart:ae,reservedVertexCount:ce}=oe,he=W.attributes;for(const ue in he){const pe=he[ue],{array:ge,itemSize:de}=pe;ge.copyWithin(T*de,ae*de,(ae+ce)*de),pe.addUpdateRange(T*de,ce*de)}oe.vertexStart=T}T+=oe.reservedVertexCount,oe.start=W.index?oe.indexStart:oe.vertexStart,this._nextIndexStart=W.index?oe.indexStart+oe.reservedIndexCount:0,this._nextVertexStart=oe.vertexStart+oe.reservedVertexCount}}return this}getBoundingBoxAt(T,A){if(T>=this._geometryCount)return null;const L=this.geometry,U=this._geometryInfo[T];if(U.boundingBox===null){const W=new Box3,te=L.index,ne=L.attributes.position;for(let ie=U.start,oe=U.start+U.count;ie<oe;ie++){let ae=ie;te&&(ae=te.getX(ae)),W.expandByPoint(_vector$5.fromBufferAttribute(ne,ae))}U.boundingBox=W}return A.copy(U.boundingBox),A}getBoundingSphereAt(T,A){if(T>=this._geometryCount)return null;const L=this.geometry,U=this._geometryInfo[T];if(U.boundingSphere===null){const W=new Sphere;this.getBoundingBoxAt(T,_box$1),_box$1.getCenter(W.center);const te=L.index,ne=L.attributes.position;let ie=0;for(let oe=U.start,ae=U.start+U.count;oe<ae;oe++){let ce=oe;te&&(ce=te.getX(ce)),_vector$5.fromBufferAttribute(ne,ce),ie=Math.max(ie,W.center.distanceToSquared(_vector$5))}W.radius=Math.sqrt(ie),U.boundingSphere=W}return A.copy(U.boundingSphere),A}setMatrixAt(T,A){this.validateInstanceId(T);const L=this._matricesTexture,U=this._matricesTexture.image.data;return A.toArray(U,T*16),L.needsUpdate=!0,this}getMatrixAt(T,A){return this.validateInstanceId(T),A.fromArray(this._matricesTexture.image.data,T*16)}setColorAt(T,A){return this.validateInstanceId(T),this._colorsTexture===null&&this._initColorsTexture(),A.toArray(this._colorsTexture.image.data,T*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(T,A){return this.validateInstanceId(T),A.fromArray(this._colorsTexture.image.data,T*4)}setVisibleAt(T,A){return this.validateInstanceId(T),this._instanceInfo[T].visible===A?this:(this._instanceInfo[T].visible=A,this._visibilityChanged=!0,this)}getVisibleAt(T){return this.validateInstanceId(T),this._instanceInfo[T].visible}setGeometryIdAt(T,A){return this.validateInstanceId(T),this.validateGeometryId(A),this._instanceInfo[T].geometryIndex=A,this}getGeometryIdAt(T){return this.validateInstanceId(T),this._instanceInfo[T].geometryIndex}getGeometryRangeAt(T,A={}){this.validateGeometryId(T);const L=this._geometryInfo[T];return A.vertexStart=L.vertexStart,A.vertexCount=L.vertexCount,A.reservedVertexCount=L.reservedVertexCount,A.indexStart=L.indexStart,A.indexCount=L.indexCount,A.reservedIndexCount=L.reservedIndexCount,A.start=L.start,A.count=L.count,A}setInstanceCount(T){const A=this._availableInstanceIds,L=this._instanceInfo;for(A.sort(ascIdSort);A[A.length-1]===L.length;)L.pop(),A.pop();if(T<L.length)throw new Error(`BatchedMesh: Instance ids outside the range ${T} are being used. Cannot shrink instance count.`);const U=new Int32Array(T),W=new Int32Array(T);copyArrayContents(this._multiDrawCounts,U),copyArrayContents(this._multiDrawStarts,W),this._multiDrawCounts=U,this._multiDrawStarts=W,this._maxInstanceCount=T;const te=this._indirectTexture,ne=this._matricesTexture,ie=this._colorsTexture;te.dispose(),this._initIndirectTexture(),copyArrayContents(te.image.data,this._indirectTexture.image.data),ne.dispose(),this._initMatricesTexture(),copyArrayContents(ne.image.data,this._matricesTexture.image.data),ie&&(ie.dispose(),this._initColorsTexture(),copyArrayContents(ie.image.data,this._colorsTexture.image.data))}setGeometrySize(T,A){const L=[...this._geometryInfo].filter(ne=>ne.active);if(Math.max(...L.map(ne=>ne.vertexStart+ne.reservedVertexCount))>T)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${A}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...L.map(ie=>ie.indexStart+ie.reservedIndexCount))>A)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${A}. Cannot shrink further.`);const W=this.geometry;W.dispose(),this._maxVertexCount=T,this._maxIndexCount=A,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(W));const te=this.geometry;W.index&&copyArrayContents(W.index.array,te.index.array);for(const ne in W.attributes)copyArrayContents(W.attributes[ne].array,te.attributes[ne].array)}raycast(T,A){const L=this._instanceInfo,U=this._geometryInfo,W=this.matrixWorld,te=this.geometry;_mesh.material=this.material,_mesh.geometry.index=te.index,_mesh.geometry.attributes=te.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let ne=0,ie=L.length;ne<ie;ne++){if(!L[ne].visible||!L[ne].active)continue;const oe=L[ne].geometryIndex,ae=U[oe];_mesh.geometry.setDrawRange(ae.start,ae.count),this.getMatrixAt(ne,_mesh.matrixWorld).premultiply(W),this.getBoundingBoxAt(oe,_mesh.geometry.boundingBox),this.getBoundingSphereAt(oe,_mesh.geometry.boundingSphere),_mesh.raycast(T,_batchIntersects);for(let ce=0,he=_batchIntersects.length;ce<he;ce++){const ue=_batchIntersects[ce];ue.object=this,ue.batchId=ne,A.push(ue)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(T){return super.copy(T),this.geometry=T.geometry.clone(),this.perObjectFrustumCulled=T.perObjectFrustumCulled,this.sortObjects=T.sortObjects,this.boundingBox=T.boundingBox!==null?T.boundingBox.clone():null,this.boundingSphere=T.boundingSphere!==null?T.boundingSphere.clone():null,this._geometryInfo=T._geometryInfo.map(A=>({...A,boundingBox:A.boundingBox!==null?A.boundingBox.clone():null,boundingSphere:A.boundingSphere!==null?A.boundingSphere.clone():null})),this._instanceInfo=T._instanceInfo.map(A=>({...A})),this._maxInstanceCount=T._maxInstanceCount,this._maxVertexCount=T._maxVertexCount,this._maxIndexCount=T._maxIndexCount,this._geometryInitialized=T._geometryInitialized,this._geometryCount=T._geometryCount,this._multiDrawCounts=T._multiDrawCounts.slice(),this._multiDrawStarts=T._multiDrawStarts.slice(),this._matricesTexture=T._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=T._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(T,A,L,U,W){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const te=U.getIndex(),ne=te===null?1:te.array.BYTES_PER_ELEMENT,ie=this._instanceInfo,oe=this._multiDrawStarts,ae=this._multiDrawCounts,ce=this._geometryInfo,he=this.perObjectFrustumCulled,ue=this._indirectTexture,pe=ue.image.data;he&&(_matrix$1.multiplyMatrices(L.projectionMatrix,L.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,T.coordinateSystem));let ge=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(L.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(L.matrixWorld).transformDirection(_matrix$1);for(let ye=0,xe=ie.length;ye<xe;ye++)if(ie[ye].visible&&ie[ye].active){const Se=ie[ye].geometryIndex;this.getMatrixAt(ye,_matrix$1),this.getBoundingSphereAt(Se,_sphere$2).applyMatrix4(_matrix$1);let Te=!1;if(he&&(Te=!_frustum.intersectsSphere(_sphere$2)),!Te){const be=ce[Se],Pe=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(be.start,be.count,Pe,ye)}}const de=_renderList.list,me=this.customSort;me===null?de.sort(W.transparent?sortTransparent:sortOpaque):me.call(this,de,L);for(let ye=0,xe=de.length;ye<xe;ye++){const Se=de[ye];oe[ge]=Se.start*ne,ae[ge]=Se.count,pe[ge]=Se.index,ge++}_renderList.reset()}else for(let de=0,me=ie.length;de<me;de++)if(ie[de].visible&&ie[de].active){const ye=ie[de].geometryIndex;let xe=!1;if(he&&(this.getMatrixAt(de,_matrix$1),this.getBoundingSphereAt(ye,_sphere$2).applyMatrix4(_matrix$1),xe=!_frustum.intersectsSphere(_sphere$2)),!xe){const Se=ce[ye];oe[ge]=Se.start*ne,ae[ge]=Se.count,pe[ge]=de,ge++}}ue.needsUpdate=!0,this._multiDrawCount=ge,this._visibilityChanged=!1}onBeforeShadow(T,A,L,U,W,te){this.onBeforeRender(T,null,U,W,te)}}class LineBasicMaterial extends Material{constructor(T){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.map=T.map,this.linewidth=T.linewidth,this.linecap=T.linecap,this.linejoin=T.linejoin,this.fog=T.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(T=new BufferGeometry,A=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=T,this.material=A,this.updateMorphTargets()}copy(T,A){return super.copy(T,A),this.material=Array.isArray(T.material)?T.material.slice():T.material,this.geometry=T.geometry,this}computeLineDistances(){const T=this.geometry;if(T.index===null){const A=T.attributes.position,L=[0];for(let U=1,W=A.count;U<W;U++)_vStart.fromBufferAttribute(A,U-1),_vEnd.fromBufferAttribute(A,U),L[U]=L[U-1],L[U]+=_vStart.distanceTo(_vEnd);T.setAttribute("lineDistance",new Float32BufferAttribute(L,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(T,A){const L=this.geometry,U=this.matrixWorld,W=T.params.Line.threshold,te=L.drawRange;if(L.boundingSphere===null&&L.computeBoundingSphere(),_sphere$1.copy(L.boundingSphere),_sphere$1.applyMatrix4(U),_sphere$1.radius+=W,T.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(U).invert(),_ray$1.copy(T.ray).applyMatrix4(_inverseMatrix$1);const ne=W/((this.scale.x+this.scale.y+this.scale.z)/3),ie=ne*ne,oe=this.isLineSegments?2:1,ae=L.index,he=L.attributes.position;if(ae!==null){const ue=Math.max(0,te.start),pe=Math.min(ae.count,te.start+te.count);for(let ge=ue,de=pe-1;ge<de;ge+=oe){const me=ae.getX(ge),ye=ae.getX(ge+1),xe=checkIntersection(this,T,_ray$1,ie,me,ye);xe&&A.push(xe)}if(this.isLineLoop){const ge=ae.getX(pe-1),de=ae.getX(ue),me=checkIntersection(this,T,_ray$1,ie,ge,de);me&&A.push(me)}}else{const ue=Math.max(0,te.start),pe=Math.min(he.count,te.start+te.count);for(let ge=ue,de=pe-1;ge<de;ge+=oe){const me=checkIntersection(this,T,_ray$1,ie,ge,ge+1);me&&A.push(me)}if(this.isLineLoop){const ge=checkIntersection(this,T,_ray$1,ie,pe-1,ue);ge&&A.push(ge)}}}updateMorphTargets(){const A=this.geometry.morphAttributes,L=Object.keys(A);if(L.length>0){const U=A[L[0]];if(U!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W=0,te=U.length;W<te;W++){const ne=U[W].name||String(W);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ne]=W}}}}}function checkIntersection(P,T,A,L,U,W){const te=P.geometry.attributes.position;if(_vStart.fromBufferAttribute(te,U),_vEnd.fromBufferAttribute(te,W),A.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>L)return;_intersectPointOnRay.applyMatrix4(P.matrixWorld);const ie=T.ray.origin.distanceTo(_intersectPointOnRay);if(!(ie<T.near||ie>T.far))return{distance:ie,point:_intersectPointOnSegment.clone().applyMatrix4(P.matrixWorld),index:U,face:null,faceIndex:null,barycoord:null,object:P}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(T,A){super(T,A),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const T=this.geometry;if(T.index===null){const A=T.attributes.position,L=[];for(let U=0,W=A.count;U<W;U+=2)_start.fromBufferAttribute(A,U),_end.fromBufferAttribute(A,U+1),L[U]=U===0?0:L[U-1],L[U+1]=L[U]+_start.distanceTo(_end);T.setAttribute("lineDistance",new Float32BufferAttribute(L,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(T,A){super(T,A),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(T){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.map=T.map,this.alphaMap=T.alphaMap,this.size=T.size,this.sizeAttenuation=T.sizeAttenuation,this.fog=T.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(T=new BufferGeometry,A=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=T,this.material=A,this.updateMorphTargets()}copy(T,A){return super.copy(T,A),this.material=Array.isArray(T.material)?T.material.slice():T.material,this.geometry=T.geometry,this}raycast(T,A){const L=this.geometry,U=this.matrixWorld,W=T.params.Points.threshold,te=L.drawRange;if(L.boundingSphere===null&&L.computeBoundingSphere(),_sphere.copy(L.boundingSphere),_sphere.applyMatrix4(U),_sphere.radius+=W,T.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(U).invert(),_ray.copy(T.ray).applyMatrix4(_inverseMatrix);const ne=W/((this.scale.x+this.scale.y+this.scale.z)/3),ie=ne*ne,oe=L.index,ce=L.attributes.position;if(oe!==null){const he=Math.max(0,te.start),ue=Math.min(oe.count,te.start+te.count);for(let pe=he,ge=ue;pe<ge;pe++){const de=oe.getX(pe);_position$2.fromBufferAttribute(ce,de),testPoint(_position$2,de,ie,U,T,A,this)}}else{const he=Math.max(0,te.start),ue=Math.min(ce.count,te.start+te.count);for(let pe=he,ge=ue;pe<ge;pe++)_position$2.fromBufferAttribute(ce,pe),testPoint(_position$2,pe,ie,U,T,A,this)}}updateMorphTargets(){const A=this.geometry.morphAttributes,L=Object.keys(A);if(L.length>0){const U=A[L[0]];if(U!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W=0,te=U.length;W<te;W++){const ne=U[W].name||String(W);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ne]=W}}}}}function testPoint(P,T,A,L,U,W,te){const ne=_ray.distanceSqToPoint(P);if(ne<A){const ie=new Vector3;_ray.closestPointToPoint(P,ie),ie.applyMatrix4(L);const oe=U.ray.origin.distanceTo(ie);if(oe<U.near||oe>U.far)return;W.push({distance:oe,distanceToRay:Math.sqrt(ne),point:ie,index:T,face:null,faceIndex:null,barycoord:null,object:te})}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}class VideoTexture extends Texture{constructor(T,A,L,U,W,te,ne,ie,oe){super(T,A,L,U,W,te,ne,ie,oe),this.isVideoTexture=!0,this.minFilter=te!==void 0?te:LinearFilter,this.magFilter=W!==void 0?W:LinearFilter,this.generateMipmaps=!1;const ae=this;function ce(){ae.needsUpdate=!0,T.requestVideoFrameCallback(ce)}"requestVideoFrameCallback"in T&&T.requestVideoFrameCallback(ce)}clone(){return new this.constructor(this.image).copy(this)}update(){const T=this.image;"requestVideoFrameCallback"in T===!1&&T.readyState>=T.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(T,A){super({width:T,height:A}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(T,A,L,U,W,te,ne,ie,oe,ae,ce,he){super(null,te,ne,ie,oe,ae,U,W,ce,he),this.isCompressedTexture=!0,this.image={width:A,height:L},this.mipmaps=T,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(T,A,L,U,W,te){super(T,A,L,W,te),this.isCompressedArrayTexture=!0,this.image.depth=U,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(T){this.layerUpdates.add(T)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(T,A,L){super(void 0,T[0].width,T[0].height,A,L,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=T}}class CanvasTexture extends Texture{constructor(T,A,L,U,W,te,ne,ie,oe){super(T,A,L,U,W,te,ne,ie,oe),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(T,A,L,U,W,te,ne,ie,oe,ae=DepthFormat){if(ae!==DepthFormat&&ae!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");L===void 0&&ae===DepthFormat&&(L=UnsignedIntType),L===void 0&&ae===DepthStencilFormat&&(L=UnsignedInt248Type),super(null,U,W,te,ne,ie,ae,L,oe),this.isDepthTexture=!0,this.image={width:T,height:A},this.magFilter=ne!==void 0?ne:NearestFilter,this.minFilter=ie!==void 0?ie:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(T){return super.copy(T),this.compareFunction=T.compareFunction,this}toJSON(T){const A=super.toJSON(T);return this.compareFunction!==null&&(A.compareFunction=this.compareFunction),A}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(T,A){const L=this.getUtoTmapping(T);return this.getPoint(L,A)}getPoints(T=5){const A=[];for(let L=0;L<=T;L++)A.push(this.getPoint(L/T));return A}getSpacedPoints(T=5){const A=[];for(let L=0;L<=T;L++)A.push(this.getPointAt(L/T));return A}getLength(){const T=this.getLengths();return T[T.length-1]}getLengths(T=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===T+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const A=[];let L,U=this.getPoint(0),W=0;A.push(0);for(let te=1;te<=T;te++)L=this.getPoint(te/T),W+=L.distanceTo(U),A.push(W),U=L;return this.cacheArcLengths=A,A}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(T,A){const L=this.getLengths();let U=0;const W=L.length;let te;A?te=A:te=T*L[W-1];let ne=0,ie=W-1,oe;for(;ne<=ie;)if(U=Math.floor(ne+(ie-ne)/2),oe=L[U]-te,oe<0)ne=U+1;else if(oe>0)ie=U-1;else{ie=U;break}if(U=ie,L[U]===te)return U/(W-1);const ae=L[U],he=L[U+1]-ae,ue=(te-ae)/he;return(U+ue)/(W-1)}getTangent(T,A){let U=T-1e-4,W=T+1e-4;U<0&&(U=0),W>1&&(W=1);const te=this.getPoint(U),ne=this.getPoint(W),ie=A||(te.isVector2?new Vector2:new Vector3);return ie.copy(ne).sub(te).normalize(),ie}getTangentAt(T,A){const L=this.getUtoTmapping(T);return this.getTangent(L,A)}computeFrenetFrames(T,A){const L=new Vector3,U=[],W=[],te=[],ne=new Vector3,ie=new Matrix4;for(let ue=0;ue<=T;ue++){const pe=ue/T;U[ue]=this.getTangentAt(pe,new Vector3)}W[0]=new Vector3,te[0]=new Vector3;let oe=Number.MAX_VALUE;const ae=Math.abs(U[0].x),ce=Math.abs(U[0].y),he=Math.abs(U[0].z);ae<=oe&&(oe=ae,L.set(1,0,0)),ce<=oe&&(oe=ce,L.set(0,1,0)),he<=oe&&L.set(0,0,1),ne.crossVectors(U[0],L).normalize(),W[0].crossVectors(U[0],ne),te[0].crossVectors(U[0],W[0]);for(let ue=1;ue<=T;ue++){if(W[ue]=W[ue-1].clone(),te[ue]=te[ue-1].clone(),ne.crossVectors(U[ue-1],U[ue]),ne.length()>Number.EPSILON){ne.normalize();const pe=Math.acos(clamp(U[ue-1].dot(U[ue]),-1,1));W[ue].applyMatrix4(ie.makeRotationAxis(ne,pe))}te[ue].crossVectors(U[ue],W[ue])}if(A===!0){let ue=Math.acos(clamp(W[0].dot(W[T]),-1,1));ue/=T,U[0].dot(ne.crossVectors(W[0],W[T]))>0&&(ue=-ue);for(let pe=1;pe<=T;pe++)W[pe].applyMatrix4(ie.makeRotationAxis(U[pe],ue*pe)),te[pe].crossVectors(U[pe],W[pe])}return{tangents:U,normals:W,binormals:te}}clone(){return new this.constructor().copy(this)}copy(T){return this.arcLengthDivisions=T.arcLengthDivisions,this}toJSON(){const T={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return T.arcLengthDivisions=this.arcLengthDivisions,T.type=this.type,T}fromJSON(T){return this.arcLengthDivisions=T.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(T=0,A=0,L=1,U=1,W=0,te=Math.PI*2,ne=!1,ie=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=T,this.aY=A,this.xRadius=L,this.yRadius=U,this.aStartAngle=W,this.aEndAngle=te,this.aClockwise=ne,this.aRotation=ie}getPoint(T,A=new Vector2){const L=A,U=Math.PI*2;let W=this.aEndAngle-this.aStartAngle;const te=Math.abs(W)<Number.EPSILON;for(;W<0;)W+=U;for(;W>U;)W-=U;W<Number.EPSILON&&(te?W=0:W=U),this.aClockwise===!0&&!te&&(W===U?W=-U:W=W-U);const ne=this.aStartAngle+T*W;let ie=this.aX+this.xRadius*Math.cos(ne),oe=this.aY+this.yRadius*Math.sin(ne);if(this.aRotation!==0){const ae=Math.cos(this.aRotation),ce=Math.sin(this.aRotation),he=ie-this.aX,ue=oe-this.aY;ie=he*ae-ue*ce+this.aX,oe=he*ce+ue*ae+this.aY}return L.set(ie,oe)}copy(T){return super.copy(T),this.aX=T.aX,this.aY=T.aY,this.xRadius=T.xRadius,this.yRadius=T.yRadius,this.aStartAngle=T.aStartAngle,this.aEndAngle=T.aEndAngle,this.aClockwise=T.aClockwise,this.aRotation=T.aRotation,this}toJSON(){const T=super.toJSON();return T.aX=this.aX,T.aY=this.aY,T.xRadius=this.xRadius,T.yRadius=this.yRadius,T.aStartAngle=this.aStartAngle,T.aEndAngle=this.aEndAngle,T.aClockwise=this.aClockwise,T.aRotation=this.aRotation,T}fromJSON(T){return super.fromJSON(T),this.aX=T.aX,this.aY=T.aY,this.xRadius=T.xRadius,this.yRadius=T.yRadius,this.aStartAngle=T.aStartAngle,this.aEndAngle=T.aEndAngle,this.aClockwise=T.aClockwise,this.aRotation=T.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(T,A,L,U,W,te){super(T,A,L,L,U,W,te),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let P=0,T=0,A=0,L=0;function U(W,te,ne,ie){P=W,T=ne,A=-3*W+3*te-2*ne-ie,L=2*W-2*te+ne+ie}return{initCatmullRom:function(W,te,ne,ie,oe){U(te,ne,oe*(ne-W),oe*(ie-te))},initNonuniformCatmullRom:function(W,te,ne,ie,oe,ae,ce){let he=(te-W)/oe-(ne-W)/(oe+ae)+(ne-te)/ae,ue=(ne-te)/ae-(ie-te)/(ae+ce)+(ie-ne)/ce;he*=ae,ue*=ae,U(te,ne,he,ue)},calc:function(W){const te=W*W,ne=te*W;return P+T*W+A*te+L*ne}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(T=[],A=!1,L="centripetal",U=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=T,this.closed=A,this.curveType=L,this.tension=U}getPoint(T,A=new Vector3){const L=A,U=this.points,W=U.length,te=(W-(this.closed?0:1))*T;let ne=Math.floor(te),ie=te-ne;this.closed?ne+=ne>0?0:(Math.floor(Math.abs(ne)/W)+1)*W:ie===0&&ne===W-1&&(ne=W-2,ie=1);let oe,ae;this.closed||ne>0?oe=U[(ne-1)%W]:(tmp.subVectors(U[0],U[1]).add(U[0]),oe=tmp);const ce=U[ne%W],he=U[(ne+1)%W];if(this.closed||ne+2<W?ae=U[(ne+2)%W]:(tmp.subVectors(U[W-1],U[W-2]).add(U[W-1]),ae=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ue=this.curveType==="chordal"?.5:.25;let pe=Math.pow(oe.distanceToSquared(ce),ue),ge=Math.pow(ce.distanceToSquared(he),ue),de=Math.pow(he.distanceToSquared(ae),ue);ge<1e-4&&(ge=1),pe<1e-4&&(pe=ge),de<1e-4&&(de=ge),px.initNonuniformCatmullRom(oe.x,ce.x,he.x,ae.x,pe,ge,de),py.initNonuniformCatmullRom(oe.y,ce.y,he.y,ae.y,pe,ge,de),pz.initNonuniformCatmullRom(oe.z,ce.z,he.z,ae.z,pe,ge,de)}else this.curveType==="catmullrom"&&(px.initCatmullRom(oe.x,ce.x,he.x,ae.x,this.tension),py.initCatmullRom(oe.y,ce.y,he.y,ae.y,this.tension),pz.initCatmullRom(oe.z,ce.z,he.z,ae.z,this.tension));return L.set(px.calc(ie),py.calc(ie),pz.calc(ie)),L}copy(T){super.copy(T),this.points=[];for(let A=0,L=T.points.length;A<L;A++){const U=T.points[A];this.points.push(U.clone())}return this.closed=T.closed,this.curveType=T.curveType,this.tension=T.tension,this}toJSON(){const T=super.toJSON();T.points=[];for(let A=0,L=this.points.length;A<L;A++){const U=this.points[A];T.points.push(U.toArray())}return T.closed=this.closed,T.curveType=this.curveType,T.tension=this.tension,T}fromJSON(T){super.fromJSON(T),this.points=[];for(let A=0,L=T.points.length;A<L;A++){const U=T.points[A];this.points.push(new Vector3().fromArray(U))}return this.closed=T.closed,this.curveType=T.curveType,this.tension=T.tension,this}}function CatmullRom(P,T,A,L,U){const W=(L-T)*.5,te=(U-A)*.5,ne=P*P,ie=P*ne;return(2*A-2*L+W+te)*ie+(-3*A+3*L-2*W-te)*ne+W*P+A}function QuadraticBezierP0(P,T){const A=1-P;return A*A*T}function QuadraticBezierP1(P,T){return 2*(1-P)*P*T}function QuadraticBezierP2(P,T){return P*P*T}function QuadraticBezier(P,T,A,L){return QuadraticBezierP0(P,T)+QuadraticBezierP1(P,A)+QuadraticBezierP2(P,L)}function CubicBezierP0(P,T){const A=1-P;return A*A*A*T}function CubicBezierP1(P,T){const A=1-P;return 3*A*A*P*T}function CubicBezierP2(P,T){return 3*(1-P)*P*P*T}function CubicBezierP3(P,T){return P*P*P*T}function CubicBezier(P,T,A,L,U){return CubicBezierP0(P,T)+CubicBezierP1(P,A)+CubicBezierP2(P,L)+CubicBezierP3(P,U)}class CubicBezierCurve extends Curve{constructor(T=new Vector2,A=new Vector2,L=new Vector2,U=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=T,this.v1=A,this.v2=L,this.v3=U}getPoint(T,A=new Vector2){const L=A,U=this.v0,W=this.v1,te=this.v2,ne=this.v3;return L.set(CubicBezier(T,U.x,W.x,te.x,ne.x),CubicBezier(T,U.y,W.y,te.y,ne.y)),L}copy(T){return super.copy(T),this.v0.copy(T.v0),this.v1.copy(T.v1),this.v2.copy(T.v2),this.v3.copy(T.v3),this}toJSON(){const T=super.toJSON();return T.v0=this.v0.toArray(),T.v1=this.v1.toArray(),T.v2=this.v2.toArray(),T.v3=this.v3.toArray(),T}fromJSON(T){return super.fromJSON(T),this.v0.fromArray(T.v0),this.v1.fromArray(T.v1),this.v2.fromArray(T.v2),this.v3.fromArray(T.v3),this}}class CubicBezierCurve3 extends Curve{constructor(T=new Vector3,A=new Vector3,L=new Vector3,U=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=T,this.v1=A,this.v2=L,this.v3=U}getPoint(T,A=new Vector3){const L=A,U=this.v0,W=this.v1,te=this.v2,ne=this.v3;return L.set(CubicBezier(T,U.x,W.x,te.x,ne.x),CubicBezier(T,U.y,W.y,te.y,ne.y),CubicBezier(T,U.z,W.z,te.z,ne.z)),L}copy(T){return super.copy(T),this.v0.copy(T.v0),this.v1.copy(T.v1),this.v2.copy(T.v2),this.v3.copy(T.v3),this}toJSON(){const T=super.toJSON();return T.v0=this.v0.toArray(),T.v1=this.v1.toArray(),T.v2=this.v2.toArray(),T.v3=this.v3.toArray(),T}fromJSON(T){return super.fromJSON(T),this.v0.fromArray(T.v0),this.v1.fromArray(T.v1),this.v2.fromArray(T.v2),this.v3.fromArray(T.v3),this}}class LineCurve extends Curve{constructor(T=new Vector2,A=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=T,this.v2=A}getPoint(T,A=new Vector2){const L=A;return T===1?L.copy(this.v2):(L.copy(this.v2).sub(this.v1),L.multiplyScalar(T).add(this.v1)),L}getPointAt(T,A){return this.getPoint(T,A)}getTangent(T,A=new Vector2){return A.subVectors(this.v2,this.v1).normalize()}getTangentAt(T,A){return this.getTangent(T,A)}copy(T){return super.copy(T),this.v1.copy(T.v1),this.v2.copy(T.v2),this}toJSON(){const T=super.toJSON();return T.v1=this.v1.toArray(),T.v2=this.v2.toArray(),T}fromJSON(T){return super.fromJSON(T),this.v1.fromArray(T.v1),this.v2.fromArray(T.v2),this}}class LineCurve3 extends Curve{constructor(T=new Vector3,A=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=T,this.v2=A}getPoint(T,A=new Vector3){const L=A;return T===1?L.copy(this.v2):(L.copy(this.v2).sub(this.v1),L.multiplyScalar(T).add(this.v1)),L}getPointAt(T,A){return this.getPoint(T,A)}getTangent(T,A=new Vector3){return A.subVectors(this.v2,this.v1).normalize()}getTangentAt(T,A){return this.getTangent(T,A)}copy(T){return super.copy(T),this.v1.copy(T.v1),this.v2.copy(T.v2),this}toJSON(){const T=super.toJSON();return T.v1=this.v1.toArray(),T.v2=this.v2.toArray(),T}fromJSON(T){return super.fromJSON(T),this.v1.fromArray(T.v1),this.v2.fromArray(T.v2),this}}class QuadraticBezierCurve extends Curve{constructor(T=new Vector2,A=new Vector2,L=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=T,this.v1=A,this.v2=L}getPoint(T,A=new Vector2){const L=A,U=this.v0,W=this.v1,te=this.v2;return L.set(QuadraticBezier(T,U.x,W.x,te.x),QuadraticBezier(T,U.y,W.y,te.y)),L}copy(T){return super.copy(T),this.v0.copy(T.v0),this.v1.copy(T.v1),this.v2.copy(T.v2),this}toJSON(){const T=super.toJSON();return T.v0=this.v0.toArray(),T.v1=this.v1.toArray(),T.v2=this.v2.toArray(),T}fromJSON(T){return super.fromJSON(T),this.v0.fromArray(T.v0),this.v1.fromArray(T.v1),this.v2.fromArray(T.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(T=new Vector3,A=new Vector3,L=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=T,this.v1=A,this.v2=L}getPoint(T,A=new Vector3){const L=A,U=this.v0,W=this.v1,te=this.v2;return L.set(QuadraticBezier(T,U.x,W.x,te.x),QuadraticBezier(T,U.y,W.y,te.y),QuadraticBezier(T,U.z,W.z,te.z)),L}copy(T){return super.copy(T),this.v0.copy(T.v0),this.v1.copy(T.v1),this.v2.copy(T.v2),this}toJSON(){const T=super.toJSON();return T.v0=this.v0.toArray(),T.v1=this.v1.toArray(),T.v2=this.v2.toArray(),T}fromJSON(T){return super.fromJSON(T),this.v0.fromArray(T.v0),this.v1.fromArray(T.v1),this.v2.fromArray(T.v2),this}}class SplineCurve extends Curve{constructor(T=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=T}getPoint(T,A=new Vector2){const L=A,U=this.points,W=(U.length-1)*T,te=Math.floor(W),ne=W-te,ie=U[te===0?te:te-1],oe=U[te],ae=U[te>U.length-2?U.length-1:te+1],ce=U[te>U.length-3?U.length-1:te+2];return L.set(CatmullRom(ne,ie.x,oe.x,ae.x,ce.x),CatmullRom(ne,ie.y,oe.y,ae.y,ce.y)),L}copy(T){super.copy(T),this.points=[];for(let A=0,L=T.points.length;A<L;A++){const U=T.points[A];this.points.push(U.clone())}return this}toJSON(){const T=super.toJSON();T.points=[];for(let A=0,L=this.points.length;A<L;A++){const U=this.points[A];T.points.push(U.toArray())}return T}fromJSON(T){super.fromJSON(T),this.points=[];for(let A=0,L=T.points.length;A<L;A++){const U=T.points[A];this.points.push(new Vector2().fromArray(U))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(T){this.curves.push(T)}closePath(){const T=this.curves[0].getPoint(0),A=this.curves[this.curves.length-1].getPoint(1);if(!T.equals(A)){const L=T.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[L](A,T))}return this}getPoint(T,A){const L=T*this.getLength(),U=this.getCurveLengths();let W=0;for(;W<U.length;){if(U[W]>=L){const te=U[W]-L,ne=this.curves[W],ie=ne.getLength(),oe=ie===0?0:1-te/ie;return ne.getPointAt(oe,A)}W++}return null}getLength(){const T=this.getCurveLengths();return T[T.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const T=[];let A=0;for(let L=0,U=this.curves.length;L<U;L++)A+=this.curves[L].getLength(),T.push(A);return this.cacheLengths=T,T}getSpacedPoints(T=40){const A=[];for(let L=0;L<=T;L++)A.push(this.getPoint(L/T));return this.autoClose&&A.push(A[0]),A}getPoints(T=12){const A=[];let L;for(let U=0,W=this.curves;U<W.length;U++){const te=W[U],ne=te.isEllipseCurve?T*2:te.isLineCurve||te.isLineCurve3?1:te.isSplineCurve?T*te.points.length:T,ie=te.getPoints(ne);for(let oe=0;oe<ie.length;oe++){const ae=ie[oe];L&&L.equals(ae)||(A.push(ae),L=ae)}}return this.autoClose&&A.length>1&&!A[A.length-1].equals(A[0])&&A.push(A[0]),A}copy(T){super.copy(T),this.curves=[];for(let A=0,L=T.curves.length;A<L;A++){const U=T.curves[A];this.curves.push(U.clone())}return this.autoClose=T.autoClose,this}toJSON(){const T=super.toJSON();T.autoClose=this.autoClose,T.curves=[];for(let A=0,L=this.curves.length;A<L;A++){const U=this.curves[A];T.curves.push(U.toJSON())}return T}fromJSON(T){super.fromJSON(T),this.autoClose=T.autoClose,this.curves=[];for(let A=0,L=T.curves.length;A<L;A++){const U=T.curves[A];this.curves.push(new Curves[U.type]().fromJSON(U))}return this}}class Path extends CurvePath{constructor(T){super(),this.type="Path",this.currentPoint=new Vector2,T&&this.setFromPoints(T)}setFromPoints(T){this.moveTo(T[0].x,T[0].y);for(let A=1,L=T.length;A<L;A++)this.lineTo(T[A].x,T[A].y);return this}moveTo(T,A){return this.currentPoint.set(T,A),this}lineTo(T,A){const L=new LineCurve(this.currentPoint.clone(),new Vector2(T,A));return this.curves.push(L),this.currentPoint.set(T,A),this}quadraticCurveTo(T,A,L,U){const W=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(T,A),new Vector2(L,U));return this.curves.push(W),this.currentPoint.set(L,U),this}bezierCurveTo(T,A,L,U,W,te){const ne=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(T,A),new Vector2(L,U),new Vector2(W,te));return this.curves.push(ne),this.currentPoint.set(W,te),this}splineThru(T){const A=[this.currentPoint.clone()].concat(T),L=new SplineCurve(A);return this.curves.push(L),this.currentPoint.copy(T[T.length-1]),this}arc(T,A,L,U,W,te){const ne=this.currentPoint.x,ie=this.currentPoint.y;return this.absarc(T+ne,A+ie,L,U,W,te),this}absarc(T,A,L,U,W,te){return this.absellipse(T,A,L,L,U,W,te),this}ellipse(T,A,L,U,W,te,ne,ie){const oe=this.currentPoint.x,ae=this.currentPoint.y;return this.absellipse(T+oe,A+ae,L,U,W,te,ne,ie),this}absellipse(T,A,L,U,W,te,ne,ie){const oe=new EllipseCurve(T,A,L,U,W,te,ne,ie);if(this.curves.length>0){const ce=oe.getPoint(0);ce.equals(this.currentPoint)||this.lineTo(ce.x,ce.y)}this.curves.push(oe);const ae=oe.getPoint(1);return this.currentPoint.copy(ae),this}copy(T){return super.copy(T),this.currentPoint.copy(T.currentPoint),this}toJSON(){const T=super.toJSON();return T.currentPoint=this.currentPoint.toArray(),T}fromJSON(T){return super.fromJSON(T),this.currentPoint.fromArray(T.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(T=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],A=12,L=0,U=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:T,segments:A,phiStart:L,phiLength:U},A=Math.floor(A),U=clamp(U,0,Math.PI*2);const W=[],te=[],ne=[],ie=[],oe=[],ae=1/A,ce=new Vector3,he=new Vector2,ue=new Vector3,pe=new Vector3,ge=new Vector3;let de=0,me=0;for(let ye=0;ye<=T.length-1;ye++)switch(ye){case 0:de=T[ye+1].x-T[ye].x,me=T[ye+1].y-T[ye].y,ue.x=me*1,ue.y=-de,ue.z=me*0,ge.copy(ue),ue.normalize(),ie.push(ue.x,ue.y,ue.z);break;case T.length-1:ie.push(ge.x,ge.y,ge.z);break;default:de=T[ye+1].x-T[ye].x,me=T[ye+1].y-T[ye].y,ue.x=me*1,ue.y=-de,ue.z=me*0,pe.copy(ue),ue.x+=ge.x,ue.y+=ge.y,ue.z+=ge.z,ue.normalize(),ie.push(ue.x,ue.y,ue.z),ge.copy(pe)}for(let ye=0;ye<=A;ye++){const xe=L+ye*ae*U,Se=Math.sin(xe),Te=Math.cos(xe);for(let be=0;be<=T.length-1;be++){ce.x=T[be].x*Se,ce.y=T[be].y,ce.z=T[be].x*Te,te.push(ce.x,ce.y,ce.z),he.x=ye/A,he.y=be/(T.length-1),ne.push(he.x,he.y);const Pe=ie[3*be+0]*Se,Ie=ie[3*be+1],De=ie[3*be+0]*Te;oe.push(Pe,Ie,De)}}for(let ye=0;ye<A;ye++)for(let xe=0;xe<T.length-1;xe++){const Se=xe+ye*T.length,Te=Se,be=Se+T.length,Pe=Se+T.length+1,Ie=Se+1;W.push(Te,be,Ie),W.push(Pe,Ie,be)}this.setIndex(W),this.setAttribute("position",new Float32BufferAttribute(te,3)),this.setAttribute("uv",new Float32BufferAttribute(ne,2)),this.setAttribute("normal",new Float32BufferAttribute(oe,3))}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new LatheGeometry(T.points,T.segments,T.phiStart,T.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(T=1,A=1,L=4,U=8){const W=new Path;W.absarc(0,-A/2,T,Math.PI*1.5,0),W.absarc(0,A/2,T,0,Math.PI*.5),super(W.getPoints(L),U),this.type="CapsuleGeometry",this.parameters={radius:T,length:A,capSegments:L,radialSegments:U}}static fromJSON(T){return new CapsuleGeometry(T.radius,T.length,T.capSegments,T.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(T=1,A=32,L=0,U=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:T,segments:A,thetaStart:L,thetaLength:U},A=Math.max(3,A);const W=[],te=[],ne=[],ie=[],oe=new Vector3,ae=new Vector2;te.push(0,0,0),ne.push(0,0,1),ie.push(.5,.5);for(let ce=0,he=3;ce<=A;ce++,he+=3){const ue=L+ce/A*U;oe.x=T*Math.cos(ue),oe.y=T*Math.sin(ue),te.push(oe.x,oe.y,oe.z),ne.push(0,0,1),ae.x=(te[he]/T+1)/2,ae.y=(te[he+1]/T+1)/2,ie.push(ae.x,ae.y)}for(let ce=1;ce<=A;ce++)W.push(ce,ce+1,0);this.setIndex(W),this.setAttribute("position",new Float32BufferAttribute(te,3)),this.setAttribute("normal",new Float32BufferAttribute(ne,3)),this.setAttribute("uv",new Float32BufferAttribute(ie,2))}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new CircleGeometry(T.radius,T.segments,T.thetaStart,T.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(T=1,A=1,L=1,U=32,W=1,te=!1,ne=0,ie=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:T,radiusBottom:A,height:L,radialSegments:U,heightSegments:W,openEnded:te,thetaStart:ne,thetaLength:ie};const oe=this;U=Math.floor(U),W=Math.floor(W);const ae=[],ce=[],he=[],ue=[];let pe=0;const ge=[],de=L/2;let me=0;ye(),te===!1&&(T>0&&xe(!0),A>0&&xe(!1)),this.setIndex(ae),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(he,3)),this.setAttribute("uv",new Float32BufferAttribute(ue,2));function ye(){const Se=new Vector3,Te=new Vector3;let be=0;const Pe=(A-T)/L;for(let Ie=0;Ie<=W;Ie++){const De=[],we=Ie/W,Fe=we*(A-T)+T;for(let Ge=0;Ge<=U;Ge++){const He=Ge/U,je=He*ie+ne,qe=Math.sin(je),Ye=Math.cos(je);Te.x=Fe*qe,Te.y=-we*L+de,Te.z=Fe*Ye,ce.push(Te.x,Te.y,Te.z),Se.set(qe,Pe,Ye).normalize(),he.push(Se.x,Se.y,Se.z),ue.push(He,1-we),De.push(pe++)}ge.push(De)}for(let Ie=0;Ie<U;Ie++)for(let De=0;De<W;De++){const we=ge[De][Ie],Fe=ge[De+1][Ie],Ge=ge[De+1][Ie+1],He=ge[De][Ie+1];(T>0||De!==0)&&(ae.push(we,Fe,He),be+=3),(A>0||De!==W-1)&&(ae.push(Fe,Ge,He),be+=3)}oe.addGroup(me,be,0),me+=be}function xe(Se){const Te=pe,be=new Vector2,Pe=new Vector3;let Ie=0;const De=Se===!0?T:A,we=Se===!0?1:-1;for(let Ge=1;Ge<=U;Ge++)ce.push(0,de*we,0),he.push(0,we,0),ue.push(.5,.5),pe++;const Fe=pe;for(let Ge=0;Ge<=U;Ge++){const je=Ge/U*ie+ne,qe=Math.cos(je),Ye=Math.sin(je);Pe.x=De*Ye,Pe.y=de*we,Pe.z=De*qe,ce.push(Pe.x,Pe.y,Pe.z),he.push(0,we,0),be.x=qe*.5+.5,be.y=Ye*.5*we+.5,ue.push(be.x,be.y),pe++}for(let Ge=0;Ge<U;Ge++){const He=Te+Ge,je=Fe+Ge;Se===!0?ae.push(je,je+1,He):ae.push(je+1,je,He),Ie+=3}oe.addGroup(me,Ie,Se===!0?1:2),me+=Ie}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new CylinderGeometry(T.radiusTop,T.radiusBottom,T.height,T.radialSegments,T.heightSegments,T.openEnded,T.thetaStart,T.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(T=1,A=1,L=32,U=1,W=!1,te=0,ne=Math.PI*2){super(0,T,A,L,U,W,te,ne),this.type="ConeGeometry",this.parameters={radius:T,height:A,radialSegments:L,heightSegments:U,openEnded:W,thetaStart:te,thetaLength:ne}}static fromJSON(T){return new ConeGeometry(T.radius,T.height,T.radialSegments,T.heightSegments,T.openEnded,T.thetaStart,T.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(T=[],A=[],L=1,U=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:T,indices:A,radius:L,detail:U};const W=[],te=[];ne(U),oe(L),ae(),this.setAttribute("position",new Float32BufferAttribute(W,3)),this.setAttribute("normal",new Float32BufferAttribute(W.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(te,2)),U===0?this.computeVertexNormals():this.normalizeNormals();function ne(ye){const xe=new Vector3,Se=new Vector3,Te=new Vector3;for(let be=0;be<A.length;be+=3)ue(A[be+0],xe),ue(A[be+1],Se),ue(A[be+2],Te),ie(xe,Se,Te,ye)}function ie(ye,xe,Se,Te){const be=Te+1,Pe=[];for(let Ie=0;Ie<=be;Ie++){Pe[Ie]=[];const De=ye.clone().lerp(Se,Ie/be),we=xe.clone().lerp(Se,Ie/be),Fe=be-Ie;for(let Ge=0;Ge<=Fe;Ge++)Ge===0&&Ie===be?Pe[Ie][Ge]=De:Pe[Ie][Ge]=De.clone().lerp(we,Ge/Fe)}for(let Ie=0;Ie<be;Ie++)for(let De=0;De<2*(be-Ie)-1;De++){const we=Math.floor(De/2);De%2===0?(he(Pe[Ie][we+1]),he(Pe[Ie+1][we]),he(Pe[Ie][we])):(he(Pe[Ie][we+1]),he(Pe[Ie+1][we+1]),he(Pe[Ie+1][we]))}}function oe(ye){const xe=new Vector3;for(let Se=0;Se<W.length;Se+=3)xe.x=W[Se+0],xe.y=W[Se+1],xe.z=W[Se+2],xe.normalize().multiplyScalar(ye),W[Se+0]=xe.x,W[Se+1]=xe.y,W[Se+2]=xe.z}function ae(){const ye=new Vector3;for(let xe=0;xe<W.length;xe+=3){ye.x=W[xe+0],ye.y=W[xe+1],ye.z=W[xe+2];const Se=de(ye)/2/Math.PI+.5,Te=me(ye)/Math.PI+.5;te.push(Se,1-Te)}pe(),ce()}function ce(){for(let ye=0;ye<te.length;ye+=6){const xe=te[ye+0],Se=te[ye+2],Te=te[ye+4],be=Math.max(xe,Se,Te),Pe=Math.min(xe,Se,Te);be>.9&&Pe<.1&&(xe<.2&&(te[ye+0]+=1),Se<.2&&(te[ye+2]+=1),Te<.2&&(te[ye+4]+=1))}}function he(ye){W.push(ye.x,ye.y,ye.z)}function ue(ye,xe){const Se=ye*3;xe.x=T[Se+0],xe.y=T[Se+1],xe.z=T[Se+2]}function pe(){const ye=new Vector3,xe=new Vector3,Se=new Vector3,Te=new Vector3,be=new Vector2,Pe=new Vector2,Ie=new Vector2;for(let De=0,we=0;De<W.length;De+=9,we+=6){ye.set(W[De+0],W[De+1],W[De+2]),xe.set(W[De+3],W[De+4],W[De+5]),Se.set(W[De+6],W[De+7],W[De+8]),be.set(te[we+0],te[we+1]),Pe.set(te[we+2],te[we+3]),Ie.set(te[we+4],te[we+5]),Te.copy(ye).add(xe).add(Se).divideScalar(3);const Fe=de(Te);ge(be,we+0,ye,Fe),ge(Pe,we+2,xe,Fe),ge(Ie,we+4,Se,Fe)}}function ge(ye,xe,Se,Te){Te<0&&ye.x===1&&(te[xe]=ye.x-1),Se.x===0&&Se.z===0&&(te[xe]=Te/2/Math.PI+.5)}function de(ye){return Math.atan2(ye.z,-ye.x)}function me(ye){return Math.atan2(-ye.y,Math.sqrt(ye.x*ye.x+ye.z*ye.z))}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new PolyhedronGeometry(T.vertices,T.indices,T.radius,T.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(T=1,A=0){const L=(1+Math.sqrt(5))/2,U=1/L,W=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-U,-L,0,-U,L,0,U,-L,0,U,L,-U,-L,0,-U,L,0,U,-L,0,U,L,0,-L,0,-U,L,0,-U,-L,0,U,L,0,U],te=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(W,te,T,A),this.type="DodecahedronGeometry",this.parameters={radius:T,detail:A}}static fromJSON(T){return new DodecahedronGeometry(T.radius,T.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(T=null,A=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:T,thresholdAngle:A},T!==null){const U=Math.pow(10,4),W=Math.cos(DEG2RAD*A),te=T.getIndex(),ne=T.getAttribute("position"),ie=te?te.count:ne.count,oe=[0,0,0],ae=["a","b","c"],ce=new Array(3),he={},ue=[];for(let pe=0;pe<ie;pe+=3){te?(oe[0]=te.getX(pe),oe[1]=te.getX(pe+1),oe[2]=te.getX(pe+2)):(oe[0]=pe,oe[1]=pe+1,oe[2]=pe+2);const{a:ge,b:de,c:me}=_triangle;if(ge.fromBufferAttribute(ne,oe[0]),de.fromBufferAttribute(ne,oe[1]),me.fromBufferAttribute(ne,oe[2]),_triangle.getNormal(_normal),ce[0]=`${Math.round(ge.x*U)},${Math.round(ge.y*U)},${Math.round(ge.z*U)}`,ce[1]=`${Math.round(de.x*U)},${Math.round(de.y*U)},${Math.round(de.z*U)}`,ce[2]=`${Math.round(me.x*U)},${Math.round(me.y*U)},${Math.round(me.z*U)}`,!(ce[0]===ce[1]||ce[1]===ce[2]||ce[2]===ce[0]))for(let ye=0;ye<3;ye++){const xe=(ye+1)%3,Se=ce[ye],Te=ce[xe],be=_triangle[ae[ye]],Pe=_triangle[ae[xe]],Ie=`${Se}_${Te}`,De=`${Te}_${Se}`;De in he&&he[De]?(_normal.dot(he[De].normal)<=W&&(ue.push(be.x,be.y,be.z),ue.push(Pe.x,Pe.y,Pe.z)),he[De]=null):Ie in he||(he[Ie]={index0:oe[ye],index1:oe[xe],normal:_normal.clone()})}}for(const pe in he)if(he[pe]){const{index0:ge,index1:de}=he[pe];_v0$3.fromBufferAttribute(ne,ge),_v1$1.fromBufferAttribute(ne,de),ue.push(_v0$3.x,_v0$3.y,_v0$3.z),ue.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ue,3))}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}}class Shape extends Path{constructor(T){super(T),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(T){const A=[];for(let L=0,U=this.holes.length;L<U;L++)A[L]=this.holes[L].getPoints(T);return A}extractPoints(T){return{shape:this.getPoints(T),holes:this.getPointsHoles(T)}}copy(T){super.copy(T),this.holes=[];for(let A=0,L=T.holes.length;A<L;A++){const U=T.holes[A];this.holes.push(U.clone())}return this}toJSON(){const T=super.toJSON();T.uuid=this.uuid,T.holes=[];for(let A=0,L=this.holes.length;A<L;A++){const U=this.holes[A];T.holes.push(U.toJSON())}return T}fromJSON(T){super.fromJSON(T),this.uuid=T.uuid,this.holes=[];for(let A=0,L=T.holes.length;A<L;A++){const U=T.holes[A];this.holes.push(new Path().fromJSON(U))}return this}}const Earcut={triangulate:function(P,T,A=2){const L=T&&T.length,U=L?T[0]*A:P.length;let W=linkedList(P,0,U,A,!0);const te=[];if(!W||W.next===W.prev)return te;let ne,ie,oe,ae,ce,he,ue;if(L&&(W=eliminateHoles(P,T,W,A)),P.length>80*A){ne=oe=P[0],ie=ae=P[1];for(let pe=A;pe<U;pe+=A)ce=P[pe],he=P[pe+1],ce<ne&&(ne=ce),he<ie&&(ie=he),ce>oe&&(oe=ce),he>ae&&(ae=he);ue=Math.max(oe-ne,ae-ie),ue=ue!==0?32767/ue:0}return earcutLinked(W,te,A,ne,ie,ue,0),te}};function linkedList(P,T,A,L,U){let W,te;if(U===signedArea(P,T,A,L)>0)for(W=T;W<A;W+=L)te=insertNode(W,P[W],P[W+1],te);else for(W=A-L;W>=T;W-=L)te=insertNode(W,P[W],P[W+1],te);return te&&equals(te,te.next)&&(removeNode(te),te=te.next),te}function filterPoints(P,T){if(!P)return P;T||(T=P);let A=P,L;do if(L=!1,!A.steiner&&(equals(A,A.next)||area(A.prev,A,A.next)===0)){if(removeNode(A),A=T=A.prev,A===A.next)break;L=!0}else A=A.next;while(L||A!==T);return T}function earcutLinked(P,T,A,L,U,W,te){if(!P)return;!te&&W&&indexCurve(P,L,U,W);let ne=P,ie,oe;for(;P.prev!==P.next;){if(ie=P.prev,oe=P.next,W?isEarHashed(P,L,U,W):isEar(P)){T.push(ie.i/A|0),T.push(P.i/A|0),T.push(oe.i/A|0),removeNode(P),P=oe.next,ne=oe.next;continue}if(P=oe,P===ne){te?te===1?(P=cureLocalIntersections(filterPoints(P),T,A),earcutLinked(P,T,A,L,U,W,2)):te===2&&splitEarcut(P,T,A,L,U,W):earcutLinked(filterPoints(P),T,A,L,U,W,1);break}}}function isEar(P){const T=P.prev,A=P,L=P.next;if(area(T,A,L)>=0)return!1;const U=T.x,W=A.x,te=L.x,ne=T.y,ie=A.y,oe=L.y,ae=U<W?U<te?U:te:W<te?W:te,ce=ne<ie?ne<oe?ne:oe:ie<oe?ie:oe,he=U>W?U>te?U:te:W>te?W:te,ue=ne>ie?ne>oe?ne:oe:ie>oe?ie:oe;let pe=L.next;for(;pe!==T;){if(pe.x>=ae&&pe.x<=he&&pe.y>=ce&&pe.y<=ue&&pointInTriangle(U,ne,W,ie,te,oe,pe.x,pe.y)&&area(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function isEarHashed(P,T,A,L){const U=P.prev,W=P,te=P.next;if(area(U,W,te)>=0)return!1;const ne=U.x,ie=W.x,oe=te.x,ae=U.y,ce=W.y,he=te.y,ue=ne<ie?ne<oe?ne:oe:ie<oe?ie:oe,pe=ae<ce?ae<he?ae:he:ce<he?ce:he,ge=ne>ie?ne>oe?ne:oe:ie>oe?ie:oe,de=ae>ce?ae>he?ae:he:ce>he?ce:he,me=zOrder(ue,pe,T,A,L),ye=zOrder(ge,de,T,A,L);let xe=P.prevZ,Se=P.nextZ;for(;xe&&xe.z>=me&&Se&&Se.z<=ye;){if(xe.x>=ue&&xe.x<=ge&&xe.y>=pe&&xe.y<=de&&xe!==U&&xe!==te&&pointInTriangle(ne,ae,ie,ce,oe,he,xe.x,xe.y)&&area(xe.prev,xe,xe.next)>=0||(xe=xe.prevZ,Se.x>=ue&&Se.x<=ge&&Se.y>=pe&&Se.y<=de&&Se!==U&&Se!==te&&pointInTriangle(ne,ae,ie,ce,oe,he,Se.x,Se.y)&&area(Se.prev,Se,Se.next)>=0))return!1;Se=Se.nextZ}for(;xe&&xe.z>=me;){if(xe.x>=ue&&xe.x<=ge&&xe.y>=pe&&xe.y<=de&&xe!==U&&xe!==te&&pointInTriangle(ne,ae,ie,ce,oe,he,xe.x,xe.y)&&area(xe.prev,xe,xe.next)>=0)return!1;xe=xe.prevZ}for(;Se&&Se.z<=ye;){if(Se.x>=ue&&Se.x<=ge&&Se.y>=pe&&Se.y<=de&&Se!==U&&Se!==te&&pointInTriangle(ne,ae,ie,ce,oe,he,Se.x,Se.y)&&area(Se.prev,Se,Se.next)>=0)return!1;Se=Se.nextZ}return!0}function cureLocalIntersections(P,T,A){let L=P;do{const U=L.prev,W=L.next.next;!equals(U,W)&&intersects(U,L,L.next,W)&&locallyInside(U,W)&&locallyInside(W,U)&&(T.push(U.i/A|0),T.push(L.i/A|0),T.push(W.i/A|0),removeNode(L),removeNode(L.next),L=P=W),L=L.next}while(L!==P);return filterPoints(L)}function splitEarcut(P,T,A,L,U,W){let te=P;do{let ne=te.next.next;for(;ne!==te.prev;){if(te.i!==ne.i&&isValidDiagonal(te,ne)){let ie=splitPolygon(te,ne);te=filterPoints(te,te.next),ie=filterPoints(ie,ie.next),earcutLinked(te,T,A,L,U,W,0),earcutLinked(ie,T,A,L,U,W,0);return}ne=ne.next}te=te.next}while(te!==P)}function eliminateHoles(P,T,A,L){const U=[];let W,te,ne,ie,oe;for(W=0,te=T.length;W<te;W++)ne=T[W]*L,ie=W<te-1?T[W+1]*L:P.length,oe=linkedList(P,ne,ie,L,!1),oe===oe.next&&(oe.steiner=!0),U.push(getLeftmost(oe));for(U.sort(compareX),W=0;W<U.length;W++)A=eliminateHole(U[W],A);return A}function compareX(P,T){return P.x-T.x}function eliminateHole(P,T){const A=findHoleBridge(P,T);if(!A)return T;const L=splitPolygon(A,P);return filterPoints(L,L.next),filterPoints(A,A.next)}function findHoleBridge(P,T){let A=T,L=-1/0,U;const W=P.x,te=P.y;do{if(te<=A.y&&te>=A.next.y&&A.next.y!==A.y){const he=A.x+(te-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(he<=W&&he>L&&(L=he,U=A.x<A.next.x?A:A.next,he===W))return U}A=A.next}while(A!==T);if(!U)return null;const ne=U,ie=U.x,oe=U.y;let ae=1/0,ce;A=U;do W>=A.x&&A.x>=ie&&W!==A.x&&pointInTriangle(te<oe?W:L,te,ie,oe,te<oe?L:W,te,A.x,A.y)&&(ce=Math.abs(te-A.y)/(W-A.x),locallyInside(A,P)&&(ce<ae||ce===ae&&(A.x>U.x||A.x===U.x&&sectorContainsSector(U,A)))&&(U=A,ae=ce)),A=A.next;while(A!==ne);return U}function sectorContainsSector(P,T){return area(P.prev,P,T.prev)<0&&area(T.next,P,P.next)<0}function indexCurve(P,T,A,L){let U=P;do U.z===0&&(U.z=zOrder(U.x,U.y,T,A,L)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==P);U.prevZ.nextZ=null,U.prevZ=null,sortLinked(U)}function sortLinked(P){let T,A,L,U,W,te,ne,ie,oe=1;do{for(A=P,P=null,W=null,te=0;A;){for(te++,L=A,ne=0,T=0;T<oe&&(ne++,L=L.nextZ,!!L);T++);for(ie=oe;ne>0||ie>0&&L;)ne!==0&&(ie===0||!L||A.z<=L.z)?(U=A,A=A.nextZ,ne--):(U=L,L=L.nextZ,ie--),W?W.nextZ=U:P=U,U.prevZ=W,W=U;A=L}W.nextZ=null,oe*=2}while(te>1);return P}function zOrder(P,T,A,L,U){return P=(P-A)*U|0,T=(T-L)*U|0,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,P|T<<1}function getLeftmost(P){let T=P,A=P;do(T.x<A.x||T.x===A.x&&T.y<A.y)&&(A=T),T=T.next;while(T!==P);return A}function pointInTriangle(P,T,A,L,U,W,te,ne){return(U-te)*(T-ne)>=(P-te)*(W-ne)&&(P-te)*(L-ne)>=(A-te)*(T-ne)&&(A-te)*(W-ne)>=(U-te)*(L-ne)}function isValidDiagonal(P,T){return P.next.i!==T.i&&P.prev.i!==T.i&&!intersectsPolygon(P,T)&&(locallyInside(P,T)&&locallyInside(T,P)&&middleInside(P,T)&&(area(P.prev,P,T.prev)||area(P,T.prev,T))||equals(P,T)&&area(P.prev,P,P.next)>0&&area(T.prev,T,T.next)>0)}function area(P,T,A){return(T.y-P.y)*(A.x-T.x)-(T.x-P.x)*(A.y-T.y)}function equals(P,T){return P.x===T.x&&P.y===T.y}function intersects(P,T,A,L){const U=sign(area(P,T,A)),W=sign(area(P,T,L)),te=sign(area(A,L,P)),ne=sign(area(A,L,T));return!!(U!==W&&te!==ne||U===0&&onSegment(P,A,T)||W===0&&onSegment(P,L,T)||te===0&&onSegment(A,P,L)||ne===0&&onSegment(A,T,L))}function onSegment(P,T,A){return T.x<=Math.max(P.x,A.x)&&T.x>=Math.min(P.x,A.x)&&T.y<=Math.max(P.y,A.y)&&T.y>=Math.min(P.y,A.y)}function sign(P){return P>0?1:P<0?-1:0}function intersectsPolygon(P,T){let A=P;do{if(A.i!==P.i&&A.next.i!==P.i&&A.i!==T.i&&A.next.i!==T.i&&intersects(A,A.next,P,T))return!0;A=A.next}while(A!==P);return!1}function locallyInside(P,T){return area(P.prev,P,P.next)<0?area(P,T,P.next)>=0&&area(P,P.prev,T)>=0:area(P,T,P.prev)<0||area(P,P.next,T)<0}function middleInside(P,T){let A=P,L=!1;const U=(P.x+T.x)/2,W=(P.y+T.y)/2;do A.y>W!=A.next.y>W&&A.next.y!==A.y&&U<(A.next.x-A.x)*(W-A.y)/(A.next.y-A.y)+A.x&&(L=!L),A=A.next;while(A!==P);return L}function splitPolygon(P,T){const A=new Node(P.i,P.x,P.y),L=new Node(T.i,T.x,T.y),U=P.next,W=T.prev;return P.next=T,T.prev=P,A.next=U,U.prev=A,L.next=A,A.prev=L,W.next=L,L.prev=W,L}function insertNode(P,T,A,L){const U=new Node(P,T,A);return L?(U.next=L.next,U.prev=L,L.next.prev=U,L.next=U):(U.prev=U,U.next=U),U}function removeNode(P){P.next.prev=P.prev,P.prev.next=P.next,P.prevZ&&(P.prevZ.nextZ=P.nextZ),P.nextZ&&(P.nextZ.prevZ=P.prevZ)}function Node(P,T,A){this.i=P,this.x=T,this.y=A,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(P,T,A,L){let U=0;for(let W=T,te=A-L;W<A;W+=L)U+=(P[te]-P[W])*(P[W+1]+P[te+1]),te=W;return U}class ShapeUtils{static area(T){const A=T.length;let L=0;for(let U=A-1,W=0;W<A;U=W++)L+=T[U].x*T[W].y-T[W].x*T[U].y;return L*.5}static isClockWise(T){return ShapeUtils.area(T)<0}static triangulateShape(T,A){const L=[],U=[],W=[];removeDupEndPts(T),addContour(L,T);let te=T.length;A.forEach(removeDupEndPts);for(let ie=0;ie<A.length;ie++)U.push(te),te+=A[ie].length,addContour(L,A[ie]);const ne=Earcut.triangulate(L,U);for(let ie=0;ie<ne.length;ie+=3)W.push(ne.slice(ie,ie+3));return W}}function removeDupEndPts(P){const T=P.length;T>2&&P[T-1].equals(P[0])&&P.pop()}function addContour(P,T){for(let A=0;A<T.length;A++)P.push(T[A].x),P.push(T[A].y)}class ExtrudeGeometry extends BufferGeometry{constructor(T=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),A={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:T,options:A},T=Array.isArray(T)?T:[T];const L=this,U=[],W=[];for(let ne=0,ie=T.length;ne<ie;ne++){const oe=T[ne];te(oe)}this.setAttribute("position",new Float32BufferAttribute(U,3)),this.setAttribute("uv",new Float32BufferAttribute(W,2)),this.computeVertexNormals();function te(ne){const ie=[],oe=A.curveSegments!==void 0?A.curveSegments:12,ae=A.steps!==void 0?A.steps:1,ce=A.depth!==void 0?A.depth:1;let he=A.bevelEnabled!==void 0?A.bevelEnabled:!0,ue=A.bevelThickness!==void 0?A.bevelThickness:.2,pe=A.bevelSize!==void 0?A.bevelSize:ue-.1,ge=A.bevelOffset!==void 0?A.bevelOffset:0,de=A.bevelSegments!==void 0?A.bevelSegments:3;const me=A.extrudePath,ye=A.UVGenerator!==void 0?A.UVGenerator:WorldUVGenerator;let xe,Se=!1,Te,be,Pe,Ie;me&&(xe=me.getSpacedPoints(ae),Se=!0,he=!1,Te=me.computeFrenetFrames(ae,!1),be=new Vector3,Pe=new Vector3,Ie=new Vector3),he||(de=0,ue=0,pe=0,ge=0);const De=ne.extractPoints(oe);let we=De.shape;const Fe=De.holes;if(!ShapeUtils.isClockWise(we)){we=we.reverse();for(let $t=0,jt=Fe.length;$t<jt;$t++){const Ve=Fe[$t];ShapeUtils.isClockWise(Ve)&&(Fe[$t]=Ve.reverse())}}const He=ShapeUtils.triangulateShape(we,Fe),je=we;for(let $t=0,jt=Fe.length;$t<jt;$t++){const Ve=Fe[$t];we=we.concat(Ve)}function qe($t,jt,Ve){return jt||console.error("THREE.ExtrudeGeometry: vec does not exist"),$t.clone().addScaledVector(jt,Ve)}const Ye=we.length,Ct=He.length;function Re($t,jt,Ve){let Cn,Zt,fn;const Jt=$t.x-jt.x,Rn=$t.y-jt.y,tn=Ve.x-$t.x,We=Ve.y-$t.y,Be=Jt*Jt+Rn*Rn,Mt=Jt*We-Rn*tn;if(Math.abs(Mt)>Number.EPSILON){const Ut=Math.sqrt(Be),Xt=Math.sqrt(tn*tn+We*We),Gt=jt.x-Rn/Ut,En=jt.y+Jt/Ut,un=Ve.x-We/Xt,gn=Ve.y+tn/Xt,jn=((un-Gt)*We-(gn-En)*tn)/(Jt*We-Rn*tn);Cn=Gt+Jt*jn-$t.x,Zt=En+Rn*jn-$t.y;const nn=Cn*Cn+Zt*Zt;if(nn<=2)return new Vector2(Cn,Zt);fn=Math.sqrt(nn/2)}else{let Ut=!1;Jt>Number.EPSILON?tn>Number.EPSILON&&(Ut=!0):Jt<-Number.EPSILON?tn<-Number.EPSILON&&(Ut=!0):Math.sign(Rn)===Math.sign(We)&&(Ut=!0),Ut?(Cn=-Rn,Zt=Jt,fn=Math.sqrt(Be)):(Cn=Jt,Zt=Rn,fn=Math.sqrt(Be/2))}return new Vector2(Cn/fn,Zt/fn)}const Oe=[];for(let $t=0,jt=je.length,Ve=jt-1,Cn=$t+1;$t<jt;$t++,Ve++,Cn++)Ve===jt&&(Ve=0),Cn===jt&&(Cn=0),Oe[$t]=Re(je[$t],je[Ve],je[Cn]);const ze=[];let Ne,Ze=Oe.concat();for(let $t=0,jt=Fe.length;$t<jt;$t++){const Ve=Fe[$t];Ne=[];for(let Cn=0,Zt=Ve.length,fn=Zt-1,Jt=Cn+1;Cn<Zt;Cn++,fn++,Jt++)fn===Zt&&(fn=0),Jt===Zt&&(Jt=0),Ne[Cn]=Re(Ve[Cn],Ve[fn],Ve[Jt]);ze.push(Ne),Ze=Ze.concat(Ne)}for(let $t=0;$t<de;$t++){const jt=$t/de,Ve=ue*Math.cos(jt*Math.PI/2),Cn=pe*Math.sin(jt*Math.PI/2)+ge;for(let Zt=0,fn=je.length;Zt<fn;Zt++){const Jt=qe(je[Zt],Oe[Zt],Cn);It(Jt.x,Jt.y,-Ve)}for(let Zt=0,fn=Fe.length;Zt<fn;Zt++){const Jt=Fe[Zt];Ne=ze[Zt];for(let Rn=0,tn=Jt.length;Rn<tn;Rn++){const We=qe(Jt[Rn],Ne[Rn],Cn);It(We.x,We.y,-Ve)}}}const Wt=pe+ge;for(let $t=0;$t<Ye;$t++){const jt=he?qe(we[$t],Ze[$t],Wt):we[$t];Se?(Pe.copy(Te.normals[0]).multiplyScalar(jt.x),be.copy(Te.binormals[0]).multiplyScalar(jt.y),Ie.copy(xe[0]).add(Pe).add(be),It(Ie.x,Ie.y,Ie.z)):It(jt.x,jt.y,0)}for(let $t=1;$t<=ae;$t++)for(let jt=0;jt<Ye;jt++){const Ve=he?qe(we[jt],Ze[jt],Wt):we[jt];Se?(Pe.copy(Te.normals[$t]).multiplyScalar(Ve.x),be.copy(Te.binormals[$t]).multiplyScalar(Ve.y),Ie.copy(xe[$t]).add(Pe).add(be),It(Ie.x,Ie.y,Ie.z)):It(Ve.x,Ve.y,ce/ae*$t)}for(let $t=de-1;$t>=0;$t--){const jt=$t/de,Ve=ue*Math.cos(jt*Math.PI/2),Cn=pe*Math.sin(jt*Math.PI/2)+ge;for(let Zt=0,fn=je.length;Zt<fn;Zt++){const Jt=qe(je[Zt],Oe[Zt],Cn);It(Jt.x,Jt.y,ce+Ve)}for(let Zt=0,fn=Fe.length;Zt<fn;Zt++){const Jt=Fe[Zt];Ne=ze[Zt];for(let Rn=0,tn=Jt.length;Rn<tn;Rn++){const We=qe(Jt[Rn],Ne[Rn],Cn);Se?It(We.x,We.y+xe[ae-1].y,xe[ae-1].x+Ve):It(We.x,We.y,ce+Ve)}}}Qe(),Pt();function Qe(){const $t=U.length/3;if(he){let jt=0,Ve=Ye*jt;for(let Cn=0;Cn<Ct;Cn++){const Zt=He[Cn];Yt(Zt[2]+Ve,Zt[1]+Ve,Zt[0]+Ve)}jt=ae+de*2,Ve=Ye*jt;for(let Cn=0;Cn<Ct;Cn++){const Zt=He[Cn];Yt(Zt[0]+Ve,Zt[1]+Ve,Zt[2]+Ve)}}else{for(let jt=0;jt<Ct;jt++){const Ve=He[jt];Yt(Ve[2],Ve[1],Ve[0])}for(let jt=0;jt<Ct;jt++){const Ve=He[jt];Yt(Ve[0]+Ye*ae,Ve[1]+Ye*ae,Ve[2]+Ye*ae)}}L.addGroup($t,U.length/3-$t,0)}function Pt(){const $t=U.length/3;let jt=0;zt(je,jt),jt+=je.length;for(let Ve=0,Cn=Fe.length;Ve<Cn;Ve++){const Zt=Fe[Ve];zt(Zt,jt),jt+=Zt.length}L.addGroup($t,U.length/3-$t,1)}function zt($t,jt){let Ve=$t.length;for(;--Ve>=0;){const Cn=Ve;let Zt=Ve-1;Zt<0&&(Zt=$t.length-1);for(let fn=0,Jt=ae+de*2;fn<Jt;fn++){const Rn=Ye*fn,tn=Ye*(fn+1),We=jt+Cn+Rn,Be=jt+Zt+Rn,Mt=jt+Zt+tn,Ut=jt+Cn+tn;ln(We,Be,Mt,Ut)}}}function It($t,jt,Ve){ie.push($t),ie.push(jt),ie.push(Ve)}function Yt($t,jt,Ve){pn($t),pn(jt),pn(Ve);const Cn=U.length/3,Zt=ye.generateTopUV(L,U,Cn-3,Cn-2,Cn-1);In(Zt[0]),In(Zt[1]),In(Zt[2])}function ln($t,jt,Ve,Cn){pn($t),pn(jt),pn(Cn),pn(jt),pn(Ve),pn(Cn);const Zt=U.length/3,fn=ye.generateSideWallUV(L,U,Zt-6,Zt-3,Zt-2,Zt-1);In(fn[0]),In(fn[1]),In(fn[3]),In(fn[1]),In(fn[2]),In(fn[3])}function pn($t){U.push(ie[$t*3+0]),U.push(ie[$t*3+1]),U.push(ie[$t*3+2])}function In($t){W.push($t.x),W.push($t.y)}}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}toJSON(){const T=super.toJSON(),A=this.parameters.shapes,L=this.parameters.options;return toJSON$1(A,L,T)}static fromJSON(T,A){const L=[];for(let W=0,te=T.shapes.length;W<te;W++){const ne=A[T.shapes[W]];L.push(ne)}const U=T.options.extrudePath;return U!==void 0&&(T.options.extrudePath=new Curves[U.type]().fromJSON(U)),new ExtrudeGeometry(L,T.options)}}const WorldUVGenerator={generateTopUV:function(P,T,A,L,U){const W=T[A*3],te=T[A*3+1],ne=T[L*3],ie=T[L*3+1],oe=T[U*3],ae=T[U*3+1];return[new Vector2(W,te),new Vector2(ne,ie),new Vector2(oe,ae)]},generateSideWallUV:function(P,T,A,L,U,W){const te=T[A*3],ne=T[A*3+1],ie=T[A*3+2],oe=T[L*3],ae=T[L*3+1],ce=T[L*3+2],he=T[U*3],ue=T[U*3+1],pe=T[U*3+2],ge=T[W*3],de=T[W*3+1],me=T[W*3+2];return Math.abs(ne-ae)<Math.abs(te-oe)?[new Vector2(te,1-ie),new Vector2(oe,1-ce),new Vector2(he,1-pe),new Vector2(ge,1-me)]:[new Vector2(ne,1-ie),new Vector2(ae,1-ce),new Vector2(ue,1-pe),new Vector2(de,1-me)]}};function toJSON$1(P,T,A){if(A.shapes=[],Array.isArray(P))for(let L=0,U=P.length;L<U;L++){const W=P[L];A.shapes.push(W.uuid)}else A.shapes.push(P.uuid);return A.options=Object.assign({},T),T.extrudePath!==void 0&&(A.options.extrudePath=T.extrudePath.toJSON()),A}class IcosahedronGeometry extends PolyhedronGeometry{constructor(T=1,A=0){const L=(1+Math.sqrt(5))/2,U=[-1,L,0,1,L,0,-1,-L,0,1,-L,0,0,-1,L,0,1,L,0,-1,-L,0,1,-L,L,0,-1,L,0,1,-L,0,-1,-L,0,1],W=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(U,W,T,A),this.type="IcosahedronGeometry",this.parameters={radius:T,detail:A}}static fromJSON(T){return new IcosahedronGeometry(T.radius,T.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(T=1,A=0){const L=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],U=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(L,U,T,A),this.type="OctahedronGeometry",this.parameters={radius:T,detail:A}}static fromJSON(T){return new OctahedronGeometry(T.radius,T.detail)}}class PlaneGeometry extends BufferGeometry{constructor(T=1,A=1,L=1,U=1){super(),this.type="PlaneGeometry",this.parameters={width:T,height:A,widthSegments:L,heightSegments:U};const W=T/2,te=A/2,ne=Math.floor(L),ie=Math.floor(U),oe=ne+1,ae=ie+1,ce=T/ne,he=A/ie,ue=[],pe=[],ge=[],de=[];for(let me=0;me<ae;me++){const ye=me*he-te;for(let xe=0;xe<oe;xe++){const Se=xe*ce-W;pe.push(Se,-ye,0),ge.push(0,0,1),de.push(xe/ne),de.push(1-me/ie)}}for(let me=0;me<ie;me++)for(let ye=0;ye<ne;ye++){const xe=ye+oe*me,Se=ye+oe*(me+1),Te=ye+1+oe*(me+1),be=ye+1+oe*me;ue.push(xe,Se,be),ue.push(Se,Te,be)}this.setIndex(ue),this.setAttribute("position",new Float32BufferAttribute(pe,3)),this.setAttribute("normal",new Float32BufferAttribute(ge,3)),this.setAttribute("uv",new Float32BufferAttribute(de,2))}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new PlaneGeometry(T.width,T.height,T.widthSegments,T.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(T=.5,A=1,L=32,U=1,W=0,te=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:T,outerRadius:A,thetaSegments:L,phiSegments:U,thetaStart:W,thetaLength:te},L=Math.max(3,L),U=Math.max(1,U);const ne=[],ie=[],oe=[],ae=[];let ce=T;const he=(A-T)/U,ue=new Vector3,pe=new Vector2;for(let ge=0;ge<=U;ge++){for(let de=0;de<=L;de++){const me=W+de/L*te;ue.x=ce*Math.cos(me),ue.y=ce*Math.sin(me),ie.push(ue.x,ue.y,ue.z),oe.push(0,0,1),pe.x=(ue.x/A+1)/2,pe.y=(ue.y/A+1)/2,ae.push(pe.x,pe.y)}ce+=he}for(let ge=0;ge<U;ge++){const de=ge*(L+1);for(let me=0;me<L;me++){const ye=me+de,xe=ye,Se=ye+L+1,Te=ye+L+2,be=ye+1;ne.push(xe,Se,be),ne.push(Se,Te,be)}}this.setIndex(ne),this.setAttribute("position",new Float32BufferAttribute(ie,3)),this.setAttribute("normal",new Float32BufferAttribute(oe,3)),this.setAttribute("uv",new Float32BufferAttribute(ae,2))}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new RingGeometry(T.innerRadius,T.outerRadius,T.thetaSegments,T.phiSegments,T.thetaStart,T.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(T=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),A=12){super(),this.type="ShapeGeometry",this.parameters={shapes:T,curveSegments:A};const L=[],U=[],W=[],te=[];let ne=0,ie=0;if(Array.isArray(T)===!1)oe(T);else for(let ae=0;ae<T.length;ae++)oe(T[ae]),this.addGroup(ne,ie,ae),ne+=ie,ie=0;this.setIndex(L),this.setAttribute("position",new Float32BufferAttribute(U,3)),this.setAttribute("normal",new Float32BufferAttribute(W,3)),this.setAttribute("uv",new Float32BufferAttribute(te,2));function oe(ae){const ce=U.length/3,he=ae.extractPoints(A);let ue=he.shape;const pe=he.holes;ShapeUtils.isClockWise(ue)===!1&&(ue=ue.reverse());for(let de=0,me=pe.length;de<me;de++){const ye=pe[de];ShapeUtils.isClockWise(ye)===!0&&(pe[de]=ye.reverse())}const ge=ShapeUtils.triangulateShape(ue,pe);for(let de=0,me=pe.length;de<me;de++){const ye=pe[de];ue=ue.concat(ye)}for(let de=0,me=ue.length;de<me;de++){const ye=ue[de];U.push(ye.x,ye.y,0),W.push(0,0,1),te.push(ye.x,ye.y)}for(let de=0,me=ge.length;de<me;de++){const ye=ge[de],xe=ye[0]+ce,Se=ye[1]+ce,Te=ye[2]+ce;L.push(xe,Se,Te),ie+=3}}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}toJSON(){const T=super.toJSON(),A=this.parameters.shapes;return toJSON(A,T)}static fromJSON(T,A){const L=[];for(let U=0,W=T.shapes.length;U<W;U++){const te=A[T.shapes[U]];L.push(te)}return new ShapeGeometry(L,T.curveSegments)}}function toJSON(P,T){if(T.shapes=[],Array.isArray(P))for(let A=0,L=P.length;A<L;A++){const U=P[A];T.shapes.push(U.uuid)}else T.shapes.push(P.uuid);return T}class SphereGeometry extends BufferGeometry{constructor(T=1,A=32,L=16,U=0,W=Math.PI*2,te=0,ne=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:T,widthSegments:A,heightSegments:L,phiStart:U,phiLength:W,thetaStart:te,thetaLength:ne},A=Math.max(3,Math.floor(A)),L=Math.max(2,Math.floor(L));const ie=Math.min(te+ne,Math.PI);let oe=0;const ae=[],ce=new Vector3,he=new Vector3,ue=[],pe=[],ge=[],de=[];for(let me=0;me<=L;me++){const ye=[],xe=me/L;let Se=0;me===0&&te===0?Se=.5/A:me===L&&ie===Math.PI&&(Se=-.5/A);for(let Te=0;Te<=A;Te++){const be=Te/A;ce.x=-T*Math.cos(U+be*W)*Math.sin(te+xe*ne),ce.y=T*Math.cos(te+xe*ne),ce.z=T*Math.sin(U+be*W)*Math.sin(te+xe*ne),pe.push(ce.x,ce.y,ce.z),he.copy(ce).normalize(),ge.push(he.x,he.y,he.z),de.push(be+Se,1-xe),ye.push(oe++)}ae.push(ye)}for(let me=0;me<L;me++)for(let ye=0;ye<A;ye++){const xe=ae[me][ye+1],Se=ae[me][ye],Te=ae[me+1][ye],be=ae[me+1][ye+1];(me!==0||te>0)&&ue.push(xe,Se,be),(me!==L-1||ie<Math.PI)&&ue.push(Se,Te,be)}this.setIndex(ue),this.setAttribute("position",new Float32BufferAttribute(pe,3)),this.setAttribute("normal",new Float32BufferAttribute(ge,3)),this.setAttribute("uv",new Float32BufferAttribute(de,2))}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new SphereGeometry(T.radius,T.widthSegments,T.heightSegments,T.phiStart,T.phiLength,T.thetaStart,T.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(T=1,A=0){const L=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],U=[2,1,0,0,3,2,1,3,0,2,3,1];super(L,U,T,A),this.type="TetrahedronGeometry",this.parameters={radius:T,detail:A}}static fromJSON(T){return new TetrahedronGeometry(T.radius,T.detail)}}class TorusGeometry extends BufferGeometry{constructor(T=1,A=.4,L=12,U=48,W=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:T,tube:A,radialSegments:L,tubularSegments:U,arc:W},L=Math.floor(L),U=Math.floor(U);const te=[],ne=[],ie=[],oe=[],ae=new Vector3,ce=new Vector3,he=new Vector3;for(let ue=0;ue<=L;ue++)for(let pe=0;pe<=U;pe++){const ge=pe/U*W,de=ue/L*Math.PI*2;ce.x=(T+A*Math.cos(de))*Math.cos(ge),ce.y=(T+A*Math.cos(de))*Math.sin(ge),ce.z=A*Math.sin(de),ne.push(ce.x,ce.y,ce.z),ae.x=T*Math.cos(ge),ae.y=T*Math.sin(ge),he.subVectors(ce,ae).normalize(),ie.push(he.x,he.y,he.z),oe.push(pe/U),oe.push(ue/L)}for(let ue=1;ue<=L;ue++)for(let pe=1;pe<=U;pe++){const ge=(U+1)*ue+pe-1,de=(U+1)*(ue-1)+pe-1,me=(U+1)*(ue-1)+pe,ye=(U+1)*ue+pe;te.push(ge,de,ye),te.push(de,me,ye)}this.setIndex(te),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2))}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new TorusGeometry(T.radius,T.tube,T.radialSegments,T.tubularSegments,T.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(T=1,A=.4,L=64,U=8,W=2,te=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:T,tube:A,tubularSegments:L,radialSegments:U,p:W,q:te},L=Math.floor(L),U=Math.floor(U);const ne=[],ie=[],oe=[],ae=[],ce=new Vector3,he=new Vector3,ue=new Vector3,pe=new Vector3,ge=new Vector3,de=new Vector3,me=new Vector3;for(let xe=0;xe<=L;++xe){const Se=xe/L*W*Math.PI*2;ye(Se,W,te,T,ue),ye(Se+.01,W,te,T,pe),de.subVectors(pe,ue),me.addVectors(pe,ue),ge.crossVectors(de,me),me.crossVectors(ge,de),ge.normalize(),me.normalize();for(let Te=0;Te<=U;++Te){const be=Te/U*Math.PI*2,Pe=-A*Math.cos(be),Ie=A*Math.sin(be);ce.x=ue.x+(Pe*me.x+Ie*ge.x),ce.y=ue.y+(Pe*me.y+Ie*ge.y),ce.z=ue.z+(Pe*me.z+Ie*ge.z),ie.push(ce.x,ce.y,ce.z),he.subVectors(ce,ue).normalize(),oe.push(he.x,he.y,he.z),ae.push(xe/L),ae.push(Te/U)}}for(let xe=1;xe<=L;xe++)for(let Se=1;Se<=U;Se++){const Te=(U+1)*(xe-1)+(Se-1),be=(U+1)*xe+(Se-1),Pe=(U+1)*xe+Se,Ie=(U+1)*(xe-1)+Se;ne.push(Te,be,Ie),ne.push(be,Pe,Ie)}this.setIndex(ne),this.setAttribute("position",new Float32BufferAttribute(ie,3)),this.setAttribute("normal",new Float32BufferAttribute(oe,3)),this.setAttribute("uv",new Float32BufferAttribute(ae,2));function ye(xe,Se,Te,be,Pe){const Ie=Math.cos(xe),De=Math.sin(xe),we=Te/Se*xe,Fe=Math.cos(we);Pe.x=be*(2+Fe)*.5*Ie,Pe.y=be*(2+Fe)*De*.5,Pe.z=be*Math.sin(we)*.5}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}static fromJSON(T){return new TorusKnotGeometry(T.radius,T.tube,T.tubularSegments,T.radialSegments,T.p,T.q)}}class TubeGeometry extends BufferGeometry{constructor(T=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),A=64,L=1,U=8,W=!1){super(),this.type="TubeGeometry",this.parameters={path:T,tubularSegments:A,radius:L,radialSegments:U,closed:W};const te=T.computeFrenetFrames(A,W);this.tangents=te.tangents,this.normals=te.normals,this.binormals=te.binormals;const ne=new Vector3,ie=new Vector3,oe=new Vector2;let ae=new Vector3;const ce=[],he=[],ue=[],pe=[];ge(),this.setIndex(pe),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(he,3)),this.setAttribute("uv",new Float32BufferAttribute(ue,2));function ge(){for(let xe=0;xe<A;xe++)de(xe);de(W===!1?A:0),ye(),me()}function de(xe){ae=T.getPointAt(xe/A,ae);const Se=te.normals[xe],Te=te.binormals[xe];for(let be=0;be<=U;be++){const Pe=be/U*Math.PI*2,Ie=Math.sin(Pe),De=-Math.cos(Pe);ie.x=De*Se.x+Ie*Te.x,ie.y=De*Se.y+Ie*Te.y,ie.z=De*Se.z+Ie*Te.z,ie.normalize(),he.push(ie.x,ie.y,ie.z),ne.x=ae.x+L*ie.x,ne.y=ae.y+L*ie.y,ne.z=ae.z+L*ie.z,ce.push(ne.x,ne.y,ne.z)}}function me(){for(let xe=1;xe<=A;xe++)for(let Se=1;Se<=U;Se++){const Te=(U+1)*(xe-1)+(Se-1),be=(U+1)*xe+(Se-1),Pe=(U+1)*xe+Se,Ie=(U+1)*(xe-1)+Se;pe.push(Te,be,Ie),pe.push(be,Pe,Ie)}}function ye(){for(let xe=0;xe<=A;xe++)for(let Se=0;Se<=U;Se++)oe.x=xe/A,oe.y=Se/U,ue.push(oe.x,oe.y)}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}toJSON(){const T=super.toJSON();return T.path=this.parameters.path.toJSON(),T}static fromJSON(T){return new TubeGeometry(new Curves[T.path.type]().fromJSON(T.path),T.tubularSegments,T.radius,T.radialSegments,T.closed)}}class WireframeGeometry extends BufferGeometry{constructor(T=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:T},T!==null){const A=[],L=new Set,U=new Vector3,W=new Vector3;if(T.index!==null){const te=T.attributes.position,ne=T.index;let ie=T.groups;ie.length===0&&(ie=[{start:0,count:ne.count,materialIndex:0}]);for(let oe=0,ae=ie.length;oe<ae;++oe){const ce=ie[oe],he=ce.start,ue=ce.count;for(let pe=he,ge=he+ue;pe<ge;pe+=3)for(let de=0;de<3;de++){const me=ne.getX(pe+de),ye=ne.getX(pe+(de+1)%3);U.fromBufferAttribute(te,me),W.fromBufferAttribute(te,ye),isUniqueEdge(U,W,L)===!0&&(A.push(U.x,U.y,U.z),A.push(W.x,W.y,W.z))}}}else{const te=T.attributes.position;for(let ne=0,ie=te.count/3;ne<ie;ne++)for(let oe=0;oe<3;oe++){const ae=3*ne+oe,ce=3*ne+(oe+1)%3;U.fromBufferAttribute(te,ae),W.fromBufferAttribute(te,ce),isUniqueEdge(U,W,L)===!0&&(A.push(U.x,U.y,U.z),A.push(W.x,W.y,W.z))}}this.setAttribute("position",new Float32BufferAttribute(A,3))}}copy(T){return super.copy(T),this.parameters=Object.assign({},T.parameters),this}}function isUniqueEdge(P,T,A){const L=`${P.x},${P.y},${P.z}-${T.x},${T.y},${T.z}`,U=`${T.x},${T.y},${T.z}-${P.x},${P.y},${P.z}`;return A.has(L)===!0||A.has(U)===!0?!1:(A.add(L),A.add(U),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(T){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.fog=T.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(T){super(T),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(T){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.defines={STANDARD:""},this.color.copy(T.color),this.roughness=T.roughness,this.metalness=T.metalness,this.map=T.map,this.lightMap=T.lightMap,this.lightMapIntensity=T.lightMapIntensity,this.aoMap=T.aoMap,this.aoMapIntensity=T.aoMapIntensity,this.emissive.copy(T.emissive),this.emissiveMap=T.emissiveMap,this.emissiveIntensity=T.emissiveIntensity,this.bumpMap=T.bumpMap,this.bumpScale=T.bumpScale,this.normalMap=T.normalMap,this.normalMapType=T.normalMapType,this.normalScale.copy(T.normalScale),this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.roughnessMap=T.roughnessMap,this.metalnessMap=T.metalnessMap,this.alphaMap=T.alphaMap,this.envMap=T.envMap,this.envMapRotation.copy(T.envMapRotation),this.envMapIntensity=T.envMapIntensity,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.wireframeLinecap=T.wireframeLinecap,this.wireframeLinejoin=T.wireframeLinejoin,this.flatShading=T.flatShading,this.fog=T.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(T){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(A){this.ior=(1+.4*A)/(1-.4*A)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(T)}get anisotropy(){return this._anisotropy}set anisotropy(T){this._anisotropy>0!=T>0&&this.version++,this._anisotropy=T}get clearcoat(){return this._clearcoat}set clearcoat(T){this._clearcoat>0!=T>0&&this.version++,this._clearcoat=T}get iridescence(){return this._iridescence}set iridescence(T){this._iridescence>0!=T>0&&this.version++,this._iridescence=T}get dispersion(){return this._dispersion}set dispersion(T){this._dispersion>0!=T>0&&this.version++,this._dispersion=T}get sheen(){return this._sheen}set sheen(T){this._sheen>0!=T>0&&this.version++,this._sheen=T}get transmission(){return this._transmission}set transmission(T){this._transmission>0!=T>0&&this.version++,this._transmission=T}copy(T){return super.copy(T),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=T.anisotropy,this.anisotropyRotation=T.anisotropyRotation,this.anisotropyMap=T.anisotropyMap,this.clearcoat=T.clearcoat,this.clearcoatMap=T.clearcoatMap,this.clearcoatRoughness=T.clearcoatRoughness,this.clearcoatRoughnessMap=T.clearcoatRoughnessMap,this.clearcoatNormalMap=T.clearcoatNormalMap,this.clearcoatNormalScale.copy(T.clearcoatNormalScale),this.dispersion=T.dispersion,this.ior=T.ior,this.iridescence=T.iridescence,this.iridescenceMap=T.iridescenceMap,this.iridescenceIOR=T.iridescenceIOR,this.iridescenceThicknessRange=[...T.iridescenceThicknessRange],this.iridescenceThicknessMap=T.iridescenceThicknessMap,this.sheen=T.sheen,this.sheenColor.copy(T.sheenColor),this.sheenColorMap=T.sheenColorMap,this.sheenRoughness=T.sheenRoughness,this.sheenRoughnessMap=T.sheenRoughnessMap,this.transmission=T.transmission,this.transmissionMap=T.transmissionMap,this.thickness=T.thickness,this.thicknessMap=T.thicknessMap,this.attenuationDistance=T.attenuationDistance,this.attenuationColor.copy(T.attenuationColor),this.specularIntensity=T.specularIntensity,this.specularIntensityMap=T.specularIntensityMap,this.specularColor.copy(T.specularColor),this.specularColorMap=T.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(T){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.specular.copy(T.specular),this.shininess=T.shininess,this.map=T.map,this.lightMap=T.lightMap,this.lightMapIntensity=T.lightMapIntensity,this.aoMap=T.aoMap,this.aoMapIntensity=T.aoMapIntensity,this.emissive.copy(T.emissive),this.emissiveMap=T.emissiveMap,this.emissiveIntensity=T.emissiveIntensity,this.bumpMap=T.bumpMap,this.bumpScale=T.bumpScale,this.normalMap=T.normalMap,this.normalMapType=T.normalMapType,this.normalScale.copy(T.normalScale),this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.specularMap=T.specularMap,this.alphaMap=T.alphaMap,this.envMap=T.envMap,this.envMapRotation.copy(T.envMapRotation),this.combine=T.combine,this.reflectivity=T.reflectivity,this.refractionRatio=T.refractionRatio,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.wireframeLinecap=T.wireframeLinecap,this.wireframeLinejoin=T.wireframeLinejoin,this.flatShading=T.flatShading,this.fog=T.fog,this}}class MeshToonMaterial extends Material{constructor(T){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.map=T.map,this.gradientMap=T.gradientMap,this.lightMap=T.lightMap,this.lightMapIntensity=T.lightMapIntensity,this.aoMap=T.aoMap,this.aoMapIntensity=T.aoMapIntensity,this.emissive.copy(T.emissive),this.emissiveMap=T.emissiveMap,this.emissiveIntensity=T.emissiveIntensity,this.bumpMap=T.bumpMap,this.bumpScale=T.bumpScale,this.normalMap=T.normalMap,this.normalMapType=T.normalMapType,this.normalScale.copy(T.normalScale),this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.alphaMap=T.alphaMap,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.wireframeLinecap=T.wireframeLinecap,this.wireframeLinejoin=T.wireframeLinejoin,this.fog=T.fog,this}}class MeshNormalMaterial extends Material{constructor(T){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(T)}copy(T){return super.copy(T),this.bumpMap=T.bumpMap,this.bumpScale=T.bumpScale,this.normalMap=T.normalMap,this.normalMapType=T.normalMapType,this.normalScale.copy(T.normalScale),this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.flatShading=T.flatShading,this}}class MeshLambertMaterial extends Material{constructor(T){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.color.copy(T.color),this.map=T.map,this.lightMap=T.lightMap,this.lightMapIntensity=T.lightMapIntensity,this.aoMap=T.aoMap,this.aoMapIntensity=T.aoMapIntensity,this.emissive.copy(T.emissive),this.emissiveMap=T.emissiveMap,this.emissiveIntensity=T.emissiveIntensity,this.bumpMap=T.bumpMap,this.bumpScale=T.bumpScale,this.normalMap=T.normalMap,this.normalMapType=T.normalMapType,this.normalScale.copy(T.normalScale),this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.specularMap=T.specularMap,this.alphaMap=T.alphaMap,this.envMap=T.envMap,this.envMapRotation.copy(T.envMapRotation),this.combine=T.combine,this.reflectivity=T.reflectivity,this.refractionRatio=T.refractionRatio,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this.wireframeLinecap=T.wireframeLinecap,this.wireframeLinejoin=T.wireframeLinejoin,this.flatShading=T.flatShading,this.fog=T.fog,this}}class MeshDepthMaterial extends Material{constructor(T){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(T)}copy(T){return super.copy(T),this.depthPacking=T.depthPacking,this.map=T.map,this.alphaMap=T.alphaMap,this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.wireframe=T.wireframe,this.wireframeLinewidth=T.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(T){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(T)}copy(T){return super.copy(T),this.map=T.map,this.alphaMap=T.alphaMap,this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(T){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(T)}copy(T){return super.copy(T),this.defines={MATCAP:""},this.color.copy(T.color),this.matcap=T.matcap,this.map=T.map,this.bumpMap=T.bumpMap,this.bumpScale=T.bumpScale,this.normalMap=T.normalMap,this.normalMapType=T.normalMapType,this.normalScale.copy(T.normalScale),this.displacementMap=T.displacementMap,this.displacementScale=T.displacementScale,this.displacementBias=T.displacementBias,this.alphaMap=T.alphaMap,this.flatShading=T.flatShading,this.fog=T.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(T){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(T)}copy(T){return super.copy(T),this.scale=T.scale,this.dashSize=T.dashSize,this.gapSize=T.gapSize,this}}function convertArray(P,T,A){return!P||!A&&P.constructor===T?P:typeof T.BYTES_PER_ELEMENT=="number"?new T(P):Array.prototype.slice.call(P)}function isTypedArray(P){return ArrayBuffer.isView(P)&&!(P instanceof DataView)}function getKeyframeOrder(P){function T(U,W){return P[U]-P[W]}const A=P.length,L=new Array(A);for(let U=0;U!==A;++U)L[U]=U;return L.sort(T),L}function sortedArray(P,T,A){const L=P.length,U=new P.constructor(L);for(let W=0,te=0;te!==L;++W){const ne=A[W]*T;for(let ie=0;ie!==T;++ie)U[te++]=P[ne+ie]}return U}function flattenJSON(P,T,A,L){let U=1,W=P[0];for(;W!==void 0&&W[L]===void 0;)W=P[U++];if(W===void 0)return;let te=W[L];if(te!==void 0)if(Array.isArray(te))do te=W[L],te!==void 0&&(T.push(W.time),A.push.apply(A,te)),W=P[U++];while(W!==void 0);else if(te.toArray!==void 0)do te=W[L],te!==void 0&&(T.push(W.time),te.toArray(A,A.length)),W=P[U++];while(W!==void 0);else do te=W[L],te!==void 0&&(T.push(W.time),A.push(te)),W=P[U++];while(W!==void 0)}function subclip(P,T,A,L,U=30){const W=P.clone();W.name=T;const te=[];for(let ie=0;ie<W.tracks.length;++ie){const oe=W.tracks[ie],ae=oe.getValueSize(),ce=[],he=[];for(let ue=0;ue<oe.times.length;++ue){const pe=oe.times[ue]*U;if(!(pe<A||pe>=L)){ce.push(oe.times[ue]);for(let ge=0;ge<ae;++ge)he.push(oe.values[ue*ae+ge])}}ce.length!==0&&(oe.times=convertArray(ce,oe.times.constructor),oe.values=convertArray(he,oe.values.constructor),te.push(oe))}W.tracks=te;let ne=1/0;for(let ie=0;ie<W.tracks.length;++ie)ne>W.tracks[ie].times[0]&&(ne=W.tracks[ie].times[0]);for(let ie=0;ie<W.tracks.length;++ie)W.tracks[ie].shift(-1*ne);return W.resetDuration(),W}function makeClipAdditive(P,T=0,A=P,L=30){L<=0&&(L=30);const U=A.tracks.length,W=T/L;for(let te=0;te<U;++te){const ne=A.tracks[te],ie=ne.ValueTypeName;if(ie==="bool"||ie==="string")continue;const oe=P.tracks.find(function(me){return me.name===ne.name&&me.ValueTypeName===ie});if(oe===void 0)continue;let ae=0;const ce=ne.getValueSize();ne.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ae=ce/3);let he=0;const ue=oe.getValueSize();oe.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(he=ue/3);const pe=ne.times.length-1;let ge;if(W<=ne.times[0]){const me=ae,ye=ce-ae;ge=ne.values.slice(me,ye)}else if(W>=ne.times[pe]){const me=pe*ce+ae,ye=me+ce-ae;ge=ne.values.slice(me,ye)}else{const me=ne.createInterpolant(),ye=ae,xe=ce-ae;me.evaluate(W),ge=me.resultBuffer.slice(ye,xe)}ie==="quaternion"&&new Quaternion().fromArray(ge).normalize().conjugate().toArray(ge);const de=oe.times.length;for(let me=0;me<de;++me){const ye=me*ue+he;if(ie==="quaternion")Quaternion.multiplyQuaternionsFlat(oe.values,ye,ge,0,oe.values,ye);else{const xe=ue-he*2;for(let Se=0;Se<xe;++Se)oe.values[ye+Se]-=ge[Se]}}}return P.blendMode=AdditiveAnimationBlendMode,P}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(T,A,L,U){this.parameterPositions=T,this._cachedIndex=0,this.resultBuffer=U!==void 0?U:new A.constructor(L),this.sampleValues=A,this.valueSize=L,this.settings=null,this.DefaultSettings_={}}evaluate(T){const A=this.parameterPositions;let L=this._cachedIndex,U=A[L],W=A[L-1];e:{t:{let te;n:{r:if(!(T<U)){for(let ne=L+2;;){if(U===void 0){if(T<W)break r;return L=A.length,this._cachedIndex=L,this.copySampleValue_(L-1)}if(L===ne)break;if(W=U,U=A[++L],T<U)break t}te=A.length;break n}if(!(T>=W)){const ne=A[1];T<ne&&(L=2,W=ne);for(let ie=L-2;;){if(W===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(L===ie)break;if(U=W,W=A[--L-1],T>=W)break t}te=L,L=0;break n}break e}for(;L<te;){const ne=L+te>>>1;T<A[ne]?te=ne:L=ne+1}if(U=A[L],W=A[L-1],W===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(U===void 0)return L=A.length,this._cachedIndex=L,this.copySampleValue_(L-1)}this._cachedIndex=L,this.intervalChanged_(L,W,U)}return this.interpolate_(L,W,T,U)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(T){const A=this.resultBuffer,L=this.sampleValues,U=this.valueSize,W=T*U;for(let te=0;te!==U;++te)A[te]=L[W+te];return A}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(T,A,L,U){super(T,A,L,U),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(T,A,L){const U=this.parameterPositions;let W=T-2,te=T+1,ne=U[W],ie=U[te];if(ne===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:W=T,ne=2*A-L;break;case WrapAroundEnding:W=U.length-2,ne=A+U[W]-U[W+1];break;default:W=T,ne=L}if(ie===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:te=T,ie=2*L-A;break;case WrapAroundEnding:te=1,ie=L+U[1]-U[0];break;default:te=T-1,ie=A}const oe=(L-A)*.5,ae=this.valueSize;this._weightPrev=oe/(A-ne),this._weightNext=oe/(ie-L),this._offsetPrev=W*ae,this._offsetNext=te*ae}interpolate_(T,A,L,U){const W=this.resultBuffer,te=this.sampleValues,ne=this.valueSize,ie=T*ne,oe=ie-ne,ae=this._offsetPrev,ce=this._offsetNext,he=this._weightPrev,ue=this._weightNext,pe=(L-A)/(U-A),ge=pe*pe,de=ge*pe,me=-he*de+2*he*ge-he*pe,ye=(1+he)*de+(-1.5-2*he)*ge+(-.5+he)*pe+1,xe=(-1-ue)*de+(1.5+ue)*ge+.5*pe,Se=ue*de-ue*ge;for(let Te=0;Te!==ne;++Te)W[Te]=me*te[ae+Te]+ye*te[oe+Te]+xe*te[ie+Te]+Se*te[ce+Te];return W}}class LinearInterpolant extends Interpolant{constructor(T,A,L,U){super(T,A,L,U)}interpolate_(T,A,L,U){const W=this.resultBuffer,te=this.sampleValues,ne=this.valueSize,ie=T*ne,oe=ie-ne,ae=(L-A)/(U-A),ce=1-ae;for(let he=0;he!==ne;++he)W[he]=te[oe+he]*ce+te[ie+he]*ae;return W}}class DiscreteInterpolant extends Interpolant{constructor(T,A,L,U){super(T,A,L,U)}interpolate_(T){return this.copySampleValue_(T-1)}}class KeyframeTrack{constructor(T,A,L,U){if(T===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(A===void 0||A.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+T);this.name=T,this.times=convertArray(A,this.TimeBufferType),this.values=convertArray(L,this.ValueBufferType),this.setInterpolation(U||this.DefaultInterpolation)}static toJSON(T){const A=T.constructor;let L;if(A.toJSON!==this.toJSON)L=A.toJSON(T);else{L={name:T.name,times:convertArray(T.times,Array),values:convertArray(T.values,Array)};const U=T.getInterpolation();U!==T.DefaultInterpolation&&(L.interpolation=U)}return L.type=T.ValueTypeName,L}InterpolantFactoryMethodDiscrete(T){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),T)}InterpolantFactoryMethodLinear(T){return new LinearInterpolant(this.times,this.values,this.getValueSize(),T)}InterpolantFactoryMethodSmooth(T){return new CubicInterpolant(this.times,this.values,this.getValueSize(),T)}setInterpolation(T){let A;switch(T){case InterpolateDiscrete:A=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:A=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:A=this.InterpolantFactoryMethodSmooth;break}if(A===void 0){const L="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(T!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(L);return console.warn("THREE.KeyframeTrack:",L),this}return this.createInterpolant=A,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(T){if(T!==0){const A=this.times;for(let L=0,U=A.length;L!==U;++L)A[L]+=T}return this}scale(T){if(T!==1){const A=this.times;for(let L=0,U=A.length;L!==U;++L)A[L]*=T}return this}trim(T,A){const L=this.times,U=L.length;let W=0,te=U-1;for(;W!==U&&L[W]<T;)++W;for(;te!==-1&&L[te]>A;)--te;if(++te,W!==0||te!==U){W>=te&&(te=Math.max(te,1),W=te-1);const ne=this.getValueSize();this.times=L.slice(W,te),this.values=this.values.slice(W*ne,te*ne)}return this}validate(){let T=!0;const A=this.getValueSize();A-Math.floor(A)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),T=!1);const L=this.times,U=this.values,W=L.length;W===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),T=!1);let te=null;for(let ne=0;ne!==W;ne++){const ie=L[ne];if(typeof ie=="number"&&isNaN(ie)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,ne,ie),T=!1;break}if(te!==null&&te>ie){console.error("THREE.KeyframeTrack: Out of order keys.",this,ne,ie,te),T=!1;break}te=ie}if(U!==void 0&&isTypedArray(U))for(let ne=0,ie=U.length;ne!==ie;++ne){const oe=U[ne];if(isNaN(oe)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,ne,oe),T=!1;break}}return T}optimize(){const T=this.times.slice(),A=this.values.slice(),L=this.getValueSize(),U=this.getInterpolation()===InterpolateSmooth,W=T.length-1;let te=1;for(let ne=1;ne<W;++ne){let ie=!1;const oe=T[ne],ae=T[ne+1];if(oe!==ae&&(ne!==1||oe!==T[0]))if(U)ie=!0;else{const ce=ne*L,he=ce-L,ue=ce+L;for(let pe=0;pe!==L;++pe){const ge=A[ce+pe];if(ge!==A[he+pe]||ge!==A[ue+pe]){ie=!0;break}}}if(ie){if(ne!==te){T[te]=T[ne];const ce=ne*L,he=te*L;for(let ue=0;ue!==L;++ue)A[he+ue]=A[ce+ue]}++te}}if(W>0){T[te]=T[W];for(let ne=W*L,ie=te*L,oe=0;oe!==L;++oe)A[ie+oe]=A[ne+oe];++te}return te!==T.length?(this.times=T.slice(0,te),this.values=A.slice(0,te*L)):(this.times=T,this.values=A),this}clone(){const T=this.times.slice(),A=this.values.slice(),L=this.constructor,U=new L(this.name,T,A);return U.createInterpolant=this.createInterpolant,U}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(T,A,L){super(T,A,L)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(T,A,L,U){super(T,A,L,U)}interpolate_(T,A,L,U){const W=this.resultBuffer,te=this.sampleValues,ne=this.valueSize,ie=(L-A)/(U-A);let oe=T*ne;for(let ae=oe+ne;oe!==ae;oe+=4)Quaternion.slerpFlat(W,0,te,oe-ne,te,oe,ie);return W}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(T){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),T)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(T,A,L){super(T,A,L)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(T="",A=-1,L=[],U=NormalAnimationBlendMode){this.name=T,this.tracks=L,this.duration=A,this.blendMode=U,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(T){const A=[],L=T.tracks,U=1/(T.fps||1);for(let te=0,ne=L.length;te!==ne;++te)A.push(parseKeyframeTrack(L[te]).scale(U));const W=new this(T.name,T.duration,A,T.blendMode);return W.uuid=T.uuid,W}static toJSON(T){const A=[],L=T.tracks,U={name:T.name,duration:T.duration,tracks:A,uuid:T.uuid,blendMode:T.blendMode};for(let W=0,te=L.length;W!==te;++W)A.push(KeyframeTrack.toJSON(L[W]));return U}static CreateFromMorphTargetSequence(T,A,L,U){const W=A.length,te=[];for(let ne=0;ne<W;ne++){let ie=[],oe=[];ie.push((ne+W-1)%W,ne,(ne+1)%W),oe.push(0,1,0);const ae=getKeyframeOrder(ie);ie=sortedArray(ie,1,ae),oe=sortedArray(oe,1,ae),!U&&ie[0]===0&&(ie.push(W),oe.push(oe[0])),te.push(new NumberKeyframeTrack(".morphTargetInfluences["+A[ne].name+"]",ie,oe).scale(1/L))}return new this(T,-1,te)}static findByName(T,A){let L=T;if(!Array.isArray(T)){const U=T;L=U.geometry&&U.geometry.animations||U.animations}for(let U=0;U<L.length;U++)if(L[U].name===A)return L[U];return null}static CreateClipsFromMorphTargetSequences(T,A,L){const U={},W=/^([\w-]*?)([\d]+)$/;for(let ne=0,ie=T.length;ne<ie;ne++){const oe=T[ne],ae=oe.name.match(W);if(ae&&ae.length>1){const ce=ae[1];let he=U[ce];he||(U[ce]=he=[]),he.push(oe)}}const te=[];for(const ne in U)te.push(this.CreateFromMorphTargetSequence(ne,U[ne],A,L));return te}static parseAnimation(T,A){if(!T)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const L=function(ce,he,ue,pe,ge){if(ue.length!==0){const de=[],me=[];flattenJSON(ue,de,me,pe),de.length!==0&&ge.push(new ce(he,de,me))}},U=[],W=T.name||"default",te=T.fps||30,ne=T.blendMode;let ie=T.length||-1;const oe=T.hierarchy||[];for(let ce=0;ce<oe.length;ce++){const he=oe[ce].keys;if(!(!he||he.length===0))if(he[0].morphTargets){const ue={};let pe;for(pe=0;pe<he.length;pe++)if(he[pe].morphTargets)for(let ge=0;ge<he[pe].morphTargets.length;ge++)ue[he[pe].morphTargets[ge]]=-1;for(const ge in ue){const de=[],me=[];for(let ye=0;ye!==he[pe].morphTargets.length;++ye){const xe=he[pe];de.push(xe.time),me.push(xe.morphTarget===ge?1:0)}U.push(new NumberKeyframeTrack(".morphTargetInfluence["+ge+"]",de,me))}ie=ue.length*te}else{const ue=".bones["+A[ce].name+"]";L(VectorKeyframeTrack,ue+".position",he,"pos",U),L(QuaternionKeyframeTrack,ue+".quaternion",he,"rot",U),L(VectorKeyframeTrack,ue+".scale",he,"scl",U)}}return U.length===0?null:new this(W,ie,U,ne)}resetDuration(){const T=this.tracks;let A=0;for(let L=0,U=T.length;L!==U;++L){const W=this.tracks[L];A=Math.max(A,W.times[W.times.length-1])}return this.duration=A,this}trim(){for(let T=0;T<this.tracks.length;T++)this.tracks[T].trim(0,this.duration);return this}validate(){let T=!0;for(let A=0;A<this.tracks.length;A++)T=T&&this.tracks[A].validate();return T}optimize(){for(let T=0;T<this.tracks.length;T++)this.tracks[T].optimize();return this}clone(){const T=[];for(let A=0;A<this.tracks.length;A++)T.push(this.tracks[A].clone());return new this.constructor(this.name,this.duration,T,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(P){switch(P.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+P)}function parseKeyframeTrack(P){if(P.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const T=getTrackTypeForValueTypeName(P.type);if(P.times===void 0){const A=[],L=[];flattenJSON(P.keys,A,L,"value"),P.times=A,P.values=L}return T.parse!==void 0?T.parse(P):new T(P.name,P.times,P.values,P.interpolation)}const Cache={enabled:!1,files:{},add:function(P,T){this.enabled!==!1&&(this.files[P]=T)},get:function(P){if(this.enabled!==!1)return this.files[P]},remove:function(P){delete this.files[P]},clear:function(){this.files={}}};class LoadingManager{constructor(T,A,L){const U=this;let W=!1,te=0,ne=0,ie;const oe=[];this.onStart=void 0,this.onLoad=T,this.onProgress=A,this.onError=L,this.itemStart=function(ae){ne++,W===!1&&U.onStart!==void 0&&U.onStart(ae,te,ne),W=!0},this.itemEnd=function(ae){te++,U.onProgress!==void 0&&U.onProgress(ae,te,ne),te===ne&&(W=!1,U.onLoad!==void 0&&U.onLoad())},this.itemError=function(ae){U.onError!==void 0&&U.onError(ae)},this.resolveURL=function(ae){return ie?ie(ae):ae},this.setURLModifier=function(ae){return ie=ae,this},this.addHandler=function(ae,ce){return oe.push(ae,ce),this},this.removeHandler=function(ae){const ce=oe.indexOf(ae);return ce!==-1&&oe.splice(ce,2),this},this.getHandler=function(ae){for(let ce=0,he=oe.length;ce<he;ce+=2){const ue=oe[ce],pe=oe[ce+1];if(ue.global&&(ue.lastIndex=0),ue.test(ae))return pe}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(T){this.manager=T!==void 0?T:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(T,A){const L=this;return new Promise(function(U,W){L.load(T,U,A,W)})}parse(){}setCrossOrigin(T){return this.crossOrigin=T,this}setWithCredentials(T){return this.withCredentials=T,this}setPath(T){return this.path=T,this}setResourcePath(T){return this.resourcePath=T,this}setRequestHeader(T){return this.requestHeader=T,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(T,A){super(T),this.response=A}}class FileLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){T===void 0&&(T=""),this.path!==void 0&&(T=this.path+T),T=this.manager.resolveURL(T);const W=Cache.get(T);if(W!==void 0)return this.manager.itemStart(T),setTimeout(()=>{A&&A(W),this.manager.itemEnd(T)},0),W;if(loading[T]!==void 0){loading[T].push({onLoad:A,onProgress:L,onError:U});return}loading[T]=[],loading[T].push({onLoad:A,onProgress:L,onError:U});const te=new Request(T,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),ne=this.mimeType,ie=this.responseType;fetch(te).then(oe=>{if(oe.status===200||oe.status===0){if(oe.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||oe.body===void 0||oe.body.getReader===void 0)return oe;const ae=loading[T],ce=oe.body.getReader(),he=oe.headers.get("X-File-Size")||oe.headers.get("Content-Length"),ue=he?parseInt(he):0,pe=ue!==0;let ge=0;const de=new ReadableStream({start(me){ye();function ye(){ce.read().then(({done:xe,value:Se})=>{if(xe)me.close();else{ge+=Se.byteLength;const Te=new ProgressEvent("progress",{lengthComputable:pe,loaded:ge,total:ue});for(let be=0,Pe=ae.length;be<Pe;be++){const Ie=ae[be];Ie.onProgress&&Ie.onProgress(Te)}me.enqueue(Se),ye()}},xe=>{me.error(xe)})}}});return new Response(de)}else throw new HttpError(`fetch for "${oe.url}" responded with ${oe.status}: ${oe.statusText}`,oe)}).then(oe=>{switch(ie){case"arraybuffer":return oe.arrayBuffer();case"blob":return oe.blob();case"document":return oe.text().then(ae=>new DOMParser().parseFromString(ae,ne));case"json":return oe.json();default:if(ne===void 0)return oe.text();{const ce=/charset="?([^;"\s]*)"?/i.exec(ne),he=ce&&ce[1]?ce[1].toLowerCase():void 0,ue=new TextDecoder(he);return oe.arrayBuffer().then(pe=>ue.decode(pe))}}}).then(oe=>{Cache.add(T,oe);const ae=loading[T];delete loading[T];for(let ce=0,he=ae.length;ce<he;ce++){const ue=ae[ce];ue.onLoad&&ue.onLoad(oe)}}).catch(oe=>{const ae=loading[T];if(ae===void 0)throw this.manager.itemError(T),oe;delete loading[T];for(let ce=0,he=ae.length;ce<he;ce++){const ue=ae[ce];ue.onError&&ue.onError(oe)}this.manager.itemError(T)}).finally(()=>{this.manager.itemEnd(T)}),this.manager.itemStart(T)}setResponseType(T){return this.responseType=T,this}setMimeType(T){return this.mimeType=T,this}}class AnimationLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=this,te=new FileLoader(this.manager);te.setPath(this.path),te.setRequestHeader(this.requestHeader),te.setWithCredentials(this.withCredentials),te.load(T,function(ne){try{A(W.parse(JSON.parse(ne)))}catch(ie){U?U(ie):console.error(ie),W.manager.itemError(T)}},L,U)}parse(T){const A=[];for(let L=0;L<T.length;L++){const U=AnimationClip.parse(T[L]);A.push(U)}return A}}class CompressedTextureLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=this,te=[],ne=new CompressedTexture,ie=new FileLoader(this.manager);ie.setPath(this.path),ie.setResponseType("arraybuffer"),ie.setRequestHeader(this.requestHeader),ie.setWithCredentials(W.withCredentials);let oe=0;function ae(ce){ie.load(T[ce],function(he){const ue=W.parse(he,!0);te[ce]={width:ue.width,height:ue.height,format:ue.format,mipmaps:ue.mipmaps},oe+=1,oe===6&&(ue.mipmapCount===1&&(ne.minFilter=LinearFilter),ne.image=te,ne.format=ue.format,ne.needsUpdate=!0,A&&A(ne))},L,U)}if(Array.isArray(T))for(let ce=0,he=T.length;ce<he;++ce)ae(ce);else ie.load(T,function(ce){const he=W.parse(ce,!0);if(he.isCubemap){const ue=he.mipmaps.length/he.mipmapCount;for(let pe=0;pe<ue;pe++){te[pe]={mipmaps:[]};for(let ge=0;ge<he.mipmapCount;ge++)te[pe].mipmaps.push(he.mipmaps[pe*he.mipmapCount+ge]),te[pe].format=he.format,te[pe].width=he.width,te[pe].height=he.height}ne.image=te}else ne.image.width=he.width,ne.image.height=he.height,ne.mipmaps=he.mipmaps;he.mipmapCount===1&&(ne.minFilter=LinearFilter),ne.format=he.format,ne.needsUpdate=!0,A&&A(ne)},L,U);return ne}}class ImageLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){this.path!==void 0&&(T=this.path+T),T=this.manager.resolveURL(T);const W=this,te=Cache.get(T);if(te!==void 0)return W.manager.itemStart(T),setTimeout(function(){A&&A(te),W.manager.itemEnd(T)},0),te;const ne=createElementNS("img");function ie(){ae(),Cache.add(T,this),A&&A(this),W.manager.itemEnd(T)}function oe(ce){ae(),U&&U(ce),W.manager.itemError(T),W.manager.itemEnd(T)}function ae(){ne.removeEventListener("load",ie,!1),ne.removeEventListener("error",oe,!1)}return ne.addEventListener("load",ie,!1),ne.addEventListener("error",oe,!1),T.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(ne.crossOrigin=this.crossOrigin),W.manager.itemStart(T),ne.src=T,ne}}class CubeTextureLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=new CubeTexture;W.colorSpace=SRGBColorSpace;const te=new ImageLoader(this.manager);te.setCrossOrigin(this.crossOrigin),te.setPath(this.path);let ne=0;function ie(oe){te.load(T[oe],function(ae){W.images[oe]=ae,ne++,ne===6&&(W.needsUpdate=!0,A&&A(W))},void 0,U)}for(let oe=0;oe<T.length;++oe)ie(oe);return W}}class DataTextureLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=this,te=new DataTexture,ne=new FileLoader(this.manager);return ne.setResponseType("arraybuffer"),ne.setRequestHeader(this.requestHeader),ne.setPath(this.path),ne.setWithCredentials(W.withCredentials),ne.load(T,function(ie){let oe;try{oe=W.parse(ie)}catch(ae){if(U!==void 0)U(ae);else{console.error(ae);return}}oe.image!==void 0?te.image=oe.image:oe.data!==void 0&&(te.image.width=oe.width,te.image.height=oe.height,te.image.data=oe.data),te.wrapS=oe.wrapS!==void 0?oe.wrapS:ClampToEdgeWrapping,te.wrapT=oe.wrapT!==void 0?oe.wrapT:ClampToEdgeWrapping,te.magFilter=oe.magFilter!==void 0?oe.magFilter:LinearFilter,te.minFilter=oe.minFilter!==void 0?oe.minFilter:LinearFilter,te.anisotropy=oe.anisotropy!==void 0?oe.anisotropy:1,oe.colorSpace!==void 0&&(te.colorSpace=oe.colorSpace),oe.flipY!==void 0&&(te.flipY=oe.flipY),oe.format!==void 0&&(te.format=oe.format),oe.type!==void 0&&(te.type=oe.type),oe.mipmaps!==void 0&&(te.mipmaps=oe.mipmaps,te.minFilter=LinearMipmapLinearFilter),oe.mipmapCount===1&&(te.minFilter=LinearFilter),oe.generateMipmaps!==void 0&&(te.generateMipmaps=oe.generateMipmaps),te.needsUpdate=!0,A&&A(te,oe)},L,U),te}}class TextureLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=new Texture,te=new ImageLoader(this.manager);return te.setCrossOrigin(this.crossOrigin),te.setPath(this.path),te.load(T,function(ne){W.image=ne,W.needsUpdate=!0,A!==void 0&&A(W)},L,U),W}}class Light extends Object3D{constructor(T,A=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(T),this.intensity=A}dispose(){}copy(T,A){return super.copy(T,A),this.color.copy(T.color),this.intensity=T.intensity,this}toJSON(T){const A=super.toJSON(T);return A.object.color=this.color.getHex(),A.object.intensity=this.intensity,this.groundColor!==void 0&&(A.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(A.object.distance=this.distance),this.angle!==void 0&&(A.object.angle=this.angle),this.decay!==void 0&&(A.object.decay=this.decay),this.penumbra!==void 0&&(A.object.penumbra=this.penumbra),this.shadow!==void 0&&(A.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(A.object.target=this.target.uuid),A}}class HemisphereLight extends Light{constructor(T,A,L){super(T,L),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(A)}copy(T,A){return super.copy(T,A),this.groundColor.copy(T.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(T){this.camera=T,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(T){const A=this.camera,L=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(T.matrixWorld),A.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(T.target.matrixWorld),A.lookAt(_lookTarget$1),A.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),L.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),L.multiply(_projScreenMatrix$1)}getViewport(T){return this._viewports[T]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(T){return this.camera=T.camera.clone(),this.intensity=T.intensity,this.bias=T.bias,this.radius=T.radius,this.mapSize.copy(T.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const T={};return this.intensity!==1&&(T.intensity=this.intensity),this.bias!==0&&(T.bias=this.bias),this.normalBias!==0&&(T.normalBias=this.normalBias),this.radius!==1&&(T.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(T.mapSize=this.mapSize.toArray()),T.camera=this.camera.toJSON(!1).object,delete T.camera.matrix,T}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(T){const A=this.camera,L=RAD2DEG*2*T.angle*this.focus,U=this.mapSize.width/this.mapSize.height,W=T.distance||A.far;(L!==A.fov||U!==A.aspect||W!==A.far)&&(A.fov=L,A.aspect=U,A.far=W,A.updateProjectionMatrix()),super.updateMatrices(T)}copy(T){return super.copy(T),this.focus=T.focus,this}}class SpotLight extends Light{constructor(T,A,L=0,U=Math.PI/3,W=0,te=2){super(T,A),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=L,this.angle=U,this.penumbra=W,this.decay=te,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(T){this.intensity=T/Math.PI}dispose(){this.shadow.dispose()}copy(T,A){return super.copy(T,A),this.distance=T.distance,this.angle=T.angle,this.penumbra=T.penumbra,this.decay=T.decay,this.target=T.target.clone(),this.shadow=T.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(T,A=0){const L=this.camera,U=this.matrix,W=T.distance||L.far;W!==L.far&&(L.far=W,L.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(T.matrixWorld),L.position.copy(_lightPositionWorld),_lookTarget.copy(L.position),_lookTarget.add(this._cubeDirections[A]),L.up.copy(this._cubeUps[A]),L.lookAt(_lookTarget),L.updateMatrixWorld(),U.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(L.projectionMatrix,L.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(T,A,L=0,U=2){super(T,A),this.isPointLight=!0,this.type="PointLight",this.distance=L,this.decay=U,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(T){this.intensity=T/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(T,A){return super.copy(T,A),this.distance=T.distance,this.decay=T.decay,this.shadow=T.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(T=-1,A=1,L=1,U=-1,W=.1,te=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=T,this.right=A,this.top=L,this.bottom=U,this.near=W,this.far=te,this.updateProjectionMatrix()}copy(T,A){return super.copy(T,A),this.left=T.left,this.right=T.right,this.top=T.top,this.bottom=T.bottom,this.near=T.near,this.far=T.far,this.zoom=T.zoom,this.view=T.view===null?null:Object.assign({},T.view),this}setViewOffset(T,A,L,U,W,te){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=T,this.view.fullHeight=A,this.view.offsetX=L,this.view.offsetY=U,this.view.width=W,this.view.height=te,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const T=(this.right-this.left)/(2*this.zoom),A=(this.top-this.bottom)/(2*this.zoom),L=(this.right+this.left)/2,U=(this.top+this.bottom)/2;let W=L-T,te=L+T,ne=U+A,ie=U-A;if(this.view!==null&&this.view.enabled){const oe=(this.right-this.left)/this.view.fullWidth/this.zoom,ae=(this.top-this.bottom)/this.view.fullHeight/this.zoom;W+=oe*this.view.offsetX,te=W+oe*this.view.width,ne-=ae*this.view.offsetY,ie=ne-ae*this.view.height}this.projectionMatrix.makeOrthographic(W,te,ne,ie,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(T){const A=super.toJSON(T);return A.object.zoom=this.zoom,A.object.left=this.left,A.object.right=this.right,A.object.top=this.top,A.object.bottom=this.bottom,A.object.near=this.near,A.object.far=this.far,this.view!==null&&(A.object.view=Object.assign({},this.view)),A}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(T,A){super(T,A),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(T){return super.copy(T),this.target=T.target.clone(),this.shadow=T.shadow.clone(),this}}class AmbientLight extends Light{constructor(T,A){super(T,A),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(T,A,L=10,U=10){super(T,A),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=L,this.height=U}get power(){return this.intensity*this.width*this.height*Math.PI}set power(T){this.intensity=T/(this.width*this.height*Math.PI)}copy(T){return super.copy(T),this.width=T.width,this.height=T.height,this}toJSON(T){const A=super.toJSON(T);return A.object.width=this.width,A.object.height=this.height,A}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let T=0;T<9;T++)this.coefficients.push(new Vector3)}set(T){for(let A=0;A<9;A++)this.coefficients[A].copy(T[A]);return this}zero(){for(let T=0;T<9;T++)this.coefficients[T].set(0,0,0);return this}getAt(T,A){const L=T.x,U=T.y,W=T.z,te=this.coefficients;return A.copy(te[0]).multiplyScalar(.282095),A.addScaledVector(te[1],.488603*U),A.addScaledVector(te[2],.488603*W),A.addScaledVector(te[3],.488603*L),A.addScaledVector(te[4],1.092548*(L*U)),A.addScaledVector(te[5],1.092548*(U*W)),A.addScaledVector(te[6],.315392*(3*W*W-1)),A.addScaledVector(te[7],1.092548*(L*W)),A.addScaledVector(te[8],.546274*(L*L-U*U)),A}getIrradianceAt(T,A){const L=T.x,U=T.y,W=T.z,te=this.coefficients;return A.copy(te[0]).multiplyScalar(.886227),A.addScaledVector(te[1],2*.511664*U),A.addScaledVector(te[2],2*.511664*W),A.addScaledVector(te[3],2*.511664*L),A.addScaledVector(te[4],2*.429043*L*U),A.addScaledVector(te[5],2*.429043*U*W),A.addScaledVector(te[6],.743125*W*W-.247708),A.addScaledVector(te[7],2*.429043*L*W),A.addScaledVector(te[8],.429043*(L*L-U*U)),A}add(T){for(let A=0;A<9;A++)this.coefficients[A].add(T.coefficients[A]);return this}addScaledSH(T,A){for(let L=0;L<9;L++)this.coefficients[L].addScaledVector(T.coefficients[L],A);return this}scale(T){for(let A=0;A<9;A++)this.coefficients[A].multiplyScalar(T);return this}lerp(T,A){for(let L=0;L<9;L++)this.coefficients[L].lerp(T.coefficients[L],A);return this}equals(T){for(let A=0;A<9;A++)if(!this.coefficients[A].equals(T.coefficients[A]))return!1;return!0}copy(T){return this.set(T.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(T,A=0){const L=this.coefficients;for(let U=0;U<9;U++)L[U].fromArray(T,A+U*3);return this}toArray(T=[],A=0){const L=this.coefficients;for(let U=0;U<9;U++)L[U].toArray(T,A+U*3);return T}static getBasisAt(T,A){const L=T.x,U=T.y,W=T.z;A[0]=.282095,A[1]=.488603*U,A[2]=.488603*W,A[3]=.488603*L,A[4]=1.092548*L*U,A[5]=1.092548*U*W,A[6]=.315392*(3*W*W-1),A[7]=1.092548*L*W,A[8]=.546274*(L*L-U*U)}}class LightProbe extends Light{constructor(T=new SphericalHarmonics3,A=1){super(void 0,A),this.isLightProbe=!0,this.sh=T}copy(T){return super.copy(T),this.sh.copy(T.sh),this}fromJSON(T){return this.intensity=T.intensity,this.sh.fromArray(T.sh),this}toJSON(T){const A=super.toJSON(T);return A.object.sh=this.sh.toArray(),A}}class MaterialLoader extends Loader{constructor(T){super(T),this.textures={}}load(T,A,L,U){const W=this,te=new FileLoader(W.manager);te.setPath(W.path),te.setRequestHeader(W.requestHeader),te.setWithCredentials(W.withCredentials),te.load(T,function(ne){try{A(W.parse(JSON.parse(ne)))}catch(ie){U?U(ie):console.error(ie),W.manager.itemError(T)}},L,U)}parse(T){const A=this.textures;function L(W){return A[W]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",W),A[W]}const U=this.createMaterialFromType(T.type);if(T.uuid!==void 0&&(U.uuid=T.uuid),T.name!==void 0&&(U.name=T.name),T.color!==void 0&&U.color!==void 0&&U.color.setHex(T.color),T.roughness!==void 0&&(U.roughness=T.roughness),T.metalness!==void 0&&(U.metalness=T.metalness),T.sheen!==void 0&&(U.sheen=T.sheen),T.sheenColor!==void 0&&(U.sheenColor=new Color().setHex(T.sheenColor)),T.sheenRoughness!==void 0&&(U.sheenRoughness=T.sheenRoughness),T.emissive!==void 0&&U.emissive!==void 0&&U.emissive.setHex(T.emissive),T.specular!==void 0&&U.specular!==void 0&&U.specular.setHex(T.specular),T.specularIntensity!==void 0&&(U.specularIntensity=T.specularIntensity),T.specularColor!==void 0&&U.specularColor!==void 0&&U.specularColor.setHex(T.specularColor),T.shininess!==void 0&&(U.shininess=T.shininess),T.clearcoat!==void 0&&(U.clearcoat=T.clearcoat),T.clearcoatRoughness!==void 0&&(U.clearcoatRoughness=T.clearcoatRoughness),T.dispersion!==void 0&&(U.dispersion=T.dispersion),T.iridescence!==void 0&&(U.iridescence=T.iridescence),T.iridescenceIOR!==void 0&&(U.iridescenceIOR=T.iridescenceIOR),T.iridescenceThicknessRange!==void 0&&(U.iridescenceThicknessRange=T.iridescenceThicknessRange),T.transmission!==void 0&&(U.transmission=T.transmission),T.thickness!==void 0&&(U.thickness=T.thickness),T.attenuationDistance!==void 0&&(U.attenuationDistance=T.attenuationDistance),T.attenuationColor!==void 0&&U.attenuationColor!==void 0&&U.attenuationColor.setHex(T.attenuationColor),T.anisotropy!==void 0&&(U.anisotropy=T.anisotropy),T.anisotropyRotation!==void 0&&(U.anisotropyRotation=T.anisotropyRotation),T.fog!==void 0&&(U.fog=T.fog),T.flatShading!==void 0&&(U.flatShading=T.flatShading),T.blending!==void 0&&(U.blending=T.blending),T.combine!==void 0&&(U.combine=T.combine),T.side!==void 0&&(U.side=T.side),T.shadowSide!==void 0&&(U.shadowSide=T.shadowSide),T.opacity!==void 0&&(U.opacity=T.opacity),T.transparent!==void 0&&(U.transparent=T.transparent),T.alphaTest!==void 0&&(U.alphaTest=T.alphaTest),T.alphaHash!==void 0&&(U.alphaHash=T.alphaHash),T.depthFunc!==void 0&&(U.depthFunc=T.depthFunc),T.depthTest!==void 0&&(U.depthTest=T.depthTest),T.depthWrite!==void 0&&(U.depthWrite=T.depthWrite),T.colorWrite!==void 0&&(U.colorWrite=T.colorWrite),T.blendSrc!==void 0&&(U.blendSrc=T.blendSrc),T.blendDst!==void 0&&(U.blendDst=T.blendDst),T.blendEquation!==void 0&&(U.blendEquation=T.blendEquation),T.blendSrcAlpha!==void 0&&(U.blendSrcAlpha=T.blendSrcAlpha),T.blendDstAlpha!==void 0&&(U.blendDstAlpha=T.blendDstAlpha),T.blendEquationAlpha!==void 0&&(U.blendEquationAlpha=T.blendEquationAlpha),T.blendColor!==void 0&&U.blendColor!==void 0&&U.blendColor.setHex(T.blendColor),T.blendAlpha!==void 0&&(U.blendAlpha=T.blendAlpha),T.stencilWriteMask!==void 0&&(U.stencilWriteMask=T.stencilWriteMask),T.stencilFunc!==void 0&&(U.stencilFunc=T.stencilFunc),T.stencilRef!==void 0&&(U.stencilRef=T.stencilRef),T.stencilFuncMask!==void 0&&(U.stencilFuncMask=T.stencilFuncMask),T.stencilFail!==void 0&&(U.stencilFail=T.stencilFail),T.stencilZFail!==void 0&&(U.stencilZFail=T.stencilZFail),T.stencilZPass!==void 0&&(U.stencilZPass=T.stencilZPass),T.stencilWrite!==void 0&&(U.stencilWrite=T.stencilWrite),T.wireframe!==void 0&&(U.wireframe=T.wireframe),T.wireframeLinewidth!==void 0&&(U.wireframeLinewidth=T.wireframeLinewidth),T.wireframeLinecap!==void 0&&(U.wireframeLinecap=T.wireframeLinecap),T.wireframeLinejoin!==void 0&&(U.wireframeLinejoin=T.wireframeLinejoin),T.rotation!==void 0&&(U.rotation=T.rotation),T.linewidth!==void 0&&(U.linewidth=T.linewidth),T.dashSize!==void 0&&(U.dashSize=T.dashSize),T.gapSize!==void 0&&(U.gapSize=T.gapSize),T.scale!==void 0&&(U.scale=T.scale),T.polygonOffset!==void 0&&(U.polygonOffset=T.polygonOffset),T.polygonOffsetFactor!==void 0&&(U.polygonOffsetFactor=T.polygonOffsetFactor),T.polygonOffsetUnits!==void 0&&(U.polygonOffsetUnits=T.polygonOffsetUnits),T.dithering!==void 0&&(U.dithering=T.dithering),T.alphaToCoverage!==void 0&&(U.alphaToCoverage=T.alphaToCoverage),T.premultipliedAlpha!==void 0&&(U.premultipliedAlpha=T.premultipliedAlpha),T.forceSinglePass!==void 0&&(U.forceSinglePass=T.forceSinglePass),T.visible!==void 0&&(U.visible=T.visible),T.toneMapped!==void 0&&(U.toneMapped=T.toneMapped),T.userData!==void 0&&(U.userData=T.userData),T.vertexColors!==void 0&&(typeof T.vertexColors=="number"?U.vertexColors=T.vertexColors>0:U.vertexColors=T.vertexColors),T.uniforms!==void 0)for(const W in T.uniforms){const te=T.uniforms[W];switch(U.uniforms[W]={},te.type){case"t":U.uniforms[W].value=L(te.value);break;case"c":U.uniforms[W].value=new Color().setHex(te.value);break;case"v2":U.uniforms[W].value=new Vector2().fromArray(te.value);break;case"v3":U.uniforms[W].value=new Vector3().fromArray(te.value);break;case"v4":U.uniforms[W].value=new Vector4().fromArray(te.value);break;case"m3":U.uniforms[W].value=new Matrix3().fromArray(te.value);break;case"m4":U.uniforms[W].value=new Matrix4().fromArray(te.value);break;default:U.uniforms[W].value=te.value}}if(T.defines!==void 0&&(U.defines=T.defines),T.vertexShader!==void 0&&(U.vertexShader=T.vertexShader),T.fragmentShader!==void 0&&(U.fragmentShader=T.fragmentShader),T.glslVersion!==void 0&&(U.glslVersion=T.glslVersion),T.extensions!==void 0)for(const W in T.extensions)U.extensions[W]=T.extensions[W];if(T.lights!==void 0&&(U.lights=T.lights),T.clipping!==void 0&&(U.clipping=T.clipping),T.size!==void 0&&(U.size=T.size),T.sizeAttenuation!==void 0&&(U.sizeAttenuation=T.sizeAttenuation),T.map!==void 0&&(U.map=L(T.map)),T.matcap!==void 0&&(U.matcap=L(T.matcap)),T.alphaMap!==void 0&&(U.alphaMap=L(T.alphaMap)),T.bumpMap!==void 0&&(U.bumpMap=L(T.bumpMap)),T.bumpScale!==void 0&&(U.bumpScale=T.bumpScale),T.normalMap!==void 0&&(U.normalMap=L(T.normalMap)),T.normalMapType!==void 0&&(U.normalMapType=T.normalMapType),T.normalScale!==void 0){let W=T.normalScale;Array.isArray(W)===!1&&(W=[W,W]),U.normalScale=new Vector2().fromArray(W)}return T.displacementMap!==void 0&&(U.displacementMap=L(T.displacementMap)),T.displacementScale!==void 0&&(U.displacementScale=T.displacementScale),T.displacementBias!==void 0&&(U.displacementBias=T.displacementBias),T.roughnessMap!==void 0&&(U.roughnessMap=L(T.roughnessMap)),T.metalnessMap!==void 0&&(U.metalnessMap=L(T.metalnessMap)),T.emissiveMap!==void 0&&(U.emissiveMap=L(T.emissiveMap)),T.emissiveIntensity!==void 0&&(U.emissiveIntensity=T.emissiveIntensity),T.specularMap!==void 0&&(U.specularMap=L(T.specularMap)),T.specularIntensityMap!==void 0&&(U.specularIntensityMap=L(T.specularIntensityMap)),T.specularColorMap!==void 0&&(U.specularColorMap=L(T.specularColorMap)),T.envMap!==void 0&&(U.envMap=L(T.envMap)),T.envMapRotation!==void 0&&U.envMapRotation.fromArray(T.envMapRotation),T.envMapIntensity!==void 0&&(U.envMapIntensity=T.envMapIntensity),T.reflectivity!==void 0&&(U.reflectivity=T.reflectivity),T.refractionRatio!==void 0&&(U.refractionRatio=T.refractionRatio),T.lightMap!==void 0&&(U.lightMap=L(T.lightMap)),T.lightMapIntensity!==void 0&&(U.lightMapIntensity=T.lightMapIntensity),T.aoMap!==void 0&&(U.aoMap=L(T.aoMap)),T.aoMapIntensity!==void 0&&(U.aoMapIntensity=T.aoMapIntensity),T.gradientMap!==void 0&&(U.gradientMap=L(T.gradientMap)),T.clearcoatMap!==void 0&&(U.clearcoatMap=L(T.clearcoatMap)),T.clearcoatRoughnessMap!==void 0&&(U.clearcoatRoughnessMap=L(T.clearcoatRoughnessMap)),T.clearcoatNormalMap!==void 0&&(U.clearcoatNormalMap=L(T.clearcoatNormalMap)),T.clearcoatNormalScale!==void 0&&(U.clearcoatNormalScale=new Vector2().fromArray(T.clearcoatNormalScale)),T.iridescenceMap!==void 0&&(U.iridescenceMap=L(T.iridescenceMap)),T.iridescenceThicknessMap!==void 0&&(U.iridescenceThicknessMap=L(T.iridescenceThicknessMap)),T.transmissionMap!==void 0&&(U.transmissionMap=L(T.transmissionMap)),T.thicknessMap!==void 0&&(U.thicknessMap=L(T.thicknessMap)),T.anisotropyMap!==void 0&&(U.anisotropyMap=L(T.anisotropyMap)),T.sheenColorMap!==void 0&&(U.sheenColorMap=L(T.sheenColorMap)),T.sheenRoughnessMap!==void 0&&(U.sheenRoughnessMap=L(T.sheenRoughnessMap)),U}setTextures(T){return this.textures=T,this}createMaterialFromType(T){return MaterialLoader.createMaterialFromType(T)}static createMaterialFromType(T){const A={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new A[T]}}class LoaderUtils{static decodeText(T){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(T);let A="";for(let L=0,U=T.length;L<U;L++)A+=String.fromCharCode(T[L]);try{return decodeURIComponent(escape(A))}catch{return A}}static extractUrlBase(T){const A=T.lastIndexOf("/");return A===-1?"./":T.slice(0,A+1)}static resolveURL(T,A){return typeof T!="string"||T===""?"":(/^https?:\/\//i.test(A)&&/^\//.test(T)&&(A=A.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(T)||/^data:.*,.*$/i.test(T)||/^blob:.*$/i.test(T)?T:A+T)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(T){return super.copy(T),this.instanceCount=T.instanceCount,this}toJSON(){const T=super.toJSON();return T.instanceCount=this.instanceCount,T.isInstancedBufferGeometry=!0,T}}class BufferGeometryLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=this,te=new FileLoader(W.manager);te.setPath(W.path),te.setRequestHeader(W.requestHeader),te.setWithCredentials(W.withCredentials),te.load(T,function(ne){try{A(W.parse(JSON.parse(ne)))}catch(ie){U?U(ie):console.error(ie),W.manager.itemError(T)}},L,U)}parse(T){const A={},L={};function U(ue,pe){if(A[pe]!==void 0)return A[pe];const de=ue.interleavedBuffers[pe],me=W(ue,de.buffer),ye=getTypedArray(de.type,me),xe=new InterleavedBuffer(ye,de.stride);return xe.uuid=de.uuid,A[pe]=xe,xe}function W(ue,pe){if(L[pe]!==void 0)return L[pe];const de=ue.arrayBuffers[pe],me=new Uint32Array(de).buffer;return L[pe]=me,me}const te=T.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,ne=T.data.index;if(ne!==void 0){const ue=getTypedArray(ne.type,ne.array);te.setIndex(new BufferAttribute(ue,1))}const ie=T.data.attributes;for(const ue in ie){const pe=ie[ue];let ge;if(pe.isInterleavedBufferAttribute){const de=U(T.data,pe.data);ge=new InterleavedBufferAttribute(de,pe.itemSize,pe.offset,pe.normalized)}else{const de=getTypedArray(pe.type,pe.array),me=pe.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;ge=new me(de,pe.itemSize,pe.normalized)}pe.name!==void 0&&(ge.name=pe.name),pe.usage!==void 0&&ge.setUsage(pe.usage),te.setAttribute(ue,ge)}const oe=T.data.morphAttributes;if(oe)for(const ue in oe){const pe=oe[ue],ge=[];for(let de=0,me=pe.length;de<me;de++){const ye=pe[de];let xe;if(ye.isInterleavedBufferAttribute){const Se=U(T.data,ye.data);xe=new InterleavedBufferAttribute(Se,ye.itemSize,ye.offset,ye.normalized)}else{const Se=getTypedArray(ye.type,ye.array);xe=new BufferAttribute(Se,ye.itemSize,ye.normalized)}ye.name!==void 0&&(xe.name=ye.name),ge.push(xe)}te.morphAttributes[ue]=ge}T.data.morphTargetsRelative&&(te.morphTargetsRelative=!0);const ce=T.data.groups||T.data.drawcalls||T.data.offsets;if(ce!==void 0)for(let ue=0,pe=ce.length;ue!==pe;++ue){const ge=ce[ue];te.addGroup(ge.start,ge.count,ge.materialIndex)}const he=T.data.boundingSphere;if(he!==void 0){const ue=new Vector3;he.center!==void 0&&ue.fromArray(he.center),te.boundingSphere=new Sphere(ue,he.radius)}return T.name&&(te.name=T.name),T.userData&&(te.userData=T.userData),te}}class ObjectLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=this,te=this.path===""?LoaderUtils.extractUrlBase(T):this.path;this.resourcePath=this.resourcePath||te;const ne=new FileLoader(this.manager);ne.setPath(this.path),ne.setRequestHeader(this.requestHeader),ne.setWithCredentials(this.withCredentials),ne.load(T,function(ie){let oe=null;try{oe=JSON.parse(ie)}catch(ce){U!==void 0&&U(ce),console.error("THREE:ObjectLoader: Can't parse "+T+".",ce.message);return}const ae=oe.metadata;if(ae===void 0||ae.type===void 0||ae.type.toLowerCase()==="geometry"){U!==void 0&&U(new Error("THREE.ObjectLoader: Can't load "+T)),console.error("THREE.ObjectLoader: Can't load "+T);return}W.parse(oe,A)},L,U)}async loadAsync(T,A){const L=this,U=this.path===""?LoaderUtils.extractUrlBase(T):this.path;this.resourcePath=this.resourcePath||U;const W=new FileLoader(this.manager);W.setPath(this.path),W.setRequestHeader(this.requestHeader),W.setWithCredentials(this.withCredentials);const te=await W.loadAsync(T,A),ne=JSON.parse(te),ie=ne.metadata;if(ie===void 0||ie.type===void 0||ie.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+T);return await L.parseAsync(ne)}parse(T,A){const L=this.parseAnimations(T.animations),U=this.parseShapes(T.shapes),W=this.parseGeometries(T.geometries,U),te=this.parseImages(T.images,function(){A!==void 0&&A(oe)}),ne=this.parseTextures(T.textures,te),ie=this.parseMaterials(T.materials,ne),oe=this.parseObject(T.object,W,ie,ne,L),ae=this.parseSkeletons(T.skeletons,oe);if(this.bindSkeletons(oe,ae),this.bindLightTargets(oe),A!==void 0){let ce=!1;for(const he in te)if(te[he].data instanceof HTMLImageElement){ce=!0;break}ce===!1&&A(oe)}return oe}async parseAsync(T){const A=this.parseAnimations(T.animations),L=this.parseShapes(T.shapes),U=this.parseGeometries(T.geometries,L),W=await this.parseImagesAsync(T.images),te=this.parseTextures(T.textures,W),ne=this.parseMaterials(T.materials,te),ie=this.parseObject(T.object,U,ne,te,A),oe=this.parseSkeletons(T.skeletons,ie);return this.bindSkeletons(ie,oe),this.bindLightTargets(ie),ie}parseShapes(T){const A={};if(T!==void 0)for(let L=0,U=T.length;L<U;L++){const W=new Shape().fromJSON(T[L]);A[W.uuid]=W}return A}parseSkeletons(T,A){const L={},U={};if(A.traverse(function(W){W.isBone&&(U[W.uuid]=W)}),T!==void 0)for(let W=0,te=T.length;W<te;W++){const ne=new Skeleton().fromJSON(T[W],U);L[ne.uuid]=ne}return L}parseGeometries(T,A){const L={};if(T!==void 0){const U=new BufferGeometryLoader;for(let W=0,te=T.length;W<te;W++){let ne;const ie=T[W];switch(ie.type){case"BufferGeometry":case"InstancedBufferGeometry":ne=U.parse(ie);break;default:ie.type in Geometries?ne=Geometries[ie.type].fromJSON(ie,A):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ie.type}"`)}ne.uuid=ie.uuid,ie.name!==void 0&&(ne.name=ie.name),ie.userData!==void 0&&(ne.userData=ie.userData),L[ie.uuid]=ne}}return L}parseMaterials(T,A){const L={},U={};if(T!==void 0){const W=new MaterialLoader;W.setTextures(A);for(let te=0,ne=T.length;te<ne;te++){const ie=T[te];L[ie.uuid]===void 0&&(L[ie.uuid]=W.parse(ie)),U[ie.uuid]=L[ie.uuid]}}return U}parseAnimations(T){const A={};if(T!==void 0)for(let L=0;L<T.length;L++){const U=T[L],W=AnimationClip.parse(U);A[W.uuid]=W}return A}parseImages(T,A){const L=this,U={};let W;function te(ie){return L.manager.itemStart(ie),W.load(ie,function(){L.manager.itemEnd(ie)},void 0,function(){L.manager.itemError(ie),L.manager.itemEnd(ie)})}function ne(ie){if(typeof ie=="string"){const oe=ie,ae=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(oe)?oe:L.resourcePath+oe;return te(ae)}else return ie.data?{data:getTypedArray(ie.type,ie.data),width:ie.width,height:ie.height}:null}if(T!==void 0&&T.length>0){const ie=new LoadingManager(A);W=new ImageLoader(ie),W.setCrossOrigin(this.crossOrigin);for(let oe=0,ae=T.length;oe<ae;oe++){const ce=T[oe],he=ce.url;if(Array.isArray(he)){const ue=[];for(let pe=0,ge=he.length;pe<ge;pe++){const de=he[pe],me=ne(de);me!==null&&(me instanceof HTMLImageElement?ue.push(me):ue.push(new DataTexture(me.data,me.width,me.height)))}U[ce.uuid]=new Source(ue)}else{const ue=ne(ce.url);U[ce.uuid]=new Source(ue)}}}return U}async parseImagesAsync(T){const A=this,L={};let U;async function W(te){if(typeof te=="string"){const ne=te,ie=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ne)?ne:A.resourcePath+ne;return await U.loadAsync(ie)}else return te.data?{data:getTypedArray(te.type,te.data),width:te.width,height:te.height}:null}if(T!==void 0&&T.length>0){U=new ImageLoader(this.manager),U.setCrossOrigin(this.crossOrigin);for(let te=0,ne=T.length;te<ne;te++){const ie=T[te],oe=ie.url;if(Array.isArray(oe)){const ae=[];for(let ce=0,he=oe.length;ce<he;ce++){const ue=oe[ce],pe=await W(ue);pe!==null&&(pe instanceof HTMLImageElement?ae.push(pe):ae.push(new DataTexture(pe.data,pe.width,pe.height)))}L[ie.uuid]=new Source(ae)}else{const ae=await W(ie.url);L[ie.uuid]=new Source(ae)}}}return L}parseTextures(T,A){function L(W,te){return typeof W=="number"?W:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",W),te[W])}const U={};if(T!==void 0)for(let W=0,te=T.length;W<te;W++){const ne=T[W];ne.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',ne.uuid),A[ne.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",ne.image);const ie=A[ne.image],oe=ie.data;let ae;Array.isArray(oe)?(ae=new CubeTexture,oe.length===6&&(ae.needsUpdate=!0)):(oe&&oe.data?ae=new DataTexture:ae=new Texture,oe&&(ae.needsUpdate=!0)),ae.source=ie,ae.uuid=ne.uuid,ne.name!==void 0&&(ae.name=ne.name),ne.mapping!==void 0&&(ae.mapping=L(ne.mapping,TEXTURE_MAPPING)),ne.channel!==void 0&&(ae.channel=ne.channel),ne.offset!==void 0&&ae.offset.fromArray(ne.offset),ne.repeat!==void 0&&ae.repeat.fromArray(ne.repeat),ne.center!==void 0&&ae.center.fromArray(ne.center),ne.rotation!==void 0&&(ae.rotation=ne.rotation),ne.wrap!==void 0&&(ae.wrapS=L(ne.wrap[0],TEXTURE_WRAPPING),ae.wrapT=L(ne.wrap[1],TEXTURE_WRAPPING)),ne.format!==void 0&&(ae.format=ne.format),ne.internalFormat!==void 0&&(ae.internalFormat=ne.internalFormat),ne.type!==void 0&&(ae.type=ne.type),ne.colorSpace!==void 0&&(ae.colorSpace=ne.colorSpace),ne.minFilter!==void 0&&(ae.minFilter=L(ne.minFilter,TEXTURE_FILTER)),ne.magFilter!==void 0&&(ae.magFilter=L(ne.magFilter,TEXTURE_FILTER)),ne.anisotropy!==void 0&&(ae.anisotropy=ne.anisotropy),ne.flipY!==void 0&&(ae.flipY=ne.flipY),ne.generateMipmaps!==void 0&&(ae.generateMipmaps=ne.generateMipmaps),ne.premultiplyAlpha!==void 0&&(ae.premultiplyAlpha=ne.premultiplyAlpha),ne.unpackAlignment!==void 0&&(ae.unpackAlignment=ne.unpackAlignment),ne.compareFunction!==void 0&&(ae.compareFunction=ne.compareFunction),ne.userData!==void 0&&(ae.userData=ne.userData),U[ne.uuid]=ae}return U}parseObject(T,A,L,U,W){let te;function ne(he){return A[he]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",he),A[he]}function ie(he){if(he!==void 0){if(Array.isArray(he)){const ue=[];for(let pe=0,ge=he.length;pe<ge;pe++){const de=he[pe];L[de]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",de),ue.push(L[de])}return ue}return L[he]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",he),L[he]}}function oe(he){return U[he]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",he),U[he]}let ae,ce;switch(T.type){case"Scene":te=new Scene,T.background!==void 0&&(Number.isInteger(T.background)?te.background=new Color(T.background):te.background=oe(T.background)),T.environment!==void 0&&(te.environment=oe(T.environment)),T.fog!==void 0&&(T.fog.type==="Fog"?te.fog=new Fog(T.fog.color,T.fog.near,T.fog.far):T.fog.type==="FogExp2"&&(te.fog=new FogExp2(T.fog.color,T.fog.density)),T.fog.name!==""&&(te.fog.name=T.fog.name)),T.backgroundBlurriness!==void 0&&(te.backgroundBlurriness=T.backgroundBlurriness),T.backgroundIntensity!==void 0&&(te.backgroundIntensity=T.backgroundIntensity),T.backgroundRotation!==void 0&&te.backgroundRotation.fromArray(T.backgroundRotation),T.environmentIntensity!==void 0&&(te.environmentIntensity=T.environmentIntensity),T.environmentRotation!==void 0&&te.environmentRotation.fromArray(T.environmentRotation);break;case"PerspectiveCamera":te=new PerspectiveCamera(T.fov,T.aspect,T.near,T.far),T.focus!==void 0&&(te.focus=T.focus),T.zoom!==void 0&&(te.zoom=T.zoom),T.filmGauge!==void 0&&(te.filmGauge=T.filmGauge),T.filmOffset!==void 0&&(te.filmOffset=T.filmOffset),T.view!==void 0&&(te.view=Object.assign({},T.view));break;case"OrthographicCamera":te=new OrthographicCamera(T.left,T.right,T.top,T.bottom,T.near,T.far),T.zoom!==void 0&&(te.zoom=T.zoom),T.view!==void 0&&(te.view=Object.assign({},T.view));break;case"AmbientLight":te=new AmbientLight(T.color,T.intensity);break;case"DirectionalLight":te=new DirectionalLight(T.color,T.intensity),te.target=T.target||"";break;case"PointLight":te=new PointLight(T.color,T.intensity,T.distance,T.decay);break;case"RectAreaLight":te=new RectAreaLight(T.color,T.intensity,T.width,T.height);break;case"SpotLight":te=new SpotLight(T.color,T.intensity,T.distance,T.angle,T.penumbra,T.decay),te.target=T.target||"";break;case"HemisphereLight":te=new HemisphereLight(T.color,T.groundColor,T.intensity);break;case"LightProbe":te=new LightProbe().fromJSON(T);break;case"SkinnedMesh":ae=ne(T.geometry),ce=ie(T.material),te=new SkinnedMesh(ae,ce),T.bindMode!==void 0&&(te.bindMode=T.bindMode),T.bindMatrix!==void 0&&te.bindMatrix.fromArray(T.bindMatrix),T.skeleton!==void 0&&(te.skeleton=T.skeleton);break;case"Mesh":ae=ne(T.geometry),ce=ie(T.material),te=new Mesh(ae,ce);break;case"InstancedMesh":ae=ne(T.geometry),ce=ie(T.material);const he=T.count,ue=T.instanceMatrix,pe=T.instanceColor;te=new InstancedMesh(ae,ce,he),te.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ue.array),16),pe!==void 0&&(te.instanceColor=new InstancedBufferAttribute(new Float32Array(pe.array),pe.itemSize));break;case"BatchedMesh":ae=ne(T.geometry),ce=ie(T.material),te=new BatchedMesh(T.maxInstanceCount,T.maxVertexCount,T.maxIndexCount,ce),te.geometry=ae,te.perObjectFrustumCulled=T.perObjectFrustumCulled,te.sortObjects=T.sortObjects,te._drawRanges=T.drawRanges,te._reservedRanges=T.reservedRanges,te._visibility=T.visibility,te._active=T.active,te._bounds=T.bounds.map(ge=>{const de=new Box3;de.min.fromArray(ge.boxMin),de.max.fromArray(ge.boxMax);const me=new Sphere;return me.radius=ge.sphereRadius,me.center.fromArray(ge.sphereCenter),{boxInitialized:ge.boxInitialized,box:de,sphereInitialized:ge.sphereInitialized,sphere:me}}),te._maxInstanceCount=T.maxInstanceCount,te._maxVertexCount=T.maxVertexCount,te._maxIndexCount=T.maxIndexCount,te._geometryInitialized=T.geometryInitialized,te._geometryCount=T.geometryCount,te._matricesTexture=oe(T.matricesTexture.uuid),T.colorsTexture!==void 0&&(te._colorsTexture=oe(T.colorsTexture.uuid));break;case"LOD":te=new LOD;break;case"Line":te=new Line(ne(T.geometry),ie(T.material));break;case"LineLoop":te=new LineLoop(ne(T.geometry),ie(T.material));break;case"LineSegments":te=new LineSegments(ne(T.geometry),ie(T.material));break;case"PointCloud":case"Points":te=new Points(ne(T.geometry),ie(T.material));break;case"Sprite":te=new Sprite(ie(T.material));break;case"Group":te=new Group;break;case"Bone":te=new Bone;break;default:te=new Object3D}if(te.uuid=T.uuid,T.name!==void 0&&(te.name=T.name),T.matrix!==void 0?(te.matrix.fromArray(T.matrix),T.matrixAutoUpdate!==void 0&&(te.matrixAutoUpdate=T.matrixAutoUpdate),te.matrixAutoUpdate&&te.matrix.decompose(te.position,te.quaternion,te.scale)):(T.position!==void 0&&te.position.fromArray(T.position),T.rotation!==void 0&&te.rotation.fromArray(T.rotation),T.quaternion!==void 0&&te.quaternion.fromArray(T.quaternion),T.scale!==void 0&&te.scale.fromArray(T.scale)),T.up!==void 0&&te.up.fromArray(T.up),T.castShadow!==void 0&&(te.castShadow=T.castShadow),T.receiveShadow!==void 0&&(te.receiveShadow=T.receiveShadow),T.shadow&&(T.shadow.intensity!==void 0&&(te.shadow.intensity=T.shadow.intensity),T.shadow.bias!==void 0&&(te.shadow.bias=T.shadow.bias),T.shadow.normalBias!==void 0&&(te.shadow.normalBias=T.shadow.normalBias),T.shadow.radius!==void 0&&(te.shadow.radius=T.shadow.radius),T.shadow.mapSize!==void 0&&te.shadow.mapSize.fromArray(T.shadow.mapSize),T.shadow.camera!==void 0&&(te.shadow.camera=this.parseObject(T.shadow.camera))),T.visible!==void 0&&(te.visible=T.visible),T.frustumCulled!==void 0&&(te.frustumCulled=T.frustumCulled),T.renderOrder!==void 0&&(te.renderOrder=T.renderOrder),T.userData!==void 0&&(te.userData=T.userData),T.layers!==void 0&&(te.layers.mask=T.layers),T.children!==void 0){const he=T.children;for(let ue=0;ue<he.length;ue++)te.add(this.parseObject(he[ue],A,L,U,W))}if(T.animations!==void 0){const he=T.animations;for(let ue=0;ue<he.length;ue++){const pe=he[ue];te.animations.push(W[pe])}}if(T.type==="LOD"){T.autoUpdate!==void 0&&(te.autoUpdate=T.autoUpdate);const he=T.levels;for(let ue=0;ue<he.length;ue++){const pe=he[ue],ge=te.getObjectByProperty("uuid",pe.object);ge!==void 0&&te.addLevel(ge,pe.distance,pe.hysteresis)}}return te}bindSkeletons(T,A){Object.keys(A).length!==0&&T.traverse(function(L){if(L.isSkinnedMesh===!0&&L.skeleton!==void 0){const U=A[L.skeleton];U===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",L.skeleton):L.bind(U,L.bindMatrix)}})}bindLightTargets(T){T.traverse(function(A){if(A.isDirectionalLight||A.isSpotLight){const L=A.target,U=T.getObjectByProperty("uuid",L);U!==void 0?A.target=U:A.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(T){super(T),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(T){return this.options=T,this}load(T,A,L,U){T===void 0&&(T=""),this.path!==void 0&&(T=this.path+T),T=this.manager.resolveURL(T);const W=this,te=Cache.get(T);if(te!==void 0){if(W.manager.itemStart(T),te.then){te.then(oe=>{A&&A(oe),W.manager.itemEnd(T)}).catch(oe=>{U&&U(oe)});return}return setTimeout(function(){A&&A(te),W.manager.itemEnd(T)},0),te}const ne={};ne.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",ne.headers=this.requestHeader;const ie=fetch(T,ne).then(function(oe){return oe.blob()}).then(function(oe){return createImageBitmap(oe,Object.assign(W.options,{colorSpaceConversion:"none"}))}).then(function(oe){return Cache.add(T,oe),A&&A(oe),W.manager.itemEnd(T),oe}).catch(function(oe){U&&U(oe),Cache.remove(T),W.manager.itemError(T),W.manager.itemEnd(T)});Cache.add(T,ie),W.manager.itemStart(T)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(T){_context=T}}class AudioLoader extends Loader{constructor(T){super(T)}load(T,A,L,U){const W=this,te=new FileLoader(this.manager);te.setResponseType("arraybuffer"),te.setPath(this.path),te.setRequestHeader(this.requestHeader),te.setWithCredentials(this.withCredentials),te.load(T,function(ie){try{const oe=ie.slice(0);AudioContext.getContext().decodeAudioData(oe,function(ce){A(ce)}).catch(ne)}catch(oe){ne(oe)}},L,U);function ne(ie){U?U(ie):console.error(ie),W.manager.itemError(T)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(T){const A=this._cache;if(A.focus!==T.focus||A.fov!==T.fov||A.aspect!==T.aspect*this.aspect||A.near!==T.near||A.far!==T.far||A.zoom!==T.zoom||A.eyeSep!==this.eyeSep){A.focus=T.focus,A.fov=T.fov,A.aspect=T.aspect*this.aspect,A.near=T.near,A.far=T.far,A.zoom=T.zoom,A.eyeSep=this.eyeSep,_projectionMatrix.copy(T.projectionMatrix);const U=A.eyeSep/2,W=U*A.near/A.focus,te=A.near*Math.tan(DEG2RAD*A.fov*.5)/A.zoom;let ne,ie;_eyeLeft.elements[12]=-U,_eyeRight.elements[12]=U,ne=-te*A.aspect+W,ie=te*A.aspect+W,_projectionMatrix.elements[0]=2*A.near/(ie-ne),_projectionMatrix.elements[8]=(ie+ne)/(ie-ne),this.cameraL.projectionMatrix.copy(_projectionMatrix),ne=-te*A.aspect-W,ie=te*A.aspect-W,_projectionMatrix.elements[0]=2*A.near/(ie-ne),_projectionMatrix.elements[8]=(ie+ne)/(ie-ne),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(T.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(T.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera{constructor(T=[]){super(),this.isArrayCamera=!0,this.cameras=T}}class Clock{constructor(T=!0){this.autoStart=T,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let T=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const A=now();T=(A-this.oldTime)/1e3,this.oldTime=A,this.elapsedTime+=T}return T}}function now(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(T){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=T,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(T){return this.gain.gain.setTargetAtTime(T,this.context.currentTime,.01),this}updateMatrixWorld(T){super.updateMatrixWorld(T);const A=this.context.listener,L=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),A.positionX){const U=this.context.currentTime+this.timeDelta;A.positionX.linearRampToValueAtTime(_position$1.x,U),A.positionY.linearRampToValueAtTime(_position$1.y,U),A.positionZ.linearRampToValueAtTime(_position$1.z,U),A.forwardX.linearRampToValueAtTime(_orientation$1.x,U),A.forwardY.linearRampToValueAtTime(_orientation$1.y,U),A.forwardZ.linearRampToValueAtTime(_orientation$1.z,U),A.upX.linearRampToValueAtTime(L.x,U),A.upY.linearRampToValueAtTime(L.y,U),A.upZ.linearRampToValueAtTime(L.z,U)}else A.setPosition(_position$1.x,_position$1.y,_position$1.z),A.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,L.x,L.y,L.z)}}class Audio extends Object3D{constructor(T){super(),this.type="Audio",this.listener=T,this.context=T.context,this.gain=this.context.createGain(),this.gain.connect(T.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(T){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=T,this.connect(),this}setMediaElementSource(T){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(T),this.connect(),this}setMediaStreamSource(T){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(T),this.connect(),this}setBuffer(T){return this.buffer=T,this.sourceType="buffer",this.autoplay&&this.play(),this}play(T=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+T;const A=this.context.createBufferSource();return A.buffer=this.buffer,A.loop=this.loop,A.loopStart=this.loopStart,A.loopEnd=this.loopEnd,A.onended=this.onEnded.bind(this),A.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=A,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(T=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+T),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let T=1,A=this.filters.length;T<A;T++)this.filters[T-1].connect(this.filters[T]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let T=1,A=this.filters.length;T<A;T++)this.filters[T-1].disconnect(this.filters[T]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(T){return T||(T=[]),this._connected===!0?(this.disconnect(),this.filters=T.slice(),this.connect()):this.filters=T.slice(),this}setDetune(T){return this.detune=T,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(T){return this.setFilters(T?[T]:[])}setPlaybackRate(T){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=T,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(T){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=T,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(T){return this.loopStart=T,this}setLoopEnd(T){return this.loopEnd=T,this}getVolume(){return this.gain.gain.value}setVolume(T){return this.gain.gain.setTargetAtTime(T,this.context.currentTime,.01),this}copy(T,A){return super.copy(T,A),T.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=T.autoplay,this.buffer=T.buffer,this.detune=T.detune,this.loop=T.loop,this.loopStart=T.loopStart,this.loopEnd=T.loopEnd,this.offset=T.offset,this.duration=T.duration,this.playbackRate=T.playbackRate,this.hasPlaybackControl=T.hasPlaybackControl,this.sourceType=T.sourceType,this.filters=T.filters.slice(),this)}clone(T){return new this.constructor(this.listener).copy(this,T)}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(T){super(T),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(T){return this.panner.refDistance=T,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(T){return this.panner.rolloffFactor=T,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(T){return this.panner.distanceModel=T,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(T){return this.panner.maxDistance=T,this}setDirectionalCone(T,A,L){return this.panner.coneInnerAngle=T,this.panner.coneOuterAngle=A,this.panner.coneOuterGain=L,this}updateMatrixWorld(T){if(super.updateMatrixWorld(T),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const A=this.panner;if(A.positionX){const L=this.context.currentTime+this.listener.timeDelta;A.positionX.linearRampToValueAtTime(_position.x,L),A.positionY.linearRampToValueAtTime(_position.y,L),A.positionZ.linearRampToValueAtTime(_position.z,L),A.orientationX.linearRampToValueAtTime(_orientation.x,L),A.orientationY.linearRampToValueAtTime(_orientation.y,L),A.orientationZ.linearRampToValueAtTime(_orientation.z,L)}else A.setPosition(_position.x,_position.y,_position.z),A.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(T,A=2048){this.analyser=T.context.createAnalyser(),this.analyser.fftSize=A,this.data=new Uint8Array(this.analyser.frequencyBinCount),T.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let T=0;const A=this.getFrequencyData();for(let L=0;L<A.length;L++)T+=A[L];return T/A.length}}class PropertyMixer{constructor(T,A,L){this.binding=T,this.valueSize=L;let U,W,te;switch(A){case"quaternion":U=this._slerp,W=this._slerpAdditive,te=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(L*6),this._workIndex=5;break;case"string":case"bool":U=this._select,W=this._select,te=this._setAdditiveIdentityOther,this.buffer=new Array(L*5);break;default:U=this._lerp,W=this._lerpAdditive,te=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(L*5)}this._mixBufferRegion=U,this._mixBufferRegionAdditive=W,this._setIdentity=te,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(T,A){const L=this.buffer,U=this.valueSize,W=T*U+U;let te=this.cumulativeWeight;if(te===0){for(let ne=0;ne!==U;++ne)L[W+ne]=L[ne];te=A}else{te+=A;const ne=A/te;this._mixBufferRegion(L,W,0,ne,U)}this.cumulativeWeight=te}accumulateAdditive(T){const A=this.buffer,L=this.valueSize,U=L*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(A,U,0,T,L),this.cumulativeWeightAdditive+=T}apply(T){const A=this.valueSize,L=this.buffer,U=T*A+A,W=this.cumulativeWeight,te=this.cumulativeWeightAdditive,ne=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,W<1){const ie=A*this._origIndex;this._mixBufferRegion(L,U,ie,1-W,A)}te>0&&this._mixBufferRegionAdditive(L,U,this._addIndex*A,1,A);for(let ie=A,oe=A+A;ie!==oe;++ie)if(L[ie]!==L[ie+A]){ne.setValue(L,U);break}}saveOriginalState(){const T=this.binding,A=this.buffer,L=this.valueSize,U=L*this._origIndex;T.getValue(A,U);for(let W=L,te=U;W!==te;++W)A[W]=A[U+W%L];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const T=this.valueSize*3;this.binding.setValue(this.buffer,T)}_setAdditiveIdentityNumeric(){const T=this._addIndex*this.valueSize,A=T+this.valueSize;for(let L=T;L<A;L++)this.buffer[L]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const T=this._origIndex*this.valueSize,A=this._addIndex*this.valueSize;for(let L=0;L<this.valueSize;L++)this.buffer[A+L]=this.buffer[T+L]}_select(T,A,L,U,W){if(U>=.5)for(let te=0;te!==W;++te)T[A+te]=T[L+te]}_slerp(T,A,L,U){Quaternion.slerpFlat(T,A,T,A,T,L,U)}_slerpAdditive(T,A,L,U,W){const te=this._workIndex*W;Quaternion.multiplyQuaternionsFlat(T,te,T,A,T,L),Quaternion.slerpFlat(T,A,T,A,T,te,U)}_lerp(T,A,L,U,W){const te=1-U;for(let ne=0;ne!==W;++ne){const ie=A+ne;T[ie]=T[ie]*te+T[L+ne]*U}}_lerpAdditive(T,A,L,U,W){for(let te=0;te!==W;++te){const ne=A+te;T[ne]=T[ne]+T[L+te]*U}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(T,A,L){const U=L||PropertyBinding.parseTrackName(A);this._targetGroup=T,this._bindings=T.subscribe_(A,U)}getValue(T,A){this.bind();const L=this._targetGroup.nCachedObjects_,U=this._bindings[L];U!==void 0&&U.getValue(T,A)}setValue(T,A){const L=this._bindings;for(let U=this._targetGroup.nCachedObjects_,W=L.length;U!==W;++U)L[U].setValue(T,A)}bind(){const T=this._bindings;for(let A=this._targetGroup.nCachedObjects_,L=T.length;A!==L;++A)T[A].bind()}unbind(){const T=this._bindings;for(let A=this._targetGroup.nCachedObjects_,L=T.length;A!==L;++A)T[A].unbind()}}class PropertyBinding{constructor(T,A,L){this.path=A,this.parsedPath=L||PropertyBinding.parseTrackName(A),this.node=PropertyBinding.findNode(T,this.parsedPath.nodeName),this.rootNode=T,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(T,A,L){return T&&T.isAnimationObjectGroup?new PropertyBinding.Composite(T,A,L):new PropertyBinding(T,A,L)}static sanitizeNodeName(T){return T.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(T){const A=_trackRe.exec(T);if(A===null)throw new Error("PropertyBinding: Cannot parse trackName: "+T);const L={nodeName:A[2],objectName:A[3],objectIndex:A[4],propertyName:A[5],propertyIndex:A[6]},U=L.nodeName&&L.nodeName.lastIndexOf(".");if(U!==void 0&&U!==-1){const W=L.nodeName.substring(U+1);_supportedObjectNames.indexOf(W)!==-1&&(L.nodeName=L.nodeName.substring(0,U),L.objectName=W)}if(L.propertyName===null||L.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+T);return L}static findNode(T,A){if(A===void 0||A===""||A==="."||A===-1||A===T.name||A===T.uuid)return T;if(T.skeleton){const L=T.skeleton.getBoneByName(A);if(L!==void 0)return L}if(T.children){const L=function(W){for(let te=0;te<W.length;te++){const ne=W[te];if(ne.name===A||ne.uuid===A)return ne;const ie=L(ne.children);if(ie)return ie}return null},U=L(T.children);if(U)return U}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(T,A){T[A]=this.targetObject[this.propertyName]}_getValue_array(T,A){const L=this.resolvedProperty;for(let U=0,W=L.length;U!==W;++U)T[A++]=L[U]}_getValue_arrayElement(T,A){T[A]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(T,A){this.resolvedProperty.toArray(T,A)}_setValue_direct(T,A){this.targetObject[this.propertyName]=T[A]}_setValue_direct_setNeedsUpdate(T,A){this.targetObject[this.propertyName]=T[A],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(T,A){this.targetObject[this.propertyName]=T[A],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(T,A){const L=this.resolvedProperty;for(let U=0,W=L.length;U!==W;++U)L[U]=T[A++]}_setValue_array_setNeedsUpdate(T,A){const L=this.resolvedProperty;for(let U=0,W=L.length;U!==W;++U)L[U]=T[A++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(T,A){const L=this.resolvedProperty;for(let U=0,W=L.length;U!==W;++U)L[U]=T[A++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(T,A){this.resolvedProperty[this.propertyIndex]=T[A]}_setValue_arrayElement_setNeedsUpdate(T,A){this.resolvedProperty[this.propertyIndex]=T[A],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(T,A){this.resolvedProperty[this.propertyIndex]=T[A],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(T,A){this.resolvedProperty.fromArray(T,A)}_setValue_fromArray_setNeedsUpdate(T,A){this.resolvedProperty.fromArray(T,A),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(T,A){this.resolvedProperty.fromArray(T,A),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(T,A){this.bind(),this.getValue(T,A)}_setValue_unbound(T,A){this.bind(),this.setValue(T,A)}bind(){let T=this.node;const A=this.parsedPath,L=A.objectName,U=A.propertyName;let W=A.propertyIndex;if(T||(T=PropertyBinding.findNode(this.rootNode,A.nodeName),this.node=T),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!T){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(L){let oe=A.objectIndex;switch(L){case"materials":if(!T.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!T.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}T=T.material.materials;break;case"bones":if(!T.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}T=T.skeleton.bones;for(let ae=0;ae<T.length;ae++)if(T[ae].name===oe){oe=ae;break}break;case"map":if("map"in T){T=T.map;break}if(!T.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!T.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}T=T.material.map;break;default:if(T[L]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}T=T[L]}if(oe!==void 0){if(T[oe]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,T);return}T=T[oe]}}const te=T[U];if(te===void 0){const oe=A.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+oe+"."+U+" but it wasn't found.",T);return}let ne=this.Versioning.None;this.targetObject=T,T.isMaterial===!0?ne=this.Versioning.NeedsUpdate:T.isObject3D===!0&&(ne=this.Versioning.MatrixWorldNeedsUpdate);let ie=this.BindingType.Direct;if(W!==void 0){if(U==="morphTargetInfluences"){if(!T.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!T.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}T.morphTargetDictionary[W]!==void 0&&(W=T.morphTargetDictionary[W])}ie=this.BindingType.ArrayElement,this.resolvedProperty=te,this.propertyIndex=W}else te.fromArray!==void 0&&te.toArray!==void 0?(ie=this.BindingType.HasFromToArray,this.resolvedProperty=te):Array.isArray(te)?(ie=this.BindingType.EntireArray,this.resolvedProperty=te):this.propertyName=U;this.getValue=this.GetterByBindingType[ie],this.setValue=this.SetterByBindingTypeAndVersioning[ie][ne]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const T={};this._indicesByUUID=T;for(let L=0,U=arguments.length;L!==U;++L)T[arguments[L].uuid]=L;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const A=this;this.stats={objects:{get total(){return A._objects.length},get inUse(){return this.total-A.nCachedObjects_}},get bindingsPerObject(){return A._bindings.length}}}add(){const T=this._objects,A=this._indicesByUUID,L=this._paths,U=this._parsedPaths,W=this._bindings,te=W.length;let ne,ie=T.length,oe=this.nCachedObjects_;for(let ae=0,ce=arguments.length;ae!==ce;++ae){const he=arguments[ae],ue=he.uuid;let pe=A[ue];if(pe===void 0){pe=ie++,A[ue]=pe,T.push(he);for(let ge=0,de=te;ge!==de;++ge)W[ge].push(new PropertyBinding(he,L[ge],U[ge]))}else if(pe<oe){ne=T[pe];const ge=--oe,de=T[ge];A[de.uuid]=pe,T[pe]=de,A[ue]=ge,T[ge]=he;for(let me=0,ye=te;me!==ye;++me){const xe=W[me],Se=xe[ge];let Te=xe[pe];xe[pe]=Se,Te===void 0&&(Te=new PropertyBinding(he,L[me],U[me])),xe[ge]=Te}}else T[pe]!==ne&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=oe}remove(){const T=this._objects,A=this._indicesByUUID,L=this._bindings,U=L.length;let W=this.nCachedObjects_;for(let te=0,ne=arguments.length;te!==ne;++te){const ie=arguments[te],oe=ie.uuid,ae=A[oe];if(ae!==void 0&&ae>=W){const ce=W++,he=T[ce];A[he.uuid]=ae,T[ae]=he,A[oe]=ce,T[ce]=ie;for(let ue=0,pe=U;ue!==pe;++ue){const ge=L[ue],de=ge[ce],me=ge[ae];ge[ae]=de,ge[ce]=me}}}this.nCachedObjects_=W}uncache(){const T=this._objects,A=this._indicesByUUID,L=this._bindings,U=L.length;let W=this.nCachedObjects_,te=T.length;for(let ne=0,ie=arguments.length;ne!==ie;++ne){const oe=arguments[ne],ae=oe.uuid,ce=A[ae];if(ce!==void 0)if(delete A[ae],ce<W){const he=--W,ue=T[he],pe=--te,ge=T[pe];A[ue.uuid]=ce,T[ce]=ue,A[ge.uuid]=he,T[he]=ge,T.pop();for(let de=0,me=U;de!==me;++de){const ye=L[de],xe=ye[he],Se=ye[pe];ye[ce]=xe,ye[he]=Se,ye.pop()}}else{const he=--te,ue=T[he];he>0&&(A[ue.uuid]=ce),T[ce]=ue,T.pop();for(let pe=0,ge=U;pe!==ge;++pe){const de=L[pe];de[ce]=de[he],de.pop()}}}this.nCachedObjects_=W}subscribe_(T,A){const L=this._bindingsIndicesByPath;let U=L[T];const W=this._bindings;if(U!==void 0)return W[U];const te=this._paths,ne=this._parsedPaths,ie=this._objects,oe=ie.length,ae=this.nCachedObjects_,ce=new Array(oe);U=W.length,L[T]=U,te.push(T),ne.push(A),W.push(ce);for(let he=ae,ue=ie.length;he!==ue;++he){const pe=ie[he];ce[he]=new PropertyBinding(pe,T,A)}return ce}unsubscribe_(T){const A=this._bindingsIndicesByPath,L=A[T];if(L!==void 0){const U=this._paths,W=this._parsedPaths,te=this._bindings,ne=te.length-1,ie=te[ne],oe=T[ne];A[oe]=L,te[L]=ie,te.pop(),W[L]=W[ne],W.pop(),U[L]=U[ne],U.pop()}}}class AnimationAction{constructor(T,A,L=null,U=A.blendMode){this._mixer=T,this._clip=A,this._localRoot=L,this.blendMode=U;const W=A.tracks,te=W.length,ne=new Array(te),ie={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let oe=0;oe!==te;++oe){const ae=W[oe].createInterpolant(null);ne[oe]=ae,ae.settings=ie}this._interpolantSettings=ie,this._interpolants=ne,this._propertyBindings=new Array(te),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(T){return this._startTime=T,this}setLoop(T,A){return this.loop=T,this.repetitions=A,this}setEffectiveWeight(T){return this.weight=T,this._effectiveWeight=this.enabled?T:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(T){return this._scheduleFading(T,0,1)}fadeOut(T){return this._scheduleFading(T,1,0)}crossFadeFrom(T,A,L){if(T.fadeOut(A),this.fadeIn(A),L){const U=this._clip.duration,W=T._clip.duration,te=W/U,ne=U/W;T.warp(1,te,A),this.warp(ne,1,A)}return this}crossFadeTo(T,A,L){return T.crossFadeFrom(this,A,L)}stopFading(){const T=this._weightInterpolant;return T!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(T)),this}setEffectiveTimeScale(T){return this.timeScale=T,this._effectiveTimeScale=this.paused?0:T,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(T){return this.timeScale=this._clip.duration/T,this.stopWarping()}syncWith(T){return this.time=T.time,this.timeScale=T.timeScale,this.stopWarping()}halt(T){return this.warp(this._effectiveTimeScale,0,T)}warp(T,A,L){const U=this._mixer,W=U.time,te=this.timeScale;let ne=this._timeScaleInterpolant;ne===null&&(ne=U._lendControlInterpolant(),this._timeScaleInterpolant=ne);const ie=ne.parameterPositions,oe=ne.sampleValues;return ie[0]=W,ie[1]=W+L,oe[0]=T/te,oe[1]=A/te,this}stopWarping(){const T=this._timeScaleInterpolant;return T!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(T)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(T,A,L,U){if(!this.enabled){this._updateWeight(T);return}const W=this._startTime;if(W!==null){const ie=(T-W)*L;ie<0||L===0?A=0:(this._startTime=null,A=L*ie)}A*=this._updateTimeScale(T);const te=this._updateTime(A),ne=this._updateWeight(T);if(ne>0){const ie=this._interpolants,oe=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ae=0,ce=ie.length;ae!==ce;++ae)ie[ae].evaluate(te),oe[ae].accumulateAdditive(ne);break;case NormalAnimationBlendMode:default:for(let ae=0,ce=ie.length;ae!==ce;++ae)ie[ae].evaluate(te),oe[ae].accumulate(U,ne)}}}_updateWeight(T){let A=0;if(this.enabled){A=this.weight;const L=this._weightInterpolant;if(L!==null){const U=L.evaluate(T)[0];A*=U,T>L.parameterPositions[1]&&(this.stopFading(),U===0&&(this.enabled=!1))}}return this._effectiveWeight=A,A}_updateTimeScale(T){let A=0;if(!this.paused){A=this.timeScale;const L=this._timeScaleInterpolant;if(L!==null){const U=L.evaluate(T)[0];A*=U,T>L.parameterPositions[1]&&(this.stopWarping(),A===0?this.paused=!0:this.timeScale=A)}}return this._effectiveTimeScale=A,A}_updateTime(T){const A=this._clip.duration,L=this.loop;let U=this.time+T,W=this._loopCount;const te=L===LoopPingPong;if(T===0)return W===-1?U:te&&(W&1)===1?A-U:U;if(L===LoopOnce){W===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(U>=A)U=A;else if(U<0)U=0;else{this.time=U;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=U,this._mixer.dispatchEvent({type:"finished",action:this,direction:T<0?-1:1})}}else{if(W===-1&&(T>=0?(W=0,this._setEndings(!0,this.repetitions===0,te)):this._setEndings(this.repetitions===0,!0,te)),U>=A||U<0){const ne=Math.floor(U/A);U-=A*ne,W+=Math.abs(ne);const ie=this.repetitions-W;if(ie<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,U=T>0?A:0,this.time=U,this._mixer.dispatchEvent({type:"finished",action:this,direction:T>0?1:-1});else{if(ie===1){const oe=T<0;this._setEndings(oe,!oe,te)}else this._setEndings(!1,!1,te);this._loopCount=W,this.time=U,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:ne})}}else this.time=U;if(te&&(W&1)===1)return A-U}return U}_setEndings(T,A,L){const U=this._interpolantSettings;L?(U.endingStart=ZeroSlopeEnding,U.endingEnd=ZeroSlopeEnding):(T?U.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:U.endingStart=WrapAroundEnding,A?U.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:U.endingEnd=WrapAroundEnding)}_scheduleFading(T,A,L){const U=this._mixer,W=U.time;let te=this._weightInterpolant;te===null&&(te=U._lendControlInterpolant(),this._weightInterpolant=te);const ne=te.parameterPositions,ie=te.sampleValues;return ne[0]=W,ie[0]=A,ne[1]=W+T,ie[1]=L,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(T){super(),this._root=T,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(T,A){const L=T._localRoot||this._root,U=T._clip.tracks,W=U.length,te=T._propertyBindings,ne=T._interpolants,ie=L.uuid,oe=this._bindingsByRootAndName;let ae=oe[ie];ae===void 0&&(ae={},oe[ie]=ae);for(let ce=0;ce!==W;++ce){const he=U[ce],ue=he.name;let pe=ae[ue];if(pe!==void 0)++pe.referenceCount,te[ce]=pe;else{if(pe=te[ce],pe!==void 0){pe._cacheIndex===null&&(++pe.referenceCount,this._addInactiveBinding(pe,ie,ue));continue}const ge=A&&A._propertyBindings[ce].binding.parsedPath;pe=new PropertyMixer(PropertyBinding.create(L,ue,ge),he.ValueTypeName,he.getValueSize()),++pe.referenceCount,this._addInactiveBinding(pe,ie,ue),te[ce]=pe}ne[ce].resultBuffer=pe.buffer}}_activateAction(T){if(!this._isActiveAction(T)){if(T._cacheIndex===null){const L=(T._localRoot||this._root).uuid,U=T._clip.uuid,W=this._actionsByClip[U];this._bindAction(T,W&&W.knownActions[0]),this._addInactiveAction(T,U,L)}const A=T._propertyBindings;for(let L=0,U=A.length;L!==U;++L){const W=A[L];W.useCount++===0&&(this._lendBinding(W),W.saveOriginalState())}this._lendAction(T)}}_deactivateAction(T){if(this._isActiveAction(T)){const A=T._propertyBindings;for(let L=0,U=A.length;L!==U;++L){const W=A[L];--W.useCount===0&&(W.restoreOriginalState(),this._takeBackBinding(W))}this._takeBackAction(T)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const T=this;this.stats={actions:{get total(){return T._actions.length},get inUse(){return T._nActiveActions}},bindings:{get total(){return T._bindings.length},get inUse(){return T._nActiveBindings}},controlInterpolants:{get total(){return T._controlInterpolants.length},get inUse(){return T._nActiveControlInterpolants}}}}_isActiveAction(T){const A=T._cacheIndex;return A!==null&&A<this._nActiveActions}_addInactiveAction(T,A,L){const U=this._actions,W=this._actionsByClip;let te=W[A];if(te===void 0)te={knownActions:[T],actionByRoot:{}},T._byClipCacheIndex=0,W[A]=te;else{const ne=te.knownActions;T._byClipCacheIndex=ne.length,ne.push(T)}T._cacheIndex=U.length,U.push(T),te.actionByRoot[L]=T}_removeInactiveAction(T){const A=this._actions,L=A[A.length-1],U=T._cacheIndex;L._cacheIndex=U,A[U]=L,A.pop(),T._cacheIndex=null;const W=T._clip.uuid,te=this._actionsByClip,ne=te[W],ie=ne.knownActions,oe=ie[ie.length-1],ae=T._byClipCacheIndex;oe._byClipCacheIndex=ae,ie[ae]=oe,ie.pop(),T._byClipCacheIndex=null;const ce=ne.actionByRoot,he=(T._localRoot||this._root).uuid;delete ce[he],ie.length===0&&delete te[W],this._removeInactiveBindingsForAction(T)}_removeInactiveBindingsForAction(T){const A=T._propertyBindings;for(let L=0,U=A.length;L!==U;++L){const W=A[L];--W.referenceCount===0&&this._removeInactiveBinding(W)}}_lendAction(T){const A=this._actions,L=T._cacheIndex,U=this._nActiveActions++,W=A[U];T._cacheIndex=U,A[U]=T,W._cacheIndex=L,A[L]=W}_takeBackAction(T){const A=this._actions,L=T._cacheIndex,U=--this._nActiveActions,W=A[U];T._cacheIndex=U,A[U]=T,W._cacheIndex=L,A[L]=W}_addInactiveBinding(T,A,L){const U=this._bindingsByRootAndName,W=this._bindings;let te=U[A];te===void 0&&(te={},U[A]=te),te[L]=T,T._cacheIndex=W.length,W.push(T)}_removeInactiveBinding(T){const A=this._bindings,L=T.binding,U=L.rootNode.uuid,W=L.path,te=this._bindingsByRootAndName,ne=te[U],ie=A[A.length-1],oe=T._cacheIndex;ie._cacheIndex=oe,A[oe]=ie,A.pop(),delete ne[W],Object.keys(ne).length===0&&delete te[U]}_lendBinding(T){const A=this._bindings,L=T._cacheIndex,U=this._nActiveBindings++,W=A[U];T._cacheIndex=U,A[U]=T,W._cacheIndex=L,A[L]=W}_takeBackBinding(T){const A=this._bindings,L=T._cacheIndex,U=--this._nActiveBindings,W=A[U];T._cacheIndex=U,A[U]=T,W._cacheIndex=L,A[L]=W}_lendControlInterpolant(){const T=this._controlInterpolants,A=this._nActiveControlInterpolants++;let L=T[A];return L===void 0&&(L=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),L.__cacheIndex=A,T[A]=L),L}_takeBackControlInterpolant(T){const A=this._controlInterpolants,L=T.__cacheIndex,U=--this._nActiveControlInterpolants,W=A[U];T.__cacheIndex=U,A[U]=T,W.__cacheIndex=L,A[L]=W}clipAction(T,A,L){const U=A||this._root,W=U.uuid;let te=typeof T=="string"?AnimationClip.findByName(U,T):T;const ne=te!==null?te.uuid:T,ie=this._actionsByClip[ne];let oe=null;if(L===void 0&&(te!==null?L=te.blendMode:L=NormalAnimationBlendMode),ie!==void 0){const ce=ie.actionByRoot[W];if(ce!==void 0&&ce.blendMode===L)return ce;oe=ie.knownActions[0],te===null&&(te=oe._clip)}if(te===null)return null;const ae=new AnimationAction(this,te,A,L);return this._bindAction(ae,oe),this._addInactiveAction(ae,ne,W),ae}existingAction(T,A){const L=A||this._root,U=L.uuid,W=typeof T=="string"?AnimationClip.findByName(L,T):T,te=W?W.uuid:T,ne=this._actionsByClip[te];return ne!==void 0&&ne.actionByRoot[U]||null}stopAllAction(){const T=this._actions,A=this._nActiveActions;for(let L=A-1;L>=0;--L)T[L].stop();return this}update(T){T*=this.timeScale;const A=this._actions,L=this._nActiveActions,U=this.time+=T,W=Math.sign(T),te=this._accuIndex^=1;for(let oe=0;oe!==L;++oe)A[oe]._update(U,T,W,te);const ne=this._bindings,ie=this._nActiveBindings;for(let oe=0;oe!==ie;++oe)ne[oe].apply(te);return this}setTime(T){this.time=0;for(let A=0;A<this._actions.length;A++)this._actions[A].time=0;return this.update(T)}getRoot(){return this._root}uncacheClip(T){const A=this._actions,L=T.uuid,U=this._actionsByClip,W=U[L];if(W!==void 0){const te=W.knownActions;for(let ne=0,ie=te.length;ne!==ie;++ne){const oe=te[ne];this._deactivateAction(oe);const ae=oe._cacheIndex,ce=A[A.length-1];oe._cacheIndex=null,oe._byClipCacheIndex=null,ce._cacheIndex=ae,A[ae]=ce,A.pop(),this._removeInactiveBindingsForAction(oe)}delete U[L]}}uncacheRoot(T){const A=T.uuid,L=this._actionsByClip;for(const te in L){const ne=L[te].actionByRoot,ie=ne[A];ie!==void 0&&(this._deactivateAction(ie),this._removeInactiveAction(ie))}const U=this._bindingsByRootAndName,W=U[A];if(W!==void 0)for(const te in W){const ne=W[te];ne.restoreOriginalState(),this._removeInactiveBinding(ne)}}uncacheAction(T,A){const L=this.existingAction(T,A);L!==null&&(this._deactivateAction(L),this._removeInactiveAction(L))}}class RenderTarget3D extends RenderTarget{constructor(T=1,A=1,L=1,U={}){super(T,A,U),this.isRenderTarget3D=!0,this.depth=L,this.texture=new Data3DTexture(null,T,A,L),this.texture.isRenderTargetTexture=!0}}class RenderTargetArray extends RenderTarget{constructor(T=1,A=1,L=1,U={}){super(T,A,U),this.isRenderTargetArray=!0,this.depth=L,this.texture=new DataArrayTexture(null,T,A,L),this.texture.isRenderTargetTexture=!0}}class Uniform{constructor(T){this.value=T}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$2=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(T){return this.uniforms.push(T),this}remove(T){const A=this.uniforms.indexOf(T);return A!==-1&&this.uniforms.splice(A,1),this}setName(T){return this.name=T,this}setUsage(T){return this.usage=T,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(T){this.name=T.name,this.usage=T.usage;const A=T.uniforms;this.uniforms.length=0;for(let L=0,U=A.length;L<U;L++){const W=Array.isArray(A[L])?A[L]:[A[L]];for(let te=0;te<W.length;te++)this.uniforms.push(W[te].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(T,A,L=1){super(T,A),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=L}copy(T){return super.copy(T),this.meshPerAttribute=T.meshPerAttribute,this}clone(T){const A=super.clone(T);return A.meshPerAttribute=this.meshPerAttribute,A}toJSON(T){const A=super.toJSON(T);return A.isInstancedInterleavedBuffer=!0,A.meshPerAttribute=this.meshPerAttribute,A}}class GLBufferAttribute{constructor(T,A,L,U,W){this.isGLBufferAttribute=!0,this.name="",this.buffer=T,this.type=A,this.itemSize=L,this.elementSize=U,this.count=W,this.version=0}set needsUpdate(T){T===!0&&this.version++}setBuffer(T){return this.buffer=T,this}setType(T,A){return this.type=T,this.elementSize=A,this}setItemSize(T){return this.itemSize=T,this}setCount(T){return this.count=T,this}}const _matrix=new Matrix4;class Raycaster{constructor(T,A,L=0,U=1/0){this.ray=new Ray(T,A),this.near=L,this.far=U,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(T,A){this.ray.set(T,A)}setFromCamera(T,A){A.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(A.matrixWorld),this.ray.direction.set(T.x,T.y,.5).unproject(A).sub(this.ray.origin).normalize(),this.camera=A):A.isOrthographicCamera?(this.ray.origin.set(T.x,T.y,(A.near+A.far)/(A.near-A.far)).unproject(A),this.ray.direction.set(0,0,-1).transformDirection(A.matrixWorld),this.camera=A):console.error("THREE.Raycaster: Unsupported camera type: "+A.type)}setFromXRController(T){return _matrix.identity().extractRotation(T.matrixWorld),this.ray.origin.setFromMatrixPosition(T.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(T,A=!0,L=[]){return intersect(T,this,L,A),L.sort(ascSort),L}intersectObjects(T,A=!0,L=[]){for(let U=0,W=T.length;U<W;U++)intersect(T[U],this,L,A);return L.sort(ascSort),L}}function ascSort(P,T){return P.distance-T.distance}function intersect(P,T,A,L){let U=!0;if(P.layers.test(T.layers)&&P.raycast(T,A)===!1&&(U=!1),U===!0&&L===!0){const W=P.children;for(let te=0,ne=W.length;te<ne;te++)intersect(W[te],T,A,!0)}}class Spherical{constructor(T=1,A=0,L=0){return this.radius=T,this.phi=A,this.theta=L,this}set(T,A,L){return this.radius=T,this.phi=A,this.theta=L,this}copy(T){return this.radius=T.radius,this.phi=T.phi,this.theta=T.theta,this}makeSafe(){return this.phi=clamp(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(T){return this.setFromCartesianCoords(T.x,T.y,T.z)}setFromCartesianCoords(T,A,L){return this.radius=Math.sqrt(T*T+A*A+L*L),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(T,L),this.phi=Math.acos(clamp(A/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(T=1,A=0,L=0){return this.radius=T,this.theta=A,this.y=L,this}set(T,A,L){return this.radius=T,this.theta=A,this.y=L,this}copy(T){return this.radius=T.radius,this.theta=T.theta,this.y=T.y,this}setFromVector3(T){return this.setFromCartesianCoords(T.x,T.y,T.z)}setFromCartesianCoords(T,A,L){return this.radius=Math.sqrt(T*T+L*L),this.theta=Math.atan2(T,L),this.y=A,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(T,A,L,U){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],T!==void 0&&this.set(T,A,L,U)}identity(){return this.set(1,0,0,1),this}fromArray(T,A=0){for(let L=0;L<4;L++)this.elements[L]=T[L+A];return this}set(T,A,L,U){const W=this.elements;return W[0]=T,W[2]=A,W[1]=L,W[3]=U,this}}const _vector$4=new Vector2;class Box2{constructor(T=new Vector2(1/0,1/0),A=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=T,this.max=A}set(T,A){return this.min.copy(T),this.max.copy(A),this}setFromPoints(T){this.makeEmpty();for(let A=0,L=T.length;A<L;A++)this.expandByPoint(T[A]);return this}setFromCenterAndSize(T,A){const L=_vector$4.copy(A).multiplyScalar(.5);return this.min.copy(T).sub(L),this.max.copy(T).add(L),this}clone(){return new this.constructor().copy(this)}copy(T){return this.min.copy(T.min),this.max.copy(T.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(T){return this.isEmpty()?T.set(0,0):T.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(T){return this.isEmpty()?T.set(0,0):T.subVectors(this.max,this.min)}expandByPoint(T){return this.min.min(T),this.max.max(T),this}expandByVector(T){return this.min.sub(T),this.max.add(T),this}expandByScalar(T){return this.min.addScalar(-T),this.max.addScalar(T),this}containsPoint(T){return T.x>=this.min.x&&T.x<=this.max.x&&T.y>=this.min.y&&T.y<=this.max.y}containsBox(T){return this.min.x<=T.min.x&&T.max.x<=this.max.x&&this.min.y<=T.min.y&&T.max.y<=this.max.y}getParameter(T,A){return A.set((T.x-this.min.x)/(this.max.x-this.min.x),(T.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(T){return T.max.x>=this.min.x&&T.min.x<=this.max.x&&T.max.y>=this.min.y&&T.min.y<=this.max.y}clampPoint(T,A){return A.copy(T).clamp(this.min,this.max)}distanceToPoint(T){return this.clampPoint(T,_vector$4).distanceTo(T)}intersect(T){return this.min.max(T.min),this.max.min(T.max),this.isEmpty()&&this.makeEmpty(),this}union(T){return this.min.min(T.min),this.max.max(T.max),this}translate(T){return this.min.add(T),this.max.add(T),this}equals(T){return T.min.equals(this.min)&&T.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(T=new Vector3,A=new Vector3){this.start=T,this.end=A}set(T,A){return this.start.copy(T),this.end.copy(A),this}copy(T){return this.start.copy(T.start),this.end.copy(T.end),this}getCenter(T){return T.addVectors(this.start,this.end).multiplyScalar(.5)}delta(T){return T.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(T,A){return this.delta(A).multiplyScalar(T).add(this.start)}closestPointToPointParameter(T,A){_startP.subVectors(T,this.start),_startEnd.subVectors(this.end,this.start);const L=_startEnd.dot(_startEnd);let W=_startEnd.dot(_startP)/L;return A&&(W=clamp(W,0,1)),W}closestPointToPoint(T,A,L){const U=this.closestPointToPointParameter(T,A);return this.delta(L).multiplyScalar(U).add(this.start)}applyMatrix4(T){return this.start.applyMatrix4(T),this.end.applyMatrix4(T),this}equals(T){return T.start.equals(this.start)&&T.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(T,A){super(),this.light=T,this.matrixAutoUpdate=!1,this.color=A,this.type="SpotLightHelper";const L=new BufferGeometry,U=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let te=0,ne=1,ie=32;te<ie;te++,ne++){const oe=te/ie*Math.PI*2,ae=ne/ie*Math.PI*2;U.push(Math.cos(oe),Math.sin(oe),1,Math.cos(ae),Math.sin(ae),1)}L.setAttribute("position",new Float32BufferAttribute(U,3));const W=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(L,W),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const T=this.light.distance?this.light.distance:1e3,A=T*Math.tan(this.light.angle);this.cone.scale.set(A,A,T),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(T){const A=getBoneList(T),L=new BufferGeometry,U=[],W=[],te=new Color(0,0,1),ne=new Color(0,1,0);for(let oe=0;oe<A.length;oe++){const ae=A[oe];ae.parent&&ae.parent.isBone&&(U.push(0,0,0),U.push(0,0,0),W.push(te.r,te.g,te.b),W.push(ne.r,ne.g,ne.b))}L.setAttribute("position",new Float32BufferAttribute(U,3)),L.setAttribute("color",new Float32BufferAttribute(W,3));const ie=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(L,ie),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=T,this.bones=A,this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(T){const A=this.bones,L=this.geometry,U=L.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let W=0,te=0;W<A.length;W++){const ne=A[W];ne.parent&&ne.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,ne.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),U.setXYZ(te,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,ne.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),U.setXYZ(te+1,_vector$2.x,_vector$2.y,_vector$2.z),te+=2)}L.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(T)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(P){const T=[];P.isBone===!0&&T.push(P);for(let A=0;A<P.children.length;A++)T.push.apply(T,getBoneList(P.children[A]));return T}class PointLightHelper extends Mesh{constructor(T,A,L){const U=new SphereGeometry(A,4,2),W=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(U,W),this.light=T,this.color=L,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(T,A,L){super(),this.light=T,this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.color=L,this.type="HemisphereLightHelper";const U=new OctahedronGeometry(A);U.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const W=U.getAttribute("position"),te=new Float32Array(W.count*3);U.setAttribute("color",new BufferAttribute(te,3)),this.add(new Mesh(U,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const T=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const A=T.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let L=0,U=A.count;L<U;L++){const W=L<U/2?_color1:_color2;A.setXYZ(L,W.r,W.g,W.b)}A.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),T.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(T=10,A=10,L=4473924,U=8947848){L=new Color(L),U=new Color(U);const W=A/2,te=T/A,ne=T/2,ie=[],oe=[];for(let he=0,ue=0,pe=-ne;he<=A;he++,pe+=te){ie.push(-ne,0,pe,ne,0,pe),ie.push(pe,0,-ne,pe,0,ne);const ge=he===W?L:U;ge.toArray(oe,ue),ue+=3,ge.toArray(oe,ue),ue+=3,ge.toArray(oe,ue),ue+=3,ge.toArray(oe,ue),ue+=3}const ae=new BufferGeometry;ae.setAttribute("position",new Float32BufferAttribute(ie,3)),ae.setAttribute("color",new Float32BufferAttribute(oe,3));const ce=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ae,ce),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(T=10,A=16,L=8,U=64,W=4473924,te=8947848){W=new Color(W),te=new Color(te);const ne=[],ie=[];if(A>1)for(let ce=0;ce<A;ce++){const he=ce/A*(Math.PI*2),ue=Math.sin(he)*T,pe=Math.cos(he)*T;ne.push(0,0,0),ne.push(ue,0,pe);const ge=ce&1?W:te;ie.push(ge.r,ge.g,ge.b),ie.push(ge.r,ge.g,ge.b)}for(let ce=0;ce<L;ce++){const he=ce&1?W:te,ue=T-T/L*ce;for(let pe=0;pe<U;pe++){let ge=pe/U*(Math.PI*2),de=Math.sin(ge)*ue,me=Math.cos(ge)*ue;ne.push(de,0,me),ie.push(he.r,he.g,he.b),ge=(pe+1)/U*(Math.PI*2),de=Math.sin(ge)*ue,me=Math.cos(ge)*ue,ne.push(de,0,me),ie.push(he.r,he.g,he.b)}}const oe=new BufferGeometry;oe.setAttribute("position",new Float32BufferAttribute(ne,3)),oe.setAttribute("color",new Float32BufferAttribute(ie,3));const ae=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(oe,ae),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(T,A,L){super(),this.light=T,this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.color=L,this.type="DirectionalLightHelper",A===void 0&&(A=1);let U=new BufferGeometry;U.setAttribute("position",new Float32BufferAttribute([-A,A,0,A,A,0,A,-A,0,-A,-A,0,-A,A,0],3));const W=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(U,W),this.add(this.lightPlane),U=new BufferGeometry,U.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(U,W),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(T){const A=new BufferGeometry,L=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),U=[],W=[],te={};ne("n1","n2"),ne("n2","n4"),ne("n4","n3"),ne("n3","n1"),ne("f1","f2"),ne("f2","f4"),ne("f4","f3"),ne("f3","f1"),ne("n1","f1"),ne("n2","f2"),ne("n3","f3"),ne("n4","f4"),ne("p","n1"),ne("p","n2"),ne("p","n3"),ne("p","n4"),ne("u1","u2"),ne("u2","u3"),ne("u3","u1"),ne("c","t"),ne("p","c"),ne("cn1","cn2"),ne("cn3","cn4"),ne("cf1","cf2"),ne("cf3","cf4");function ne(pe,ge){ie(pe),ie(ge)}function ie(pe){U.push(0,0,0),W.push(0,0,0),te[pe]===void 0&&(te[pe]=[]),te[pe].push(U.length/3-1)}A.setAttribute("position",new Float32BufferAttribute(U,3)),A.setAttribute("color",new Float32BufferAttribute(W,3)),super(A,L),this.type="CameraHelper",this.camera=T,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=te,this.update();const oe=new Color(16755200),ae=new Color(16711680),ce=new Color(43775),he=new Color(16777215),ue=new Color(3355443);this.setColors(oe,ae,ce,he,ue)}setColors(T,A,L,U,W){const ne=this.geometry.getAttribute("color");ne.setXYZ(0,T.r,T.g,T.b),ne.setXYZ(1,T.r,T.g,T.b),ne.setXYZ(2,T.r,T.g,T.b),ne.setXYZ(3,T.r,T.g,T.b),ne.setXYZ(4,T.r,T.g,T.b),ne.setXYZ(5,T.r,T.g,T.b),ne.setXYZ(6,T.r,T.g,T.b),ne.setXYZ(7,T.r,T.g,T.b),ne.setXYZ(8,T.r,T.g,T.b),ne.setXYZ(9,T.r,T.g,T.b),ne.setXYZ(10,T.r,T.g,T.b),ne.setXYZ(11,T.r,T.g,T.b),ne.setXYZ(12,T.r,T.g,T.b),ne.setXYZ(13,T.r,T.g,T.b),ne.setXYZ(14,T.r,T.g,T.b),ne.setXYZ(15,T.r,T.g,T.b),ne.setXYZ(16,T.r,T.g,T.b),ne.setXYZ(17,T.r,T.g,T.b),ne.setXYZ(18,T.r,T.g,T.b),ne.setXYZ(19,T.r,T.g,T.b),ne.setXYZ(20,T.r,T.g,T.b),ne.setXYZ(21,T.r,T.g,T.b),ne.setXYZ(22,T.r,T.g,T.b),ne.setXYZ(23,T.r,T.g,T.b),ne.setXYZ(24,A.r,A.g,A.b),ne.setXYZ(25,A.r,A.g,A.b),ne.setXYZ(26,A.r,A.g,A.b),ne.setXYZ(27,A.r,A.g,A.b),ne.setXYZ(28,A.r,A.g,A.b),ne.setXYZ(29,A.r,A.g,A.b),ne.setXYZ(30,A.r,A.g,A.b),ne.setXYZ(31,A.r,A.g,A.b),ne.setXYZ(32,L.r,L.g,L.b),ne.setXYZ(33,L.r,L.g,L.b),ne.setXYZ(34,L.r,L.g,L.b),ne.setXYZ(35,L.r,L.g,L.b),ne.setXYZ(36,L.r,L.g,L.b),ne.setXYZ(37,L.r,L.g,L.b),ne.setXYZ(38,U.r,U.g,U.b),ne.setXYZ(39,U.r,U.g,U.b),ne.setXYZ(40,W.r,W.g,W.b),ne.setXYZ(41,W.r,W.g,W.b),ne.setXYZ(42,W.r,W.g,W.b),ne.setXYZ(43,W.r,W.g,W.b),ne.setXYZ(44,W.r,W.g,W.b),ne.setXYZ(45,W.r,W.g,W.b),ne.setXYZ(46,W.r,W.g,W.b),ne.setXYZ(47,W.r,W.g,W.b),ne.setXYZ(48,W.r,W.g,W.b),ne.setXYZ(49,W.r,W.g,W.b),ne.needsUpdate=!0}update(){const T=this.geometry,A=this.pointMap,L=1,U=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const W=this.camera.coordinateSystem===WebGLCoordinateSystem?-1:0;setPoint("c",A,T,_camera,0,0,W),setPoint("t",A,T,_camera,0,0,1),setPoint("n1",A,T,_camera,-L,-U,W),setPoint("n2",A,T,_camera,L,-U,W),setPoint("n3",A,T,_camera,-L,U,W),setPoint("n4",A,T,_camera,L,U,W),setPoint("f1",A,T,_camera,-L,-U,1),setPoint("f2",A,T,_camera,L,-U,1),setPoint("f3",A,T,_camera,-L,U,1),setPoint("f4",A,T,_camera,L,U,1),setPoint("u1",A,T,_camera,L*.7,U*1.1,W),setPoint("u2",A,T,_camera,-L*.7,U*1.1,W),setPoint("u3",A,T,_camera,0,U*2,W),setPoint("cf1",A,T,_camera,-L,0,1),setPoint("cf2",A,T,_camera,L,0,1),setPoint("cf3",A,T,_camera,0,-U,1),setPoint("cf4",A,T,_camera,0,U,1),setPoint("cn1",A,T,_camera,-L,0,W),setPoint("cn2",A,T,_camera,L,0,W),setPoint("cn3",A,T,_camera,0,-U,W),setPoint("cn4",A,T,_camera,0,U,W),T.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(P,T,A,L,U,W,te){_vector.set(U,W,te).unproject(L);const ne=T[P];if(ne!==void 0){const ie=A.getAttribute("position");for(let oe=0,ae=ne.length;oe<ae;oe++)ie.setXYZ(ne[oe],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(T,A=16776960){const L=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),U=new Float32Array(8*3),W=new BufferGeometry;W.setIndex(new BufferAttribute(L,1)),W.setAttribute("position",new BufferAttribute(U,3)),super(W,new LineBasicMaterial({color:A,toneMapped:!1})),this.object=T,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(T){if(T!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const A=_box.min,L=_box.max,U=this.geometry.attributes.position,W=U.array;W[0]=L.x,W[1]=L.y,W[2]=L.z,W[3]=A.x,W[4]=L.y,W[5]=L.z,W[6]=A.x,W[7]=A.y,W[8]=L.z,W[9]=L.x,W[10]=A.y,W[11]=L.z,W[12]=L.x,W[13]=L.y,W[14]=A.z,W[15]=A.x,W[16]=L.y,W[17]=A.z,W[18]=A.x,W[19]=A.y,W[20]=A.z,W[21]=L.x,W[22]=A.y,W[23]=A.z,U.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(T){return this.object=T,this.update(),this}copy(T,A){return super.copy(T,A),this.object=T.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(T,A=16776960){const L=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),U=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],W=new BufferGeometry;W.setIndex(new BufferAttribute(L,1)),W.setAttribute("position",new Float32BufferAttribute(U,3)),super(W,new LineBasicMaterial({color:A,toneMapped:!1})),this.box=T,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(T){const A=this.box;A.isEmpty()||(A.getCenter(this.position),A.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(T))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(T,A=1,L=16776960){const U=L,W=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],te=new BufferGeometry;te.setAttribute("position",new Float32BufferAttribute(W,3)),te.computeBoundingSphere(),super(te,new LineBasicMaterial({color:U,toneMapped:!1})),this.type="PlaneHelper",this.plane=T,this.size=A;const ne=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ie=new BufferGeometry;ie.setAttribute("position",new Float32BufferAttribute(ne,3)),ie.computeBoundingSphere(),this.add(new Mesh(ie,new MeshBasicMaterial({color:U,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(T){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(T)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(T=new Vector3(0,0,1),A=new Vector3(0,0,0),L=1,U=16776960,W=L*.2,te=W*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(A),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:U,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:U,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(T),this.setLength(L,W,te)}setDirection(T){if(T.y>.99999)this.quaternion.set(0,0,0,1);else if(T.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(T.z,0,-T.x).normalize();const A=Math.acos(T.y);this.quaternion.setFromAxisAngle(_axis,A)}}setLength(T,A=T*.2,L=A*.2){this.line.scale.set(1,Math.max(1e-4,T-A),1),this.line.updateMatrix(),this.cone.scale.set(L,A,L),this.cone.position.y=T,this.cone.updateMatrix()}setColor(T){this.line.material.color.set(T),this.cone.material.color.set(T)}copy(T){return super.copy(T,!1),this.line.copy(T.line),this.cone.copy(T.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(T=1){const A=[0,0,0,T,0,0,0,0,0,0,T,0,0,0,0,0,0,T],L=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],U=new BufferGeometry;U.setAttribute("position",new Float32BufferAttribute(A,3)),U.setAttribute("color",new Float32BufferAttribute(L,3));const W=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(U,W),this.type="AxesHelper"}setColors(T,A,L){const U=new Color,W=this.geometry.attributes.color.array;return U.set(T),U.toArray(W,0),U.toArray(W,3),U.set(A),U.toArray(W,6),U.toArray(W,9),U.set(L),U.toArray(W,12),U.toArray(W,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(T,A){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(T,A),this}lineTo(T,A){return this.currentPath.lineTo(T,A),this}quadraticCurveTo(T,A,L,U){return this.currentPath.quadraticCurveTo(T,A,L,U),this}bezierCurveTo(T,A,L,U,W,te){return this.currentPath.bezierCurveTo(T,A,L,U,W,te),this}splineThru(T){return this.currentPath.splineThru(T),this}toShapes(T){function A(me){const ye=[];for(let xe=0,Se=me.length;xe<Se;xe++){const Te=me[xe],be=new Shape;be.curves=Te.curves,ye.push(be)}return ye}function L(me,ye){const xe=ye.length;let Se=!1;for(let Te=xe-1,be=0;be<xe;Te=be++){let Pe=ye[Te],Ie=ye[be],De=Ie.x-Pe.x,we=Ie.y-Pe.y;if(Math.abs(we)>Number.EPSILON){if(we<0&&(Pe=ye[be],De=-De,Ie=ye[Te],we=-we),me.y<Pe.y||me.y>Ie.y)continue;if(me.y===Pe.y){if(me.x===Pe.x)return!0}else{const Fe=we*(me.x-Pe.x)-De*(me.y-Pe.y);if(Fe===0)return!0;if(Fe<0)continue;Se=!Se}}else{if(me.y!==Pe.y)continue;if(Ie.x<=me.x&&me.x<=Pe.x||Pe.x<=me.x&&me.x<=Ie.x)return!0}}return Se}const U=ShapeUtils.isClockWise,W=this.subPaths;if(W.length===0)return[];let te,ne,ie;const oe=[];if(W.length===1)return ne=W[0],ie=new Shape,ie.curves=ne.curves,oe.push(ie),oe;let ae=!U(W[0].getPoints());ae=T?!ae:ae;const ce=[],he=[];let ue=[],pe=0,ge;he[pe]=void 0,ue[pe]=[];for(let me=0,ye=W.length;me<ye;me++)ne=W[me],ge=ne.getPoints(),te=U(ge),te=T?!te:te,te?(!ae&&he[pe]&&pe++,he[pe]={s:new Shape,p:ge},he[pe].s.curves=ne.curves,ae&&pe++,ue[pe]=[]):ue[pe].push({h:ne,p:ge[0]});if(!he[0])return A(W);if(he.length>1){let me=!1,ye=0;for(let xe=0,Se=he.length;xe<Se;xe++)ce[xe]=[];for(let xe=0,Se=he.length;xe<Se;xe++){const Te=ue[xe];for(let be=0;be<Te.length;be++){const Pe=Te[be];let Ie=!0;for(let De=0;De<he.length;De++)L(Pe.p,he[De].p)&&(xe!==De&&ye++,Ie?(Ie=!1,ce[De].push(Pe)):me=!0);Ie&&ce[xe].push(Pe)}}ye>0&&me===!1&&(ue=ce)}let de;for(let me=0,ye=he.length;me<ye;me++){ie=he[me].s,oe.push(ie),de=ue[me];for(let xe=0,Se=de.length;xe<Se;xe++)ie.holes.push(de[xe].h)}return oe}}let Controls$1=class extends EventDispatcher{constructor(T,A=null){super(),this.object=T,this.domElement=A,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}};function contain(P,T){const A=P.image&&P.image.width?P.image.width/P.image.height:1;return A>T?(P.repeat.x=1,P.repeat.y=A/T,P.offset.x=0,P.offset.y=(1-P.repeat.y)/2):(P.repeat.x=T/A,P.repeat.y=1,P.offset.x=(1-P.repeat.x)/2,P.offset.y=0),P}function cover(P,T){const A=P.image&&P.image.width?P.image.width/P.image.height:1;return A>T?(P.repeat.x=T/A,P.repeat.y=1,P.offset.x=(1-P.repeat.x)/2,P.offset.y=0):(P.repeat.x=1,P.repeat.y=A/T,P.offset.x=0,P.offset.y=(1-P.repeat.y)/2),P}function fill(P){return P.repeat.x=1,P.repeat.y=1,P.offset.x=0,P.offset.y=0,P}function getByteLength(P,T,A,L){const U=getTextureTypeByteLength(L);switch(A){case AlphaFormat:return P*T;case LuminanceFormat:return P*T;case LuminanceAlphaFormat:return P*T*2;case RedFormat:return P*T/U.components*U.byteLength;case RedIntegerFormat:return P*T/U.components*U.byteLength;case RGFormat:return P*T*2/U.components*U.byteLength;case RGIntegerFormat:return P*T*2/U.components*U.byteLength;case RGBFormat:return P*T*3/U.components*U.byteLength;case RGBAFormat:return P*T*4/U.components*U.byteLength;case RGBAIntegerFormat:return P*T*4/U.components*U.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((P+3)/4)*Math.floor((T+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((P+3)/4)*Math.floor((T+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(P,16)*Math.max(T,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(P,8)*Math.max(T,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((P+3)/4)*Math.floor((T+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((P+3)/4)*Math.floor((T+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((P+3)/4)*Math.floor((T+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((P+4)/5)*Math.floor((T+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((P+4)/5)*Math.floor((T+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((P+5)/6)*Math.floor((T+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((P+5)/6)*Math.floor((T+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((P+7)/8)*Math.floor((T+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((P+7)/8)*Math.floor((T+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((P+7)/8)*Math.floor((T+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((P+9)/10)*Math.floor((T+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((P+9)/10)*Math.floor((T+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((P+9)/10)*Math.floor((T+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((P+9)/10)*Math.floor((T+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((P+11)/12)*Math.floor((T+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((P+11)/12)*Math.floor((T+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(P/4)*Math.ceil(T/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(P/4)*Math.ceil(T/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(P/4)*Math.ceil(T/4)*16}throw new Error(`Unable to determine texture byte length for ${A} format.`)}function getTextureTypeByteLength(P){switch(P){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${P}.`)}const TextureUtils={contain,cover,fill,getByteLength};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let P=null,T=!1,A=null,L=null;function U(W,te){A(W,te),L=P.requestAnimationFrame(U)}return{start:function(){T!==!0&&A!==null&&(L=P.requestAnimationFrame(U),T=!0)},stop:function(){P.cancelAnimationFrame(L),T=!1},setAnimationLoop:function(W){A=W},setContext:function(W){P=W}}}function WebGLAttributes(P){const T=new WeakMap;function A(ne,ie){const oe=ne.array,ae=ne.usage,ce=oe.byteLength,he=P.createBuffer();P.bindBuffer(ie,he),P.bufferData(ie,oe,ae),ne.onUploadCallback();let ue;if(oe instanceof Float32Array)ue=P.FLOAT;else if(oe instanceof Uint16Array)ne.isFloat16BufferAttribute?ue=P.HALF_FLOAT:ue=P.UNSIGNED_SHORT;else if(oe instanceof Int16Array)ue=P.SHORT;else if(oe instanceof Uint32Array)ue=P.UNSIGNED_INT;else if(oe instanceof Int32Array)ue=P.INT;else if(oe instanceof Int8Array)ue=P.BYTE;else if(oe instanceof Uint8Array)ue=P.UNSIGNED_BYTE;else if(oe instanceof Uint8ClampedArray)ue=P.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+oe);return{buffer:he,type:ue,bytesPerElement:oe.BYTES_PER_ELEMENT,version:ne.version,size:ce}}function L(ne,ie,oe){const ae=ie.array,ce=ie.updateRanges;if(P.bindBuffer(oe,ne),ce.length===0)P.bufferSubData(oe,0,ae);else{ce.sort((ue,pe)=>ue.start-pe.start);let he=0;for(let ue=1;ue<ce.length;ue++){const pe=ce[he],ge=ce[ue];ge.start<=pe.start+pe.count+1?pe.count=Math.max(pe.count,ge.start+ge.count-pe.start):(++he,ce[he]=ge)}ce.length=he+1;for(let ue=0,pe=ce.length;ue<pe;ue++){const ge=ce[ue];P.bufferSubData(oe,ge.start*ae.BYTES_PER_ELEMENT,ae,ge.start,ge.count)}ie.clearUpdateRanges()}ie.onUploadCallback()}function U(ne){return ne.isInterleavedBufferAttribute&&(ne=ne.data),T.get(ne)}function W(ne){ne.isInterleavedBufferAttribute&&(ne=ne.data);const ie=T.get(ne);ie&&(P.deleteBuffer(ie.buffer),T.delete(ne))}function te(ne,ie){if(ne.isInterleavedBufferAttribute&&(ne=ne.data),ne.isGLBufferAttribute){const ae=T.get(ne);(!ae||ae.version<ne.version)&&T.set(ne,{buffer:ne.buffer,type:ne.type,bytesPerElement:ne.elementSize,version:ne.version});return}const oe=T.get(ne);if(oe===void 0)T.set(ne,A(ne,ie));else if(oe.version<ne.version){if(oe.size!==ne.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");L(oe.buffer,ne,ie),oe.version=ne.version}}return{get:U,remove:W,update:te}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(P,T,A,L,U,W,te){const ne=new Color(0);let ie=W===!0?0:1,oe,ae,ce=null,he=0,ue=null;function pe(xe){let Se=xe.isScene===!0?xe.background:null;return Se&&Se.isTexture&&(Se=(xe.backgroundBlurriness>0?A:T).get(Se)),Se}function ge(xe){let Se=!1;const Te=pe(xe);Te===null?me(ne,ie):Te&&Te.isColor&&(me(Te,1),Se=!0);const be=P.xr.getEnvironmentBlendMode();be==="additive"?L.buffers.color.setClear(0,0,0,1,te):be==="alpha-blend"&&L.buffers.color.setClear(0,0,0,0,te),(P.autoClear||Se)&&(L.buffers.depth.setTest(!0),L.buffers.depth.setMask(!0),L.buffers.color.setMask(!0),P.clear(P.autoClearColor,P.autoClearDepth,P.autoClearStencil))}function de(xe,Se){const Te=pe(Se);Te&&(Te.isCubeTexture||Te.mapping===CubeUVReflectionMapping)?(ae===void 0&&(ae=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ae.geometry.deleteAttribute("normal"),ae.geometry.deleteAttribute("uv"),ae.onBeforeRender=function(be,Pe,Ie){this.matrixWorld.copyPosition(Ie.matrixWorld)},Object.defineProperty(ae.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),U.update(ae)),_e1$1.copy(Se.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Te.isCubeTexture&&Te.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),ae.material.uniforms.envMap.value=Te,ae.material.uniforms.flipEnvMap.value=Te.isCubeTexture&&Te.isRenderTargetTexture===!1?-1:1,ae.material.uniforms.backgroundBlurriness.value=Se.backgroundBlurriness,ae.material.uniforms.backgroundIntensity.value=Se.backgroundIntensity,ae.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),ae.material.toneMapped=ColorManagement.getTransfer(Te.colorSpace)!==SRGBTransfer,(ce!==Te||he!==Te.version||ue!==P.toneMapping)&&(ae.material.needsUpdate=!0,ce=Te,he=Te.version,ue=P.toneMapping),ae.layers.enableAll(),xe.unshift(ae,ae.geometry,ae.material,0,0,null)):Te&&Te.isTexture&&(oe===void 0&&(oe=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),oe.geometry.deleteAttribute("normal"),Object.defineProperty(oe.material,"map",{get:function(){return this.uniforms.t2D.value}}),U.update(oe)),oe.material.uniforms.t2D.value=Te,oe.material.uniforms.backgroundIntensity.value=Se.backgroundIntensity,oe.material.toneMapped=ColorManagement.getTransfer(Te.colorSpace)!==SRGBTransfer,Te.matrixAutoUpdate===!0&&Te.updateMatrix(),oe.material.uniforms.uvTransform.value.copy(Te.matrix),(ce!==Te||he!==Te.version||ue!==P.toneMapping)&&(oe.material.needsUpdate=!0,ce=Te,he=Te.version,ue=P.toneMapping),oe.layers.enableAll(),xe.unshift(oe,oe.geometry,oe.material,0,0,null))}function me(xe,Se){xe.getRGB(_rgb,getUnlitUniformColorSpace(P)),L.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Se,te)}function ye(){ae!==void 0&&(ae.geometry.dispose(),ae.material.dispose()),oe!==void 0&&(oe.geometry.dispose(),oe.material.dispose())}return{getClearColor:function(){return ne},setClearColor:function(xe,Se=1){ne.set(xe),ie=Se,me(ne,ie)},getClearAlpha:function(){return ie},setClearAlpha:function(xe){ie=xe,me(ne,ie)},render:ge,addToRenderList:de,dispose:ye}}function WebGLBindingStates(P,T){const A=P.getParameter(P.MAX_VERTEX_ATTRIBS),L={},U=he(null);let W=U,te=!1;function ne(we,Fe,Ge,He,je){let qe=!1;const Ye=ce(He,Ge,Fe);W!==Ye&&(W=Ye,oe(W.object)),qe=ue(we,He,Ge,je),qe&&pe(we,He,Ge,je),je!==null&&T.update(je,P.ELEMENT_ARRAY_BUFFER),(qe||te)&&(te=!1,Se(we,Fe,Ge,He),je!==null&&P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,T.get(je).buffer))}function ie(){return P.createVertexArray()}function oe(we){return P.bindVertexArray(we)}function ae(we){return P.deleteVertexArray(we)}function ce(we,Fe,Ge){const He=Ge.wireframe===!0;let je=L[we.id];je===void 0&&(je={},L[we.id]=je);let qe=je[Fe.id];qe===void 0&&(qe={},je[Fe.id]=qe);let Ye=qe[He];return Ye===void 0&&(Ye=he(ie()),qe[He]=Ye),Ye}function he(we){const Fe=[],Ge=[],He=[];for(let je=0;je<A;je++)Fe[je]=0,Ge[je]=0,He[je]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Fe,enabledAttributes:Ge,attributeDivisors:He,object:we,attributes:{},index:null}}function ue(we,Fe,Ge,He){const je=W.attributes,qe=Fe.attributes;let Ye=0;const Ct=Ge.getAttributes();for(const Re in Ct)if(Ct[Re].location>=0){const ze=je[Re];let Ne=qe[Re];if(Ne===void 0&&(Re==="instanceMatrix"&&we.instanceMatrix&&(Ne=we.instanceMatrix),Re==="instanceColor"&&we.instanceColor&&(Ne=we.instanceColor)),ze===void 0||ze.attribute!==Ne||Ne&&ze.data!==Ne.data)return!0;Ye++}return W.attributesNum!==Ye||W.index!==He}function pe(we,Fe,Ge,He){const je={},qe=Fe.attributes;let Ye=0;const Ct=Ge.getAttributes();for(const Re in Ct)if(Ct[Re].location>=0){let ze=qe[Re];ze===void 0&&(Re==="instanceMatrix"&&we.instanceMatrix&&(ze=we.instanceMatrix),Re==="instanceColor"&&we.instanceColor&&(ze=we.instanceColor));const Ne={};Ne.attribute=ze,ze&&ze.data&&(Ne.data=ze.data),je[Re]=Ne,Ye++}W.attributes=je,W.attributesNum=Ye,W.index=He}function ge(){const we=W.newAttributes;for(let Fe=0,Ge=we.length;Fe<Ge;Fe++)we[Fe]=0}function de(we){me(we,0)}function me(we,Fe){const Ge=W.newAttributes,He=W.enabledAttributes,je=W.attributeDivisors;Ge[we]=1,He[we]===0&&(P.enableVertexAttribArray(we),He[we]=1),je[we]!==Fe&&(P.vertexAttribDivisor(we,Fe),je[we]=Fe)}function ye(){const we=W.newAttributes,Fe=W.enabledAttributes;for(let Ge=0,He=Fe.length;Ge<He;Ge++)Fe[Ge]!==we[Ge]&&(P.disableVertexAttribArray(Ge),Fe[Ge]=0)}function xe(we,Fe,Ge,He,je,qe,Ye){Ye===!0?P.vertexAttribIPointer(we,Fe,Ge,je,qe):P.vertexAttribPointer(we,Fe,Ge,He,je,qe)}function Se(we,Fe,Ge,He){ge();const je=He.attributes,qe=Ge.getAttributes(),Ye=Fe.defaultAttributeValues;for(const Ct in qe){const Re=qe[Ct];if(Re.location>=0){let Oe=je[Ct];if(Oe===void 0&&(Ct==="instanceMatrix"&&we.instanceMatrix&&(Oe=we.instanceMatrix),Ct==="instanceColor"&&we.instanceColor&&(Oe=we.instanceColor)),Oe!==void 0){const ze=Oe.normalized,Ne=Oe.itemSize,Ze=T.get(Oe);if(Ze===void 0)continue;const Wt=Ze.buffer,Qe=Ze.type,Pt=Ze.bytesPerElement,zt=Qe===P.INT||Qe===P.UNSIGNED_INT||Oe.gpuType===IntType;if(Oe.isInterleavedBufferAttribute){const It=Oe.data,Yt=It.stride,ln=Oe.offset;if(It.isInstancedInterleavedBuffer){for(let pn=0;pn<Re.locationSize;pn++)me(Re.location+pn,It.meshPerAttribute);we.isInstancedMesh!==!0&&He._maxInstanceCount===void 0&&(He._maxInstanceCount=It.meshPerAttribute*It.count)}else for(let pn=0;pn<Re.locationSize;pn++)de(Re.location+pn);P.bindBuffer(P.ARRAY_BUFFER,Wt);for(let pn=0;pn<Re.locationSize;pn++)xe(Re.location+pn,Ne/Re.locationSize,Qe,ze,Yt*Pt,(ln+Ne/Re.locationSize*pn)*Pt,zt)}else{if(Oe.isInstancedBufferAttribute){for(let It=0;It<Re.locationSize;It++)me(Re.location+It,Oe.meshPerAttribute);we.isInstancedMesh!==!0&&He._maxInstanceCount===void 0&&(He._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let It=0;It<Re.locationSize;It++)de(Re.location+It);P.bindBuffer(P.ARRAY_BUFFER,Wt);for(let It=0;It<Re.locationSize;It++)xe(Re.location+It,Ne/Re.locationSize,Qe,ze,Ne*Pt,Ne/Re.locationSize*It*Pt,zt)}}else if(Ye!==void 0){const ze=Ye[Ct];if(ze!==void 0)switch(ze.length){case 2:P.vertexAttrib2fv(Re.location,ze);break;case 3:P.vertexAttrib3fv(Re.location,ze);break;case 4:P.vertexAttrib4fv(Re.location,ze);break;default:P.vertexAttrib1fv(Re.location,ze)}}}}ye()}function Te(){Ie();for(const we in L){const Fe=L[we];for(const Ge in Fe){const He=Fe[Ge];for(const je in He)ae(He[je].object),delete He[je];delete Fe[Ge]}delete L[we]}}function be(we){if(L[we.id]===void 0)return;const Fe=L[we.id];for(const Ge in Fe){const He=Fe[Ge];for(const je in He)ae(He[je].object),delete He[je];delete Fe[Ge]}delete L[we.id]}function Pe(we){for(const Fe in L){const Ge=L[Fe];if(Ge[we.id]===void 0)continue;const He=Ge[we.id];for(const je in He)ae(He[je].object),delete He[je];delete Ge[we.id]}}function Ie(){De(),te=!0,W!==U&&(W=U,oe(W.object))}function De(){U.geometry=null,U.program=null,U.wireframe=!1}return{setup:ne,reset:Ie,resetDefaultState:De,dispose:Te,releaseStatesOfGeometry:be,releaseStatesOfProgram:Pe,initAttributes:ge,enableAttribute:de,disableUnusedAttributes:ye}}function WebGLBufferRenderer(P,T,A){let L;function U(oe){L=oe}function W(oe,ae){P.drawArrays(L,oe,ae),A.update(ae,L,1)}function te(oe,ae,ce){ce!==0&&(P.drawArraysInstanced(L,oe,ae,ce),A.update(ae,L,ce))}function ne(oe,ae,ce){if(ce===0)return;T.get("WEBGL_multi_draw").multiDrawArraysWEBGL(L,oe,0,ae,0,ce);let ue=0;for(let pe=0;pe<ce;pe++)ue+=ae[pe];A.update(ue,L,1)}function ie(oe,ae,ce,he){if(ce===0)return;const ue=T.get("WEBGL_multi_draw");if(ue===null)for(let pe=0;pe<oe.length;pe++)te(oe[pe],ae[pe],he[pe]);else{ue.multiDrawArraysInstancedWEBGL(L,oe,0,ae,0,he,0,ce);let pe=0;for(let ge=0;ge<ce;ge++)pe+=ae[ge]*he[ge];A.update(pe,L,1)}}this.setMode=U,this.render=W,this.renderInstances=te,this.renderMultiDraw=ne,this.renderMultiDrawInstances=ie}function WebGLCapabilities(P,T,A,L){let U;function W(){if(U!==void 0)return U;if(T.has("EXT_texture_filter_anisotropic")===!0){const Pe=T.get("EXT_texture_filter_anisotropic");U=P.getParameter(Pe.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else U=0;return U}function te(Pe){return!(Pe!==RGBAFormat&&L.convert(Pe)!==P.getParameter(P.IMPLEMENTATION_COLOR_READ_FORMAT))}function ne(Pe){const Ie=Pe===HalfFloatType&&(T.has("EXT_color_buffer_half_float")||T.has("EXT_color_buffer_float"));return!(Pe!==UnsignedByteType&&L.convert(Pe)!==P.getParameter(P.IMPLEMENTATION_COLOR_READ_TYPE)&&Pe!==FloatType&&!Ie)}function ie(Pe){if(Pe==="highp"){if(P.getShaderPrecisionFormat(P.VERTEX_SHADER,P.HIGH_FLOAT).precision>0&&P.getShaderPrecisionFormat(P.FRAGMENT_SHADER,P.HIGH_FLOAT).precision>0)return"highp";Pe="mediump"}return Pe==="mediump"&&P.getShaderPrecisionFormat(P.VERTEX_SHADER,P.MEDIUM_FLOAT).precision>0&&P.getShaderPrecisionFormat(P.FRAGMENT_SHADER,P.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let oe=A.precision!==void 0?A.precision:"highp";const ae=ie(oe);ae!==oe&&(console.warn("THREE.WebGLRenderer:",oe,"not supported, using",ae,"instead."),oe=ae);const ce=A.logarithmicDepthBuffer===!0,he=A.reverseDepthBuffer===!0&&T.has("EXT_clip_control"),ue=P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS),pe=P.getParameter(P.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ge=P.getParameter(P.MAX_TEXTURE_SIZE),de=P.getParameter(P.MAX_CUBE_MAP_TEXTURE_SIZE),me=P.getParameter(P.MAX_VERTEX_ATTRIBS),ye=P.getParameter(P.MAX_VERTEX_UNIFORM_VECTORS),xe=P.getParameter(P.MAX_VARYING_VECTORS),Se=P.getParameter(P.MAX_FRAGMENT_UNIFORM_VECTORS),Te=pe>0,be=P.getParameter(P.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:W,getMaxPrecision:ie,textureFormatReadable:te,textureTypeReadable:ne,precision:oe,logarithmicDepthBuffer:ce,reverseDepthBuffer:he,maxTextures:ue,maxVertexTextures:pe,maxTextureSize:ge,maxCubemapSize:de,maxAttributes:me,maxVertexUniforms:ye,maxVaryings:xe,maxFragmentUniforms:Se,vertexTextures:Te,maxSamples:be}}function WebGLClipping(P){const T=this;let A=null,L=0,U=!1,W=!1;const te=new Plane,ne=new Matrix3,ie={value:null,needsUpdate:!1};this.uniform=ie,this.numPlanes=0,this.numIntersection=0,this.init=function(ce,he){const ue=ce.length!==0||he||L!==0||U;return U=he,L=ce.length,ue},this.beginShadows=function(){W=!0,ae(null)},this.endShadows=function(){W=!1},this.setGlobalState=function(ce,he){A=ae(ce,he,0)},this.setState=function(ce,he,ue){const pe=ce.clippingPlanes,ge=ce.clipIntersection,de=ce.clipShadows,me=P.get(ce);if(!U||pe===null||pe.length===0||W&&!de)W?ae(null):oe();else{const ye=W?0:L,xe=ye*4;let Se=me.clippingState||null;ie.value=Se,Se=ae(pe,he,xe,ue);for(let Te=0;Te!==xe;++Te)Se[Te]=A[Te];me.clippingState=Se,this.numIntersection=ge?this.numPlanes:0,this.numPlanes+=ye}};function oe(){ie.value!==A&&(ie.value=A,ie.needsUpdate=L>0),T.numPlanes=L,T.numIntersection=0}function ae(ce,he,ue,pe){const ge=ce!==null?ce.length:0;let de=null;if(ge!==0){if(de=ie.value,pe!==!0||de===null){const me=ue+ge*4,ye=he.matrixWorldInverse;ne.getNormalMatrix(ye),(de===null||de.length<me)&&(de=new Float32Array(me));for(let xe=0,Se=ue;xe!==ge;++xe,Se+=4)te.copy(ce[xe]).applyMatrix4(ye,ne),te.normal.toArray(de,Se),de[Se+3]=te.constant}ie.value=de,ie.needsUpdate=!0}return T.numPlanes=ge,T.numIntersection=0,de}}function WebGLCubeMaps(P){let T=new WeakMap;function A(te,ne){return ne===EquirectangularReflectionMapping?te.mapping=CubeReflectionMapping:ne===EquirectangularRefractionMapping&&(te.mapping=CubeRefractionMapping),te}function L(te){if(te&&te.isTexture){const ne=te.mapping;if(ne===EquirectangularReflectionMapping||ne===EquirectangularRefractionMapping)if(T.has(te)){const ie=T.get(te).texture;return A(ie,te.mapping)}else{const ie=te.image;if(ie&&ie.height>0){const oe=new WebGLCubeRenderTarget(ie.height);return oe.fromEquirectangularTexture(P,te),T.set(te,oe),te.addEventListener("dispose",U),A(oe.texture,te.mapping)}else return null}}return te}function U(te){const ne=te.target;ne.removeEventListener("dispose",U);const ie=T.get(ne);ie!==void 0&&(T.delete(ne),ie.dispose())}function W(){T=new WeakMap}return{get:L,dispose:W}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(T){this._renderer=T,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(T,A=0,L=.1,U=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const W=this._allocateTargets();return W.depthBuffer=!0,this._sceneToCubeUV(T,L,U,W),A>0&&this._blur(W,0,0,A),this._applyPMREM(W),this._cleanup(W),W}fromEquirectangular(T,A=null){return this._fromTexture(T,A)}fromCubemap(T,A=null){return this._fromTexture(T,A)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(T){this._lodMax=Math.floor(Math.log2(T)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let T=0;T<this._lodPlanes.length;T++)this._lodPlanes[T].dispose()}_cleanup(T){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,T.scissorTest=!1,_setViewport(T,0,0,T.width,T.height)}_fromTexture(T,A){T.mapping===CubeReflectionMapping||T.mapping===CubeRefractionMapping?this._setSize(T.image.length===0?16:T.image[0].width||T.image[0].image.width):this._setSize(T.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const L=A||this._allocateTargets();return this._textureToCubeUV(T,L),this._applyPMREM(L),this._cleanup(L),L}_allocateTargets(){const T=3*Math.max(this._cubeSize,112),A=4*this._cubeSize,L={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},U=_createRenderTarget(T,A,L);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==T||this._pingPongRenderTarget.height!==A){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(T,A,L);const{_lodMax:W}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(W)),this._blurMaterial=_getBlurShader(W,T,A)}return U}_compileMaterial(T){const A=new Mesh(this._lodPlanes[0],T);this._renderer.compile(A,_flatCamera)}_sceneToCubeUV(T,A,L,U){const ne=new PerspectiveCamera(90,1,A,L),ie=[1,-1,1,1,1,1],oe=[1,1,1,-1,-1,-1],ae=this._renderer,ce=ae.autoClear,he=ae.toneMapping;ae.getClearColor(_clearColor),ae.toneMapping=NoToneMapping,ae.autoClear=!1;const ue=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),pe=new Mesh(new BoxGeometry,ue);let ge=!1;const de=T.background;de?de.isColor&&(ue.color.copy(de),T.background=null,ge=!0):(ue.color.copy(_clearColor),ge=!0);for(let me=0;me<6;me++){const ye=me%3;ye===0?(ne.up.set(0,ie[me],0),ne.lookAt(oe[me],0,0)):ye===1?(ne.up.set(0,0,ie[me]),ne.lookAt(0,oe[me],0)):(ne.up.set(0,ie[me],0),ne.lookAt(0,0,oe[me]));const xe=this._cubeSize;_setViewport(U,ye*xe,me>2?xe:0,xe,xe),ae.setRenderTarget(U),ge&&ae.render(pe,ne),ae.render(T,ne)}pe.geometry.dispose(),pe.material.dispose(),ae.toneMapping=he,ae.autoClear=ce,T.background=de}_textureToCubeUV(T,A){const L=this._renderer,U=T.mapping===CubeReflectionMapping||T.mapping===CubeRefractionMapping;U?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=T.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const W=U?this._cubemapMaterial:this._equirectMaterial,te=new Mesh(this._lodPlanes[0],W),ne=W.uniforms;ne.envMap.value=T;const ie=this._cubeSize;_setViewport(A,0,0,3*ie,2*ie),L.setRenderTarget(A),L.render(te,_flatCamera)}_applyPMREM(T){const A=this._renderer,L=A.autoClear;A.autoClear=!1;const U=this._lodPlanes.length;for(let W=1;W<U;W++){const te=Math.sqrt(this._sigmas[W]*this._sigmas[W]-this._sigmas[W-1]*this._sigmas[W-1]),ne=_axisDirections[(U-W-1)%_axisDirections.length];this._blur(T,W-1,W,te,ne)}A.autoClear=L}_blur(T,A,L,U,W){const te=this._pingPongRenderTarget;this._halfBlur(T,te,A,L,U,"latitudinal",W),this._halfBlur(te,T,L,L,U,"longitudinal",W)}_halfBlur(T,A,L,U,W,te,ne){const ie=this._renderer,oe=this._blurMaterial;te!=="latitudinal"&&te!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ae=3,ce=new Mesh(this._lodPlanes[U],oe),he=oe.uniforms,ue=this._sizeLods[L]-1,pe=isFinite(W)?Math.PI/(2*ue):2*Math.PI/(2*MAX_SAMPLES-1),ge=W/pe,de=isFinite(W)?1+Math.floor(ae*ge):MAX_SAMPLES;de>MAX_SAMPLES&&console.warn(`sigmaRadians, ${W}, is too large and will clip, as it requested ${de} samples when the maximum is set to ${MAX_SAMPLES}`);const me=[];let ye=0;for(let Pe=0;Pe<MAX_SAMPLES;++Pe){const Ie=Pe/ge,De=Math.exp(-Ie*Ie/2);me.push(De),Pe===0?ye+=De:Pe<de&&(ye+=2*De)}for(let Pe=0;Pe<me.length;Pe++)me[Pe]=me[Pe]/ye;he.envMap.value=T.texture,he.samples.value=de,he.weights.value=me,he.latitudinal.value=te==="latitudinal",ne&&(he.poleAxis.value=ne);const{_lodMax:xe}=this;he.dTheta.value=pe,he.mipInt.value=xe-L;const Se=this._sizeLods[U],Te=3*Se*(U>xe-LOD_MIN?U-xe+LOD_MIN:0),be=4*(this._cubeSize-Se);_setViewport(A,Te,be,3*Se,2*Se),ie.setRenderTarget(A),ie.render(ce,_flatCamera)}}function _createPlanes(P){const T=[],A=[],L=[];let U=P;const W=P-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let te=0;te<W;te++){const ne=Math.pow(2,U);A.push(ne);let ie=1/ne;te>P-LOD_MIN?ie=EXTRA_LOD_SIGMA[te-P+LOD_MIN-1]:te===0&&(ie=0),L.push(ie);const oe=1/(ne-2),ae=-oe,ce=1+oe,he=[ae,ae,ce,ae,ce,ce,ae,ae,ce,ce,ae,ce],ue=6,pe=6,ge=3,de=2,me=1,ye=new Float32Array(ge*pe*ue),xe=new Float32Array(de*pe*ue),Se=new Float32Array(me*pe*ue);for(let be=0;be<ue;be++){const Pe=be%3*2/3-1,Ie=be>2?0:-1,De=[Pe,Ie,0,Pe+2/3,Ie,0,Pe+2/3,Ie+1,0,Pe,Ie,0,Pe+2/3,Ie+1,0,Pe,Ie+1,0];ye.set(De,ge*pe*be),xe.set(he,de*pe*be);const we=[be,be,be,be,be,be];Se.set(we,me*pe*be)}const Te=new BufferGeometry;Te.setAttribute("position",new BufferAttribute(ye,ge)),Te.setAttribute("uv",new BufferAttribute(xe,de)),Te.setAttribute("faceIndex",new BufferAttribute(Se,me)),T.push(Te),U>LOD_MIN&&U--}return{lodPlanes:T,sizeLods:A,sigmas:L}}function _createRenderTarget(P,T,A){const L=new WebGLRenderTarget(P,T,A);return L.texture.mapping=CubeUVReflectionMapping,L.texture.name="PMREM.cubeUv",L.scissorTest=!0,L}function _setViewport(P,T,A,L,U){P.viewport.set(T,A,L,U),P.scissor.set(T,A,L,U)}function _getBlurShader(P,T,A){const L=new Float32Array(MAX_SAMPLES),U=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/T,CUBEUV_TEXEL_HEIGHT:1/A,CUBEUV_MAX_MIP:`${P}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:L},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:U}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(P){let T=new WeakMap,A=null;function L(ne){if(ne&&ne.isTexture){const ie=ne.mapping,oe=ie===EquirectangularReflectionMapping||ie===EquirectangularRefractionMapping,ae=ie===CubeReflectionMapping||ie===CubeRefractionMapping;if(oe||ae){let ce=T.get(ne);const he=ce!==void 0?ce.texture.pmremVersion:0;if(ne.isRenderTargetTexture&&ne.pmremVersion!==he)return A===null&&(A=new PMREMGenerator(P)),ce=oe?A.fromEquirectangular(ne,ce):A.fromCubemap(ne,ce),ce.texture.pmremVersion=ne.pmremVersion,T.set(ne,ce),ce.texture;if(ce!==void 0)return ce.texture;{const ue=ne.image;return oe&&ue&&ue.height>0||ae&&ue&&U(ue)?(A===null&&(A=new PMREMGenerator(P)),ce=oe?A.fromEquirectangular(ne):A.fromCubemap(ne),ce.texture.pmremVersion=ne.pmremVersion,T.set(ne,ce),ne.addEventListener("dispose",W),ce.texture):null}}}return ne}function U(ne){let ie=0;const oe=6;for(let ae=0;ae<oe;ae++)ne[ae]!==void 0&&ie++;return ie===oe}function W(ne){const ie=ne.target;ie.removeEventListener("dispose",W);const oe=T.get(ie);oe!==void 0&&(T.delete(ie),oe.dispose())}function te(){T=new WeakMap,A!==null&&(A.dispose(),A=null)}return{get:L,dispose:te}}function WebGLExtensions(P){const T={};function A(L){if(T[L]!==void 0)return T[L];let U;switch(L){case"WEBGL_depth_texture":U=P.getExtension("WEBGL_depth_texture")||P.getExtension("MOZ_WEBGL_depth_texture")||P.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":U=P.getExtension("EXT_texture_filter_anisotropic")||P.getExtension("MOZ_EXT_texture_filter_anisotropic")||P.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":U=P.getExtension("WEBGL_compressed_texture_s3tc")||P.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||P.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":U=P.getExtension("WEBGL_compressed_texture_pvrtc")||P.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:U=P.getExtension(L)}return T[L]=U,U}return{has:function(L){return A(L)!==null},init:function(){A("EXT_color_buffer_float"),A("WEBGL_clip_cull_distance"),A("OES_texture_float_linear"),A("EXT_color_buffer_half_float"),A("WEBGL_multisampled_render_to_texture"),A("WEBGL_render_shared_exponent")},get:function(L){const U=A(L);return U===null&&warnOnce("THREE.WebGLRenderer: "+L+" extension not supported."),U}}}function WebGLGeometries(P,T,A,L){const U={},W=new WeakMap;function te(ce){const he=ce.target;he.index!==null&&T.remove(he.index);for(const pe in he.attributes)T.remove(he.attributes[pe]);he.removeEventListener("dispose",te),delete U[he.id];const ue=W.get(he);ue&&(T.remove(ue),W.delete(he)),L.releaseStatesOfGeometry(he),he.isInstancedBufferGeometry===!0&&delete he._maxInstanceCount,A.memory.geometries--}function ne(ce,he){return U[he.id]===!0||(he.addEventListener("dispose",te),U[he.id]=!0,A.memory.geometries++),he}function ie(ce){const he=ce.attributes;for(const ue in he)T.update(he[ue],P.ARRAY_BUFFER)}function oe(ce){const he=[],ue=ce.index,pe=ce.attributes.position;let ge=0;if(ue!==null){const ye=ue.array;ge=ue.version;for(let xe=0,Se=ye.length;xe<Se;xe+=3){const Te=ye[xe+0],be=ye[xe+1],Pe=ye[xe+2];he.push(Te,be,be,Pe,Pe,Te)}}else if(pe!==void 0){const ye=pe.array;ge=pe.version;for(let xe=0,Se=ye.length/3-1;xe<Se;xe+=3){const Te=xe+0,be=xe+1,Pe=xe+2;he.push(Te,be,be,Pe,Pe,Te)}}else return;const de=new(arrayNeedsUint32(he)?Uint32BufferAttribute:Uint16BufferAttribute)(he,1);de.version=ge;const me=W.get(ce);me&&T.remove(me),W.set(ce,de)}function ae(ce){const he=W.get(ce);if(he){const ue=ce.index;ue!==null&&he.version<ue.version&&oe(ce)}else oe(ce);return W.get(ce)}return{get:ne,update:ie,getWireframeAttribute:ae}}function WebGLIndexedBufferRenderer(P,T,A){let L;function U(he){L=he}let W,te;function ne(he){W=he.type,te=he.bytesPerElement}function ie(he,ue){P.drawElements(L,ue,W,he*te),A.update(ue,L,1)}function oe(he,ue,pe){pe!==0&&(P.drawElementsInstanced(L,ue,W,he*te,pe),A.update(ue,L,pe))}function ae(he,ue,pe){if(pe===0)return;T.get("WEBGL_multi_draw").multiDrawElementsWEBGL(L,ue,0,W,he,0,pe);let de=0;for(let me=0;me<pe;me++)de+=ue[me];A.update(de,L,1)}function ce(he,ue,pe,ge){if(pe===0)return;const de=T.get("WEBGL_multi_draw");if(de===null)for(let me=0;me<he.length;me++)oe(he[me]/te,ue[me],ge[me]);else{de.multiDrawElementsInstancedWEBGL(L,ue,0,W,he,0,ge,0,pe);let me=0;for(let ye=0;ye<pe;ye++)me+=ue[ye]*ge[ye];A.update(me,L,1)}}this.setMode=U,this.setIndex=ne,this.render=ie,this.renderInstances=oe,this.renderMultiDraw=ae,this.renderMultiDrawInstances=ce}function WebGLInfo(P){const T={geometries:0,textures:0},A={frame:0,calls:0,triangles:0,points:0,lines:0};function L(W,te,ne){switch(A.calls++,te){case P.TRIANGLES:A.triangles+=ne*(W/3);break;case P.LINES:A.lines+=ne*(W/2);break;case P.LINE_STRIP:A.lines+=ne*(W-1);break;case P.LINE_LOOP:A.lines+=ne*W;break;case P.POINTS:A.points+=ne*W;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",te);break}}function U(){A.calls=0,A.triangles=0,A.points=0,A.lines=0}return{memory:T,render:A,programs:null,autoReset:!0,reset:U,update:L}}function WebGLMorphtargets(P,T,A){const L=new WeakMap,U=new Vector4;function W(te,ne,ie){const oe=te.morphTargetInfluences,ae=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,ce=ae!==void 0?ae.length:0;let he=L.get(ne);if(he===void 0||he.count!==ce){let we=function(){Ie.dispose(),L.delete(ne),ne.removeEventListener("dispose",we)};var ue=we;he!==void 0&&he.texture.dispose();const pe=ne.morphAttributes.position!==void 0,ge=ne.morphAttributes.normal!==void 0,de=ne.morphAttributes.color!==void 0,me=ne.morphAttributes.position||[],ye=ne.morphAttributes.normal||[],xe=ne.morphAttributes.color||[];let Se=0;pe===!0&&(Se=1),ge===!0&&(Se=2),de===!0&&(Se=3);let Te=ne.attributes.position.count*Se,be=1;Te>T.maxTextureSize&&(be=Math.ceil(Te/T.maxTextureSize),Te=T.maxTextureSize);const Pe=new Float32Array(Te*be*4*ce),Ie=new DataArrayTexture(Pe,Te,be,ce);Ie.type=FloatType,Ie.needsUpdate=!0;const De=Se*4;for(let Fe=0;Fe<ce;Fe++){const Ge=me[Fe],He=ye[Fe],je=xe[Fe],qe=Te*be*4*Fe;for(let Ye=0;Ye<Ge.count;Ye++){const Ct=Ye*De;pe===!0&&(U.fromBufferAttribute(Ge,Ye),Pe[qe+Ct+0]=U.x,Pe[qe+Ct+1]=U.y,Pe[qe+Ct+2]=U.z,Pe[qe+Ct+3]=0),ge===!0&&(U.fromBufferAttribute(He,Ye),Pe[qe+Ct+4]=U.x,Pe[qe+Ct+5]=U.y,Pe[qe+Ct+6]=U.z,Pe[qe+Ct+7]=0),de===!0&&(U.fromBufferAttribute(je,Ye),Pe[qe+Ct+8]=U.x,Pe[qe+Ct+9]=U.y,Pe[qe+Ct+10]=U.z,Pe[qe+Ct+11]=je.itemSize===4?U.w:1)}}he={count:ce,texture:Ie,size:new Vector2(Te,be)},L.set(ne,he),ne.addEventListener("dispose",we)}if(te.isInstancedMesh===!0&&te.morphTexture!==null)ie.getUniforms().setValue(P,"morphTexture",te.morphTexture,A);else{let pe=0;for(let de=0;de<oe.length;de++)pe+=oe[de];const ge=ne.morphTargetsRelative?1:1-pe;ie.getUniforms().setValue(P,"morphTargetBaseInfluence",ge),ie.getUniforms().setValue(P,"morphTargetInfluences",oe)}ie.getUniforms().setValue(P,"morphTargetsTexture",he.texture,A),ie.getUniforms().setValue(P,"morphTargetsTextureSize",he.size)}return{update:W}}function WebGLObjects(P,T,A,L){let U=new WeakMap;function W(ie){const oe=L.render.frame,ae=ie.geometry,ce=T.get(ie,ae);if(U.get(ce)!==oe&&(T.update(ce),U.set(ce,oe)),ie.isInstancedMesh&&(ie.hasEventListener("dispose",ne)===!1&&ie.addEventListener("dispose",ne),U.get(ie)!==oe&&(A.update(ie.instanceMatrix,P.ARRAY_BUFFER),ie.instanceColor!==null&&A.update(ie.instanceColor,P.ARRAY_BUFFER),U.set(ie,oe))),ie.isSkinnedMesh){const he=ie.skeleton;U.get(he)!==oe&&(he.update(),U.set(he,oe))}return ce}function te(){U=new WeakMap}function ne(ie){const oe=ie.target;oe.removeEventListener("dispose",ne),A.remove(oe.instanceMatrix),oe.instanceColor!==null&&A.remove(oe.instanceColor)}return{update:W,dispose:te}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(P,T,A){const L=P[0];if(L<=0||L>0)return P;const U=T*A;let W=arrayCacheF32[U];if(W===void 0&&(W=new Float32Array(U),arrayCacheF32[U]=W),T!==0){L.toArray(W,0);for(let te=1,ne=0;te!==T;++te)ne+=A,P[te].toArray(W,ne)}return W}function arraysEqual(P,T){if(P.length!==T.length)return!1;for(let A=0,L=P.length;A<L;A++)if(P[A]!==T[A])return!1;return!0}function copyArray(P,T){for(let A=0,L=T.length;A<L;A++)P[A]=T[A]}function allocTexUnits(P,T){let A=arrayCacheI32[T];A===void 0&&(A=new Int32Array(T),arrayCacheI32[T]=A);for(let L=0;L!==T;++L)A[L]=P.allocateTextureUnit();return A}function setValueV1f(P,T){const A=this.cache;A[0]!==T&&(P.uniform1f(this.addr,T),A[0]=T)}function setValueV2f(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y)&&(P.uniform2f(this.addr,T.x,T.y),A[0]=T.x,A[1]=T.y);else{if(arraysEqual(A,T))return;P.uniform2fv(this.addr,T),copyArray(A,T)}}function setValueV3f(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y||A[2]!==T.z)&&(P.uniform3f(this.addr,T.x,T.y,T.z),A[0]=T.x,A[1]=T.y,A[2]=T.z);else if(T.r!==void 0)(A[0]!==T.r||A[1]!==T.g||A[2]!==T.b)&&(P.uniform3f(this.addr,T.r,T.g,T.b),A[0]=T.r,A[1]=T.g,A[2]=T.b);else{if(arraysEqual(A,T))return;P.uniform3fv(this.addr,T),copyArray(A,T)}}function setValueV4f(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y||A[2]!==T.z||A[3]!==T.w)&&(P.uniform4f(this.addr,T.x,T.y,T.z,T.w),A[0]=T.x,A[1]=T.y,A[2]=T.z,A[3]=T.w);else{if(arraysEqual(A,T))return;P.uniform4fv(this.addr,T),copyArray(A,T)}}function setValueM2(P,T){const A=this.cache,L=T.elements;if(L===void 0){if(arraysEqual(A,T))return;P.uniformMatrix2fv(this.addr,!1,T),copyArray(A,T)}else{if(arraysEqual(A,L))return;mat2array.set(L),P.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(A,L)}}function setValueM3(P,T){const A=this.cache,L=T.elements;if(L===void 0){if(arraysEqual(A,T))return;P.uniformMatrix3fv(this.addr,!1,T),copyArray(A,T)}else{if(arraysEqual(A,L))return;mat3array.set(L),P.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(A,L)}}function setValueM4(P,T){const A=this.cache,L=T.elements;if(L===void 0){if(arraysEqual(A,T))return;P.uniformMatrix4fv(this.addr,!1,T),copyArray(A,T)}else{if(arraysEqual(A,L))return;mat4array.set(L),P.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(A,L)}}function setValueV1i(P,T){const A=this.cache;A[0]!==T&&(P.uniform1i(this.addr,T),A[0]=T)}function setValueV2i(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y)&&(P.uniform2i(this.addr,T.x,T.y),A[0]=T.x,A[1]=T.y);else{if(arraysEqual(A,T))return;P.uniform2iv(this.addr,T),copyArray(A,T)}}function setValueV3i(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y||A[2]!==T.z)&&(P.uniform3i(this.addr,T.x,T.y,T.z),A[0]=T.x,A[1]=T.y,A[2]=T.z);else{if(arraysEqual(A,T))return;P.uniform3iv(this.addr,T),copyArray(A,T)}}function setValueV4i(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y||A[2]!==T.z||A[3]!==T.w)&&(P.uniform4i(this.addr,T.x,T.y,T.z,T.w),A[0]=T.x,A[1]=T.y,A[2]=T.z,A[3]=T.w);else{if(arraysEqual(A,T))return;P.uniform4iv(this.addr,T),copyArray(A,T)}}function setValueV1ui(P,T){const A=this.cache;A[0]!==T&&(P.uniform1ui(this.addr,T),A[0]=T)}function setValueV2ui(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y)&&(P.uniform2ui(this.addr,T.x,T.y),A[0]=T.x,A[1]=T.y);else{if(arraysEqual(A,T))return;P.uniform2uiv(this.addr,T),copyArray(A,T)}}function setValueV3ui(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y||A[2]!==T.z)&&(P.uniform3ui(this.addr,T.x,T.y,T.z),A[0]=T.x,A[1]=T.y,A[2]=T.z);else{if(arraysEqual(A,T))return;P.uniform3uiv(this.addr,T),copyArray(A,T)}}function setValueV4ui(P,T){const A=this.cache;if(T.x!==void 0)(A[0]!==T.x||A[1]!==T.y||A[2]!==T.z||A[3]!==T.w)&&(P.uniform4ui(this.addr,T.x,T.y,T.z,T.w),A[0]=T.x,A[1]=T.y,A[2]=T.z,A[3]=T.w);else{if(arraysEqual(A,T))return;P.uniform4uiv(this.addr,T),copyArray(A,T)}}function setValueT1(P,T,A){const L=this.cache,U=A.allocateTextureUnit();L[0]!==U&&(P.uniform1i(this.addr,U),L[0]=U);let W;this.type===P.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,W=emptyShadowTexture):W=emptyTexture,A.setTexture2D(T||W,U)}function setValueT3D1(P,T,A){const L=this.cache,U=A.allocateTextureUnit();L[0]!==U&&(P.uniform1i(this.addr,U),L[0]=U),A.setTexture3D(T||empty3dTexture,U)}function setValueT6(P,T,A){const L=this.cache,U=A.allocateTextureUnit();L[0]!==U&&(P.uniform1i(this.addr,U),L[0]=U),A.setTextureCube(T||emptyCubeTexture,U)}function setValueT2DArray1(P,T,A){const L=this.cache,U=A.allocateTextureUnit();L[0]!==U&&(P.uniform1i(this.addr,U),L[0]=U),A.setTexture2DArray(T||emptyArrayTexture,U)}function getSingularSetter(P){switch(P){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(P,T){P.uniform1fv(this.addr,T)}function setValueV2fArray(P,T){const A=flatten(T,this.size,2);P.uniform2fv(this.addr,A)}function setValueV3fArray(P,T){const A=flatten(T,this.size,3);P.uniform3fv(this.addr,A)}function setValueV4fArray(P,T){const A=flatten(T,this.size,4);P.uniform4fv(this.addr,A)}function setValueM2Array(P,T){const A=flatten(T,this.size,4);P.uniformMatrix2fv(this.addr,!1,A)}function setValueM3Array(P,T){const A=flatten(T,this.size,9);P.uniformMatrix3fv(this.addr,!1,A)}function setValueM4Array(P,T){const A=flatten(T,this.size,16);P.uniformMatrix4fv(this.addr,!1,A)}function setValueV1iArray(P,T){P.uniform1iv(this.addr,T)}function setValueV2iArray(P,T){P.uniform2iv(this.addr,T)}function setValueV3iArray(P,T){P.uniform3iv(this.addr,T)}function setValueV4iArray(P,T){P.uniform4iv(this.addr,T)}function setValueV1uiArray(P,T){P.uniform1uiv(this.addr,T)}function setValueV2uiArray(P,T){P.uniform2uiv(this.addr,T)}function setValueV3uiArray(P,T){P.uniform3uiv(this.addr,T)}function setValueV4uiArray(P,T){P.uniform4uiv(this.addr,T)}function setValueT1Array(P,T,A){const L=this.cache,U=T.length,W=allocTexUnits(A,U);arraysEqual(L,W)||(P.uniform1iv(this.addr,W),copyArray(L,W));for(let te=0;te!==U;++te)A.setTexture2D(T[te]||emptyTexture,W[te])}function setValueT3DArray(P,T,A){const L=this.cache,U=T.length,W=allocTexUnits(A,U);arraysEqual(L,W)||(P.uniform1iv(this.addr,W),copyArray(L,W));for(let te=0;te!==U;++te)A.setTexture3D(T[te]||empty3dTexture,W[te])}function setValueT6Array(P,T,A){const L=this.cache,U=T.length,W=allocTexUnits(A,U);arraysEqual(L,W)||(P.uniform1iv(this.addr,W),copyArray(L,W));for(let te=0;te!==U;++te)A.setTextureCube(T[te]||emptyCubeTexture,W[te])}function setValueT2DArrayArray(P,T,A){const L=this.cache,U=T.length,W=allocTexUnits(A,U);arraysEqual(L,W)||(P.uniform1iv(this.addr,W),copyArray(L,W));for(let te=0;te!==U;++te)A.setTexture2DArray(T[te]||emptyArrayTexture,W[te])}function getPureArraySetter(P){switch(P){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(T,A,L){this.id=T,this.addr=L,this.cache=[],this.type=A.type,this.setValue=getSingularSetter(A.type)}}class PureArrayUniform{constructor(T,A,L){this.id=T,this.addr=L,this.cache=[],this.type=A.type,this.size=A.size,this.setValue=getPureArraySetter(A.type)}}class StructuredUniform{constructor(T){this.id=T,this.seq=[],this.map={}}setValue(T,A,L){const U=this.seq;for(let W=0,te=U.length;W!==te;++W){const ne=U[W];ne.setValue(T,A[ne.id],L)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(P,T){P.seq.push(T),P.map[T.id]=T}function parseUniform(P,T,A){const L=P.name,U=L.length;for(RePathPart.lastIndex=0;;){const W=RePathPart.exec(L),te=RePathPart.lastIndex;let ne=W[1];const ie=W[2]==="]",oe=W[3];if(ie&&(ne=ne|0),oe===void 0||oe==="["&&te+2===U){addUniform(A,oe===void 0?new SingleUniform(ne,P,T):new PureArrayUniform(ne,P,T));break}else{let ce=A.map[ne];ce===void 0&&(ce=new StructuredUniform(ne),addUniform(A,ce)),A=ce}}}class WebGLUniforms{constructor(T,A){this.seq=[],this.map={};const L=T.getProgramParameter(A,T.ACTIVE_UNIFORMS);for(let U=0;U<L;++U){const W=T.getActiveUniform(A,U),te=T.getUniformLocation(A,W.name);parseUniform(W,te,this)}}setValue(T,A,L,U){const W=this.map[A];W!==void 0&&W.setValue(T,L,U)}setOptional(T,A,L){const U=A[L];U!==void 0&&this.setValue(T,L,U)}static upload(T,A,L,U){for(let W=0,te=A.length;W!==te;++W){const ne=A[W],ie=L[ne.id];ie.needsUpdate!==!1&&ne.setValue(T,ie.value,U)}}static seqWithValue(T,A){const L=[];for(let U=0,W=T.length;U!==W;++U){const te=T[U];te.id in A&&L.push(te)}return L}}function WebGLShader(P,T,A){const L=P.createShader(T);return P.shaderSource(L,A),P.compileShader(L),L}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(P,T){const A=P.split(`
`),L=[],U=Math.max(T-6,0),W=Math.min(T+6,A.length);for(let te=U;te<W;te++){const ne=te+1;L.push(`${ne===T?">":" "} ${ne}: ${A[te]}`)}return L.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(P){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,P);const T=`mat3( ${_m0.elements.map(A=>A.toFixed(4))} )`;switch(ColorManagement.getTransfer(P)){case LinearTransfer:return[T,"LinearTransferOETF"];case SRGBTransfer:return[T,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",P),[T,"LinearTransferOETF"]}}function getShaderErrors(P,T,A){const L=P.getShaderParameter(T,P.COMPILE_STATUS),U=P.getShaderInfoLog(T).trim();if(L&&U==="")return"";const W=/ERROR: 0:(\d+)/.exec(U);if(W){const te=parseInt(W[1]);return A.toUpperCase()+`

`+U+`

`+handleSource(P.getShaderSource(T),te)}else return U}function getTexelEncodingFunction(P,T){const A=getEncodingComponents(T);return[`vec4 ${P}( vec4 value ) {`,`	return ${A[1]}( vec4( value.rgb * ${A[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(P,T){let A;switch(T){case LinearToneMapping:A="Linear";break;case ReinhardToneMapping:A="Reinhard";break;case CineonToneMapping:A="Cineon";break;case ACESFilmicToneMapping:A="ACESFilmic";break;case AgXToneMapping:A="AgX";break;case NeutralToneMapping:A="Neutral";break;case CustomToneMapping:A="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",T),A="Linear"}return"vec3 "+P+"( vec3 color ) { return "+A+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const P=_v0.x.toFixed(4),T=_v0.y.toFixed(4),A=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${P}, ${T}, ${A} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(P){return[P.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",P.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(P){const T=[];for(const A in P){const L=P[A];L!==!1&&T.push("#define "+A+" "+L)}return T.join(`
`)}function fetchAttributeLocations(P,T){const A={},L=P.getProgramParameter(T,P.ACTIVE_ATTRIBUTES);for(let U=0;U<L;U++){const W=P.getActiveAttrib(T,U),te=W.name;let ne=1;W.type===P.FLOAT_MAT2&&(ne=2),W.type===P.FLOAT_MAT3&&(ne=3),W.type===P.FLOAT_MAT4&&(ne=4),A[te]={type:W.type,location:P.getAttribLocation(T,te),locationSize:ne}}return A}function filterEmptyLine(P){return P!==""}function replaceLightNums(P,T){const A=T.numSpotLightShadows+T.numSpotLightMaps-T.numSpotLightShadowsWithMaps;return P.replace(/NUM_DIR_LIGHTS/g,T.numDirLights).replace(/NUM_SPOT_LIGHTS/g,T.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,T.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,A).replace(/NUM_RECT_AREA_LIGHTS/g,T.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,T.numPointLights).replace(/NUM_HEMI_LIGHTS/g,T.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,T.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,T.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,T.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,T.numPointLightShadows)}function replaceClippingPlaneNums(P,T){return P.replace(/NUM_CLIPPING_PLANES/g,T.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,T.numClippingPlanes-T.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(P){return P.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(P,T){let A=ShaderChunk[T];if(A===void 0){const L=shaderChunkMap.get(T);if(L!==void 0)A=ShaderChunk[L],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',T,L);else throw new Error("Can not resolve #include <"+T+">")}return resolveIncludes(A)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(P){return P.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(P,T,A,L){let U="";for(let W=parseInt(T);W<parseInt(A);W++)U+=L.replace(/\[\s*i\s*\]/g,"[ "+W+" ]").replace(/UNROLLED_LOOP_INDEX/g,W);return U}function generatePrecision(P){let T=`precision ${P.precision} float;
	precision ${P.precision} int;
	precision ${P.precision} sampler2D;
	precision ${P.precision} samplerCube;
	precision ${P.precision} sampler3D;
	precision ${P.precision} sampler2DArray;
	precision ${P.precision} sampler2DShadow;
	precision ${P.precision} samplerCubeShadow;
	precision ${P.precision} sampler2DArrayShadow;
	precision ${P.precision} isampler2D;
	precision ${P.precision} isampler3D;
	precision ${P.precision} isamplerCube;
	precision ${P.precision} isampler2DArray;
	precision ${P.precision} usampler2D;
	precision ${P.precision} usampler3D;
	precision ${P.precision} usamplerCube;
	precision ${P.precision} usampler2DArray;
	`;return P.precision==="highp"?T+=`
#define HIGH_PRECISION`:P.precision==="mediump"?T+=`
#define MEDIUM_PRECISION`:P.precision==="lowp"&&(T+=`
#define LOW_PRECISION`),T}function generateShadowMapTypeDefine(P){let T="SHADOWMAP_TYPE_BASIC";return P.shadowMapType===PCFShadowMap?T="SHADOWMAP_TYPE_PCF":P.shadowMapType===PCFSoftShadowMap?T="SHADOWMAP_TYPE_PCF_SOFT":P.shadowMapType===VSMShadowMap&&(T="SHADOWMAP_TYPE_VSM"),T}function generateEnvMapTypeDefine(P){let T="ENVMAP_TYPE_CUBE";if(P.envMap)switch(P.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:T="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:T="ENVMAP_TYPE_CUBE_UV";break}return T}function generateEnvMapModeDefine(P){let T="ENVMAP_MODE_REFLECTION";if(P.envMap)switch(P.envMapMode){case CubeRefractionMapping:T="ENVMAP_MODE_REFRACTION";break}return T}function generateEnvMapBlendingDefine(P){let T="ENVMAP_BLENDING_NONE";if(P.envMap)switch(P.combine){case MultiplyOperation:T="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:T="ENVMAP_BLENDING_MIX";break;case AddOperation:T="ENVMAP_BLENDING_ADD";break}return T}function generateCubeUVSize(P){const T=P.envMapCubeUVHeight;if(T===null)return null;const A=Math.log2(T)-2,L=1/T;return{texelWidth:1/(3*Math.max(Math.pow(2,A),7*16)),texelHeight:L,maxMip:A}}function WebGLProgram(P,T,A,L){const U=P.getContext(),W=A.defines;let te=A.vertexShader,ne=A.fragmentShader;const ie=generateShadowMapTypeDefine(A),oe=generateEnvMapTypeDefine(A),ae=generateEnvMapModeDefine(A),ce=generateEnvMapBlendingDefine(A),he=generateCubeUVSize(A),ue=generateVertexExtensions(A),pe=generateDefines(W),ge=U.createProgram();let de,me,ye=A.glslVersion?"#version "+A.glslVersion+`
`:"";A.isRawShaderMaterial?(de=["#define SHADER_TYPE "+A.shaderType,"#define SHADER_NAME "+A.shaderName,pe].filter(filterEmptyLine).join(`
`),de.length>0&&(de+=`
`),me=["#define SHADER_TYPE "+A.shaderType,"#define SHADER_NAME "+A.shaderName,pe].filter(filterEmptyLine).join(`
`),me.length>0&&(me+=`
`)):(de=[generatePrecision(A),"#define SHADER_TYPE "+A.shaderType,"#define SHADER_NAME "+A.shaderName,pe,A.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",A.batching?"#define USE_BATCHING":"",A.batchingColor?"#define USE_BATCHING_COLOR":"",A.instancing?"#define USE_INSTANCING":"",A.instancingColor?"#define USE_INSTANCING_COLOR":"",A.instancingMorph?"#define USE_INSTANCING_MORPH":"",A.useFog&&A.fog?"#define USE_FOG":"",A.useFog&&A.fogExp2?"#define FOG_EXP2":"",A.map?"#define USE_MAP":"",A.envMap?"#define USE_ENVMAP":"",A.envMap?"#define "+ae:"",A.lightMap?"#define USE_LIGHTMAP":"",A.aoMap?"#define USE_AOMAP":"",A.bumpMap?"#define USE_BUMPMAP":"",A.normalMap?"#define USE_NORMALMAP":"",A.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",A.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",A.displacementMap?"#define USE_DISPLACEMENTMAP":"",A.emissiveMap?"#define USE_EMISSIVEMAP":"",A.anisotropy?"#define USE_ANISOTROPY":"",A.anisotropyMap?"#define USE_ANISOTROPYMAP":"",A.clearcoatMap?"#define USE_CLEARCOATMAP":"",A.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",A.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",A.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",A.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",A.specularMap?"#define USE_SPECULARMAP":"",A.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",A.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",A.roughnessMap?"#define USE_ROUGHNESSMAP":"",A.metalnessMap?"#define USE_METALNESSMAP":"",A.alphaMap?"#define USE_ALPHAMAP":"",A.alphaHash?"#define USE_ALPHAHASH":"",A.transmission?"#define USE_TRANSMISSION":"",A.transmissionMap?"#define USE_TRANSMISSIONMAP":"",A.thicknessMap?"#define USE_THICKNESSMAP":"",A.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",A.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",A.mapUv?"#define MAP_UV "+A.mapUv:"",A.alphaMapUv?"#define ALPHAMAP_UV "+A.alphaMapUv:"",A.lightMapUv?"#define LIGHTMAP_UV "+A.lightMapUv:"",A.aoMapUv?"#define AOMAP_UV "+A.aoMapUv:"",A.emissiveMapUv?"#define EMISSIVEMAP_UV "+A.emissiveMapUv:"",A.bumpMapUv?"#define BUMPMAP_UV "+A.bumpMapUv:"",A.normalMapUv?"#define NORMALMAP_UV "+A.normalMapUv:"",A.displacementMapUv?"#define DISPLACEMENTMAP_UV "+A.displacementMapUv:"",A.metalnessMapUv?"#define METALNESSMAP_UV "+A.metalnessMapUv:"",A.roughnessMapUv?"#define ROUGHNESSMAP_UV "+A.roughnessMapUv:"",A.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+A.anisotropyMapUv:"",A.clearcoatMapUv?"#define CLEARCOATMAP_UV "+A.clearcoatMapUv:"",A.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+A.clearcoatNormalMapUv:"",A.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+A.clearcoatRoughnessMapUv:"",A.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+A.iridescenceMapUv:"",A.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+A.iridescenceThicknessMapUv:"",A.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+A.sheenColorMapUv:"",A.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+A.sheenRoughnessMapUv:"",A.specularMapUv?"#define SPECULARMAP_UV "+A.specularMapUv:"",A.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+A.specularColorMapUv:"",A.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+A.specularIntensityMapUv:"",A.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+A.transmissionMapUv:"",A.thicknessMapUv?"#define THICKNESSMAP_UV "+A.thicknessMapUv:"",A.vertexTangents&&A.flatShading===!1?"#define USE_TANGENT":"",A.vertexColors?"#define USE_COLOR":"",A.vertexAlphas?"#define USE_COLOR_ALPHA":"",A.vertexUv1s?"#define USE_UV1":"",A.vertexUv2s?"#define USE_UV2":"",A.vertexUv3s?"#define USE_UV3":"",A.pointsUvs?"#define USE_POINTS_UV":"",A.flatShading?"#define FLAT_SHADED":"",A.skinning?"#define USE_SKINNING":"",A.morphTargets?"#define USE_MORPHTARGETS":"",A.morphNormals&&A.flatShading===!1?"#define USE_MORPHNORMALS":"",A.morphColors?"#define USE_MORPHCOLORS":"",A.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+A.morphTextureStride:"",A.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+A.morphTargetsCount:"",A.doubleSided?"#define DOUBLE_SIDED":"",A.flipSided?"#define FLIP_SIDED":"",A.shadowMapEnabled?"#define USE_SHADOWMAP":"",A.shadowMapEnabled?"#define "+ie:"",A.sizeAttenuation?"#define USE_SIZEATTENUATION":"",A.numLightProbes>0?"#define USE_LIGHT_PROBES":"",A.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",A.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),me=[generatePrecision(A),"#define SHADER_TYPE "+A.shaderType,"#define SHADER_NAME "+A.shaderName,pe,A.useFog&&A.fog?"#define USE_FOG":"",A.useFog&&A.fogExp2?"#define FOG_EXP2":"",A.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",A.map?"#define USE_MAP":"",A.matcap?"#define USE_MATCAP":"",A.envMap?"#define USE_ENVMAP":"",A.envMap?"#define "+oe:"",A.envMap?"#define "+ae:"",A.envMap?"#define "+ce:"",he?"#define CUBEUV_TEXEL_WIDTH "+he.texelWidth:"",he?"#define CUBEUV_TEXEL_HEIGHT "+he.texelHeight:"",he?"#define CUBEUV_MAX_MIP "+he.maxMip+".0":"",A.lightMap?"#define USE_LIGHTMAP":"",A.aoMap?"#define USE_AOMAP":"",A.bumpMap?"#define USE_BUMPMAP":"",A.normalMap?"#define USE_NORMALMAP":"",A.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",A.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",A.emissiveMap?"#define USE_EMISSIVEMAP":"",A.anisotropy?"#define USE_ANISOTROPY":"",A.anisotropyMap?"#define USE_ANISOTROPYMAP":"",A.clearcoat?"#define USE_CLEARCOAT":"",A.clearcoatMap?"#define USE_CLEARCOATMAP":"",A.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",A.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",A.dispersion?"#define USE_DISPERSION":"",A.iridescence?"#define USE_IRIDESCENCE":"",A.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",A.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",A.specularMap?"#define USE_SPECULARMAP":"",A.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",A.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",A.roughnessMap?"#define USE_ROUGHNESSMAP":"",A.metalnessMap?"#define USE_METALNESSMAP":"",A.alphaMap?"#define USE_ALPHAMAP":"",A.alphaTest?"#define USE_ALPHATEST":"",A.alphaHash?"#define USE_ALPHAHASH":"",A.sheen?"#define USE_SHEEN":"",A.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",A.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",A.transmission?"#define USE_TRANSMISSION":"",A.transmissionMap?"#define USE_TRANSMISSIONMAP":"",A.thicknessMap?"#define USE_THICKNESSMAP":"",A.vertexTangents&&A.flatShading===!1?"#define USE_TANGENT":"",A.vertexColors||A.instancingColor||A.batchingColor?"#define USE_COLOR":"",A.vertexAlphas?"#define USE_COLOR_ALPHA":"",A.vertexUv1s?"#define USE_UV1":"",A.vertexUv2s?"#define USE_UV2":"",A.vertexUv3s?"#define USE_UV3":"",A.pointsUvs?"#define USE_POINTS_UV":"",A.gradientMap?"#define USE_GRADIENTMAP":"",A.flatShading?"#define FLAT_SHADED":"",A.doubleSided?"#define DOUBLE_SIDED":"",A.flipSided?"#define FLIP_SIDED":"",A.shadowMapEnabled?"#define USE_SHADOWMAP":"",A.shadowMapEnabled?"#define "+ie:"",A.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",A.numLightProbes>0?"#define USE_LIGHT_PROBES":"",A.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",A.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",A.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",A.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",A.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",A.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",A.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",A.toneMapping):"",A.dithering?"#define DITHERING":"",A.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",A.outputColorSpace),getLuminanceFunction(),A.useDepthPacking?"#define DEPTH_PACKING "+A.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),te=resolveIncludes(te),te=replaceLightNums(te,A),te=replaceClippingPlaneNums(te,A),ne=resolveIncludes(ne),ne=replaceLightNums(ne,A),ne=replaceClippingPlaneNums(ne,A),te=unrollLoops(te),ne=unrollLoops(ne),A.isRawShaderMaterial!==!0&&(ye=`#version 300 es
`,de=[ue,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+de,me=["#define varying in",A.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",A.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+me);const xe=ye+de+te,Se=ye+me+ne,Te=WebGLShader(U,U.VERTEX_SHADER,xe),be=WebGLShader(U,U.FRAGMENT_SHADER,Se);U.attachShader(ge,Te),U.attachShader(ge,be),A.index0AttributeName!==void 0?U.bindAttribLocation(ge,0,A.index0AttributeName):A.morphTargets===!0&&U.bindAttribLocation(ge,0,"position"),U.linkProgram(ge);function Pe(Fe){if(P.debug.checkShaderErrors){const Ge=U.getProgramInfoLog(ge).trim(),He=U.getShaderInfoLog(Te).trim(),je=U.getShaderInfoLog(be).trim();let qe=!0,Ye=!0;if(U.getProgramParameter(ge,U.LINK_STATUS)===!1)if(qe=!1,typeof P.debug.onShaderError=="function")P.debug.onShaderError(U,ge,Te,be);else{const Ct=getShaderErrors(U,Te,"vertex"),Re=getShaderErrors(U,be,"fragment");console.error("THREE.WebGLProgram: Shader Error "+U.getError()+" - VALIDATE_STATUS "+U.getProgramParameter(ge,U.VALIDATE_STATUS)+`

Material Name: `+Fe.name+`
Material Type: `+Fe.type+`

Program Info Log: `+Ge+`
`+Ct+`
`+Re)}else Ge!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ge):(He===""||je==="")&&(Ye=!1);Ye&&(Fe.diagnostics={runnable:qe,programLog:Ge,vertexShader:{log:He,prefix:de},fragmentShader:{log:je,prefix:me}})}U.deleteShader(Te),U.deleteShader(be),Ie=new WebGLUniforms(U,ge),De=fetchAttributeLocations(U,ge)}let Ie;this.getUniforms=function(){return Ie===void 0&&Pe(this),Ie};let De;this.getAttributes=function(){return De===void 0&&Pe(this),De};let we=A.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return we===!1&&(we=U.getProgramParameter(ge,COMPLETION_STATUS_KHR)),we},this.destroy=function(){L.releaseStatesOfProgram(this),U.deleteProgram(ge),this.program=void 0},this.type=A.shaderType,this.name=A.shaderName,this.id=programIdCount++,this.cacheKey=T,this.usedTimes=1,this.program=ge,this.vertexShader=Te,this.fragmentShader=be,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(T){const A=T.vertexShader,L=T.fragmentShader,U=this._getShaderStage(A),W=this._getShaderStage(L),te=this._getShaderCacheForMaterial(T);return te.has(U)===!1&&(te.add(U),U.usedTimes++),te.has(W)===!1&&(te.add(W),W.usedTimes++),this}remove(T){const A=this.materialCache.get(T);for(const L of A)L.usedTimes--,L.usedTimes===0&&this.shaderCache.delete(L.code);return this.materialCache.delete(T),this}getVertexShaderID(T){return this._getShaderStage(T.vertexShader).id}getFragmentShaderID(T){return this._getShaderStage(T.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(T){const A=this.materialCache;let L=A.get(T);return L===void 0&&(L=new Set,A.set(T,L)),L}_getShaderStage(T){const A=this.shaderCache;let L=A.get(T);return L===void 0&&(L=new WebGLShaderStage(T),A.set(T,L)),L}}class WebGLShaderStage{constructor(T){this.id=_id++,this.code=T,this.usedTimes=0}}function WebGLPrograms(P,T,A,L,U,W,te){const ne=new Layers,ie=new WebGLShaderCache,oe=new Set,ae=[],ce=U.logarithmicDepthBuffer,he=U.vertexTextures;let ue=U.precision;const pe={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ge(De){return oe.add(De),De===0?"uv":`uv${De}`}function de(De,we,Fe,Ge,He){const je=Ge.fog,qe=He.geometry,Ye=De.isMeshStandardMaterial?Ge.environment:null,Ct=(De.isMeshStandardMaterial?A:T).get(De.envMap||Ye),Re=Ct&&Ct.mapping===CubeUVReflectionMapping?Ct.image.height:null,Oe=pe[De.type];De.precision!==null&&(ue=U.getMaxPrecision(De.precision),ue!==De.precision&&console.warn("THREE.WebGLProgram.getParameters:",De.precision,"not supported, using",ue,"instead."));const ze=qe.morphAttributes.position||qe.morphAttributes.normal||qe.morphAttributes.color,Ne=ze!==void 0?ze.length:0;let Ze=0;qe.morphAttributes.position!==void 0&&(Ze=1),qe.morphAttributes.normal!==void 0&&(Ze=2),qe.morphAttributes.color!==void 0&&(Ze=3);let Wt,Qe,Pt,zt;if(Oe){const hr=ShaderLib[Oe];Wt=hr.vertexShader,Qe=hr.fragmentShader}else Wt=De.vertexShader,Qe=De.fragmentShader,ie.update(De),Pt=ie.getVertexShaderID(De),zt=ie.getFragmentShaderID(De);const It=P.getRenderTarget(),Yt=P.state.buffers.depth.getReversed(),ln=He.isInstancedMesh===!0,pn=He.isBatchedMesh===!0,In=!!De.map,$t=!!De.matcap,jt=!!Ct,Ve=!!De.aoMap,Cn=!!De.lightMap,Zt=!!De.bumpMap,fn=!!De.normalMap,Jt=!!De.displacementMap,Rn=!!De.emissiveMap,tn=!!De.metalnessMap,We=!!De.roughnessMap,Be=De.anisotropy>0,Mt=De.clearcoat>0,Ut=De.dispersion>0,Xt=De.iridescence>0,Gt=De.sheen>0,En=De.transmission>0,un=Be&&!!De.anisotropyMap,gn=Mt&&!!De.clearcoatMap,jn=Mt&&!!De.clearcoatNormalMap,nn=Mt&&!!De.clearcoatRoughnessMap,An=Xt&&!!De.iridescenceMap,zn=Xt&&!!De.iridescenceThicknessMap,$n=Gt&&!!De.sheenColorMap,wn=Gt&&!!De.sheenRoughnessMap,sr=!!De.specularMap,Xn=!!De.specularColorMap,gr=!!De.specularIntensityMap,dt=En&&!!De.transmissionMap,mn=En&&!!De.thicknessMap,Nt=!!De.gradientMap,qt=!!De.alphaMap,_n=De.alphaTest>0,yn=!!De.alphaHash,qn=!!De.extensions;let Cr=NoToneMapping;De.toneMapped&&(It===null||It.isXRRenderTarget===!0)&&(Cr=P.toneMapping);const Nr={shaderID:Oe,shaderType:De.type,shaderName:De.name,vertexShader:Wt,fragmentShader:Qe,defines:De.defines,customVertexShaderID:Pt,customFragmentShaderID:zt,isRawShaderMaterial:De.isRawShaderMaterial===!0,glslVersion:De.glslVersion,precision:ue,batching:pn,batchingColor:pn&&He._colorsTexture!==null,instancing:ln,instancingColor:ln&&He.instanceColor!==null,instancingMorph:ln&&He.morphTexture!==null,supportsVertexTextures:he,outputColorSpace:It===null?P.outputColorSpace:It.isXRRenderTarget===!0?It.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!De.alphaToCoverage,map:In,matcap:$t,envMap:jt,envMapMode:jt&&Ct.mapping,envMapCubeUVHeight:Re,aoMap:Ve,lightMap:Cn,bumpMap:Zt,normalMap:fn,displacementMap:he&&Jt,emissiveMap:Rn,normalMapObjectSpace:fn&&De.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:fn&&De.normalMapType===TangentSpaceNormalMap,metalnessMap:tn,roughnessMap:We,anisotropy:Be,anisotropyMap:un,clearcoat:Mt,clearcoatMap:gn,clearcoatNormalMap:jn,clearcoatRoughnessMap:nn,dispersion:Ut,iridescence:Xt,iridescenceMap:An,iridescenceThicknessMap:zn,sheen:Gt,sheenColorMap:$n,sheenRoughnessMap:wn,specularMap:sr,specularColorMap:Xn,specularIntensityMap:gr,transmission:En,transmissionMap:dt,thicknessMap:mn,gradientMap:Nt,opaque:De.transparent===!1&&De.blending===NormalBlending&&De.alphaToCoverage===!1,alphaMap:qt,alphaTest:_n,alphaHash:yn,combine:De.combine,mapUv:In&&ge(De.map.channel),aoMapUv:Ve&&ge(De.aoMap.channel),lightMapUv:Cn&&ge(De.lightMap.channel),bumpMapUv:Zt&&ge(De.bumpMap.channel),normalMapUv:fn&&ge(De.normalMap.channel),displacementMapUv:Jt&&ge(De.displacementMap.channel),emissiveMapUv:Rn&&ge(De.emissiveMap.channel),metalnessMapUv:tn&&ge(De.metalnessMap.channel),roughnessMapUv:We&&ge(De.roughnessMap.channel),anisotropyMapUv:un&&ge(De.anisotropyMap.channel),clearcoatMapUv:gn&&ge(De.clearcoatMap.channel),clearcoatNormalMapUv:jn&&ge(De.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:nn&&ge(De.clearcoatRoughnessMap.channel),iridescenceMapUv:An&&ge(De.iridescenceMap.channel),iridescenceThicknessMapUv:zn&&ge(De.iridescenceThicknessMap.channel),sheenColorMapUv:$n&&ge(De.sheenColorMap.channel),sheenRoughnessMapUv:wn&&ge(De.sheenRoughnessMap.channel),specularMapUv:sr&&ge(De.specularMap.channel),specularColorMapUv:Xn&&ge(De.specularColorMap.channel),specularIntensityMapUv:gr&&ge(De.specularIntensityMap.channel),transmissionMapUv:dt&&ge(De.transmissionMap.channel),thicknessMapUv:mn&&ge(De.thicknessMap.channel),alphaMapUv:qt&&ge(De.alphaMap.channel),vertexTangents:!!qe.attributes.tangent&&(fn||Be),vertexColors:De.vertexColors,vertexAlphas:De.vertexColors===!0&&!!qe.attributes.color&&qe.attributes.color.itemSize===4,pointsUvs:He.isPoints===!0&&!!qe.attributes.uv&&(In||qt),fog:!!je,useFog:De.fog===!0,fogExp2:!!je&&je.isFogExp2,flatShading:De.flatShading===!0,sizeAttenuation:De.sizeAttenuation===!0,logarithmicDepthBuffer:ce,reverseDepthBuffer:Yt,skinning:He.isSkinnedMesh===!0,morphTargets:qe.morphAttributes.position!==void 0,morphNormals:qe.morphAttributes.normal!==void 0,morphColors:qe.morphAttributes.color!==void 0,morphTargetsCount:Ne,morphTextureStride:Ze,numDirLights:we.directional.length,numPointLights:we.point.length,numSpotLights:we.spot.length,numSpotLightMaps:we.spotLightMap.length,numRectAreaLights:we.rectArea.length,numHemiLights:we.hemi.length,numDirLightShadows:we.directionalShadowMap.length,numPointLightShadows:we.pointShadowMap.length,numSpotLightShadows:we.spotShadowMap.length,numSpotLightShadowsWithMaps:we.numSpotLightShadowsWithMaps,numLightProbes:we.numLightProbes,numClippingPlanes:te.numPlanes,numClipIntersection:te.numIntersection,dithering:De.dithering,shadowMapEnabled:P.shadowMap.enabled&&Fe.length>0,shadowMapType:P.shadowMap.type,toneMapping:Cr,decodeVideoTexture:In&&De.map.isVideoTexture===!0&&ColorManagement.getTransfer(De.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:Rn&&De.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(De.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:De.premultipliedAlpha,doubleSided:De.side===DoubleSide,flipSided:De.side===BackSide,useDepthPacking:De.depthPacking>=0,depthPacking:De.depthPacking||0,index0AttributeName:De.index0AttributeName,extensionClipCullDistance:qn&&De.extensions.clipCullDistance===!0&&L.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qn&&De.extensions.multiDraw===!0||pn)&&L.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:L.has("KHR_parallel_shader_compile"),customProgramCacheKey:De.customProgramCacheKey()};return Nr.vertexUv1s=oe.has(1),Nr.vertexUv2s=oe.has(2),Nr.vertexUv3s=oe.has(3),oe.clear(),Nr}function me(De){const we=[];if(De.shaderID?we.push(De.shaderID):(we.push(De.customVertexShaderID),we.push(De.customFragmentShaderID)),De.defines!==void 0)for(const Fe in De.defines)we.push(Fe),we.push(De.defines[Fe]);return De.isRawShaderMaterial===!1&&(ye(we,De),xe(we,De),we.push(P.outputColorSpace)),we.push(De.customProgramCacheKey),we.join()}function ye(De,we){De.push(we.precision),De.push(we.outputColorSpace),De.push(we.envMapMode),De.push(we.envMapCubeUVHeight),De.push(we.mapUv),De.push(we.alphaMapUv),De.push(we.lightMapUv),De.push(we.aoMapUv),De.push(we.bumpMapUv),De.push(we.normalMapUv),De.push(we.displacementMapUv),De.push(we.emissiveMapUv),De.push(we.metalnessMapUv),De.push(we.roughnessMapUv),De.push(we.anisotropyMapUv),De.push(we.clearcoatMapUv),De.push(we.clearcoatNormalMapUv),De.push(we.clearcoatRoughnessMapUv),De.push(we.iridescenceMapUv),De.push(we.iridescenceThicknessMapUv),De.push(we.sheenColorMapUv),De.push(we.sheenRoughnessMapUv),De.push(we.specularMapUv),De.push(we.specularColorMapUv),De.push(we.specularIntensityMapUv),De.push(we.transmissionMapUv),De.push(we.thicknessMapUv),De.push(we.combine),De.push(we.fogExp2),De.push(we.sizeAttenuation),De.push(we.morphTargetsCount),De.push(we.morphAttributeCount),De.push(we.numDirLights),De.push(we.numPointLights),De.push(we.numSpotLights),De.push(we.numSpotLightMaps),De.push(we.numHemiLights),De.push(we.numRectAreaLights),De.push(we.numDirLightShadows),De.push(we.numPointLightShadows),De.push(we.numSpotLightShadows),De.push(we.numSpotLightShadowsWithMaps),De.push(we.numLightProbes),De.push(we.shadowMapType),De.push(we.toneMapping),De.push(we.numClippingPlanes),De.push(we.numClipIntersection),De.push(we.depthPacking)}function xe(De,we){ne.disableAll(),we.supportsVertexTextures&&ne.enable(0),we.instancing&&ne.enable(1),we.instancingColor&&ne.enable(2),we.instancingMorph&&ne.enable(3),we.matcap&&ne.enable(4),we.envMap&&ne.enable(5),we.normalMapObjectSpace&&ne.enable(6),we.normalMapTangentSpace&&ne.enable(7),we.clearcoat&&ne.enable(8),we.iridescence&&ne.enable(9),we.alphaTest&&ne.enable(10),we.vertexColors&&ne.enable(11),we.vertexAlphas&&ne.enable(12),we.vertexUv1s&&ne.enable(13),we.vertexUv2s&&ne.enable(14),we.vertexUv3s&&ne.enable(15),we.vertexTangents&&ne.enable(16),we.anisotropy&&ne.enable(17),we.alphaHash&&ne.enable(18),we.batching&&ne.enable(19),we.dispersion&&ne.enable(20),we.batchingColor&&ne.enable(21),De.push(ne.mask),ne.disableAll(),we.fog&&ne.enable(0),we.useFog&&ne.enable(1),we.flatShading&&ne.enable(2),we.logarithmicDepthBuffer&&ne.enable(3),we.reverseDepthBuffer&&ne.enable(4),we.skinning&&ne.enable(5),we.morphTargets&&ne.enable(6),we.morphNormals&&ne.enable(7),we.morphColors&&ne.enable(8),we.premultipliedAlpha&&ne.enable(9),we.shadowMapEnabled&&ne.enable(10),we.doubleSided&&ne.enable(11),we.flipSided&&ne.enable(12),we.useDepthPacking&&ne.enable(13),we.dithering&&ne.enable(14),we.transmission&&ne.enable(15),we.sheen&&ne.enable(16),we.opaque&&ne.enable(17),we.pointsUvs&&ne.enable(18),we.decodeVideoTexture&&ne.enable(19),we.decodeVideoTextureEmissive&&ne.enable(20),we.alphaToCoverage&&ne.enable(21),De.push(ne.mask)}function Se(De){const we=pe[De.type];let Fe;if(we){const Ge=ShaderLib[we];Fe=UniformsUtils.clone(Ge.uniforms)}else Fe=De.uniforms;return Fe}function Te(De,we){let Fe;for(let Ge=0,He=ae.length;Ge<He;Ge++){const je=ae[Ge];if(je.cacheKey===we){Fe=je,++Fe.usedTimes;break}}return Fe===void 0&&(Fe=new WebGLProgram(P,we,De,W),ae.push(Fe)),Fe}function be(De){if(--De.usedTimes===0){const we=ae.indexOf(De);ae[we]=ae[ae.length-1],ae.pop(),De.destroy()}}function Pe(De){ie.remove(De)}function Ie(){ie.dispose()}return{getParameters:de,getProgramCacheKey:me,getUniforms:Se,acquireProgram:Te,releaseProgram:be,releaseShaderCache:Pe,programs:ae,dispose:Ie}}function WebGLProperties(){let P=new WeakMap;function T(te){return P.has(te)}function A(te){let ne=P.get(te);return ne===void 0&&(ne={},P.set(te,ne)),ne}function L(te){P.delete(te)}function U(te,ne,ie){P.get(te)[ne]=ie}function W(){P=new WeakMap}return{has:T,get:A,remove:L,update:U,dispose:W}}function painterSortStable(P,T){return P.groupOrder!==T.groupOrder?P.groupOrder-T.groupOrder:P.renderOrder!==T.renderOrder?P.renderOrder-T.renderOrder:P.material.id!==T.material.id?P.material.id-T.material.id:P.z!==T.z?P.z-T.z:P.id-T.id}function reversePainterSortStable(P,T){return P.groupOrder!==T.groupOrder?P.groupOrder-T.groupOrder:P.renderOrder!==T.renderOrder?P.renderOrder-T.renderOrder:P.z!==T.z?T.z-P.z:P.id-T.id}function WebGLRenderList(){const P=[];let T=0;const A=[],L=[],U=[];function W(){T=0,A.length=0,L.length=0,U.length=0}function te(ce,he,ue,pe,ge,de){let me=P[T];return me===void 0?(me={id:ce.id,object:ce,geometry:he,material:ue,groupOrder:pe,renderOrder:ce.renderOrder,z:ge,group:de},P[T]=me):(me.id=ce.id,me.object=ce,me.geometry=he,me.material=ue,me.groupOrder=pe,me.renderOrder=ce.renderOrder,me.z=ge,me.group=de),T++,me}function ne(ce,he,ue,pe,ge,de){const me=te(ce,he,ue,pe,ge,de);ue.transmission>0?L.push(me):ue.transparent===!0?U.push(me):A.push(me)}function ie(ce,he,ue,pe,ge,de){const me=te(ce,he,ue,pe,ge,de);ue.transmission>0?L.unshift(me):ue.transparent===!0?U.unshift(me):A.unshift(me)}function oe(ce,he){A.length>1&&A.sort(ce||painterSortStable),L.length>1&&L.sort(he||reversePainterSortStable),U.length>1&&U.sort(he||reversePainterSortStable)}function ae(){for(let ce=T,he=P.length;ce<he;ce++){const ue=P[ce];if(ue.id===null)break;ue.id=null,ue.object=null,ue.geometry=null,ue.material=null,ue.group=null}}return{opaque:A,transmissive:L,transparent:U,init:W,push:ne,unshift:ie,finish:ae,sort:oe}}function WebGLRenderLists(){let P=new WeakMap;function T(L,U){const W=P.get(L);let te;return W===void 0?(te=new WebGLRenderList,P.set(L,[te])):U>=W.length?(te=new WebGLRenderList,W.push(te)):te=W[U],te}function A(){P=new WeakMap}return{get:T,dispose:A}}function UniformsCache(){const P={};return{get:function(T){if(P[T.id]!==void 0)return P[T.id];let A;switch(T.type){case"DirectionalLight":A={direction:new Vector3,color:new Color};break;case"SpotLight":A={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":A={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":A={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":A={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return P[T.id]=A,A}}}function ShadowUniformsCache(){const P={};return{get:function(T){if(P[T.id]!==void 0)return P[T.id];let A;switch(T.type){case"DirectionalLight":A={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":A={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":A={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return P[T.id]=A,A}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(P,T){return(T.castShadow?2:0)-(P.castShadow?2:0)+(T.map?1:0)-(P.map?1:0)}function WebGLLights(P){const T=new UniformsCache,A=ShadowUniformsCache(),L={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let oe=0;oe<9;oe++)L.probe.push(new Vector3);const U=new Vector3,W=new Matrix4,te=new Matrix4;function ne(oe){let ae=0,ce=0,he=0;for(let De=0;De<9;De++)L.probe[De].set(0,0,0);let ue=0,pe=0,ge=0,de=0,me=0,ye=0,xe=0,Se=0,Te=0,be=0,Pe=0;oe.sort(shadowCastingAndTexturingLightsFirst);for(let De=0,we=oe.length;De<we;De++){const Fe=oe[De],Ge=Fe.color,He=Fe.intensity,je=Fe.distance,qe=Fe.shadow&&Fe.shadow.map?Fe.shadow.map.texture:null;if(Fe.isAmbientLight)ae+=Ge.r*He,ce+=Ge.g*He,he+=Ge.b*He;else if(Fe.isLightProbe){for(let Ye=0;Ye<9;Ye++)L.probe[Ye].addScaledVector(Fe.sh.coefficients[Ye],He);Pe++}else if(Fe.isDirectionalLight){const Ye=T.get(Fe);if(Ye.color.copy(Fe.color).multiplyScalar(Fe.intensity),Fe.castShadow){const Ct=Fe.shadow,Re=A.get(Fe);Re.shadowIntensity=Ct.intensity,Re.shadowBias=Ct.bias,Re.shadowNormalBias=Ct.normalBias,Re.shadowRadius=Ct.radius,Re.shadowMapSize=Ct.mapSize,L.directionalShadow[ue]=Re,L.directionalShadowMap[ue]=qe,L.directionalShadowMatrix[ue]=Fe.shadow.matrix,ye++}L.directional[ue]=Ye,ue++}else if(Fe.isSpotLight){const Ye=T.get(Fe);Ye.position.setFromMatrixPosition(Fe.matrixWorld),Ye.color.copy(Ge).multiplyScalar(He),Ye.distance=je,Ye.coneCos=Math.cos(Fe.angle),Ye.penumbraCos=Math.cos(Fe.angle*(1-Fe.penumbra)),Ye.decay=Fe.decay,L.spot[ge]=Ye;const Ct=Fe.shadow;if(Fe.map&&(L.spotLightMap[Te]=Fe.map,Te++,Ct.updateMatrices(Fe),Fe.castShadow&&be++),L.spotLightMatrix[ge]=Ct.matrix,Fe.castShadow){const Re=A.get(Fe);Re.shadowIntensity=Ct.intensity,Re.shadowBias=Ct.bias,Re.shadowNormalBias=Ct.normalBias,Re.shadowRadius=Ct.radius,Re.shadowMapSize=Ct.mapSize,L.spotShadow[ge]=Re,L.spotShadowMap[ge]=qe,Se++}ge++}else if(Fe.isRectAreaLight){const Ye=T.get(Fe);Ye.color.copy(Ge).multiplyScalar(He),Ye.halfWidth.set(Fe.width*.5,0,0),Ye.halfHeight.set(0,Fe.height*.5,0),L.rectArea[de]=Ye,de++}else if(Fe.isPointLight){const Ye=T.get(Fe);if(Ye.color.copy(Fe.color).multiplyScalar(Fe.intensity),Ye.distance=Fe.distance,Ye.decay=Fe.decay,Fe.castShadow){const Ct=Fe.shadow,Re=A.get(Fe);Re.shadowIntensity=Ct.intensity,Re.shadowBias=Ct.bias,Re.shadowNormalBias=Ct.normalBias,Re.shadowRadius=Ct.radius,Re.shadowMapSize=Ct.mapSize,Re.shadowCameraNear=Ct.camera.near,Re.shadowCameraFar=Ct.camera.far,L.pointShadow[pe]=Re,L.pointShadowMap[pe]=qe,L.pointShadowMatrix[pe]=Fe.shadow.matrix,xe++}L.point[pe]=Ye,pe++}else if(Fe.isHemisphereLight){const Ye=T.get(Fe);Ye.skyColor.copy(Fe.color).multiplyScalar(He),Ye.groundColor.copy(Fe.groundColor).multiplyScalar(He),L.hemi[me]=Ye,me++}}de>0&&(P.has("OES_texture_float_linear")===!0?(L.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,L.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(L.rectAreaLTC1=UniformsLib.LTC_HALF_1,L.rectAreaLTC2=UniformsLib.LTC_HALF_2)),L.ambient[0]=ae,L.ambient[1]=ce,L.ambient[2]=he;const Ie=L.hash;(Ie.directionalLength!==ue||Ie.pointLength!==pe||Ie.spotLength!==ge||Ie.rectAreaLength!==de||Ie.hemiLength!==me||Ie.numDirectionalShadows!==ye||Ie.numPointShadows!==xe||Ie.numSpotShadows!==Se||Ie.numSpotMaps!==Te||Ie.numLightProbes!==Pe)&&(L.directional.length=ue,L.spot.length=ge,L.rectArea.length=de,L.point.length=pe,L.hemi.length=me,L.directionalShadow.length=ye,L.directionalShadowMap.length=ye,L.pointShadow.length=xe,L.pointShadowMap.length=xe,L.spotShadow.length=Se,L.spotShadowMap.length=Se,L.directionalShadowMatrix.length=ye,L.pointShadowMatrix.length=xe,L.spotLightMatrix.length=Se+Te-be,L.spotLightMap.length=Te,L.numSpotLightShadowsWithMaps=be,L.numLightProbes=Pe,Ie.directionalLength=ue,Ie.pointLength=pe,Ie.spotLength=ge,Ie.rectAreaLength=de,Ie.hemiLength=me,Ie.numDirectionalShadows=ye,Ie.numPointShadows=xe,Ie.numSpotShadows=Se,Ie.numSpotMaps=Te,Ie.numLightProbes=Pe,L.version=nextVersion++)}function ie(oe,ae){let ce=0,he=0,ue=0,pe=0,ge=0;const de=ae.matrixWorldInverse;for(let me=0,ye=oe.length;me<ye;me++){const xe=oe[me];if(xe.isDirectionalLight){const Se=L.directional[ce];Se.direction.setFromMatrixPosition(xe.matrixWorld),U.setFromMatrixPosition(xe.target.matrixWorld),Se.direction.sub(U),Se.direction.transformDirection(de),ce++}else if(xe.isSpotLight){const Se=L.spot[ue];Se.position.setFromMatrixPosition(xe.matrixWorld),Se.position.applyMatrix4(de),Se.direction.setFromMatrixPosition(xe.matrixWorld),U.setFromMatrixPosition(xe.target.matrixWorld),Se.direction.sub(U),Se.direction.transformDirection(de),ue++}else if(xe.isRectAreaLight){const Se=L.rectArea[pe];Se.position.setFromMatrixPosition(xe.matrixWorld),Se.position.applyMatrix4(de),te.identity(),W.copy(xe.matrixWorld),W.premultiply(de),te.extractRotation(W),Se.halfWidth.set(xe.width*.5,0,0),Se.halfHeight.set(0,xe.height*.5,0),Se.halfWidth.applyMatrix4(te),Se.halfHeight.applyMatrix4(te),pe++}else if(xe.isPointLight){const Se=L.point[he];Se.position.setFromMatrixPosition(xe.matrixWorld),Se.position.applyMatrix4(de),he++}else if(xe.isHemisphereLight){const Se=L.hemi[ge];Se.direction.setFromMatrixPosition(xe.matrixWorld),Se.direction.transformDirection(de),ge++}}}return{setup:ne,setupView:ie,state:L}}function WebGLRenderState(P){const T=new WebGLLights(P),A=[],L=[];function U(ae){oe.camera=ae,A.length=0,L.length=0}function W(ae){A.push(ae)}function te(ae){L.push(ae)}function ne(){T.setup(A)}function ie(ae){T.setupView(A,ae)}const oe={lightsArray:A,shadowsArray:L,camera:null,lights:T,transmissionRenderTarget:{}};return{init:U,state:oe,setupLights:ne,setupLightsView:ie,pushLight:W,pushShadow:te}}function WebGLRenderStates(P){let T=new WeakMap;function A(U,W=0){const te=T.get(U);let ne;return te===void 0?(ne=new WebGLRenderState(P),T.set(U,[ne])):W>=te.length?(ne=new WebGLRenderState(P),te.push(ne)):ne=te[W],ne}function L(){T=new WeakMap}return{get:A,dispose:L}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(P,T,A){let L=new Frustum;const U=new Vector2,W=new Vector2,te=new Vector4,ne=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ie=new MeshDistanceMaterial,oe={},ae=A.maxTextureSize,ce={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},he=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ue=he.clone();ue.defines.HORIZONTAL_PASS=1;const pe=new BufferGeometry;pe.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ge=new Mesh(pe,he),de=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let me=this.type;this.render=function(be,Pe,Ie){if(de.enabled===!1||de.autoUpdate===!1&&de.needsUpdate===!1||be.length===0)return;const De=P.getRenderTarget(),we=P.getActiveCubeFace(),Fe=P.getActiveMipmapLevel(),Ge=P.state;Ge.setBlending(NoBlending),Ge.buffers.color.setClear(1,1,1,1),Ge.buffers.depth.setTest(!0),Ge.setScissorTest(!1);const He=me!==VSMShadowMap&&this.type===VSMShadowMap,je=me===VSMShadowMap&&this.type!==VSMShadowMap;for(let qe=0,Ye=be.length;qe<Ye;qe++){const Ct=be[qe],Re=Ct.shadow;if(Re===void 0){console.warn("THREE.WebGLShadowMap:",Ct,"has no shadow.");continue}if(Re.autoUpdate===!1&&Re.needsUpdate===!1)continue;U.copy(Re.mapSize);const Oe=Re.getFrameExtents();if(U.multiply(Oe),W.copy(Re.mapSize),(U.x>ae||U.y>ae)&&(U.x>ae&&(W.x=Math.floor(ae/Oe.x),U.x=W.x*Oe.x,Re.mapSize.x=W.x),U.y>ae&&(W.y=Math.floor(ae/Oe.y),U.y=W.y*Oe.y,Re.mapSize.y=W.y)),Re.map===null||He===!0||je===!0){const Ne=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Re.map!==null&&Re.map.dispose(),Re.map=new WebGLRenderTarget(U.x,U.y,Ne),Re.map.texture.name=Ct.name+".shadowMap",Re.camera.updateProjectionMatrix()}P.setRenderTarget(Re.map),P.clear();const ze=Re.getViewportCount();for(let Ne=0;Ne<ze;Ne++){const Ze=Re.getViewport(Ne);te.set(W.x*Ze.x,W.y*Ze.y,W.x*Ze.z,W.y*Ze.w),Ge.viewport(te),Re.updateMatrices(Ct,Ne),L=Re.getFrustum(),Se(Pe,Ie,Re.camera,Ct,this.type)}Re.isPointLightShadow!==!0&&this.type===VSMShadowMap&&ye(Re,Ie),Re.needsUpdate=!1}me=this.type,de.needsUpdate=!1,P.setRenderTarget(De,we,Fe)};function ye(be,Pe){const Ie=T.update(ge);he.defines.VSM_SAMPLES!==be.blurSamples&&(he.defines.VSM_SAMPLES=be.blurSamples,ue.defines.VSM_SAMPLES=be.blurSamples,he.needsUpdate=!0,ue.needsUpdate=!0),be.mapPass===null&&(be.mapPass=new WebGLRenderTarget(U.x,U.y)),he.uniforms.shadow_pass.value=be.map.texture,he.uniforms.resolution.value=be.mapSize,he.uniforms.radius.value=be.radius,P.setRenderTarget(be.mapPass),P.clear(),P.renderBufferDirect(Pe,null,Ie,he,ge,null),ue.uniforms.shadow_pass.value=be.mapPass.texture,ue.uniforms.resolution.value=be.mapSize,ue.uniforms.radius.value=be.radius,P.setRenderTarget(be.map),P.clear(),P.renderBufferDirect(Pe,null,Ie,ue,ge,null)}function xe(be,Pe,Ie,De){let we=null;const Fe=Ie.isPointLight===!0?be.customDistanceMaterial:be.customDepthMaterial;if(Fe!==void 0)we=Fe;else if(we=Ie.isPointLight===!0?ie:ne,P.localClippingEnabled&&Pe.clipShadows===!0&&Array.isArray(Pe.clippingPlanes)&&Pe.clippingPlanes.length!==0||Pe.displacementMap&&Pe.displacementScale!==0||Pe.alphaMap&&Pe.alphaTest>0||Pe.map&&Pe.alphaTest>0){const Ge=we.uuid,He=Pe.uuid;let je=oe[Ge];je===void 0&&(je={},oe[Ge]=je);let qe=je[He];qe===void 0&&(qe=we.clone(),je[He]=qe,Pe.addEventListener("dispose",Te)),we=qe}if(we.visible=Pe.visible,we.wireframe=Pe.wireframe,De===VSMShadowMap?we.side=Pe.shadowSide!==null?Pe.shadowSide:Pe.side:we.side=Pe.shadowSide!==null?Pe.shadowSide:ce[Pe.side],we.alphaMap=Pe.alphaMap,we.alphaTest=Pe.alphaTest,we.map=Pe.map,we.clipShadows=Pe.clipShadows,we.clippingPlanes=Pe.clippingPlanes,we.clipIntersection=Pe.clipIntersection,we.displacementMap=Pe.displacementMap,we.displacementScale=Pe.displacementScale,we.displacementBias=Pe.displacementBias,we.wireframeLinewidth=Pe.wireframeLinewidth,we.linewidth=Pe.linewidth,Ie.isPointLight===!0&&we.isMeshDistanceMaterial===!0){const Ge=P.properties.get(we);Ge.light=Ie}return we}function Se(be,Pe,Ie,De,we){if(be.visible===!1)return;if(be.layers.test(Pe.layers)&&(be.isMesh||be.isLine||be.isPoints)&&(be.castShadow||be.receiveShadow&&we===VSMShadowMap)&&(!be.frustumCulled||L.intersectsObject(be))){be.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,be.matrixWorld);const He=T.update(be),je=be.material;if(Array.isArray(je)){const qe=He.groups;for(let Ye=0,Ct=qe.length;Ye<Ct;Ye++){const Re=qe[Ye],Oe=je[Re.materialIndex];if(Oe&&Oe.visible){const ze=xe(be,Oe,De,we);be.onBeforeShadow(P,be,Pe,Ie,He,ze,Re),P.renderBufferDirect(Ie,null,He,ze,be,Re),be.onAfterShadow(P,be,Pe,Ie,He,ze,Re)}}}else if(je.visible){const qe=xe(be,je,De,we);be.onBeforeShadow(P,be,Pe,Ie,He,qe,null),P.renderBufferDirect(Ie,null,He,qe,be,null),be.onAfterShadow(P,be,Pe,Ie,He,qe,null)}}const Ge=be.children;for(let He=0,je=Ge.length;He<je;He++)Se(Ge[He],Pe,Ie,De,we)}function Te(be){be.target.removeEventListener("dispose",Te);for(const Ie in oe){const De=oe[Ie],we=be.target.uuid;we in De&&(De[we].dispose(),delete De[we])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(P,T){function A(){let dt=!1;const mn=new Vector4;let Nt=null;const qt=new Vector4(0,0,0,0);return{setMask:function(_n){Nt!==_n&&!dt&&(P.colorMask(_n,_n,_n,_n),Nt=_n)},setLocked:function(_n){dt=_n},setClear:function(_n,yn,qn,Cr,Nr){Nr===!0&&(_n*=Cr,yn*=Cr,qn*=Cr),mn.set(_n,yn,qn,Cr),qt.equals(mn)===!1&&(P.clearColor(_n,yn,qn,Cr),qt.copy(mn))},reset:function(){dt=!1,Nt=null,qt.set(-1,0,0,0)}}}function L(){let dt=!1,mn=!1,Nt=null,qt=null,_n=null;return{setReversed:function(yn){if(mn!==yn){const qn=T.get("EXT_clip_control");mn?qn.clipControlEXT(qn.LOWER_LEFT_EXT,qn.ZERO_TO_ONE_EXT):qn.clipControlEXT(qn.LOWER_LEFT_EXT,qn.NEGATIVE_ONE_TO_ONE_EXT);const Cr=_n;_n=null,this.setClear(Cr)}mn=yn},getReversed:function(){return mn},setTest:function(yn){yn?It(P.DEPTH_TEST):Yt(P.DEPTH_TEST)},setMask:function(yn){Nt!==yn&&!dt&&(P.depthMask(yn),Nt=yn)},setFunc:function(yn){if(mn&&(yn=reversedFuncs[yn]),qt!==yn){switch(yn){case NeverDepth:P.depthFunc(P.NEVER);break;case AlwaysDepth:P.depthFunc(P.ALWAYS);break;case LessDepth:P.depthFunc(P.LESS);break;case LessEqualDepth:P.depthFunc(P.LEQUAL);break;case EqualDepth:P.depthFunc(P.EQUAL);break;case GreaterEqualDepth:P.depthFunc(P.GEQUAL);break;case GreaterDepth:P.depthFunc(P.GREATER);break;case NotEqualDepth:P.depthFunc(P.NOTEQUAL);break;default:P.depthFunc(P.LEQUAL)}qt=yn}},setLocked:function(yn){dt=yn},setClear:function(yn){_n!==yn&&(mn&&(yn=1-yn),P.clearDepth(yn),_n=yn)},reset:function(){dt=!1,Nt=null,qt=null,_n=null,mn=!1}}}function U(){let dt=!1,mn=null,Nt=null,qt=null,_n=null,yn=null,qn=null,Cr=null,Nr=null;return{setTest:function(hr){dt||(hr?It(P.STENCIL_TEST):Yt(P.STENCIL_TEST))},setMask:function(hr){mn!==hr&&!dt&&(P.stencilMask(hr),mn=hr)},setFunc:function(hr,di,pi){(Nt!==hr||qt!==di||_n!==pi)&&(P.stencilFunc(hr,di,pi),Nt=hr,qt=di,_n=pi)},setOp:function(hr,di,pi){(yn!==hr||qn!==di||Cr!==pi)&&(P.stencilOp(hr,di,pi),yn=hr,qn=di,Cr=pi)},setLocked:function(hr){dt=hr},setClear:function(hr){Nr!==hr&&(P.clearStencil(hr),Nr=hr)},reset:function(){dt=!1,mn=null,Nt=null,qt=null,_n=null,yn=null,qn=null,Cr=null,Nr=null}}}const W=new A,te=new L,ne=new U,ie=new WeakMap,oe=new WeakMap;let ae={},ce={},he=new WeakMap,ue=[],pe=null,ge=!1,de=null,me=null,ye=null,xe=null,Se=null,Te=null,be=null,Pe=new Color(0,0,0),Ie=0,De=!1,we=null,Fe=null,Ge=null,He=null,je=null;const qe=P.getParameter(P.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ye=!1,Ct=0;const Re=P.getParameter(P.VERSION);Re.indexOf("WebGL")!==-1?(Ct=parseFloat(/^WebGL (\d)/.exec(Re)[1]),Ye=Ct>=1):Re.indexOf("OpenGL ES")!==-1&&(Ct=parseFloat(/^OpenGL ES (\d)/.exec(Re)[1]),Ye=Ct>=2);let Oe=null,ze={};const Ne=P.getParameter(P.SCISSOR_BOX),Ze=P.getParameter(P.VIEWPORT),Wt=new Vector4().fromArray(Ne),Qe=new Vector4().fromArray(Ze);function Pt(dt,mn,Nt,qt){const _n=new Uint8Array(4),yn=P.createTexture();P.bindTexture(dt,yn),P.texParameteri(dt,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(dt,P.TEXTURE_MAG_FILTER,P.NEAREST);for(let qn=0;qn<Nt;qn++)dt===P.TEXTURE_3D||dt===P.TEXTURE_2D_ARRAY?P.texImage3D(mn,0,P.RGBA,1,1,qt,0,P.RGBA,P.UNSIGNED_BYTE,_n):P.texImage2D(mn+qn,0,P.RGBA,1,1,0,P.RGBA,P.UNSIGNED_BYTE,_n);return yn}const zt={};zt[P.TEXTURE_2D]=Pt(P.TEXTURE_2D,P.TEXTURE_2D,1),zt[P.TEXTURE_CUBE_MAP]=Pt(P.TEXTURE_CUBE_MAP,P.TEXTURE_CUBE_MAP_POSITIVE_X,6),zt[P.TEXTURE_2D_ARRAY]=Pt(P.TEXTURE_2D_ARRAY,P.TEXTURE_2D_ARRAY,1,1),zt[P.TEXTURE_3D]=Pt(P.TEXTURE_3D,P.TEXTURE_3D,1,1),W.setClear(0,0,0,1),te.setClear(1),ne.setClear(0),It(P.DEPTH_TEST),te.setFunc(LessEqualDepth),Zt(!1),fn(CullFaceBack),It(P.CULL_FACE),Ve(NoBlending);function It(dt){ae[dt]!==!0&&(P.enable(dt),ae[dt]=!0)}function Yt(dt){ae[dt]!==!1&&(P.disable(dt),ae[dt]=!1)}function ln(dt,mn){return ce[dt]!==mn?(P.bindFramebuffer(dt,mn),ce[dt]=mn,dt===P.DRAW_FRAMEBUFFER&&(ce[P.FRAMEBUFFER]=mn),dt===P.FRAMEBUFFER&&(ce[P.DRAW_FRAMEBUFFER]=mn),!0):!1}function pn(dt,mn){let Nt=ue,qt=!1;if(dt){Nt=he.get(mn),Nt===void 0&&(Nt=[],he.set(mn,Nt));const _n=dt.textures;if(Nt.length!==_n.length||Nt[0]!==P.COLOR_ATTACHMENT0){for(let yn=0,qn=_n.length;yn<qn;yn++)Nt[yn]=P.COLOR_ATTACHMENT0+yn;Nt.length=_n.length,qt=!0}}else Nt[0]!==P.BACK&&(Nt[0]=P.BACK,qt=!0);qt&&P.drawBuffers(Nt)}function In(dt){return pe!==dt?(P.useProgram(dt),pe=dt,!0):!1}const $t={[AddEquation]:P.FUNC_ADD,[SubtractEquation]:P.FUNC_SUBTRACT,[ReverseSubtractEquation]:P.FUNC_REVERSE_SUBTRACT};$t[MinEquation]=P.MIN,$t[MaxEquation]=P.MAX;const jt={[ZeroFactor]:P.ZERO,[OneFactor]:P.ONE,[SrcColorFactor]:P.SRC_COLOR,[SrcAlphaFactor]:P.SRC_ALPHA,[SrcAlphaSaturateFactor]:P.SRC_ALPHA_SATURATE,[DstColorFactor]:P.DST_COLOR,[DstAlphaFactor]:P.DST_ALPHA,[OneMinusSrcColorFactor]:P.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:P.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:P.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:P.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:P.CONSTANT_COLOR,[OneMinusConstantColorFactor]:P.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:P.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:P.ONE_MINUS_CONSTANT_ALPHA};function Ve(dt,mn,Nt,qt,_n,yn,qn,Cr,Nr,hr){if(dt===NoBlending){ge===!0&&(Yt(P.BLEND),ge=!1);return}if(ge===!1&&(It(P.BLEND),ge=!0),dt!==CustomBlending){if(dt!==de||hr!==De){if((me!==AddEquation||Se!==AddEquation)&&(P.blendEquation(P.FUNC_ADD),me=AddEquation,Se=AddEquation),hr)switch(dt){case NormalBlending:P.blendFuncSeparate(P.ONE,P.ONE_MINUS_SRC_ALPHA,P.ONE,P.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:P.blendFunc(P.ONE,P.ONE);break;case SubtractiveBlending:P.blendFuncSeparate(P.ZERO,P.ONE_MINUS_SRC_COLOR,P.ZERO,P.ONE);break;case MultiplyBlending:P.blendFuncSeparate(P.ZERO,P.SRC_COLOR,P.ZERO,P.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",dt);break}else switch(dt){case NormalBlending:P.blendFuncSeparate(P.SRC_ALPHA,P.ONE_MINUS_SRC_ALPHA,P.ONE,P.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:P.blendFunc(P.SRC_ALPHA,P.ONE);break;case SubtractiveBlending:P.blendFuncSeparate(P.ZERO,P.ONE_MINUS_SRC_COLOR,P.ZERO,P.ONE);break;case MultiplyBlending:P.blendFunc(P.ZERO,P.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",dt);break}ye=null,xe=null,Te=null,be=null,Pe.set(0,0,0),Ie=0,de=dt,De=hr}return}_n=_n||mn,yn=yn||Nt,qn=qn||qt,(mn!==me||_n!==Se)&&(P.blendEquationSeparate($t[mn],$t[_n]),me=mn,Se=_n),(Nt!==ye||qt!==xe||yn!==Te||qn!==be)&&(P.blendFuncSeparate(jt[Nt],jt[qt],jt[yn],jt[qn]),ye=Nt,xe=qt,Te=yn,be=qn),(Cr.equals(Pe)===!1||Nr!==Ie)&&(P.blendColor(Cr.r,Cr.g,Cr.b,Nr),Pe.copy(Cr),Ie=Nr),de=dt,De=!1}function Cn(dt,mn){dt.side===DoubleSide?Yt(P.CULL_FACE):It(P.CULL_FACE);let Nt=dt.side===BackSide;mn&&(Nt=!Nt),Zt(Nt),dt.blending===NormalBlending&&dt.transparent===!1?Ve(NoBlending):Ve(dt.blending,dt.blendEquation,dt.blendSrc,dt.blendDst,dt.blendEquationAlpha,dt.blendSrcAlpha,dt.blendDstAlpha,dt.blendColor,dt.blendAlpha,dt.premultipliedAlpha),te.setFunc(dt.depthFunc),te.setTest(dt.depthTest),te.setMask(dt.depthWrite),W.setMask(dt.colorWrite);const qt=dt.stencilWrite;ne.setTest(qt),qt&&(ne.setMask(dt.stencilWriteMask),ne.setFunc(dt.stencilFunc,dt.stencilRef,dt.stencilFuncMask),ne.setOp(dt.stencilFail,dt.stencilZFail,dt.stencilZPass)),Rn(dt.polygonOffset,dt.polygonOffsetFactor,dt.polygonOffsetUnits),dt.alphaToCoverage===!0?It(P.SAMPLE_ALPHA_TO_COVERAGE):Yt(P.SAMPLE_ALPHA_TO_COVERAGE)}function Zt(dt){we!==dt&&(dt?P.frontFace(P.CW):P.frontFace(P.CCW),we=dt)}function fn(dt){dt!==CullFaceNone?(It(P.CULL_FACE),dt!==Fe&&(dt===CullFaceBack?P.cullFace(P.BACK):dt===CullFaceFront?P.cullFace(P.FRONT):P.cullFace(P.FRONT_AND_BACK))):Yt(P.CULL_FACE),Fe=dt}function Jt(dt){dt!==Ge&&(Ye&&P.lineWidth(dt),Ge=dt)}function Rn(dt,mn,Nt){dt?(It(P.POLYGON_OFFSET_FILL),(He!==mn||je!==Nt)&&(P.polygonOffset(mn,Nt),He=mn,je=Nt)):Yt(P.POLYGON_OFFSET_FILL)}function tn(dt){dt?It(P.SCISSOR_TEST):Yt(P.SCISSOR_TEST)}function We(dt){dt===void 0&&(dt=P.TEXTURE0+qe-1),Oe!==dt&&(P.activeTexture(dt),Oe=dt)}function Be(dt,mn,Nt){Nt===void 0&&(Oe===null?Nt=P.TEXTURE0+qe-1:Nt=Oe);let qt=ze[Nt];qt===void 0&&(qt={type:void 0,texture:void 0},ze[Nt]=qt),(qt.type!==dt||qt.texture!==mn)&&(Oe!==Nt&&(P.activeTexture(Nt),Oe=Nt),P.bindTexture(dt,mn||zt[dt]),qt.type=dt,qt.texture=mn)}function Mt(){const dt=ze[Oe];dt!==void 0&&dt.type!==void 0&&(P.bindTexture(dt.type,null),dt.type=void 0,dt.texture=void 0)}function Ut(){try{P.compressedTexImage2D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function Xt(){try{P.compressedTexImage3D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function Gt(){try{P.texSubImage2D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function En(){try{P.texSubImage3D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function un(){try{P.compressedTexSubImage2D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function gn(){try{P.compressedTexSubImage3D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function jn(){try{P.texStorage2D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function nn(){try{P.texStorage3D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function An(){try{P.texImage2D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function zn(){try{P.texImage3D.apply(P,arguments)}catch(dt){console.error("THREE.WebGLState:",dt)}}function $n(dt){Wt.equals(dt)===!1&&(P.scissor(dt.x,dt.y,dt.z,dt.w),Wt.copy(dt))}function wn(dt){Qe.equals(dt)===!1&&(P.viewport(dt.x,dt.y,dt.z,dt.w),Qe.copy(dt))}function sr(dt,mn){let Nt=oe.get(mn);Nt===void 0&&(Nt=new WeakMap,oe.set(mn,Nt));let qt=Nt.get(dt);qt===void 0&&(qt=P.getUniformBlockIndex(mn,dt.name),Nt.set(dt,qt))}function Xn(dt,mn){const qt=oe.get(mn).get(dt);ie.get(mn)!==qt&&(P.uniformBlockBinding(mn,qt,dt.__bindingPointIndex),ie.set(mn,qt))}function gr(){P.disable(P.BLEND),P.disable(P.CULL_FACE),P.disable(P.DEPTH_TEST),P.disable(P.POLYGON_OFFSET_FILL),P.disable(P.SCISSOR_TEST),P.disable(P.STENCIL_TEST),P.disable(P.SAMPLE_ALPHA_TO_COVERAGE),P.blendEquation(P.FUNC_ADD),P.blendFunc(P.ONE,P.ZERO),P.blendFuncSeparate(P.ONE,P.ZERO,P.ONE,P.ZERO),P.blendColor(0,0,0,0),P.colorMask(!0,!0,!0,!0),P.clearColor(0,0,0,0),P.depthMask(!0),P.depthFunc(P.LESS),te.setReversed(!1),P.clearDepth(1),P.stencilMask(4294967295),P.stencilFunc(P.ALWAYS,0,4294967295),P.stencilOp(P.KEEP,P.KEEP,P.KEEP),P.clearStencil(0),P.cullFace(P.BACK),P.frontFace(P.CCW),P.polygonOffset(0,0),P.activeTexture(P.TEXTURE0),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindFramebuffer(P.DRAW_FRAMEBUFFER,null),P.bindFramebuffer(P.READ_FRAMEBUFFER,null),P.useProgram(null),P.lineWidth(1),P.scissor(0,0,P.canvas.width,P.canvas.height),P.viewport(0,0,P.canvas.width,P.canvas.height),ae={},Oe=null,ze={},ce={},he=new WeakMap,ue=[],pe=null,ge=!1,de=null,me=null,ye=null,xe=null,Se=null,Te=null,be=null,Pe=new Color(0,0,0),Ie=0,De=!1,we=null,Fe=null,Ge=null,He=null,je=null,Wt.set(0,0,P.canvas.width,P.canvas.height),Qe.set(0,0,P.canvas.width,P.canvas.height),W.reset(),te.reset(),ne.reset()}return{buffers:{color:W,depth:te,stencil:ne},enable:It,disable:Yt,bindFramebuffer:ln,drawBuffers:pn,useProgram:In,setBlending:Ve,setMaterial:Cn,setFlipSided:Zt,setCullFace:fn,setLineWidth:Jt,setPolygonOffset:Rn,setScissorTest:tn,activeTexture:We,bindTexture:Be,unbindTexture:Mt,compressedTexImage2D:Ut,compressedTexImage3D:Xt,texImage2D:An,texImage3D:zn,updateUBOMapping:sr,uniformBlockBinding:Xn,texStorage2D:jn,texStorage3D:nn,texSubImage2D:Gt,texSubImage3D:En,compressedTexSubImage2D:un,compressedTexSubImage3D:gn,scissor:$n,viewport:wn,reset:gr}}function WebGLTextures(P,T,A,L,U,W,te){const ne=T.has("WEBGL_multisampled_render_to_texture")?T.get("WEBGL_multisampled_render_to_texture"):null,ie=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),oe=new Vector2,ae=new WeakMap;let ce;const he=new WeakMap;let ue=!1;try{ue=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function pe(We,Be){return ue?new OffscreenCanvas(We,Be):createElementNS("canvas")}function ge(We,Be,Mt){let Ut=1;const Xt=tn(We);if((Xt.width>Mt||Xt.height>Mt)&&(Ut=Mt/Math.max(Xt.width,Xt.height)),Ut<1)if(typeof HTMLImageElement<"u"&&We instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&We instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&We instanceof ImageBitmap||typeof VideoFrame<"u"&&We instanceof VideoFrame){const Gt=Math.floor(Ut*Xt.width),En=Math.floor(Ut*Xt.height);ce===void 0&&(ce=pe(Gt,En));const un=Be?pe(Gt,En):ce;return un.width=Gt,un.height=En,un.getContext("2d").drawImage(We,0,0,Gt,En),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xt.width+"x"+Xt.height+") to ("+Gt+"x"+En+")."),un}else return"data"in We&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Xt.width+"x"+Xt.height+")."),We;return We}function de(We){return We.generateMipmaps}function me(We){P.generateMipmap(We)}function ye(We){return We.isWebGLCubeRenderTarget?P.TEXTURE_CUBE_MAP:We.isWebGL3DRenderTarget?P.TEXTURE_3D:We.isWebGLArrayRenderTarget||We.isCompressedArrayTexture?P.TEXTURE_2D_ARRAY:P.TEXTURE_2D}function xe(We,Be,Mt,Ut,Xt=!1){if(We!==null){if(P[We]!==void 0)return P[We];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+We+"'")}let Gt=Be;if(Be===P.RED&&(Mt===P.FLOAT&&(Gt=P.R32F),Mt===P.HALF_FLOAT&&(Gt=P.R16F),Mt===P.UNSIGNED_BYTE&&(Gt=P.R8)),Be===P.RED_INTEGER&&(Mt===P.UNSIGNED_BYTE&&(Gt=P.R8UI),Mt===P.UNSIGNED_SHORT&&(Gt=P.R16UI),Mt===P.UNSIGNED_INT&&(Gt=P.R32UI),Mt===P.BYTE&&(Gt=P.R8I),Mt===P.SHORT&&(Gt=P.R16I),Mt===P.INT&&(Gt=P.R32I)),Be===P.RG&&(Mt===P.FLOAT&&(Gt=P.RG32F),Mt===P.HALF_FLOAT&&(Gt=P.RG16F),Mt===P.UNSIGNED_BYTE&&(Gt=P.RG8)),Be===P.RG_INTEGER&&(Mt===P.UNSIGNED_BYTE&&(Gt=P.RG8UI),Mt===P.UNSIGNED_SHORT&&(Gt=P.RG16UI),Mt===P.UNSIGNED_INT&&(Gt=P.RG32UI),Mt===P.BYTE&&(Gt=P.RG8I),Mt===P.SHORT&&(Gt=P.RG16I),Mt===P.INT&&(Gt=P.RG32I)),Be===P.RGB_INTEGER&&(Mt===P.UNSIGNED_BYTE&&(Gt=P.RGB8UI),Mt===P.UNSIGNED_SHORT&&(Gt=P.RGB16UI),Mt===P.UNSIGNED_INT&&(Gt=P.RGB32UI),Mt===P.BYTE&&(Gt=P.RGB8I),Mt===P.SHORT&&(Gt=P.RGB16I),Mt===P.INT&&(Gt=P.RGB32I)),Be===P.RGBA_INTEGER&&(Mt===P.UNSIGNED_BYTE&&(Gt=P.RGBA8UI),Mt===P.UNSIGNED_SHORT&&(Gt=P.RGBA16UI),Mt===P.UNSIGNED_INT&&(Gt=P.RGBA32UI),Mt===P.BYTE&&(Gt=P.RGBA8I),Mt===P.SHORT&&(Gt=P.RGBA16I),Mt===P.INT&&(Gt=P.RGBA32I)),Be===P.RGB&&Mt===P.UNSIGNED_INT_5_9_9_9_REV&&(Gt=P.RGB9_E5),Be===P.RGBA){const En=Xt?LinearTransfer:ColorManagement.getTransfer(Ut);Mt===P.FLOAT&&(Gt=P.RGBA32F),Mt===P.HALF_FLOAT&&(Gt=P.RGBA16F),Mt===P.UNSIGNED_BYTE&&(Gt=En===SRGBTransfer?P.SRGB8_ALPHA8:P.RGBA8),Mt===P.UNSIGNED_SHORT_4_4_4_4&&(Gt=P.RGBA4),Mt===P.UNSIGNED_SHORT_5_5_5_1&&(Gt=P.RGB5_A1)}return(Gt===P.R16F||Gt===P.R32F||Gt===P.RG16F||Gt===P.RG32F||Gt===P.RGBA16F||Gt===P.RGBA32F)&&T.get("EXT_color_buffer_float"),Gt}function Se(We,Be){let Mt;return We?Be===null||Be===UnsignedIntType||Be===UnsignedInt248Type?Mt=P.DEPTH24_STENCIL8:Be===FloatType?Mt=P.DEPTH32F_STENCIL8:Be===UnsignedShortType&&(Mt=P.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Be===null||Be===UnsignedIntType||Be===UnsignedInt248Type?Mt=P.DEPTH_COMPONENT24:Be===FloatType?Mt=P.DEPTH_COMPONENT32F:Be===UnsignedShortType&&(Mt=P.DEPTH_COMPONENT16),Mt}function Te(We,Be){return de(We)===!0||We.isFramebufferTexture&&We.minFilter!==NearestFilter&&We.minFilter!==LinearFilter?Math.log2(Math.max(Be.width,Be.height))+1:We.mipmaps!==void 0&&We.mipmaps.length>0?We.mipmaps.length:We.isCompressedTexture&&Array.isArray(We.image)?Be.mipmaps.length:1}function be(We){const Be=We.target;Be.removeEventListener("dispose",be),Ie(Be),Be.isVideoTexture&&ae.delete(Be)}function Pe(We){const Be=We.target;Be.removeEventListener("dispose",Pe),we(Be)}function Ie(We){const Be=L.get(We);if(Be.__webglInit===void 0)return;const Mt=We.source,Ut=he.get(Mt);if(Ut){const Xt=Ut[Be.__cacheKey];Xt.usedTimes--,Xt.usedTimes===0&&De(We),Object.keys(Ut).length===0&&he.delete(Mt)}L.remove(We)}function De(We){const Be=L.get(We);P.deleteTexture(Be.__webglTexture);const Mt=We.source,Ut=he.get(Mt);delete Ut[Be.__cacheKey],te.memory.textures--}function we(We){const Be=L.get(We);if(We.depthTexture&&(We.depthTexture.dispose(),L.remove(We.depthTexture)),We.isWebGLCubeRenderTarget)for(let Ut=0;Ut<6;Ut++){if(Array.isArray(Be.__webglFramebuffer[Ut]))for(let Xt=0;Xt<Be.__webglFramebuffer[Ut].length;Xt++)P.deleteFramebuffer(Be.__webglFramebuffer[Ut][Xt]);else P.deleteFramebuffer(Be.__webglFramebuffer[Ut]);Be.__webglDepthbuffer&&P.deleteRenderbuffer(Be.__webglDepthbuffer[Ut])}else{if(Array.isArray(Be.__webglFramebuffer))for(let Ut=0;Ut<Be.__webglFramebuffer.length;Ut++)P.deleteFramebuffer(Be.__webglFramebuffer[Ut]);else P.deleteFramebuffer(Be.__webglFramebuffer);if(Be.__webglDepthbuffer&&P.deleteRenderbuffer(Be.__webglDepthbuffer),Be.__webglMultisampledFramebuffer&&P.deleteFramebuffer(Be.__webglMultisampledFramebuffer),Be.__webglColorRenderbuffer)for(let Ut=0;Ut<Be.__webglColorRenderbuffer.length;Ut++)Be.__webglColorRenderbuffer[Ut]&&P.deleteRenderbuffer(Be.__webglColorRenderbuffer[Ut]);Be.__webglDepthRenderbuffer&&P.deleteRenderbuffer(Be.__webglDepthRenderbuffer)}const Mt=We.textures;for(let Ut=0,Xt=Mt.length;Ut<Xt;Ut++){const Gt=L.get(Mt[Ut]);Gt.__webglTexture&&(P.deleteTexture(Gt.__webglTexture),te.memory.textures--),L.remove(Mt[Ut])}L.remove(We)}let Fe=0;function Ge(){Fe=0}function He(){const We=Fe;return We>=U.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+We+" texture units while this GPU supports only "+U.maxTextures),Fe+=1,We}function je(We){const Be=[];return Be.push(We.wrapS),Be.push(We.wrapT),Be.push(We.wrapR||0),Be.push(We.magFilter),Be.push(We.minFilter),Be.push(We.anisotropy),Be.push(We.internalFormat),Be.push(We.format),Be.push(We.type),Be.push(We.generateMipmaps),Be.push(We.premultiplyAlpha),Be.push(We.flipY),Be.push(We.unpackAlignment),Be.push(We.colorSpace),Be.join()}function qe(We,Be){const Mt=L.get(We);if(We.isVideoTexture&&Jt(We),We.isRenderTargetTexture===!1&&We.version>0&&Mt.__version!==We.version){const Ut=We.image;if(Ut===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ut.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Qe(Mt,We,Be);return}}A.bindTexture(P.TEXTURE_2D,Mt.__webglTexture,P.TEXTURE0+Be)}function Ye(We,Be){const Mt=L.get(We);if(We.version>0&&Mt.__version!==We.version){Qe(Mt,We,Be);return}A.bindTexture(P.TEXTURE_2D_ARRAY,Mt.__webglTexture,P.TEXTURE0+Be)}function Ct(We,Be){const Mt=L.get(We);if(We.version>0&&Mt.__version!==We.version){Qe(Mt,We,Be);return}A.bindTexture(P.TEXTURE_3D,Mt.__webglTexture,P.TEXTURE0+Be)}function Re(We,Be){const Mt=L.get(We);if(We.version>0&&Mt.__version!==We.version){Pt(Mt,We,Be);return}A.bindTexture(P.TEXTURE_CUBE_MAP,Mt.__webglTexture,P.TEXTURE0+Be)}const Oe={[RepeatWrapping]:P.REPEAT,[ClampToEdgeWrapping]:P.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:P.MIRRORED_REPEAT},ze={[NearestFilter]:P.NEAREST,[NearestMipmapNearestFilter]:P.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:P.NEAREST_MIPMAP_LINEAR,[LinearFilter]:P.LINEAR,[LinearMipmapNearestFilter]:P.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:P.LINEAR_MIPMAP_LINEAR},Ne={[NeverCompare]:P.NEVER,[AlwaysCompare]:P.ALWAYS,[LessCompare]:P.LESS,[LessEqualCompare]:P.LEQUAL,[EqualCompare]:P.EQUAL,[GreaterEqualCompare]:P.GEQUAL,[GreaterCompare]:P.GREATER,[NotEqualCompare]:P.NOTEQUAL};function Ze(We,Be){if(Be.type===FloatType&&T.has("OES_texture_float_linear")===!1&&(Be.magFilter===LinearFilter||Be.magFilter===LinearMipmapNearestFilter||Be.magFilter===NearestMipmapLinearFilter||Be.magFilter===LinearMipmapLinearFilter||Be.minFilter===LinearFilter||Be.minFilter===LinearMipmapNearestFilter||Be.minFilter===NearestMipmapLinearFilter||Be.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),P.texParameteri(We,P.TEXTURE_WRAP_S,Oe[Be.wrapS]),P.texParameteri(We,P.TEXTURE_WRAP_T,Oe[Be.wrapT]),(We===P.TEXTURE_3D||We===P.TEXTURE_2D_ARRAY)&&P.texParameteri(We,P.TEXTURE_WRAP_R,Oe[Be.wrapR]),P.texParameteri(We,P.TEXTURE_MAG_FILTER,ze[Be.magFilter]),P.texParameteri(We,P.TEXTURE_MIN_FILTER,ze[Be.minFilter]),Be.compareFunction&&(P.texParameteri(We,P.TEXTURE_COMPARE_MODE,P.COMPARE_REF_TO_TEXTURE),P.texParameteri(We,P.TEXTURE_COMPARE_FUNC,Ne[Be.compareFunction])),T.has("EXT_texture_filter_anisotropic")===!0){if(Be.magFilter===NearestFilter||Be.minFilter!==NearestMipmapLinearFilter&&Be.minFilter!==LinearMipmapLinearFilter||Be.type===FloatType&&T.has("OES_texture_float_linear")===!1)return;if(Be.anisotropy>1||L.get(Be).__currentAnisotropy){const Mt=T.get("EXT_texture_filter_anisotropic");P.texParameterf(We,Mt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Be.anisotropy,U.getMaxAnisotropy())),L.get(Be).__currentAnisotropy=Be.anisotropy}}}function Wt(We,Be){let Mt=!1;We.__webglInit===void 0&&(We.__webglInit=!0,Be.addEventListener("dispose",be));const Ut=Be.source;let Xt=he.get(Ut);Xt===void 0&&(Xt={},he.set(Ut,Xt));const Gt=je(Be);if(Gt!==We.__cacheKey){Xt[Gt]===void 0&&(Xt[Gt]={texture:P.createTexture(),usedTimes:0},te.memory.textures++,Mt=!0),Xt[Gt].usedTimes++;const En=Xt[We.__cacheKey];En!==void 0&&(Xt[We.__cacheKey].usedTimes--,En.usedTimes===0&&De(Be)),We.__cacheKey=Gt,We.__webglTexture=Xt[Gt].texture}return Mt}function Qe(We,Be,Mt){let Ut=P.TEXTURE_2D;(Be.isDataArrayTexture||Be.isCompressedArrayTexture)&&(Ut=P.TEXTURE_2D_ARRAY),Be.isData3DTexture&&(Ut=P.TEXTURE_3D);const Xt=Wt(We,Be),Gt=Be.source;A.bindTexture(Ut,We.__webglTexture,P.TEXTURE0+Mt);const En=L.get(Gt);if(Gt.version!==En.__version||Xt===!0){A.activeTexture(P.TEXTURE0+Mt);const un=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),gn=Be.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Be.colorSpace),jn=Be.colorSpace===NoColorSpace||un===gn?P.NONE:P.BROWSER_DEFAULT_WEBGL;P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,Be.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,Be.unpackAlignment),P.pixelStorei(P.UNPACK_COLORSPACE_CONVERSION_WEBGL,jn);let nn=ge(Be.image,!1,U.maxTextureSize);nn=Rn(Be,nn);const An=W.convert(Be.format,Be.colorSpace),zn=W.convert(Be.type);let $n=xe(Be.internalFormat,An,zn,Be.colorSpace,Be.isVideoTexture);Ze(Ut,Be);let wn;const sr=Be.mipmaps,Xn=Be.isVideoTexture!==!0,gr=En.__version===void 0||Xt===!0,dt=Gt.dataReady,mn=Te(Be,nn);if(Be.isDepthTexture)$n=Se(Be.format===DepthStencilFormat,Be.type),gr&&(Xn?A.texStorage2D(P.TEXTURE_2D,1,$n,nn.width,nn.height):A.texImage2D(P.TEXTURE_2D,0,$n,nn.width,nn.height,0,An,zn,null));else if(Be.isDataTexture)if(sr.length>0){Xn&&gr&&A.texStorage2D(P.TEXTURE_2D,mn,$n,sr[0].width,sr[0].height);for(let Nt=0,qt=sr.length;Nt<qt;Nt++)wn=sr[Nt],Xn?dt&&A.texSubImage2D(P.TEXTURE_2D,Nt,0,0,wn.width,wn.height,An,zn,wn.data):A.texImage2D(P.TEXTURE_2D,Nt,$n,wn.width,wn.height,0,An,zn,wn.data);Be.generateMipmaps=!1}else Xn?(gr&&A.texStorage2D(P.TEXTURE_2D,mn,$n,nn.width,nn.height),dt&&A.texSubImage2D(P.TEXTURE_2D,0,0,0,nn.width,nn.height,An,zn,nn.data)):A.texImage2D(P.TEXTURE_2D,0,$n,nn.width,nn.height,0,An,zn,nn.data);else if(Be.isCompressedTexture)if(Be.isCompressedArrayTexture){Xn&&gr&&A.texStorage3D(P.TEXTURE_2D_ARRAY,mn,$n,sr[0].width,sr[0].height,nn.depth);for(let Nt=0,qt=sr.length;Nt<qt;Nt++)if(wn=sr[Nt],Be.format!==RGBAFormat)if(An!==null)if(Xn){if(dt)if(Be.layerUpdates.size>0){const _n=getByteLength(wn.width,wn.height,Be.format,Be.type);for(const yn of Be.layerUpdates){const qn=wn.data.subarray(yn*_n/wn.data.BYTES_PER_ELEMENT,(yn+1)*_n/wn.data.BYTES_PER_ELEMENT);A.compressedTexSubImage3D(P.TEXTURE_2D_ARRAY,Nt,0,0,yn,wn.width,wn.height,1,An,qn)}Be.clearLayerUpdates()}else A.compressedTexSubImage3D(P.TEXTURE_2D_ARRAY,Nt,0,0,0,wn.width,wn.height,nn.depth,An,wn.data)}else A.compressedTexImage3D(P.TEXTURE_2D_ARRAY,Nt,$n,wn.width,wn.height,nn.depth,0,wn.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Xn?dt&&A.texSubImage3D(P.TEXTURE_2D_ARRAY,Nt,0,0,0,wn.width,wn.height,nn.depth,An,zn,wn.data):A.texImage3D(P.TEXTURE_2D_ARRAY,Nt,$n,wn.width,wn.height,nn.depth,0,An,zn,wn.data)}else{Xn&&gr&&A.texStorage2D(P.TEXTURE_2D,mn,$n,sr[0].width,sr[0].height);for(let Nt=0,qt=sr.length;Nt<qt;Nt++)wn=sr[Nt],Be.format!==RGBAFormat?An!==null?Xn?dt&&A.compressedTexSubImage2D(P.TEXTURE_2D,Nt,0,0,wn.width,wn.height,An,wn.data):A.compressedTexImage2D(P.TEXTURE_2D,Nt,$n,wn.width,wn.height,0,wn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xn?dt&&A.texSubImage2D(P.TEXTURE_2D,Nt,0,0,wn.width,wn.height,An,zn,wn.data):A.texImage2D(P.TEXTURE_2D,Nt,$n,wn.width,wn.height,0,An,zn,wn.data)}else if(Be.isDataArrayTexture)if(Xn){if(gr&&A.texStorage3D(P.TEXTURE_2D_ARRAY,mn,$n,nn.width,nn.height,nn.depth),dt)if(Be.layerUpdates.size>0){const Nt=getByteLength(nn.width,nn.height,Be.format,Be.type);for(const qt of Be.layerUpdates){const _n=nn.data.subarray(qt*Nt/nn.data.BYTES_PER_ELEMENT,(qt+1)*Nt/nn.data.BYTES_PER_ELEMENT);A.texSubImage3D(P.TEXTURE_2D_ARRAY,0,0,0,qt,nn.width,nn.height,1,An,zn,_n)}Be.clearLayerUpdates()}else A.texSubImage3D(P.TEXTURE_2D_ARRAY,0,0,0,0,nn.width,nn.height,nn.depth,An,zn,nn.data)}else A.texImage3D(P.TEXTURE_2D_ARRAY,0,$n,nn.width,nn.height,nn.depth,0,An,zn,nn.data);else if(Be.isData3DTexture)Xn?(gr&&A.texStorage3D(P.TEXTURE_3D,mn,$n,nn.width,nn.height,nn.depth),dt&&A.texSubImage3D(P.TEXTURE_3D,0,0,0,0,nn.width,nn.height,nn.depth,An,zn,nn.data)):A.texImage3D(P.TEXTURE_3D,0,$n,nn.width,nn.height,nn.depth,0,An,zn,nn.data);else if(Be.isFramebufferTexture){if(gr)if(Xn)A.texStorage2D(P.TEXTURE_2D,mn,$n,nn.width,nn.height);else{let Nt=nn.width,qt=nn.height;for(let _n=0;_n<mn;_n++)A.texImage2D(P.TEXTURE_2D,_n,$n,Nt,qt,0,An,zn,null),Nt>>=1,qt>>=1}}else if(sr.length>0){if(Xn&&gr){const Nt=tn(sr[0]);A.texStorage2D(P.TEXTURE_2D,mn,$n,Nt.width,Nt.height)}for(let Nt=0,qt=sr.length;Nt<qt;Nt++)wn=sr[Nt],Xn?dt&&A.texSubImage2D(P.TEXTURE_2D,Nt,0,0,An,zn,wn):A.texImage2D(P.TEXTURE_2D,Nt,$n,An,zn,wn);Be.generateMipmaps=!1}else if(Xn){if(gr){const Nt=tn(nn);A.texStorage2D(P.TEXTURE_2D,mn,$n,Nt.width,Nt.height)}dt&&A.texSubImage2D(P.TEXTURE_2D,0,0,0,An,zn,nn)}else A.texImage2D(P.TEXTURE_2D,0,$n,An,zn,nn);de(Be)&&me(Ut),En.__version=Gt.version,Be.onUpdate&&Be.onUpdate(Be)}We.__version=Be.version}function Pt(We,Be,Mt){if(Be.image.length!==6)return;const Ut=Wt(We,Be),Xt=Be.source;A.bindTexture(P.TEXTURE_CUBE_MAP,We.__webglTexture,P.TEXTURE0+Mt);const Gt=L.get(Xt);if(Xt.version!==Gt.__version||Ut===!0){A.activeTexture(P.TEXTURE0+Mt);const En=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),un=Be.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Be.colorSpace),gn=Be.colorSpace===NoColorSpace||En===un?P.NONE:P.BROWSER_DEFAULT_WEBGL;P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,Be.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,Be.unpackAlignment),P.pixelStorei(P.UNPACK_COLORSPACE_CONVERSION_WEBGL,gn);const jn=Be.isCompressedTexture||Be.image[0].isCompressedTexture,nn=Be.image[0]&&Be.image[0].isDataTexture,An=[];for(let qt=0;qt<6;qt++)!jn&&!nn?An[qt]=ge(Be.image[qt],!0,U.maxCubemapSize):An[qt]=nn?Be.image[qt].image:Be.image[qt],An[qt]=Rn(Be,An[qt]);const zn=An[0],$n=W.convert(Be.format,Be.colorSpace),wn=W.convert(Be.type),sr=xe(Be.internalFormat,$n,wn,Be.colorSpace),Xn=Be.isVideoTexture!==!0,gr=Gt.__version===void 0||Ut===!0,dt=Xt.dataReady;let mn=Te(Be,zn);Ze(P.TEXTURE_CUBE_MAP,Be);let Nt;if(jn){Xn&&gr&&A.texStorage2D(P.TEXTURE_CUBE_MAP,mn,sr,zn.width,zn.height);for(let qt=0;qt<6;qt++){Nt=An[qt].mipmaps;for(let _n=0;_n<Nt.length;_n++){const yn=Nt[_n];Be.format!==RGBAFormat?$n!==null?Xn?dt&&A.compressedTexSubImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n,0,0,yn.width,yn.height,$n,yn.data):A.compressedTexImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n,sr,yn.width,yn.height,0,yn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xn?dt&&A.texSubImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n,0,0,yn.width,yn.height,$n,wn,yn.data):A.texImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n,sr,yn.width,yn.height,0,$n,wn,yn.data)}}}else{if(Nt=Be.mipmaps,Xn&&gr){Nt.length>0&&mn++;const qt=tn(An[0]);A.texStorage2D(P.TEXTURE_CUBE_MAP,mn,sr,qt.width,qt.height)}for(let qt=0;qt<6;qt++)if(nn){Xn?dt&&A.texSubImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,0,0,An[qt].width,An[qt].height,$n,wn,An[qt].data):A.texImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,sr,An[qt].width,An[qt].height,0,$n,wn,An[qt].data);for(let _n=0;_n<Nt.length;_n++){const qn=Nt[_n].image[qt].image;Xn?dt&&A.texSubImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n+1,0,0,qn.width,qn.height,$n,wn,qn.data):A.texImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n+1,sr,qn.width,qn.height,0,$n,wn,qn.data)}}else{Xn?dt&&A.texSubImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,0,0,$n,wn,An[qt]):A.texImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,0,sr,$n,wn,An[qt]);for(let _n=0;_n<Nt.length;_n++){const yn=Nt[_n];Xn?dt&&A.texSubImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n+1,0,0,$n,wn,yn.image[qt]):A.texImage2D(P.TEXTURE_CUBE_MAP_POSITIVE_X+qt,_n+1,sr,$n,wn,yn.image[qt])}}}de(Be)&&me(P.TEXTURE_CUBE_MAP),Gt.__version=Xt.version,Be.onUpdate&&Be.onUpdate(Be)}We.__version=Be.version}function zt(We,Be,Mt,Ut,Xt,Gt){const En=W.convert(Mt.format,Mt.colorSpace),un=W.convert(Mt.type),gn=xe(Mt.internalFormat,En,un,Mt.colorSpace),jn=L.get(Be),nn=L.get(Mt);if(nn.__renderTarget=Be,!jn.__hasExternalTextures){const An=Math.max(1,Be.width>>Gt),zn=Math.max(1,Be.height>>Gt);Xt===P.TEXTURE_3D||Xt===P.TEXTURE_2D_ARRAY?A.texImage3D(Xt,Gt,gn,An,zn,Be.depth,0,En,un,null):A.texImage2D(Xt,Gt,gn,An,zn,0,En,un,null)}A.bindFramebuffer(P.FRAMEBUFFER,We),fn(Be)?ne.framebufferTexture2DMultisampleEXT(P.FRAMEBUFFER,Ut,Xt,nn.__webglTexture,0,Zt(Be)):(Xt===P.TEXTURE_2D||Xt>=P.TEXTURE_CUBE_MAP_POSITIVE_X&&Xt<=P.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&P.framebufferTexture2D(P.FRAMEBUFFER,Ut,Xt,nn.__webglTexture,Gt),A.bindFramebuffer(P.FRAMEBUFFER,null)}function It(We,Be,Mt){if(P.bindRenderbuffer(P.RENDERBUFFER,We),Be.depthBuffer){const Ut=Be.depthTexture,Xt=Ut&&Ut.isDepthTexture?Ut.type:null,Gt=Se(Be.stencilBuffer,Xt),En=Be.stencilBuffer?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,un=Zt(Be);fn(Be)?ne.renderbufferStorageMultisampleEXT(P.RENDERBUFFER,un,Gt,Be.width,Be.height):Mt?P.renderbufferStorageMultisample(P.RENDERBUFFER,un,Gt,Be.width,Be.height):P.renderbufferStorage(P.RENDERBUFFER,Gt,Be.width,Be.height),P.framebufferRenderbuffer(P.FRAMEBUFFER,En,P.RENDERBUFFER,We)}else{const Ut=Be.textures;for(let Xt=0;Xt<Ut.length;Xt++){const Gt=Ut[Xt],En=W.convert(Gt.format,Gt.colorSpace),un=W.convert(Gt.type),gn=xe(Gt.internalFormat,En,un,Gt.colorSpace),jn=Zt(Be);Mt&&fn(Be)===!1?P.renderbufferStorageMultisample(P.RENDERBUFFER,jn,gn,Be.width,Be.height):fn(Be)?ne.renderbufferStorageMultisampleEXT(P.RENDERBUFFER,jn,gn,Be.width,Be.height):P.renderbufferStorage(P.RENDERBUFFER,gn,Be.width,Be.height)}}P.bindRenderbuffer(P.RENDERBUFFER,null)}function Yt(We,Be){if(Be&&Be.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(A.bindFramebuffer(P.FRAMEBUFFER,We),!(Be.depthTexture&&Be.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ut=L.get(Be.depthTexture);Ut.__renderTarget=Be,(!Ut.__webglTexture||Be.depthTexture.image.width!==Be.width||Be.depthTexture.image.height!==Be.height)&&(Be.depthTexture.image.width=Be.width,Be.depthTexture.image.height=Be.height,Be.depthTexture.needsUpdate=!0),qe(Be.depthTexture,0);const Xt=Ut.__webglTexture,Gt=Zt(Be);if(Be.depthTexture.format===DepthFormat)fn(Be)?ne.framebufferTexture2DMultisampleEXT(P.FRAMEBUFFER,P.DEPTH_ATTACHMENT,P.TEXTURE_2D,Xt,0,Gt):P.framebufferTexture2D(P.FRAMEBUFFER,P.DEPTH_ATTACHMENT,P.TEXTURE_2D,Xt,0);else if(Be.depthTexture.format===DepthStencilFormat)fn(Be)?ne.framebufferTexture2DMultisampleEXT(P.FRAMEBUFFER,P.DEPTH_STENCIL_ATTACHMENT,P.TEXTURE_2D,Xt,0,Gt):P.framebufferTexture2D(P.FRAMEBUFFER,P.DEPTH_STENCIL_ATTACHMENT,P.TEXTURE_2D,Xt,0);else throw new Error("Unknown depthTexture format")}function ln(We){const Be=L.get(We),Mt=We.isWebGLCubeRenderTarget===!0;if(Be.__boundDepthTexture!==We.depthTexture){const Ut=We.depthTexture;if(Be.__depthDisposeCallback&&Be.__depthDisposeCallback(),Ut){const Xt=()=>{delete Be.__boundDepthTexture,delete Be.__depthDisposeCallback,Ut.removeEventListener("dispose",Xt)};Ut.addEventListener("dispose",Xt),Be.__depthDisposeCallback=Xt}Be.__boundDepthTexture=Ut}if(We.depthTexture&&!Be.__autoAllocateDepthBuffer){if(Mt)throw new Error("target.depthTexture not supported in Cube render targets");Yt(Be.__webglFramebuffer,We)}else if(Mt){Be.__webglDepthbuffer=[];for(let Ut=0;Ut<6;Ut++)if(A.bindFramebuffer(P.FRAMEBUFFER,Be.__webglFramebuffer[Ut]),Be.__webglDepthbuffer[Ut]===void 0)Be.__webglDepthbuffer[Ut]=P.createRenderbuffer(),It(Be.__webglDepthbuffer[Ut],We,!1);else{const Xt=We.stencilBuffer?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,Gt=Be.__webglDepthbuffer[Ut];P.bindRenderbuffer(P.RENDERBUFFER,Gt),P.framebufferRenderbuffer(P.FRAMEBUFFER,Xt,P.RENDERBUFFER,Gt)}}else if(A.bindFramebuffer(P.FRAMEBUFFER,Be.__webglFramebuffer),Be.__webglDepthbuffer===void 0)Be.__webglDepthbuffer=P.createRenderbuffer(),It(Be.__webglDepthbuffer,We,!1);else{const Ut=We.stencilBuffer?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,Xt=Be.__webglDepthbuffer;P.bindRenderbuffer(P.RENDERBUFFER,Xt),P.framebufferRenderbuffer(P.FRAMEBUFFER,Ut,P.RENDERBUFFER,Xt)}A.bindFramebuffer(P.FRAMEBUFFER,null)}function pn(We,Be,Mt){const Ut=L.get(We);Be!==void 0&&zt(Ut.__webglFramebuffer,We,We.texture,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,0),Mt!==void 0&&ln(We)}function In(We){const Be=We.texture,Mt=L.get(We),Ut=L.get(Be);We.addEventListener("dispose",Pe);const Xt=We.textures,Gt=We.isWebGLCubeRenderTarget===!0,En=Xt.length>1;if(En||(Ut.__webglTexture===void 0&&(Ut.__webglTexture=P.createTexture()),Ut.__version=Be.version,te.memory.textures++),Gt){Mt.__webglFramebuffer=[];for(let un=0;un<6;un++)if(Be.mipmaps&&Be.mipmaps.length>0){Mt.__webglFramebuffer[un]=[];for(let gn=0;gn<Be.mipmaps.length;gn++)Mt.__webglFramebuffer[un][gn]=P.createFramebuffer()}else Mt.__webglFramebuffer[un]=P.createFramebuffer()}else{if(Be.mipmaps&&Be.mipmaps.length>0){Mt.__webglFramebuffer=[];for(let un=0;un<Be.mipmaps.length;un++)Mt.__webglFramebuffer[un]=P.createFramebuffer()}else Mt.__webglFramebuffer=P.createFramebuffer();if(En)for(let un=0,gn=Xt.length;un<gn;un++){const jn=L.get(Xt[un]);jn.__webglTexture===void 0&&(jn.__webglTexture=P.createTexture(),te.memory.textures++)}if(We.samples>0&&fn(We)===!1){Mt.__webglMultisampledFramebuffer=P.createFramebuffer(),Mt.__webglColorRenderbuffer=[],A.bindFramebuffer(P.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer);for(let un=0;un<Xt.length;un++){const gn=Xt[un];Mt.__webglColorRenderbuffer[un]=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,Mt.__webglColorRenderbuffer[un]);const jn=W.convert(gn.format,gn.colorSpace),nn=W.convert(gn.type),An=xe(gn.internalFormat,jn,nn,gn.colorSpace,We.isXRRenderTarget===!0),zn=Zt(We);P.renderbufferStorageMultisample(P.RENDERBUFFER,zn,An,We.width,We.height),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0+un,P.RENDERBUFFER,Mt.__webglColorRenderbuffer[un])}P.bindRenderbuffer(P.RENDERBUFFER,null),We.depthBuffer&&(Mt.__webglDepthRenderbuffer=P.createRenderbuffer(),It(Mt.__webglDepthRenderbuffer,We,!0)),A.bindFramebuffer(P.FRAMEBUFFER,null)}}if(Gt){A.bindTexture(P.TEXTURE_CUBE_MAP,Ut.__webglTexture),Ze(P.TEXTURE_CUBE_MAP,Be);for(let un=0;un<6;un++)if(Be.mipmaps&&Be.mipmaps.length>0)for(let gn=0;gn<Be.mipmaps.length;gn++)zt(Mt.__webglFramebuffer[un][gn],We,Be,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+un,gn);else zt(Mt.__webglFramebuffer[un],We,Be,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+un,0);de(Be)&&me(P.TEXTURE_CUBE_MAP),A.unbindTexture()}else if(En){for(let un=0,gn=Xt.length;un<gn;un++){const jn=Xt[un],nn=L.get(jn);A.bindTexture(P.TEXTURE_2D,nn.__webglTexture),Ze(P.TEXTURE_2D,jn),zt(Mt.__webglFramebuffer,We,jn,P.COLOR_ATTACHMENT0+un,P.TEXTURE_2D,0),de(jn)&&me(P.TEXTURE_2D)}A.unbindTexture()}else{let un=P.TEXTURE_2D;if((We.isWebGL3DRenderTarget||We.isWebGLArrayRenderTarget)&&(un=We.isWebGL3DRenderTarget?P.TEXTURE_3D:P.TEXTURE_2D_ARRAY),A.bindTexture(un,Ut.__webglTexture),Ze(un,Be),Be.mipmaps&&Be.mipmaps.length>0)for(let gn=0;gn<Be.mipmaps.length;gn++)zt(Mt.__webglFramebuffer[gn],We,Be,P.COLOR_ATTACHMENT0,un,gn);else zt(Mt.__webglFramebuffer,We,Be,P.COLOR_ATTACHMENT0,un,0);de(Be)&&me(un),A.unbindTexture()}We.depthBuffer&&ln(We)}function $t(We){const Be=We.textures;for(let Mt=0,Ut=Be.length;Mt<Ut;Mt++){const Xt=Be[Mt];if(de(Xt)){const Gt=ye(We),En=L.get(Xt).__webglTexture;A.bindTexture(Gt,En),me(Gt),A.unbindTexture()}}}const jt=[],Ve=[];function Cn(We){if(We.samples>0){if(fn(We)===!1){const Be=We.textures,Mt=We.width,Ut=We.height;let Xt=P.COLOR_BUFFER_BIT;const Gt=We.stencilBuffer?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,En=L.get(We),un=Be.length>1;if(un)for(let gn=0;gn<Be.length;gn++)A.bindFramebuffer(P.FRAMEBUFFER,En.__webglMultisampledFramebuffer),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0+gn,P.RENDERBUFFER,null),A.bindFramebuffer(P.FRAMEBUFFER,En.__webglFramebuffer),P.framebufferTexture2D(P.DRAW_FRAMEBUFFER,P.COLOR_ATTACHMENT0+gn,P.TEXTURE_2D,null,0);A.bindFramebuffer(P.READ_FRAMEBUFFER,En.__webglMultisampledFramebuffer),A.bindFramebuffer(P.DRAW_FRAMEBUFFER,En.__webglFramebuffer);for(let gn=0;gn<Be.length;gn++){if(We.resolveDepthBuffer&&(We.depthBuffer&&(Xt|=P.DEPTH_BUFFER_BIT),We.stencilBuffer&&We.resolveStencilBuffer&&(Xt|=P.STENCIL_BUFFER_BIT)),un){P.framebufferRenderbuffer(P.READ_FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.RENDERBUFFER,En.__webglColorRenderbuffer[gn]);const jn=L.get(Be[gn]).__webglTexture;P.framebufferTexture2D(P.DRAW_FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,jn,0)}P.blitFramebuffer(0,0,Mt,Ut,0,0,Mt,Ut,Xt,P.NEAREST),ie===!0&&(jt.length=0,Ve.length=0,jt.push(P.COLOR_ATTACHMENT0+gn),We.depthBuffer&&We.resolveDepthBuffer===!1&&(jt.push(Gt),Ve.push(Gt),P.invalidateFramebuffer(P.DRAW_FRAMEBUFFER,Ve)),P.invalidateFramebuffer(P.READ_FRAMEBUFFER,jt))}if(A.bindFramebuffer(P.READ_FRAMEBUFFER,null),A.bindFramebuffer(P.DRAW_FRAMEBUFFER,null),un)for(let gn=0;gn<Be.length;gn++){A.bindFramebuffer(P.FRAMEBUFFER,En.__webglMultisampledFramebuffer),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0+gn,P.RENDERBUFFER,En.__webglColorRenderbuffer[gn]);const jn=L.get(Be[gn]).__webglTexture;A.bindFramebuffer(P.FRAMEBUFFER,En.__webglFramebuffer),P.framebufferTexture2D(P.DRAW_FRAMEBUFFER,P.COLOR_ATTACHMENT0+gn,P.TEXTURE_2D,jn,0)}A.bindFramebuffer(P.DRAW_FRAMEBUFFER,En.__webglMultisampledFramebuffer)}else if(We.depthBuffer&&We.resolveDepthBuffer===!1&&ie){const Be=We.stencilBuffer?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT;P.invalidateFramebuffer(P.DRAW_FRAMEBUFFER,[Be])}}}function Zt(We){return Math.min(U.maxSamples,We.samples)}function fn(We){const Be=L.get(We);return We.samples>0&&T.has("WEBGL_multisampled_render_to_texture")===!0&&Be.__useRenderToTexture!==!1}function Jt(We){const Be=te.render.frame;ae.get(We)!==Be&&(ae.set(We,Be),We.update())}function Rn(We,Be){const Mt=We.colorSpace,Ut=We.format,Xt=We.type;return We.isCompressedTexture===!0||We.isVideoTexture===!0||Mt!==LinearSRGBColorSpace&&Mt!==NoColorSpace&&(ColorManagement.getTransfer(Mt)===SRGBTransfer?(Ut!==RGBAFormat||Xt!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Mt)),Be}function tn(We){return typeof HTMLImageElement<"u"&&We instanceof HTMLImageElement?(oe.width=We.naturalWidth||We.width,oe.height=We.naturalHeight||We.height):typeof VideoFrame<"u"&&We instanceof VideoFrame?(oe.width=We.displayWidth,oe.height=We.displayHeight):(oe.width=We.width,oe.height=We.height),oe}this.allocateTextureUnit=He,this.resetTextureUnits=Ge,this.setTexture2D=qe,this.setTexture2DArray=Ye,this.setTexture3D=Ct,this.setTextureCube=Re,this.rebindTextures=pn,this.setupRenderTarget=In,this.updateRenderTargetMipmap=$t,this.updateMultisampleRenderTarget=Cn,this.setupDepthRenderbuffer=ln,this.setupFrameBufferTexture=zt,this.useMultisampledRTT=fn}function WebGLUtils(P,T){function A(L,U=NoColorSpace){let W;const te=ColorManagement.getTransfer(U);if(L===UnsignedByteType)return P.UNSIGNED_BYTE;if(L===UnsignedShort4444Type)return P.UNSIGNED_SHORT_4_4_4_4;if(L===UnsignedShort5551Type)return P.UNSIGNED_SHORT_5_5_5_1;if(L===UnsignedInt5999Type)return P.UNSIGNED_INT_5_9_9_9_REV;if(L===ByteType)return P.BYTE;if(L===ShortType)return P.SHORT;if(L===UnsignedShortType)return P.UNSIGNED_SHORT;if(L===IntType)return P.INT;if(L===UnsignedIntType)return P.UNSIGNED_INT;if(L===FloatType)return P.FLOAT;if(L===HalfFloatType)return P.HALF_FLOAT;if(L===AlphaFormat)return P.ALPHA;if(L===RGBFormat)return P.RGB;if(L===RGBAFormat)return P.RGBA;if(L===LuminanceFormat)return P.LUMINANCE;if(L===LuminanceAlphaFormat)return P.LUMINANCE_ALPHA;if(L===DepthFormat)return P.DEPTH_COMPONENT;if(L===DepthStencilFormat)return P.DEPTH_STENCIL;if(L===RedFormat)return P.RED;if(L===RedIntegerFormat)return P.RED_INTEGER;if(L===RGFormat)return P.RG;if(L===RGIntegerFormat)return P.RG_INTEGER;if(L===RGBAIntegerFormat)return P.RGBA_INTEGER;if(L===RGB_S3TC_DXT1_Format||L===RGBA_S3TC_DXT1_Format||L===RGBA_S3TC_DXT3_Format||L===RGBA_S3TC_DXT5_Format)if(te===SRGBTransfer)if(W=T.get("WEBGL_compressed_texture_s3tc_srgb"),W!==null){if(L===RGB_S3TC_DXT1_Format)return W.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(L===RGBA_S3TC_DXT1_Format)return W.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(L===RGBA_S3TC_DXT3_Format)return W.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(L===RGBA_S3TC_DXT5_Format)return W.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(W=T.get("WEBGL_compressed_texture_s3tc"),W!==null){if(L===RGB_S3TC_DXT1_Format)return W.COMPRESSED_RGB_S3TC_DXT1_EXT;if(L===RGBA_S3TC_DXT1_Format)return W.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(L===RGBA_S3TC_DXT3_Format)return W.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(L===RGBA_S3TC_DXT5_Format)return W.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(L===RGB_PVRTC_4BPPV1_Format||L===RGB_PVRTC_2BPPV1_Format||L===RGBA_PVRTC_4BPPV1_Format||L===RGBA_PVRTC_2BPPV1_Format)if(W=T.get("WEBGL_compressed_texture_pvrtc"),W!==null){if(L===RGB_PVRTC_4BPPV1_Format)return W.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(L===RGB_PVRTC_2BPPV1_Format)return W.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(L===RGBA_PVRTC_4BPPV1_Format)return W.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(L===RGBA_PVRTC_2BPPV1_Format)return W.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(L===RGB_ETC1_Format||L===RGB_ETC2_Format||L===RGBA_ETC2_EAC_Format)if(W=T.get("WEBGL_compressed_texture_etc"),W!==null){if(L===RGB_ETC1_Format||L===RGB_ETC2_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ETC2:W.COMPRESSED_RGB8_ETC2;if(L===RGBA_ETC2_EAC_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:W.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(L===RGBA_ASTC_4x4_Format||L===RGBA_ASTC_5x4_Format||L===RGBA_ASTC_5x5_Format||L===RGBA_ASTC_6x5_Format||L===RGBA_ASTC_6x6_Format||L===RGBA_ASTC_8x5_Format||L===RGBA_ASTC_8x6_Format||L===RGBA_ASTC_8x8_Format||L===RGBA_ASTC_10x5_Format||L===RGBA_ASTC_10x6_Format||L===RGBA_ASTC_10x8_Format||L===RGBA_ASTC_10x10_Format||L===RGBA_ASTC_12x10_Format||L===RGBA_ASTC_12x12_Format)if(W=T.get("WEBGL_compressed_texture_astc"),W!==null){if(L===RGBA_ASTC_4x4_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:W.COMPRESSED_RGBA_ASTC_4x4_KHR;if(L===RGBA_ASTC_5x4_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:W.COMPRESSED_RGBA_ASTC_5x4_KHR;if(L===RGBA_ASTC_5x5_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:W.COMPRESSED_RGBA_ASTC_5x5_KHR;if(L===RGBA_ASTC_6x5_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:W.COMPRESSED_RGBA_ASTC_6x5_KHR;if(L===RGBA_ASTC_6x6_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:W.COMPRESSED_RGBA_ASTC_6x6_KHR;if(L===RGBA_ASTC_8x5_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:W.COMPRESSED_RGBA_ASTC_8x5_KHR;if(L===RGBA_ASTC_8x6_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:W.COMPRESSED_RGBA_ASTC_8x6_KHR;if(L===RGBA_ASTC_8x8_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:W.COMPRESSED_RGBA_ASTC_8x8_KHR;if(L===RGBA_ASTC_10x5_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:W.COMPRESSED_RGBA_ASTC_10x5_KHR;if(L===RGBA_ASTC_10x6_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:W.COMPRESSED_RGBA_ASTC_10x6_KHR;if(L===RGBA_ASTC_10x8_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:W.COMPRESSED_RGBA_ASTC_10x8_KHR;if(L===RGBA_ASTC_10x10_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:W.COMPRESSED_RGBA_ASTC_10x10_KHR;if(L===RGBA_ASTC_12x10_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:W.COMPRESSED_RGBA_ASTC_12x10_KHR;if(L===RGBA_ASTC_12x12_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:W.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(L===RGBA_BPTC_Format||L===RGB_BPTC_SIGNED_Format||L===RGB_BPTC_UNSIGNED_Format)if(W=T.get("EXT_texture_compression_bptc"),W!==null){if(L===RGBA_BPTC_Format)return te===SRGBTransfer?W.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:W.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(L===RGB_BPTC_SIGNED_Format)return W.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(L===RGB_BPTC_UNSIGNED_Format)return W.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(L===RED_RGTC1_Format||L===SIGNED_RED_RGTC1_Format||L===RED_GREEN_RGTC2_Format||L===SIGNED_RED_GREEN_RGTC2_Format)if(W=T.get("EXT_texture_compression_rgtc"),W!==null){if(L===RGBA_BPTC_Format)return W.COMPRESSED_RED_RGTC1_EXT;if(L===SIGNED_RED_RGTC1_Format)return W.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(L===RED_GREEN_RGTC2_Format)return W.COMPRESSED_RED_GREEN_RGTC2_EXT;if(L===SIGNED_RED_GREEN_RGTC2_Format)return W.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return L===UnsignedInt248Type?P.UNSIGNED_INT_24_8:P[L]!==void 0?P[L]:null}return{convert:A}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(T){return this._targetRay!==null&&this._targetRay.dispatchEvent(T),this._grip!==null&&this._grip.dispatchEvent(T),this._hand!==null&&this._hand.dispatchEvent(T),this}connect(T){if(T&&T.hand){const A=this._hand;if(A)for(const L of T.hand.values())this._getHandJoint(A,L)}return this.dispatchEvent({type:"connected",data:T}),this}disconnect(T){return this.dispatchEvent({type:"disconnected",data:T}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(T,A,L){let U=null,W=null,te=null;const ne=this._targetRay,ie=this._grip,oe=this._hand;if(T&&A.session.visibilityState!=="visible-blurred"){if(oe&&T.hand){te=!0;for(const ge of T.hand.values()){const de=A.getJointPose(ge,L),me=this._getHandJoint(oe,ge);de!==null&&(me.matrix.fromArray(de.transform.matrix),me.matrix.decompose(me.position,me.rotation,me.scale),me.matrixWorldNeedsUpdate=!0,me.jointRadius=de.radius),me.visible=de!==null}const ae=oe.joints["index-finger-tip"],ce=oe.joints["thumb-tip"],he=ae.position.distanceTo(ce.position),ue=.02,pe=.005;oe.inputState.pinching&&he>ue+pe?(oe.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:T.handedness,target:this})):!oe.inputState.pinching&&he<=ue-pe&&(oe.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:T.handedness,target:this}))}else ie!==null&&T.gripSpace&&(W=A.getPose(T.gripSpace,L),W!==null&&(ie.matrix.fromArray(W.transform.matrix),ie.matrix.decompose(ie.position,ie.rotation,ie.scale),ie.matrixWorldNeedsUpdate=!0,W.linearVelocity?(ie.hasLinearVelocity=!0,ie.linearVelocity.copy(W.linearVelocity)):ie.hasLinearVelocity=!1,W.angularVelocity?(ie.hasAngularVelocity=!0,ie.angularVelocity.copy(W.angularVelocity)):ie.hasAngularVelocity=!1));ne!==null&&(U=A.getPose(T.targetRaySpace,L),U===null&&W!==null&&(U=W),U!==null&&(ne.matrix.fromArray(U.transform.matrix),ne.matrix.decompose(ne.position,ne.rotation,ne.scale),ne.matrixWorldNeedsUpdate=!0,U.linearVelocity?(ne.hasLinearVelocity=!0,ne.linearVelocity.copy(U.linearVelocity)):ne.hasLinearVelocity=!1,U.angularVelocity?(ne.hasAngularVelocity=!0,ne.angularVelocity.copy(U.angularVelocity)):ne.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return ne!==null&&(ne.visible=U!==null),ie!==null&&(ie.visible=W!==null),oe!==null&&(oe.visible=te!==null),this}_getHandJoint(T,A){if(T.joints[A.jointName]===void 0){const L=new Group;L.matrixAutoUpdate=!1,L.visible=!1,T.joints[A.jointName]=L,T.add(L)}return T.joints[A.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(T,A,L){if(this.texture===null){const U=new Texture,W=T.properties.get(U);W.__webglTexture=A.texture,(A.depthNear!==L.depthNear||A.depthFar!==L.depthFar)&&(this.depthNear=A.depthNear,this.depthFar=A.depthFar),this.texture=U}}getMesh(T){if(this.texture!==null&&this.mesh===null){const A=T.cameras[0].viewport,L=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:A.z},depthHeight:{value:A.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),L)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher{constructor(T,A){super();const L=this;let U=null,W=1,te=null,ne="local-floor",ie=1,oe=null,ae=null,ce=null,he=null,ue=null,pe=null;const ge=new WebXRDepthSensing,de=A.getContextAttributes();let me=null,ye=null;const xe=[],Se=[],Te=new Vector2;let be=null;const Pe=new PerspectiveCamera;Pe.viewport=new Vector4;const Ie=new PerspectiveCamera;Ie.viewport=new Vector4;const De=[Pe,Ie],we=new ArrayCamera;let Fe=null,Ge=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Qe){let Pt=xe[Qe];return Pt===void 0&&(Pt=new WebXRController,xe[Qe]=Pt),Pt.getTargetRaySpace()},this.getControllerGrip=function(Qe){let Pt=xe[Qe];return Pt===void 0&&(Pt=new WebXRController,xe[Qe]=Pt),Pt.getGripSpace()},this.getHand=function(Qe){let Pt=xe[Qe];return Pt===void 0&&(Pt=new WebXRController,xe[Qe]=Pt),Pt.getHandSpace()};function He(Qe){const Pt=Se.indexOf(Qe.inputSource);if(Pt===-1)return;const zt=xe[Pt];zt!==void 0&&(zt.update(Qe.inputSource,Qe.frame,oe||te),zt.dispatchEvent({type:Qe.type,data:Qe.inputSource}))}function je(){U.removeEventListener("select",He),U.removeEventListener("selectstart",He),U.removeEventListener("selectend",He),U.removeEventListener("squeeze",He),U.removeEventListener("squeezestart",He),U.removeEventListener("squeezeend",He),U.removeEventListener("end",je),U.removeEventListener("inputsourceschange",qe);for(let Qe=0;Qe<xe.length;Qe++){const Pt=Se[Qe];Pt!==null&&(Se[Qe]=null,xe[Qe].disconnect(Pt))}Fe=null,Ge=null,ge.reset(),T.setRenderTarget(me),ue=null,he=null,ce=null,U=null,ye=null,Wt.stop(),L.isPresenting=!1,T.setPixelRatio(be),T.setSize(Te.width,Te.height,!1),L.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Qe){W=Qe,L.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Qe){ne=Qe,L.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return oe||te},this.setReferenceSpace=function(Qe){oe=Qe},this.getBaseLayer=function(){return he!==null?he:ue},this.getBinding=function(){return ce},this.getFrame=function(){return pe},this.getSession=function(){return U},this.setSession=async function(Qe){if(U=Qe,U!==null){if(me=T.getRenderTarget(),U.addEventListener("select",He),U.addEventListener("selectstart",He),U.addEventListener("selectend",He),U.addEventListener("squeeze",He),U.addEventListener("squeezestart",He),U.addEventListener("squeezeend",He),U.addEventListener("end",je),U.addEventListener("inputsourceschange",qe),de.xrCompatible!==!0&&await A.makeXRCompatible(),be=T.getPixelRatio(),T.getSize(Te),U.enabledFeatures!==void 0&&U.enabledFeatures.includes("layers")){let zt=null,It=null,Yt=null;de.depth&&(Yt=de.stencil?A.DEPTH24_STENCIL8:A.DEPTH_COMPONENT24,zt=de.stencil?DepthStencilFormat:DepthFormat,It=de.stencil?UnsignedInt248Type:UnsignedIntType);const ln={colorFormat:A.RGBA8,depthFormat:Yt,scaleFactor:W};ce=new XRWebGLBinding(U,A),he=ce.createProjectionLayer(ln),U.updateRenderState({layers:[he]}),T.setPixelRatio(1),T.setSize(he.textureWidth,he.textureHeight,!1),ye=new WebGLRenderTarget(he.textureWidth,he.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(he.textureWidth,he.textureHeight,It,void 0,void 0,void 0,void 0,void 0,void 0,zt),stencilBuffer:de.stencil,colorSpace:T.outputColorSpace,samples:de.antialias?4:0,resolveDepthBuffer:he.ignoreDepthValues===!1})}else{const zt={antialias:de.antialias,alpha:!0,depth:de.depth,stencil:de.stencil,framebufferScaleFactor:W};ue=new XRWebGLLayer(U,A,zt),U.updateRenderState({baseLayer:ue}),T.setPixelRatio(1),T.setSize(ue.framebufferWidth,ue.framebufferHeight,!1),ye=new WebGLRenderTarget(ue.framebufferWidth,ue.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:T.outputColorSpace,stencilBuffer:de.stencil})}ye.isXRRenderTarget=!0,this.setFoveation(ie),oe=null,te=await U.requestReferenceSpace(ne),Wt.setContext(U),Wt.start(),L.isPresenting=!0,L.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(U!==null)return U.environmentBlendMode},this.getDepthTexture=function(){return ge.getDepthTexture()};function qe(Qe){for(let Pt=0;Pt<Qe.removed.length;Pt++){const zt=Qe.removed[Pt],It=Se.indexOf(zt);It>=0&&(Se[It]=null,xe[It].disconnect(zt))}for(let Pt=0;Pt<Qe.added.length;Pt++){const zt=Qe.added[Pt];let It=Se.indexOf(zt);if(It===-1){for(let ln=0;ln<xe.length;ln++)if(ln>=Se.length){Se.push(zt),It=ln;break}else if(Se[ln]===null){Se[ln]=zt,It=ln;break}if(It===-1)break}const Yt=xe[It];Yt&&Yt.connect(zt)}}const Ye=new Vector3,Ct=new Vector3;function Re(Qe,Pt,zt){Ye.setFromMatrixPosition(Pt.matrixWorld),Ct.setFromMatrixPosition(zt.matrixWorld);const It=Ye.distanceTo(Ct),Yt=Pt.projectionMatrix.elements,ln=zt.projectionMatrix.elements,pn=Yt[14]/(Yt[10]-1),In=Yt[14]/(Yt[10]+1),$t=(Yt[9]+1)/Yt[5],jt=(Yt[9]-1)/Yt[5],Ve=(Yt[8]-1)/Yt[0],Cn=(ln[8]+1)/ln[0],Zt=pn*Ve,fn=pn*Cn,Jt=It/(-Ve+Cn),Rn=Jt*-Ve;if(Pt.matrixWorld.decompose(Qe.position,Qe.quaternion,Qe.scale),Qe.translateX(Rn),Qe.translateZ(Jt),Qe.matrixWorld.compose(Qe.position,Qe.quaternion,Qe.scale),Qe.matrixWorldInverse.copy(Qe.matrixWorld).invert(),Yt[10]===-1)Qe.projectionMatrix.copy(Pt.projectionMatrix),Qe.projectionMatrixInverse.copy(Pt.projectionMatrixInverse);else{const tn=pn+Jt,We=In+Jt,Be=Zt-Rn,Mt=fn+(It-Rn),Ut=$t*In/We*tn,Xt=jt*In/We*tn;Qe.projectionMatrix.makePerspective(Be,Mt,Ut,Xt,tn,We),Qe.projectionMatrixInverse.copy(Qe.projectionMatrix).invert()}}function Oe(Qe,Pt){Pt===null?Qe.matrixWorld.copy(Qe.matrix):Qe.matrixWorld.multiplyMatrices(Pt.matrixWorld,Qe.matrix),Qe.matrixWorldInverse.copy(Qe.matrixWorld).invert()}this.updateCamera=function(Qe){if(U===null)return;let Pt=Qe.near,zt=Qe.far;ge.texture!==null&&(ge.depthNear>0&&(Pt=ge.depthNear),ge.depthFar>0&&(zt=ge.depthFar)),we.near=Ie.near=Pe.near=Pt,we.far=Ie.far=Pe.far=zt,(Fe!==we.near||Ge!==we.far)&&(U.updateRenderState({depthNear:we.near,depthFar:we.far}),Fe=we.near,Ge=we.far),Pe.layers.mask=Qe.layers.mask|2,Ie.layers.mask=Qe.layers.mask|4,we.layers.mask=Pe.layers.mask|Ie.layers.mask;const It=Qe.parent,Yt=we.cameras;Oe(we,It);for(let ln=0;ln<Yt.length;ln++)Oe(Yt[ln],It);Yt.length===2?Re(we,Pe,Ie):we.projectionMatrix.copy(Pe.projectionMatrix),ze(Qe,we,It)};function ze(Qe,Pt,zt){zt===null?Qe.matrix.copy(Pt.matrixWorld):(Qe.matrix.copy(zt.matrixWorld),Qe.matrix.invert(),Qe.matrix.multiply(Pt.matrixWorld)),Qe.matrix.decompose(Qe.position,Qe.quaternion,Qe.scale),Qe.updateMatrixWorld(!0),Qe.projectionMatrix.copy(Pt.projectionMatrix),Qe.projectionMatrixInverse.copy(Pt.projectionMatrixInverse),Qe.isPerspectiveCamera&&(Qe.fov=RAD2DEG*2*Math.atan(1/Qe.projectionMatrix.elements[5]),Qe.zoom=1)}this.getCamera=function(){return we},this.getFoveation=function(){if(!(he===null&&ue===null))return ie},this.setFoveation=function(Qe){ie=Qe,he!==null&&(he.fixedFoveation=Qe),ue!==null&&ue.fixedFoveation!==void 0&&(ue.fixedFoveation=Qe)},this.hasDepthSensing=function(){return ge.texture!==null},this.getDepthSensingMesh=function(){return ge.getMesh(we)};let Ne=null;function Ze(Qe,Pt){if(ae=Pt.getViewerPose(oe||te),pe=Pt,ae!==null){const zt=ae.views;ue!==null&&(T.setRenderTargetFramebuffer(ye,ue.framebuffer),T.setRenderTarget(ye));let It=!1;zt.length!==we.cameras.length&&(we.cameras.length=0,It=!0);for(let ln=0;ln<zt.length;ln++){const pn=zt[ln];let In=null;if(ue!==null)In=ue.getViewport(pn);else{const jt=ce.getViewSubImage(he,pn);In=jt.viewport,ln===0&&(T.setRenderTargetTextures(ye,jt.colorTexture,he.ignoreDepthValues?void 0:jt.depthStencilTexture),T.setRenderTarget(ye))}let $t=De[ln];$t===void 0&&($t=new PerspectiveCamera,$t.layers.enable(ln),$t.viewport=new Vector4,De[ln]=$t),$t.matrix.fromArray(pn.transform.matrix),$t.matrix.decompose($t.position,$t.quaternion,$t.scale),$t.projectionMatrix.fromArray(pn.projectionMatrix),$t.projectionMatrixInverse.copy($t.projectionMatrix).invert(),$t.viewport.set(In.x,In.y,In.width,In.height),ln===0&&(we.matrix.copy($t.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale)),It===!0&&we.cameras.push($t)}const Yt=U.enabledFeatures;if(Yt&&Yt.includes("depth-sensing")){const ln=ce.getDepthInformation(zt[0]);ln&&ln.isValid&&ln.texture&&ge.init(T,ln,U.renderState)}}for(let zt=0;zt<xe.length;zt++){const It=Se[zt],Yt=xe[zt];It!==null&&Yt!==void 0&&Yt.update(It,Pt,oe||te)}Ne&&Ne(Qe,Pt),Pt.detectedPlanes&&L.dispatchEvent({type:"planesdetected",data:Pt}),pe=null}const Wt=new WebGLAnimation;Wt.setAnimationLoop(Ze),this.setAnimationLoop=function(Qe){Ne=Qe},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(P,T){function A(de,me){de.matrixAutoUpdate===!0&&de.updateMatrix(),me.value.copy(de.matrix)}function L(de,me){me.color.getRGB(de.fogColor.value,getUnlitUniformColorSpace(P)),me.isFog?(de.fogNear.value=me.near,de.fogFar.value=me.far):me.isFogExp2&&(de.fogDensity.value=me.density)}function U(de,me,ye,xe,Se){me.isMeshBasicMaterial||me.isMeshLambertMaterial?W(de,me):me.isMeshToonMaterial?(W(de,me),ce(de,me)):me.isMeshPhongMaterial?(W(de,me),ae(de,me)):me.isMeshStandardMaterial?(W(de,me),he(de,me),me.isMeshPhysicalMaterial&&ue(de,me,Se)):me.isMeshMatcapMaterial?(W(de,me),pe(de,me)):me.isMeshDepthMaterial?W(de,me):me.isMeshDistanceMaterial?(W(de,me),ge(de,me)):me.isMeshNormalMaterial?W(de,me):me.isLineBasicMaterial?(te(de,me),me.isLineDashedMaterial&&ne(de,me)):me.isPointsMaterial?ie(de,me,ye,xe):me.isSpriteMaterial?oe(de,me):me.isShadowMaterial?(de.color.value.copy(me.color),de.opacity.value=me.opacity):me.isShaderMaterial&&(me.uniformsNeedUpdate=!1)}function W(de,me){de.opacity.value=me.opacity,me.color&&de.diffuse.value.copy(me.color),me.emissive&&de.emissive.value.copy(me.emissive).multiplyScalar(me.emissiveIntensity),me.map&&(de.map.value=me.map,A(me.map,de.mapTransform)),me.alphaMap&&(de.alphaMap.value=me.alphaMap,A(me.alphaMap,de.alphaMapTransform)),me.bumpMap&&(de.bumpMap.value=me.bumpMap,A(me.bumpMap,de.bumpMapTransform),de.bumpScale.value=me.bumpScale,me.side===BackSide&&(de.bumpScale.value*=-1)),me.normalMap&&(de.normalMap.value=me.normalMap,A(me.normalMap,de.normalMapTransform),de.normalScale.value.copy(me.normalScale),me.side===BackSide&&de.normalScale.value.negate()),me.displacementMap&&(de.displacementMap.value=me.displacementMap,A(me.displacementMap,de.displacementMapTransform),de.displacementScale.value=me.displacementScale,de.displacementBias.value=me.displacementBias),me.emissiveMap&&(de.emissiveMap.value=me.emissiveMap,A(me.emissiveMap,de.emissiveMapTransform)),me.specularMap&&(de.specularMap.value=me.specularMap,A(me.specularMap,de.specularMapTransform)),me.alphaTest>0&&(de.alphaTest.value=me.alphaTest);const ye=T.get(me),xe=ye.envMap,Se=ye.envMapRotation;xe&&(de.envMap.value=xe,_e1.copy(Se),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,xe.isCubeTexture&&xe.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),de.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),de.flipEnvMap.value=xe.isCubeTexture&&xe.isRenderTargetTexture===!1?-1:1,de.reflectivity.value=me.reflectivity,de.ior.value=me.ior,de.refractionRatio.value=me.refractionRatio),me.lightMap&&(de.lightMap.value=me.lightMap,de.lightMapIntensity.value=me.lightMapIntensity,A(me.lightMap,de.lightMapTransform)),me.aoMap&&(de.aoMap.value=me.aoMap,de.aoMapIntensity.value=me.aoMapIntensity,A(me.aoMap,de.aoMapTransform))}function te(de,me){de.diffuse.value.copy(me.color),de.opacity.value=me.opacity,me.map&&(de.map.value=me.map,A(me.map,de.mapTransform))}function ne(de,me){de.dashSize.value=me.dashSize,de.totalSize.value=me.dashSize+me.gapSize,de.scale.value=me.scale}function ie(de,me,ye,xe){de.diffuse.value.copy(me.color),de.opacity.value=me.opacity,de.size.value=me.size*ye,de.scale.value=xe*.5,me.map&&(de.map.value=me.map,A(me.map,de.uvTransform)),me.alphaMap&&(de.alphaMap.value=me.alphaMap,A(me.alphaMap,de.alphaMapTransform)),me.alphaTest>0&&(de.alphaTest.value=me.alphaTest)}function oe(de,me){de.diffuse.value.copy(me.color),de.opacity.value=me.opacity,de.rotation.value=me.rotation,me.map&&(de.map.value=me.map,A(me.map,de.mapTransform)),me.alphaMap&&(de.alphaMap.value=me.alphaMap,A(me.alphaMap,de.alphaMapTransform)),me.alphaTest>0&&(de.alphaTest.value=me.alphaTest)}function ae(de,me){de.specular.value.copy(me.specular),de.shininess.value=Math.max(me.shininess,1e-4)}function ce(de,me){me.gradientMap&&(de.gradientMap.value=me.gradientMap)}function he(de,me){de.metalness.value=me.metalness,me.metalnessMap&&(de.metalnessMap.value=me.metalnessMap,A(me.metalnessMap,de.metalnessMapTransform)),de.roughness.value=me.roughness,me.roughnessMap&&(de.roughnessMap.value=me.roughnessMap,A(me.roughnessMap,de.roughnessMapTransform)),me.envMap&&(de.envMapIntensity.value=me.envMapIntensity)}function ue(de,me,ye){de.ior.value=me.ior,me.sheen>0&&(de.sheenColor.value.copy(me.sheenColor).multiplyScalar(me.sheen),de.sheenRoughness.value=me.sheenRoughness,me.sheenColorMap&&(de.sheenColorMap.value=me.sheenColorMap,A(me.sheenColorMap,de.sheenColorMapTransform)),me.sheenRoughnessMap&&(de.sheenRoughnessMap.value=me.sheenRoughnessMap,A(me.sheenRoughnessMap,de.sheenRoughnessMapTransform))),me.clearcoat>0&&(de.clearcoat.value=me.clearcoat,de.clearcoatRoughness.value=me.clearcoatRoughness,me.clearcoatMap&&(de.clearcoatMap.value=me.clearcoatMap,A(me.clearcoatMap,de.clearcoatMapTransform)),me.clearcoatRoughnessMap&&(de.clearcoatRoughnessMap.value=me.clearcoatRoughnessMap,A(me.clearcoatRoughnessMap,de.clearcoatRoughnessMapTransform)),me.clearcoatNormalMap&&(de.clearcoatNormalMap.value=me.clearcoatNormalMap,A(me.clearcoatNormalMap,de.clearcoatNormalMapTransform),de.clearcoatNormalScale.value.copy(me.clearcoatNormalScale),me.side===BackSide&&de.clearcoatNormalScale.value.negate())),me.dispersion>0&&(de.dispersion.value=me.dispersion),me.iridescence>0&&(de.iridescence.value=me.iridescence,de.iridescenceIOR.value=me.iridescenceIOR,de.iridescenceThicknessMinimum.value=me.iridescenceThicknessRange[0],de.iridescenceThicknessMaximum.value=me.iridescenceThicknessRange[1],me.iridescenceMap&&(de.iridescenceMap.value=me.iridescenceMap,A(me.iridescenceMap,de.iridescenceMapTransform)),me.iridescenceThicknessMap&&(de.iridescenceThicknessMap.value=me.iridescenceThicknessMap,A(me.iridescenceThicknessMap,de.iridescenceThicknessMapTransform))),me.transmission>0&&(de.transmission.value=me.transmission,de.transmissionSamplerMap.value=ye.texture,de.transmissionSamplerSize.value.set(ye.width,ye.height),me.transmissionMap&&(de.transmissionMap.value=me.transmissionMap,A(me.transmissionMap,de.transmissionMapTransform)),de.thickness.value=me.thickness,me.thicknessMap&&(de.thicknessMap.value=me.thicknessMap,A(me.thicknessMap,de.thicknessMapTransform)),de.attenuationDistance.value=me.attenuationDistance,de.attenuationColor.value.copy(me.attenuationColor)),me.anisotropy>0&&(de.anisotropyVector.value.set(me.anisotropy*Math.cos(me.anisotropyRotation),me.anisotropy*Math.sin(me.anisotropyRotation)),me.anisotropyMap&&(de.anisotropyMap.value=me.anisotropyMap,A(me.anisotropyMap,de.anisotropyMapTransform))),de.specularIntensity.value=me.specularIntensity,de.specularColor.value.copy(me.specularColor),me.specularColorMap&&(de.specularColorMap.value=me.specularColorMap,A(me.specularColorMap,de.specularColorMapTransform)),me.specularIntensityMap&&(de.specularIntensityMap.value=me.specularIntensityMap,A(me.specularIntensityMap,de.specularIntensityMapTransform))}function pe(de,me){me.matcap&&(de.matcap.value=me.matcap)}function ge(de,me){const ye=T.get(me).light;de.referencePosition.value.setFromMatrixPosition(ye.matrixWorld),de.nearDistance.value=ye.shadow.camera.near,de.farDistance.value=ye.shadow.camera.far}return{refreshFogUniforms:L,refreshMaterialUniforms:U}}function WebGLUniformsGroups(P,T,A,L){let U={},W={},te=[];const ne=P.getParameter(P.MAX_UNIFORM_BUFFER_BINDINGS);function ie(ye,xe){const Se=xe.program;L.uniformBlockBinding(ye,Se)}function oe(ye,xe){let Se=U[ye.id];Se===void 0&&(pe(ye),Se=ae(ye),U[ye.id]=Se,ye.addEventListener("dispose",de));const Te=xe.program;L.updateUBOMapping(ye,Te);const be=T.render.frame;W[ye.id]!==be&&(he(ye),W[ye.id]=be)}function ae(ye){const xe=ce();ye.__bindingPointIndex=xe;const Se=P.createBuffer(),Te=ye.__size,be=ye.usage;return P.bindBuffer(P.UNIFORM_BUFFER,Se),P.bufferData(P.UNIFORM_BUFFER,Te,be),P.bindBuffer(P.UNIFORM_BUFFER,null),P.bindBufferBase(P.UNIFORM_BUFFER,xe,Se),Se}function ce(){for(let ye=0;ye<ne;ye++)if(te.indexOf(ye)===-1)return te.push(ye),ye;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function he(ye){const xe=U[ye.id],Se=ye.uniforms,Te=ye.__cache;P.bindBuffer(P.UNIFORM_BUFFER,xe);for(let be=0,Pe=Se.length;be<Pe;be++){const Ie=Array.isArray(Se[be])?Se[be]:[Se[be]];for(let De=0,we=Ie.length;De<we;De++){const Fe=Ie[De];if(ue(Fe,be,De,Te)===!0){const Ge=Fe.__offset,He=Array.isArray(Fe.value)?Fe.value:[Fe.value];let je=0;for(let qe=0;qe<He.length;qe++){const Ye=He[qe],Ct=ge(Ye);typeof Ye=="number"||typeof Ye=="boolean"?(Fe.__data[0]=Ye,P.bufferSubData(P.UNIFORM_BUFFER,Ge+je,Fe.__data)):Ye.isMatrix3?(Fe.__data[0]=Ye.elements[0],Fe.__data[1]=Ye.elements[1],Fe.__data[2]=Ye.elements[2],Fe.__data[3]=0,Fe.__data[4]=Ye.elements[3],Fe.__data[5]=Ye.elements[4],Fe.__data[6]=Ye.elements[5],Fe.__data[7]=0,Fe.__data[8]=Ye.elements[6],Fe.__data[9]=Ye.elements[7],Fe.__data[10]=Ye.elements[8],Fe.__data[11]=0):(Ye.toArray(Fe.__data,je),je+=Ct.storage/Float32Array.BYTES_PER_ELEMENT)}P.bufferSubData(P.UNIFORM_BUFFER,Ge,Fe.__data)}}}P.bindBuffer(P.UNIFORM_BUFFER,null)}function ue(ye,xe,Se,Te){const be=ye.value,Pe=xe+"_"+Se;if(Te[Pe]===void 0)return typeof be=="number"||typeof be=="boolean"?Te[Pe]=be:Te[Pe]=be.clone(),!0;{const Ie=Te[Pe];if(typeof be=="number"||typeof be=="boolean"){if(Ie!==be)return Te[Pe]=be,!0}else if(Ie.equals(be)===!1)return Ie.copy(be),!0}return!1}function pe(ye){const xe=ye.uniforms;let Se=0;const Te=16;for(let Pe=0,Ie=xe.length;Pe<Ie;Pe++){const De=Array.isArray(xe[Pe])?xe[Pe]:[xe[Pe]];for(let we=0,Fe=De.length;we<Fe;we++){const Ge=De[we],He=Array.isArray(Ge.value)?Ge.value:[Ge.value];for(let je=0,qe=He.length;je<qe;je++){const Ye=He[je],Ct=ge(Ye),Re=Se%Te,Oe=Re%Ct.boundary,ze=Re+Oe;Se+=Oe,ze!==0&&Te-ze<Ct.storage&&(Se+=Te-ze),Ge.__data=new Float32Array(Ct.storage/Float32Array.BYTES_PER_ELEMENT),Ge.__offset=Se,Se+=Ct.storage}}}const be=Se%Te;return be>0&&(Se+=Te-be),ye.__size=Se,ye.__cache={},this}function ge(ye){const xe={boundary:0,storage:0};return typeof ye=="number"||typeof ye=="boolean"?(xe.boundary=4,xe.storage=4):ye.isVector2?(xe.boundary=8,xe.storage=8):ye.isVector3||ye.isColor?(xe.boundary=16,xe.storage=12):ye.isVector4?(xe.boundary=16,xe.storage=16):ye.isMatrix3?(xe.boundary=48,xe.storage=48):ye.isMatrix4?(xe.boundary=64,xe.storage=64):ye.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ye),xe}function de(ye){const xe=ye.target;xe.removeEventListener("dispose",de);const Se=te.indexOf(xe.__bindingPointIndex);te.splice(Se,1),P.deleteBuffer(U[xe.id]),delete U[xe.id],delete W[xe.id]}function me(){for(const ye in U)P.deleteBuffer(U[ye]);te=[],U={},W={}}return{bind:ie,update:oe,dispose:me}}class WebGLRenderer{constructor(T={}){const{canvas:A=createCanvasElement(),context:L=null,depth:U=!0,stencil:W=!1,alpha:te=!1,antialias:ne=!1,premultipliedAlpha:ie=!0,preserveDrawingBuffer:oe=!1,powerPreference:ae="default",failIfMajorPerformanceCaveat:ce=!1,reverseDepthBuffer:he=!1}=T;this.isWebGLRenderer=!0;let ue;if(L!==null){if(typeof WebGLRenderingContext<"u"&&L instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");ue=L.getContextAttributes().alpha}else ue=te;const pe=new Uint32Array(4),ge=new Int32Array(4);let de=null,me=null;const ye=[],xe=[];this.domElement=A,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Se=this;let Te=!1,be=0,Pe=0,Ie=null,De=-1,we=null;const Fe=new Vector4,Ge=new Vector4;let He=null;const je=new Color(0);let qe=0,Ye=A.width,Ct=A.height,Re=1,Oe=null,ze=null;const Ne=new Vector4(0,0,Ye,Ct),Ze=new Vector4(0,0,Ye,Ct);let Wt=!1;const Qe=new Frustum;let Pt=!1,zt=!1;this.transmissionResolutionScale=1;const It=new Matrix4,Yt=new Matrix4,ln=new Vector3,pn=new Vector4,In={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let $t=!1;function jt(){return Ie===null?Re:1}let Ve=L;function Cn(Ue,vt){return A.getContext(Ue,vt)}try{const Ue={alpha:!0,depth:U,stencil:W,antialias:ne,premultipliedAlpha:ie,preserveDrawingBuffer:oe,powerPreference:ae,failIfMajorPerformanceCaveat:ce};if("setAttribute"in A&&A.setAttribute("data-engine",`three.js r${REVISION}`),A.addEventListener("webglcontextlost",qt,!1),A.addEventListener("webglcontextrestored",_n,!1),A.addEventListener("webglcontextcreationerror",yn,!1),Ve===null){const vt="webgl2";if(Ve=Cn(vt,Ue),Ve===null)throw Cn(vt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ue){throw console.error("THREE.WebGLRenderer: "+Ue.message),Ue}let Zt,fn,Jt,Rn,tn,We,Be,Mt,Ut,Xt,Gt,En,un,gn,jn,nn,An,zn,$n,wn,sr,Xn,gr,dt;function mn(){Zt=new WebGLExtensions(Ve),Zt.init(),Xn=new WebGLUtils(Ve,Zt),fn=new WebGLCapabilities(Ve,Zt,T,Xn),Jt=new WebGLState(Ve,Zt),fn.reverseDepthBuffer&&he&&Jt.buffers.depth.setReversed(!0),Rn=new WebGLInfo(Ve),tn=new WebGLProperties,We=new WebGLTextures(Ve,Zt,Jt,tn,fn,Xn,Rn),Be=new WebGLCubeMaps(Se),Mt=new WebGLCubeUVMaps(Se),Ut=new WebGLAttributes(Ve),gr=new WebGLBindingStates(Ve,Ut),Xt=new WebGLGeometries(Ve,Ut,Rn,gr),Gt=new WebGLObjects(Ve,Xt,Ut,Rn),$n=new WebGLMorphtargets(Ve,fn,We),nn=new WebGLClipping(tn),En=new WebGLPrograms(Se,Be,Mt,Zt,fn,gr,nn),un=new WebGLMaterials(Se,tn),gn=new WebGLRenderLists,jn=new WebGLRenderStates(Zt),zn=new WebGLBackground(Se,Be,Mt,Jt,Gt,ue,ie),An=new WebGLShadowMap(Se,Gt,fn),dt=new WebGLUniformsGroups(Ve,Rn,fn,Jt),wn=new WebGLBufferRenderer(Ve,Zt,Rn),sr=new WebGLIndexedBufferRenderer(Ve,Zt,Rn),Rn.programs=En.programs,Se.capabilities=fn,Se.extensions=Zt,Se.properties=tn,Se.renderLists=gn,Se.shadowMap=An,Se.state=Jt,Se.info=Rn}mn();const Nt=new WebXRManager(Se,Ve);this.xr=Nt,this.getContext=function(){return Ve},this.getContextAttributes=function(){return Ve.getContextAttributes()},this.forceContextLoss=function(){const Ue=Zt.get("WEBGL_lose_context");Ue&&Ue.loseContext()},this.forceContextRestore=function(){const Ue=Zt.get("WEBGL_lose_context");Ue&&Ue.restoreContext()},this.getPixelRatio=function(){return Re},this.setPixelRatio=function(Ue){Ue!==void 0&&(Re=Ue,this.setSize(Ye,Ct,!1))},this.getSize=function(Ue){return Ue.set(Ye,Ct)},this.setSize=function(Ue,vt,Ft=!0){if(Nt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ye=Ue,Ct=vt,A.width=Math.floor(Ue*Re),A.height=Math.floor(vt*Re),Ft===!0&&(A.style.width=Ue+"px",A.style.height=vt+"px"),this.setViewport(0,0,Ue,vt)},this.getDrawingBufferSize=function(Ue){return Ue.set(Ye*Re,Ct*Re).floor()},this.setDrawingBufferSize=function(Ue,vt,Ft){Ye=Ue,Ct=vt,Re=Ft,A.width=Math.floor(Ue*Ft),A.height=Math.floor(vt*Ft),this.setViewport(0,0,Ue,vt)},this.getCurrentViewport=function(Ue){return Ue.copy(Fe)},this.getViewport=function(Ue){return Ue.copy(Ne)},this.setViewport=function(Ue,vt,Ft,bt){Ue.isVector4?Ne.set(Ue.x,Ue.y,Ue.z,Ue.w):Ne.set(Ue,vt,Ft,bt),Jt.viewport(Fe.copy(Ne).multiplyScalar(Re).round())},this.getScissor=function(Ue){return Ue.copy(Ze)},this.setScissor=function(Ue,vt,Ft,bt){Ue.isVector4?Ze.set(Ue.x,Ue.y,Ue.z,Ue.w):Ze.set(Ue,vt,Ft,bt),Jt.scissor(Ge.copy(Ze).multiplyScalar(Re).round())},this.getScissorTest=function(){return Wt},this.setScissorTest=function(Ue){Jt.setScissorTest(Wt=Ue)},this.setOpaqueSort=function(Ue){Oe=Ue},this.setTransparentSort=function(Ue){ze=Ue},this.getClearColor=function(Ue){return Ue.copy(zn.getClearColor())},this.setClearColor=function(){zn.setClearColor.apply(zn,arguments)},this.getClearAlpha=function(){return zn.getClearAlpha()},this.setClearAlpha=function(){zn.setClearAlpha.apply(zn,arguments)},this.clear=function(Ue=!0,vt=!0,Ft=!0){let bt=0;if(Ue){let xt=!1;if(Ie!==null){const en=Ie.texture.format;xt=en===RGBAIntegerFormat||en===RGIntegerFormat||en===RedIntegerFormat}if(xt){const en=Ie.texture.type,dn=en===UnsignedByteType||en===UnsignedIntType||en===UnsignedShortType||en===UnsignedInt248Type||en===UnsignedShort4444Type||en===UnsignedShort5551Type,Sn=zn.getClearColor(),Tn=zn.getClearAlpha(),Un=Sn.r,On=Sn.g,an=Sn.b;dn?(pe[0]=Un,pe[1]=On,pe[2]=an,pe[3]=Tn,Ve.clearBufferuiv(Ve.COLOR,0,pe)):(ge[0]=Un,ge[1]=On,ge[2]=an,ge[3]=Tn,Ve.clearBufferiv(Ve.COLOR,0,ge))}else bt|=Ve.COLOR_BUFFER_BIT}vt&&(bt|=Ve.DEPTH_BUFFER_BIT),Ft&&(bt|=Ve.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ve.clear(bt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){A.removeEventListener("webglcontextlost",qt,!1),A.removeEventListener("webglcontextrestored",_n,!1),A.removeEventListener("webglcontextcreationerror",yn,!1),zn.dispose(),gn.dispose(),jn.dispose(),tn.dispose(),Be.dispose(),Mt.dispose(),Gt.dispose(),gr.dispose(),dt.dispose(),En.dispose(),Nt.dispose(),Nt.removeEventListener("sessionstart",Wa),Nt.removeEventListener("sessionend",Ys),fs.stop()};function qt(Ue){Ue.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Te=!0}function _n(){console.log("THREE.WebGLRenderer: Context Restored."),Te=!1;const Ue=Rn.autoReset,vt=An.enabled,Ft=An.autoUpdate,bt=An.needsUpdate,xt=An.type;mn(),Rn.autoReset=Ue,An.enabled=vt,An.autoUpdate=Ft,An.needsUpdate=bt,An.type=xt}function yn(Ue){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ue.statusMessage)}function qn(Ue){const vt=Ue.target;vt.removeEventListener("dispose",qn),Cr(vt)}function Cr(Ue){Nr(Ue),tn.remove(Ue)}function Nr(Ue){const vt=tn.get(Ue).programs;vt!==void 0&&(vt.forEach(function(Ft){En.releaseProgram(Ft)}),Ue.isShaderMaterial&&En.releaseShaderCache(Ue))}this.renderBufferDirect=function(Ue,vt,Ft,bt,xt,en){vt===null&&(vt=In);const dn=xt.isMesh&&xt.matrixWorld.determinant()<0,Sn=ul(Ue,vt,Ft,bt,xt);Jt.setMaterial(bt,dn);let Tn=Ft.index,Un=1;if(bt.wireframe===!0){if(Tn=Xt.getWireframeAttribute(Ft),Tn===void 0)return;Un=2}const On=Ft.drawRange,an=Ft.attributes.position;let Fn=On.start*Un,Wn=(On.start+On.count)*Un;en!==null&&(Fn=Math.max(Fn,en.start*Un),Wn=Math.min(Wn,(en.start+en.count)*Un)),Tn!==null?(Fn=Math.max(Fn,0),Wn=Math.min(Wn,Tn.count)):an!=null&&(Fn=Math.max(Fn,0),Wn=Math.min(Wn,an.count));const ar=Wn-Fn;if(ar<0||ar===1/0)return;gr.setup(xt,bt,Sn,Ft,Tn);let or,er=wn;if(Tn!==null&&(or=Ut.get(Tn),er=sr,er.setIndex(or)),xt.isMesh)bt.wireframe===!0?(Jt.setLineWidth(bt.wireframeLinewidth*jt()),er.setMode(Ve.LINES)):er.setMode(Ve.TRIANGLES);else if(xt.isLine){let Ln=bt.linewidth;Ln===void 0&&(Ln=1),Jt.setLineWidth(Ln*jt()),xt.isLineSegments?er.setMode(Ve.LINES):xt.isLineLoop?er.setMode(Ve.LINE_LOOP):er.setMode(Ve.LINE_STRIP)}else xt.isPoints?er.setMode(Ve.POINTS):xt.isSprite&&er.setMode(Ve.TRIANGLES);if(xt.isBatchedMesh)if(xt._multiDrawInstances!==null)er.renderMultiDrawInstances(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount,xt._multiDrawInstances);else if(Zt.get("WEBGL_multi_draw"))er.renderMultiDraw(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount);else{const Ln=xt._multiDrawStarts,ur=xt._multiDrawCounts,nr=xt._multiDrawCount,Qr=Tn?Ut.get(Tn).bytesPerElement:1,Ts=tn.get(bt).currentProgram.getUniforms();for(let Wr=0;Wr<nr;Wr++)Ts.setValue(Ve,"_gl_DrawID",Wr),er.render(Ln[Wr]/Qr,ur[Wr])}else if(xt.isInstancedMesh)er.renderInstances(Fn,ar,xt.count);else if(Ft.isInstancedBufferGeometry){const Ln=Ft._maxInstanceCount!==void 0?Ft._maxInstanceCount:1/0,ur=Math.min(Ft.instanceCount,Ln);er.renderInstances(Fn,ar,ur)}else er.render(Fn,ar)};function hr(Ue,vt,Ft){Ue.transparent===!0&&Ue.side===DoubleSide&&Ue.forceSinglePass===!1?(Ue.side=BackSide,Ue.needsUpdate=!0,$a(Ue,vt,Ft),Ue.side=FrontSide,Ue.needsUpdate=!0,$a(Ue,vt,Ft),Ue.side=DoubleSide):$a(Ue,vt,Ft)}this.compile=function(Ue,vt,Ft=null){Ft===null&&(Ft=Ue),me=jn.get(Ft),me.init(vt),xe.push(me),Ft.traverseVisible(function(xt){xt.isLight&&xt.layers.test(vt.layers)&&(me.pushLight(xt),xt.castShadow&&me.pushShadow(xt))}),Ue!==Ft&&Ue.traverseVisible(function(xt){xt.isLight&&xt.layers.test(vt.layers)&&(me.pushLight(xt),xt.castShadow&&me.pushShadow(xt))}),me.setupLights();const bt=new Set;return Ue.traverse(function(xt){if(!(xt.isMesh||xt.isPoints||xt.isLine||xt.isSprite))return;const en=xt.material;if(en)if(Array.isArray(en))for(let dn=0;dn<en.length;dn++){const Sn=en[dn];hr(Sn,Ft,xt),bt.add(Sn)}else hr(en,Ft,xt),bt.add(en)}),xe.pop(),me=null,bt},this.compileAsync=function(Ue,vt,Ft=null){const bt=this.compile(Ue,vt,Ft);return new Promise(xt=>{function en(){if(bt.forEach(function(dn){tn.get(dn).currentProgram.isReady()&&bt.delete(dn)}),bt.size===0){xt(Ue);return}setTimeout(en,10)}Zt.get("KHR_parallel_shader_compile")!==null?en():setTimeout(en,10)})};let di=null;function pi(Ue){di&&di(Ue)}function Wa(){fs.stop()}function Ys(){fs.start()}const fs=new WebGLAnimation;fs.setAnimationLoop(pi),typeof self<"u"&&fs.setContext(self),this.setAnimationLoop=function(Ue){di=Ue,Nt.setAnimationLoop(Ue),Ue===null?fs.stop():fs.start()},Nt.addEventListener("sessionstart",Wa),Nt.addEventListener("sessionend",Ys),this.render=function(Ue,vt){if(vt!==void 0&&vt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Te===!0)return;if(Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),vt.parent===null&&vt.matrixWorldAutoUpdate===!0&&vt.updateMatrixWorld(),Nt.enabled===!0&&Nt.isPresenting===!0&&(Nt.cameraAutoUpdate===!0&&Nt.updateCamera(vt),vt=Nt.getCamera()),Ue.isScene===!0&&Ue.onBeforeRender(Se,Ue,vt,Ie),me=jn.get(Ue,xe.length),me.init(vt),xe.push(me),Yt.multiplyMatrices(vt.projectionMatrix,vt.matrixWorldInverse),Qe.setFromProjectionMatrix(Yt),zt=this.localClippingEnabled,Pt=nn.init(this.clippingPlanes,zt),de=gn.get(Ue,ye.length),de.init(),ye.push(de),Nt.enabled===!0&&Nt.isPresenting===!0){const en=Se.xr.getDepthSensingMesh();en!==null&&Ji(en,vt,-1/0,Se.sortObjects)}Ji(Ue,vt,0,Se.sortObjects),de.finish(),Se.sortObjects===!0&&de.sort(Oe,ze),$t=Nt.enabled===!1||Nt.isPresenting===!1||Nt.hasDepthSensing()===!1,$t&&zn.addToRenderList(de,Ue),this.info.render.frame++,Pt===!0&&nn.beginShadows();const Ft=me.state.shadowsArray;An.render(Ft,Ue,vt),Pt===!0&&nn.endShadows(),this.info.autoReset===!0&&this.info.reset();const bt=de.opaque,xt=de.transmissive;if(me.setupLights(),vt.isArrayCamera){const en=vt.cameras;if(xt.length>0)for(let dn=0,Sn=en.length;dn<Sn;dn++){const Tn=en[dn];es(bt,xt,Ue,Tn)}$t&&zn.render(Ue);for(let dn=0,Sn=en.length;dn<Sn;dn++){const Tn=en[dn];ua(de,Ue,Tn,Tn.viewport)}}else xt.length>0&&es(bt,xt,Ue,vt),$t&&zn.render(Ue),ua(de,Ue,vt);Ie!==null&&Pe===0&&(We.updateMultisampleRenderTarget(Ie),We.updateRenderTargetMipmap(Ie)),Ue.isScene===!0&&Ue.onAfterRender(Se,Ue,vt),gr.resetDefaultState(),De=-1,we=null,xe.pop(),xe.length>0?(me=xe[xe.length-1],Pt===!0&&nn.setGlobalState(Se.clippingPlanes,me.state.camera)):me=null,ye.pop(),ye.length>0?de=ye[ye.length-1]:de=null};function Ji(Ue,vt,Ft,bt){if(Ue.visible===!1)return;if(Ue.layers.test(vt.layers)){if(Ue.isGroup)Ft=Ue.renderOrder;else if(Ue.isLOD)Ue.autoUpdate===!0&&Ue.update(vt);else if(Ue.isLight)me.pushLight(Ue),Ue.castShadow&&me.pushShadow(Ue);else if(Ue.isSprite){if(!Ue.frustumCulled||Qe.intersectsSprite(Ue)){bt&&pn.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(Yt);const dn=Gt.update(Ue),Sn=Ue.material;Sn.visible&&de.push(Ue,dn,Sn,Ft,pn.z,null)}}else if((Ue.isMesh||Ue.isLine||Ue.isPoints)&&(!Ue.frustumCulled||Qe.intersectsObject(Ue))){const dn=Gt.update(Ue),Sn=Ue.material;if(bt&&(Ue.boundingSphere!==void 0?(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),pn.copy(Ue.boundingSphere.center)):(dn.boundingSphere===null&&dn.computeBoundingSphere(),pn.copy(dn.boundingSphere.center)),pn.applyMatrix4(Ue.matrixWorld).applyMatrix4(Yt)),Array.isArray(Sn)){const Tn=dn.groups;for(let Un=0,On=Tn.length;Un<On;Un++){const an=Tn[Un],Fn=Sn[an.materialIndex];Fn&&Fn.visible&&de.push(Ue,dn,Fn,Ft,pn.z,an)}}else Sn.visible&&de.push(Ue,dn,Sn,Ft,pn.z,null)}}const en=Ue.children;for(let dn=0,Sn=en.length;dn<Sn;dn++)Ji(en[dn],vt,Ft,bt)}function ua(Ue,vt,Ft,bt){const xt=Ue.opaque,en=Ue.transmissive,dn=Ue.transparent;me.setupLightsView(Ft),Pt===!0&&nn.setGlobalState(Se.clippingPlanes,Ft),bt&&Jt.viewport(Fe.copy(bt)),xt.length>0&&Zs(xt,vt,Ft),en.length>0&&Zs(en,vt,Ft),dn.length>0&&Zs(dn,vt,Ft),Jt.buffers.depth.setTest(!0),Jt.buffers.depth.setMask(!0),Jt.buffers.color.setMask(!0),Jt.setPolygonOffset(!1)}function es(Ue,vt,Ft,bt){if((Ft.isScene===!0?Ft.overrideMaterial:null)!==null)return;me.state.transmissionRenderTarget[bt.id]===void 0&&(me.state.transmissionRenderTarget[bt.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Zt.has("EXT_color_buffer_half_float")||Zt.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:W,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const en=me.state.transmissionRenderTarget[bt.id],dn=bt.viewport||Fe;en.setSize(dn.z*Se.transmissionResolutionScale,dn.w*Se.transmissionResolutionScale);const Sn=Se.getRenderTarget();Se.setRenderTarget(en),Se.getClearColor(je),qe=Se.getClearAlpha(),qe<1&&Se.setClearColor(16777215,.5),Se.clear(),$t&&zn.render(Ft);const Tn=Se.toneMapping;Se.toneMapping=NoToneMapping;const Un=bt.viewport;if(bt.viewport!==void 0&&(bt.viewport=void 0),me.setupLightsView(bt),Pt===!0&&nn.setGlobalState(Se.clippingPlanes,bt),Zs(Ue,Ft,bt),We.updateMultisampleRenderTarget(en),We.updateRenderTargetMipmap(en),Zt.has("WEBGL_multisampled_render_to_texture")===!1){let On=!1;for(let an=0,Fn=vt.length;an<Fn;an++){const Wn=vt[an],ar=Wn.object,or=Wn.geometry,er=Wn.material,Ln=Wn.group;if(er.side===DoubleSide&&ar.layers.test(bt.layers)){const ur=er.side;er.side=BackSide,er.needsUpdate=!0,ll(ar,Ft,bt,or,er,Ln),er.side=ur,er.needsUpdate=!0,On=!0}}On===!0&&(We.updateMultisampleRenderTarget(en),We.updateRenderTargetMipmap(en))}Se.setRenderTarget(Sn),Se.setClearColor(je,qe),Un!==void 0&&(bt.viewport=Un),Se.toneMapping=Tn}function Zs(Ue,vt,Ft){const bt=vt.isScene===!0?vt.overrideMaterial:null;for(let xt=0,en=Ue.length;xt<en;xt++){const dn=Ue[xt],Sn=dn.object,Tn=dn.geometry,Un=bt===null?dn.material:bt,On=dn.group;Sn.layers.test(Ft.layers)&&ll(Sn,vt,Ft,Tn,Un,On)}}function ll(Ue,vt,Ft,bt,xt,en){Ue.onBeforeRender(Se,vt,Ft,bt,xt,en),Ue.modelViewMatrix.multiplyMatrices(Ft.matrixWorldInverse,Ue.matrixWorld),Ue.normalMatrix.getNormalMatrix(Ue.modelViewMatrix),xt.onBeforeRender(Se,vt,Ft,bt,Ue,en),xt.transparent===!0&&xt.side===DoubleSide&&xt.forceSinglePass===!1?(xt.side=BackSide,xt.needsUpdate=!0,Se.renderBufferDirect(Ft,vt,bt,xt,Ue,en),xt.side=FrontSide,xt.needsUpdate=!0,Se.renderBufferDirect(Ft,vt,bt,xt,Ue,en),xt.side=DoubleSide):Se.renderBufferDirect(Ft,vt,bt,xt,Ue,en),Ue.onAfterRender(Se,vt,Ft,bt,xt,en)}function $a(Ue,vt,Ft){vt.isScene!==!0&&(vt=In);const bt=tn.get(Ue),xt=me.state.lights,en=me.state.shadowsArray,dn=xt.state.version,Sn=En.getParameters(Ue,xt.state,en,vt,Ft),Tn=En.getProgramCacheKey(Sn);let Un=bt.programs;bt.environment=Ue.isMeshStandardMaterial?vt.environment:null,bt.fog=vt.fog,bt.envMap=(Ue.isMeshStandardMaterial?Mt:Be).get(Ue.envMap||bt.environment),bt.envMapRotation=bt.environment!==null&&Ue.envMap===null?vt.environmentRotation:Ue.envMapRotation,Un===void 0&&(Ue.addEventListener("dispose",qn),Un=new Map,bt.programs=Un);let On=Un.get(Tn);if(On!==void 0){if(bt.currentProgram===On&&bt.lightsStateVersion===dn)return ds(Ue,Sn),On}else Sn.uniforms=En.getUniforms(Ue),Ue.onBeforeCompile(Sn,Se),On=En.acquireProgram(Sn,Tn),Un.set(Tn,On),bt.uniforms=Sn.uniforms;const an=bt.uniforms;return(!Ue.isShaderMaterial&&!Ue.isRawShaderMaterial||Ue.clipping===!0)&&(an.clippingPlanes=nn.uniform),ds(Ue,Sn),bt.needsLights=fl(Ue),bt.lightsStateVersion=dn,bt.needsLights&&(an.ambientLightColor.value=xt.state.ambient,an.lightProbe.value=xt.state.probe,an.directionalLights.value=xt.state.directional,an.directionalLightShadows.value=xt.state.directionalShadow,an.spotLights.value=xt.state.spot,an.spotLightShadows.value=xt.state.spotShadow,an.rectAreaLights.value=xt.state.rectArea,an.ltc_1.value=xt.state.rectAreaLTC1,an.ltc_2.value=xt.state.rectAreaLTC2,an.pointLights.value=xt.state.point,an.pointLightShadows.value=xt.state.pointShadow,an.hemisphereLights.value=xt.state.hemi,an.directionalShadowMap.value=xt.state.directionalShadowMap,an.directionalShadowMatrix.value=xt.state.directionalShadowMatrix,an.spotShadowMap.value=xt.state.spotShadowMap,an.spotLightMatrix.value=xt.state.spotLightMatrix,an.spotLightMap.value=xt.state.spotLightMap,an.pointShadowMap.value=xt.state.pointShadowMap,an.pointShadowMatrix.value=xt.state.pointShadowMatrix),bt.currentProgram=On,bt.uniformsList=null,On}function cl(Ue){if(Ue.uniformsList===null){const vt=Ue.currentProgram.getUniforms();Ue.uniformsList=WebGLUniforms.seqWithValue(vt.seq,Ue.uniforms)}return Ue.uniformsList}function ds(Ue,vt){const Ft=tn.get(Ue);Ft.outputColorSpace=vt.outputColorSpace,Ft.batching=vt.batching,Ft.batchingColor=vt.batchingColor,Ft.instancing=vt.instancing,Ft.instancingColor=vt.instancingColor,Ft.instancingMorph=vt.instancingMorph,Ft.skinning=vt.skinning,Ft.morphTargets=vt.morphTargets,Ft.morphNormals=vt.morphNormals,Ft.morphColors=vt.morphColors,Ft.morphTargetsCount=vt.morphTargetsCount,Ft.numClippingPlanes=vt.numClippingPlanes,Ft.numIntersection=vt.numClipIntersection,Ft.vertexAlphas=vt.vertexAlphas,Ft.vertexTangents=vt.vertexTangents,Ft.toneMapping=vt.toneMapping}function ul(Ue,vt,Ft,bt,xt){vt.isScene!==!0&&(vt=In),We.resetTextureUnits();const en=vt.fog,dn=bt.isMeshStandardMaterial?vt.environment:null,Sn=Ie===null?Se.outputColorSpace:Ie.isXRRenderTarget===!0?Ie.texture.colorSpace:LinearSRGBColorSpace,Tn=(bt.isMeshStandardMaterial?Mt:Be).get(bt.envMap||dn),Un=bt.vertexColors===!0&&!!Ft.attributes.color&&Ft.attributes.color.itemSize===4,On=!!Ft.attributes.tangent&&(!!bt.normalMap||bt.anisotropy>0),an=!!Ft.morphAttributes.position,Fn=!!Ft.morphAttributes.normal,Wn=!!Ft.morphAttributes.color;let ar=NoToneMapping;bt.toneMapped&&(Ie===null||Ie.isXRRenderTarget===!0)&&(ar=Se.toneMapping);const or=Ft.morphAttributes.position||Ft.morphAttributes.normal||Ft.morphAttributes.color,er=or!==void 0?or.length:0,Ln=tn.get(bt),ur=me.state.lights;if(Pt===!0&&(zt===!0||Ue!==we)){const Jr=Ue===we&&bt.id===De;nn.setState(bt,Ue,Jr)}let nr=!1;bt.version===Ln.__version?(Ln.needsLights&&Ln.lightsStateVersion!==ur.state.version||Ln.outputColorSpace!==Sn||xt.isBatchedMesh&&Ln.batching===!1||!xt.isBatchedMesh&&Ln.batching===!0||xt.isBatchedMesh&&Ln.batchingColor===!0&&xt.colorTexture===null||xt.isBatchedMesh&&Ln.batchingColor===!1&&xt.colorTexture!==null||xt.isInstancedMesh&&Ln.instancing===!1||!xt.isInstancedMesh&&Ln.instancing===!0||xt.isSkinnedMesh&&Ln.skinning===!1||!xt.isSkinnedMesh&&Ln.skinning===!0||xt.isInstancedMesh&&Ln.instancingColor===!0&&xt.instanceColor===null||xt.isInstancedMesh&&Ln.instancingColor===!1&&xt.instanceColor!==null||xt.isInstancedMesh&&Ln.instancingMorph===!0&&xt.morphTexture===null||xt.isInstancedMesh&&Ln.instancingMorph===!1&&xt.morphTexture!==null||Ln.envMap!==Tn||bt.fog===!0&&Ln.fog!==en||Ln.numClippingPlanes!==void 0&&(Ln.numClippingPlanes!==nn.numPlanes||Ln.numIntersection!==nn.numIntersection)||Ln.vertexAlphas!==Un||Ln.vertexTangents!==On||Ln.morphTargets!==an||Ln.morphNormals!==Fn||Ln.morphColors!==Wn||Ln.toneMapping!==ar||Ln.morphTargetsCount!==er)&&(nr=!0):(nr=!0,Ln.__version=bt.version);let Qr=Ln.currentProgram;nr===!0&&(Qr=$a(bt,vt,xt));let Ts=!1,Wr=!1,ps=!1;const lr=Qr.getUniforms(),oi=Ln.uniforms;if(Jt.useProgram(Qr.program)&&(Ts=!0,Wr=!0,ps=!0),bt.id!==De&&(De=bt.id,Wr=!0),Ts||we!==Ue){Jt.buffers.depth.getReversed()?(It.copy(Ue.projectionMatrix),toNormalizedProjectionMatrix(It),toReversedProjectionMatrix(It),lr.setValue(Ve,"projectionMatrix",It)):lr.setValue(Ve,"projectionMatrix",Ue.projectionMatrix),lr.setValue(Ve,"viewMatrix",Ue.matrixWorldInverse);const Fr=lr.map.cameraPosition;Fr!==void 0&&Fr.setValue(Ve,ln.setFromMatrixPosition(Ue.matrixWorld)),fn.logarithmicDepthBuffer&&lr.setValue(Ve,"logDepthBufFC",2/(Math.log(Ue.far+1)/Math.LN2)),(bt.isMeshPhongMaterial||bt.isMeshToonMaterial||bt.isMeshLambertMaterial||bt.isMeshBasicMaterial||bt.isMeshStandardMaterial||bt.isShaderMaterial)&&lr.setValue(Ve,"isOrthographic",Ue.isOrthographicCamera===!0),we!==Ue&&(we=Ue,Wr=!0,ps=!0)}if(xt.isSkinnedMesh){lr.setOptional(Ve,xt,"bindMatrix"),lr.setOptional(Ve,xt,"bindMatrixInverse");const Jr=xt.skeleton;Jr&&(Jr.boneTexture===null&&Jr.computeBoneTexture(),lr.setValue(Ve,"boneTexture",Jr.boneTexture,We))}xt.isBatchedMesh&&(lr.setOptional(Ve,xt,"batchingTexture"),lr.setValue(Ve,"batchingTexture",xt._matricesTexture,We),lr.setOptional(Ve,xt,"batchingIdTexture"),lr.setValue(Ve,"batchingIdTexture",xt._indirectTexture,We),lr.setOptional(Ve,xt,"batchingColorTexture"),xt._colorsTexture!==null&&lr.setValue(Ve,"batchingColorTexture",xt._colorsTexture,We));const $r=Ft.morphAttributes;if(($r.position!==void 0||$r.normal!==void 0||$r.color!==void 0)&&$n.update(xt,Ft,Qr),(Wr||Ln.receiveShadow!==xt.receiveShadow)&&(Ln.receiveShadow=xt.receiveShadow,lr.setValue(Ve,"receiveShadow",xt.receiveShadow)),bt.isMeshGouraudMaterial&&bt.envMap!==null&&(oi.envMap.value=Tn,oi.flipEnvMap.value=Tn.isCubeTexture&&Tn.isRenderTargetTexture===!1?-1:1),bt.isMeshStandardMaterial&&bt.envMap===null&&vt.environment!==null&&(oi.envMapIntensity.value=vt.environmentIntensity),Wr&&(lr.setValue(Ve,"toneMappingExposure",Se.toneMappingExposure),Ln.needsLights&&hl(oi,ps),en&&bt.fog===!0&&un.refreshFogUniforms(oi,en),un.refreshMaterialUniforms(oi,bt,Re,Ct,me.state.transmissionRenderTarget[Ue.id]),WebGLUniforms.upload(Ve,cl(Ln),oi,We)),bt.isShaderMaterial&&bt.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Ve,cl(Ln),oi,We),bt.uniformsNeedUpdate=!1),bt.isSpriteMaterial&&lr.setValue(Ve,"center",xt.center),lr.setValue(Ve,"modelViewMatrix",xt.modelViewMatrix),lr.setValue(Ve,"normalMatrix",xt.normalMatrix),lr.setValue(Ve,"modelMatrix",xt.matrixWorld),bt.isShaderMaterial||bt.isRawShaderMaterial){const Jr=bt.uniformsGroups;for(let Fr=0,cr=Jr.length;Fr<cr;Fr++){const Ci=Jr[Fr];dt.update(Ci,Qr),dt.bind(Ci,Qr)}}return Qr}function hl(Ue,vt){Ue.ambientLightColor.needsUpdate=vt,Ue.lightProbe.needsUpdate=vt,Ue.directionalLights.needsUpdate=vt,Ue.directionalLightShadows.needsUpdate=vt,Ue.pointLights.needsUpdate=vt,Ue.pointLightShadows.needsUpdate=vt,Ue.spotLights.needsUpdate=vt,Ue.spotLightShadows.needsUpdate=vt,Ue.rectAreaLights.needsUpdate=vt,Ue.hemisphereLights.needsUpdate=vt}function fl(Ue){return Ue.isMeshLambertMaterial||Ue.isMeshToonMaterial||Ue.isMeshPhongMaterial||Ue.isMeshStandardMaterial||Ue.isShadowMaterial||Ue.isShaderMaterial&&Ue.lights===!0}this.getActiveCubeFace=function(){return be},this.getActiveMipmapLevel=function(){return Pe},this.getRenderTarget=function(){return Ie},this.setRenderTargetTextures=function(Ue,vt,Ft){tn.get(Ue.texture).__webglTexture=vt,tn.get(Ue.depthTexture).__webglTexture=Ft;const bt=tn.get(Ue);bt.__hasExternalTextures=!0,bt.__autoAllocateDepthBuffer=Ft===void 0,bt.__autoAllocateDepthBuffer||Zt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),bt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Ue,vt){const Ft=tn.get(Ue);Ft.__webglFramebuffer=vt,Ft.__useDefaultFramebuffer=vt===void 0};const dl=Ve.createFramebuffer();this.setRenderTarget=function(Ue,vt=0,Ft=0){Ie=Ue,be=vt,Pe=Ft;let bt=!0,xt=null,en=!1,dn=!1;if(Ue){const Tn=tn.get(Ue);if(Tn.__useDefaultFramebuffer!==void 0)Jt.bindFramebuffer(Ve.FRAMEBUFFER,null),bt=!1;else if(Tn.__webglFramebuffer===void 0)We.setupRenderTarget(Ue);else if(Tn.__hasExternalTextures)We.rebindTextures(Ue,tn.get(Ue.texture).__webglTexture,tn.get(Ue.depthTexture).__webglTexture);else if(Ue.depthBuffer){const an=Ue.depthTexture;if(Tn.__boundDepthTexture!==an){if(an!==null&&tn.has(an)&&(Ue.width!==an.image.width||Ue.height!==an.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");We.setupDepthRenderbuffer(Ue)}}const Un=Ue.texture;(Un.isData3DTexture||Un.isDataArrayTexture||Un.isCompressedArrayTexture)&&(dn=!0);const On=tn.get(Ue).__webglFramebuffer;Ue.isWebGLCubeRenderTarget?(Array.isArray(On[vt])?xt=On[vt][Ft]:xt=On[vt],en=!0):Ue.samples>0&&We.useMultisampledRTT(Ue)===!1?xt=tn.get(Ue).__webglMultisampledFramebuffer:Array.isArray(On)?xt=On[Ft]:xt=On,Fe.copy(Ue.viewport),Ge.copy(Ue.scissor),He=Ue.scissorTest}else Fe.copy(Ne).multiplyScalar(Re).floor(),Ge.copy(Ze).multiplyScalar(Re).floor(),He=Wt;if(Ft!==0&&(xt=dl),Jt.bindFramebuffer(Ve.FRAMEBUFFER,xt)&&bt&&Jt.drawBuffers(Ue,xt),Jt.viewport(Fe),Jt.scissor(Ge),Jt.setScissorTest(He),en){const Tn=tn.get(Ue.texture);Ve.framebufferTexture2D(Ve.FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Tn.__webglTexture,Ft)}else if(dn){const Tn=tn.get(Ue.texture),Un=vt;Ve.framebufferTextureLayer(Ve.FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Tn.__webglTexture,Ft,Un)}else if(Ue!==null&&Ft!==0){const Tn=tn.get(Ue.texture);Ve.framebufferTexture2D(Ve.FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_2D,Tn.__webglTexture,Ft)}De=-1},this.readRenderTargetPixels=function(Ue,vt,Ft,bt,xt,en,dn){if(!(Ue&&Ue.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Sn=tn.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&dn!==void 0&&(Sn=Sn[dn]),Sn){Jt.bindFramebuffer(Ve.FRAMEBUFFER,Sn);try{const Tn=Ue.texture,Un=Tn.format,On=Tn.type;if(!fn.textureFormatReadable(Un)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!fn.textureTypeReadable(On)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}vt>=0&&vt<=Ue.width-bt&&Ft>=0&&Ft<=Ue.height-xt&&Ve.readPixels(vt,Ft,bt,xt,Xn.convert(Un),Xn.convert(On),en)}finally{const Tn=Ie!==null?tn.get(Ie).__webglFramebuffer:null;Jt.bindFramebuffer(Ve.FRAMEBUFFER,Tn)}}},this.readRenderTargetPixelsAsync=async function(Ue,vt,Ft,bt,xt,en,dn){if(!(Ue&&Ue.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Sn=tn.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&dn!==void 0&&(Sn=Sn[dn]),Sn){const Tn=Ue.texture,Un=Tn.format,On=Tn.type;if(!fn.textureFormatReadable(Un))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!fn.textureTypeReadable(On))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(vt>=0&&vt<=Ue.width-bt&&Ft>=0&&Ft<=Ue.height-xt){Jt.bindFramebuffer(Ve.FRAMEBUFFER,Sn);const an=Ve.createBuffer();Ve.bindBuffer(Ve.PIXEL_PACK_BUFFER,an),Ve.bufferData(Ve.PIXEL_PACK_BUFFER,en.byteLength,Ve.STREAM_READ),Ve.readPixels(vt,Ft,bt,xt,Xn.convert(Un),Xn.convert(On),0);const Fn=Ie!==null?tn.get(Ie).__webglFramebuffer:null;Jt.bindFramebuffer(Ve.FRAMEBUFFER,Fn);const Wn=Ve.fenceSync(Ve.SYNC_GPU_COMMANDS_COMPLETE,0);return Ve.flush(),await probeAsync(Ve,Wn,4),Ve.bindBuffer(Ve.PIXEL_PACK_BUFFER,an),Ve.getBufferSubData(Ve.PIXEL_PACK_BUFFER,0,en),Ve.deleteBuffer(an),Ve.deleteSync(Wn),en}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Ue,vt=null,Ft=0){Ue.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),vt=arguments[0]||null,Ue=arguments[1]);const bt=Math.pow(2,-Ft),xt=Math.floor(Ue.image.width*bt),en=Math.floor(Ue.image.height*bt),dn=vt!==null?vt.x:0,Sn=vt!==null?vt.y:0;We.setTexture2D(Ue,0),Ve.copyTexSubImage2D(Ve.TEXTURE_2D,Ft,0,0,dn,Sn,xt,en),Jt.unbindTexture()};const pl=Ve.createFramebuffer(),ml=Ve.createFramebuffer();this.copyTextureToTexture=function(Ue,vt,Ft=null,bt=null,xt=0,en=null){Ue.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),bt=arguments[0]||null,Ue=arguments[1],vt=arguments[2],en=arguments[3]||0,Ft=null),en===null&&(xt!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),en=xt,xt=0):en=0);let dn,Sn,Tn,Un,On,an,Fn,Wn,ar;const or=Ue.isCompressedTexture?Ue.mipmaps[en]:Ue.image;if(Ft!==null)dn=Ft.max.x-Ft.min.x,Sn=Ft.max.y-Ft.min.y,Tn=Ft.isBox3?Ft.max.z-Ft.min.z:1,Un=Ft.min.x,On=Ft.min.y,an=Ft.isBox3?Ft.min.z:0;else{const $r=Math.pow(2,-xt);dn=Math.floor(or.width*$r),Sn=Math.floor(or.height*$r),Ue.isDataArrayTexture?Tn=or.depth:Ue.isData3DTexture?Tn=Math.floor(or.depth*$r):Tn=1,Un=0,On=0,an=0}bt!==null?(Fn=bt.x,Wn=bt.y,ar=bt.z):(Fn=0,Wn=0,ar=0);const er=Xn.convert(vt.format),Ln=Xn.convert(vt.type);let ur;vt.isData3DTexture?(We.setTexture3D(vt,0),ur=Ve.TEXTURE_3D):vt.isDataArrayTexture||vt.isCompressedArrayTexture?(We.setTexture2DArray(vt,0),ur=Ve.TEXTURE_2D_ARRAY):(We.setTexture2D(vt,0),ur=Ve.TEXTURE_2D),Ve.pixelStorei(Ve.UNPACK_FLIP_Y_WEBGL,vt.flipY),Ve.pixelStorei(Ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,vt.premultiplyAlpha),Ve.pixelStorei(Ve.UNPACK_ALIGNMENT,vt.unpackAlignment);const nr=Ve.getParameter(Ve.UNPACK_ROW_LENGTH),Qr=Ve.getParameter(Ve.UNPACK_IMAGE_HEIGHT),Ts=Ve.getParameter(Ve.UNPACK_SKIP_PIXELS),Wr=Ve.getParameter(Ve.UNPACK_SKIP_ROWS),ps=Ve.getParameter(Ve.UNPACK_SKIP_IMAGES);Ve.pixelStorei(Ve.UNPACK_ROW_LENGTH,or.width),Ve.pixelStorei(Ve.UNPACK_IMAGE_HEIGHT,or.height),Ve.pixelStorei(Ve.UNPACK_SKIP_PIXELS,Un),Ve.pixelStorei(Ve.UNPACK_SKIP_ROWS,On),Ve.pixelStorei(Ve.UNPACK_SKIP_IMAGES,an);const lr=Ue.isDataArrayTexture||Ue.isData3DTexture,oi=vt.isDataArrayTexture||vt.isData3DTexture;if(Ue.isDepthTexture){const $r=tn.get(Ue),Jr=tn.get(vt),Fr=tn.get($r.__renderTarget),cr=tn.get(Jr.__renderTarget);Jt.bindFramebuffer(Ve.READ_FRAMEBUFFER,Fr.__webglFramebuffer),Jt.bindFramebuffer(Ve.DRAW_FRAMEBUFFER,cr.__webglFramebuffer);for(let Ci=0;Ci<Tn;Ci++)lr&&(Ve.framebufferTextureLayer(Ve.READ_FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,tn.get(Ue).__webglTexture,xt,an+Ci),Ve.framebufferTextureLayer(Ve.DRAW_FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,tn.get(vt).__webglTexture,en,ar+Ci)),Ve.blitFramebuffer(Un,On,dn,Sn,Fn,Wn,dn,Sn,Ve.DEPTH_BUFFER_BIT,Ve.NEAREST);Jt.bindFramebuffer(Ve.READ_FRAMEBUFFER,null),Jt.bindFramebuffer(Ve.DRAW_FRAMEBUFFER,null)}else if(xt!==0||Ue.isRenderTargetTexture||tn.has(Ue)){const $r=tn.get(Ue),Jr=tn.get(vt);Jt.bindFramebuffer(Ve.READ_FRAMEBUFFER,pl),Jt.bindFramebuffer(Ve.DRAW_FRAMEBUFFER,ml);for(let Fr=0;Fr<Tn;Fr++)lr?Ve.framebufferTextureLayer(Ve.READ_FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,$r.__webglTexture,xt,an+Fr):Ve.framebufferTexture2D(Ve.READ_FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_2D,$r.__webglTexture,xt),oi?Ve.framebufferTextureLayer(Ve.DRAW_FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Jr.__webglTexture,en,ar+Fr):Ve.framebufferTexture2D(Ve.DRAW_FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_2D,Jr.__webglTexture,en),xt!==0?Ve.blitFramebuffer(Un,On,dn,Sn,Fn,Wn,dn,Sn,Ve.COLOR_BUFFER_BIT,Ve.NEAREST):oi?Ve.copyTexSubImage3D(ur,en,Fn,Wn,ar+Fr,Un,On,dn,Sn):Ve.copyTexSubImage2D(ur,en,Fn,Wn,Un,On,dn,Sn);Jt.bindFramebuffer(Ve.READ_FRAMEBUFFER,null),Jt.bindFramebuffer(Ve.DRAW_FRAMEBUFFER,null)}else oi?Ue.isDataTexture||Ue.isData3DTexture?Ve.texSubImage3D(ur,en,Fn,Wn,ar,dn,Sn,Tn,er,Ln,or.data):vt.isCompressedArrayTexture?Ve.compressedTexSubImage3D(ur,en,Fn,Wn,ar,dn,Sn,Tn,er,or.data):Ve.texSubImage3D(ur,en,Fn,Wn,ar,dn,Sn,Tn,er,Ln,or):Ue.isDataTexture?Ve.texSubImage2D(Ve.TEXTURE_2D,en,Fn,Wn,dn,Sn,er,Ln,or.data):Ue.isCompressedTexture?Ve.compressedTexSubImage2D(Ve.TEXTURE_2D,en,Fn,Wn,or.width,or.height,er,or.data):Ve.texSubImage2D(Ve.TEXTURE_2D,en,Fn,Wn,dn,Sn,er,Ln,or);Ve.pixelStorei(Ve.UNPACK_ROW_LENGTH,nr),Ve.pixelStorei(Ve.UNPACK_IMAGE_HEIGHT,Qr),Ve.pixelStorei(Ve.UNPACK_SKIP_PIXELS,Ts),Ve.pixelStorei(Ve.UNPACK_SKIP_ROWS,Wr),Ve.pixelStorei(Ve.UNPACK_SKIP_IMAGES,ps),en===0&&vt.generateMipmaps&&Ve.generateMipmap(ur),Jt.unbindTexture()},this.copyTextureToTexture3D=function(Ue,vt,Ft=null,bt=null,xt=0){return Ue.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ft=arguments[0]||null,bt=arguments[1]||null,Ue=arguments[2],vt=arguments[3],xt=arguments[4]||0),warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Ue,vt,Ft,bt,xt)},this.initRenderTarget=function(Ue){tn.get(Ue).__webglFramebuffer===void 0&&We.setupRenderTarget(Ue)},this.initTexture=function(Ue){Ue.isCubeTexture?We.setTextureCube(Ue,0):Ue.isData3DTexture?We.setTexture3D(Ue,0):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?We.setTexture2DArray(Ue,0):We.setTexture2D(Ue,0),Jt.unbindTexture()},this.resetState=function(){be=0,Pe=0,Ie=null,Jt.reset(),gr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(T){this._outputColorSpace=T;const A=this.getContext();A.drawingBufferColorspace=ColorManagement._getDrawingBufferColorSpace(T),A.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const St=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls:Controls$1,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RenderTarget3D,RenderTargetArray,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants.exports=requireReactReconcilerConstants_production_min()),constants.exports}var constantsExports=requireConstants();function createStore$1(P){let T;const A=new Set,L=(oe,ae)=>{const ce=typeof oe=="function"?oe(T):oe;if(ce!==T){const he=T;T=ae?ce:Object.assign({},T,ce),A.forEach(ue=>ue(T,he))}},U=()=>T,W=(oe,ae=U,ce=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let he=ae(T);function ue(){const pe=ae(T);if(!ce(he,pe)){const ge=he;oe(he=pe,ge)}}return A.add(ue),()=>A.delete(ue)},ie={setState:L,getState:U,subscribe:(oe,ae,ce)=>ae||ce?W(oe,ae,ce):(A.add(oe),()=>A.delete(oe)),destroy:()=>A.clear()};return T=P(L,U,ie),ie}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(P){const T=typeof P=="function"?createStore$1(P):P,A=(L=T.getState,U=Object.is)=>{const[,W]=reactExports.useReducer(de=>de+1,0),te=T.getState(),ne=reactExports.useRef(te),ie=reactExports.useRef(L),oe=reactExports.useRef(U),ae=reactExports.useRef(!1),ce=reactExports.useRef();ce.current===void 0&&(ce.current=L(te));let he,ue=!1;(ne.current!==te||ie.current!==L||oe.current!==U||ae.current)&&(he=L(te),ue=!U(ce.current,he)),useIsomorphicLayoutEffect$1(()=>{ue&&(ce.current=he),ne.current=te,ie.current=L,oe.current=U,ae.current=!1});const pe=reactExports.useRef(te);useIsomorphicLayoutEffect$1(()=>{const de=()=>{try{const ye=T.getState(),xe=ie.current(ye);oe.current(ce.current,xe)||(ne.current=ye,ce.current=xe,W())}catch{ae.current=!0,W()}},me=T.subscribe(de);return T.getState()!==pe.current&&de(),me},[]);const ge=ue?he:ce.current;return reactExports.useDebugValue(ge),ge};return Object.assign(A,T),A[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const L=[A,T];return{next(){const U=L.length<=0;return{value:L.shift(),done:U}}}},A}const isPromise=P=>typeof P=="object"&&typeof P.then=="function",globalCache=[];function shallowEqualArrays(P,T,A=(L,U)=>L===U){if(P===T)return!0;if(!P||!T)return!1;const L=P.length;if(T.length!==L)return!1;for(let U=0;U<L;U++)if(!A(P[U],T[U]))return!1;return!0}function query(P,T=null,A=!1,L={}){T===null&&(T=[P]);for(const W of globalCache)if(shallowEqualArrays(T,W.keys,W.equal)){if(A)return;if(Object.prototype.hasOwnProperty.call(W,"error"))throw W.error;if(Object.prototype.hasOwnProperty.call(W,"response"))return L.lifespan&&L.lifespan>0&&(W.timeout&&clearTimeout(W.timeout),W.timeout=setTimeout(W.remove,L.lifespan)),W.response;if(!A)throw W.promise}const U={keys:T,equal:L.equal,remove:()=>{const W=globalCache.indexOf(U);W!==-1&&globalCache.splice(W,1)},promise:(isPromise(P)?P:P(...T)).then(W=>{U.response=W,L.lifespan&&L.lifespan>0&&(U.timeout=setTimeout(U.remove,L.lifespan))}).catch(W=>U.error=W)};if(globalCache.push(U),!A)throw U.promise}const suspend=(P,T,A)=>query(P,T,!1,A),preload=(P,T,A)=>void query(P,T,!0,A),clear=P=>{if(P===void 0||P.length===0)globalCache.splice(0,globalCache.length);else{const T=globalCache.find(A=>shallowEqualArrays(P,A.keys,A.equal));T&&T.remove()}};var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$1;function requireScheduler_production_min$1(){return hasRequiredScheduler_production_min$1||(hasRequiredScheduler_production_min$1=1,function(P){function T(Re,Oe){var ze=Re.length;Re.push(Oe);e:for(;0<ze;){var Ne=ze-1>>>1,Ze=Re[Ne];if(0<U(Ze,Oe))Re[Ne]=Oe,Re[ze]=Ze,ze=Ne;else break e}}function A(Re){return Re.length===0?null:Re[0]}function L(Re){if(Re.length===0)return null;var Oe=Re[0],ze=Re.pop();if(ze!==Oe){Re[0]=ze;e:for(var Ne=0,Ze=Re.length,Wt=Ze>>>1;Ne<Wt;){var Qe=2*(Ne+1)-1,Pt=Re[Qe],zt=Qe+1,It=Re[zt];if(0>U(Pt,ze))zt<Ze&&0>U(It,Pt)?(Re[Ne]=It,Re[zt]=ze,Ne=zt):(Re[Ne]=Pt,Re[Qe]=ze,Ne=Qe);else if(zt<Ze&&0>U(It,ze))Re[Ne]=It,Re[zt]=ze,Ne=zt;else break e}}return Oe}function U(Re,Oe){var ze=Re.sortIndex-Oe.sortIndex;return ze!==0?ze:Re.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var W=performance;P.unstable_now=function(){return W.now()}}else{var te=Date,ne=te.now();P.unstable_now=function(){return te.now()-ne}}var ie=[],oe=[],ae=1,ce=null,he=3,ue=!1,pe=!1,ge=!1,de=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xe(Re){for(var Oe=A(oe);Oe!==null;){if(Oe.callback===null)L(oe);else if(Oe.startTime<=Re)L(oe),Oe.sortIndex=Oe.expirationTime,T(ie,Oe);else break;Oe=A(oe)}}function Se(Re){if(ge=!1,xe(Re),!pe)if(A(ie)!==null)pe=!0,Ye(Te);else{var Oe=A(oe);Oe!==null&&Ct(Se,Oe.startTime-Re)}}function Te(Re,Oe){pe=!1,ge&&(ge=!1,me(Ie),Ie=-1),ue=!0;var ze=he;try{for(xe(Oe),ce=A(ie);ce!==null&&(!(ce.expirationTime>Oe)||Re&&!Fe());){var Ne=ce.callback;if(typeof Ne=="function"){ce.callback=null,he=ce.priorityLevel;var Ze=Ne(ce.expirationTime<=Oe);Oe=P.unstable_now(),typeof Ze=="function"?ce.callback=Ze:ce===A(ie)&&L(ie),xe(Oe)}else L(ie);ce=A(ie)}if(ce!==null)var Wt=!0;else{var Qe=A(oe);Qe!==null&&Ct(Se,Qe.startTime-Oe),Wt=!1}return Wt}finally{ce=null,he=ze,ue=!1}}var be=!1,Pe=null,Ie=-1,De=5,we=-1;function Fe(){return!(P.unstable_now()-we<De)}function Ge(){if(Pe!==null){var Re=P.unstable_now();we=Re;var Oe=!0;try{Oe=Pe(!0,Re)}finally{Oe?He():(be=!1,Pe=null)}}else be=!1}var He;if(typeof ye=="function")He=function(){ye(Ge)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,qe=je.port2;je.port1.onmessage=Ge,He=function(){qe.postMessage(null)}}else He=function(){de(Ge,0)};function Ye(Re){Pe=Re,be||(be=!0,He())}function Ct(Re,Oe){Ie=de(function(){Re(P.unstable_now())},Oe)}P.unstable_IdlePriority=5,P.unstable_ImmediatePriority=1,P.unstable_LowPriority=4,P.unstable_NormalPriority=3,P.unstable_Profiling=null,P.unstable_UserBlockingPriority=2,P.unstable_cancelCallback=function(Re){Re.callback=null},P.unstable_continueExecution=function(){pe||ue||(pe=!0,Ye(Te))},P.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<Re?Math.floor(1e3/Re):5},P.unstable_getCurrentPriorityLevel=function(){return he},P.unstable_getFirstCallbackNode=function(){return A(ie)},P.unstable_next=function(Re){switch(he){case 1:case 2:case 3:var Oe=3;break;default:Oe=he}var ze=he;he=Oe;try{return Re()}finally{he=ze}},P.unstable_pauseExecution=function(){},P.unstable_requestPaint=function(){},P.unstable_runWithPriority=function(Re,Oe){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var ze=he;he=Re;try{return Oe()}finally{he=ze}},P.unstable_scheduleCallback=function(Re,Oe,ze){var Ne=P.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Ne+ze:Ne):ze=Ne,Re){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ze+Ze,Re={id:ae++,callback:Oe,priorityLevel:Re,startTime:ze,expirationTime:Ze,sortIndex:-1},ze>Ne?(Re.sortIndex=ze,T(oe,Re),A(ie)===null&&Re===A(oe)&&(ge?(me(Ie),Ie=-1):ge=!0,Ct(Se,ze-Ne))):(Re.sortIndex=Ze,T(ie,Re),pe||ue||(pe=!0,Ye(Te))),Re},P.unstable_shouldYield=Fe,P.unstable_wrapCallback=function(Re){var Oe=he;return function(){var ze=he;he=Oe;try{return Re.apply(this,arguments)}finally{he=ze}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production_min$1()),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(T){var A={},L=requireReact(),U=requireScheduler$1(),W=Object.assign;function te(se){for(var le="https://reactjs.org/docs/error-decoder.html?invariant="+se,ve=1;ve<arguments.length;ve++)le+="&args[]="+encodeURIComponent(arguments[ve]);return"Minified React error #"+se+"; visit "+le+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ne=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),oe=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),pe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),Te=Symbol.iterator;function be(se){return se===null||typeof se!="object"?null:(se=Te&&se[Te]||se["@@iterator"],typeof se=="function"?se:null)}function Pe(se){if(se==null)return null;if(typeof se=="function")return se.displayName||se.name||null;if(typeof se=="string")return se;switch(se){case ae:return"Fragment";case oe:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case de:return"Suspense";case me:return"SuspenseList"}if(typeof se=="object")switch(se.$$typeof){case pe:return(se.displayName||"Context")+".Consumer";case ue:return(se._context.displayName||"Context")+".Provider";case ge:var le=se.render;return se=se.displayName,se||(se=le.displayName||le.name||"",se=se!==""?"ForwardRef("+se+")":"ForwardRef"),se;case ye:return le=se.displayName||null,le!==null?le:Pe(se.type)||"Memo";case xe:le=se._payload,se=se._init;try{return Pe(se(le))}catch{}}return null}function Ie(se){var le=se.type;switch(se.tag){case 24:return"Cache";case 9:return(le.displayName||"Context")+".Consumer";case 10:return(le._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return se=le.render,se=se.displayName||se.name||"",le.displayName||(se!==""?"ForwardRef("+se+")":"ForwardRef");case 7:return"Fragment";case 5:return le;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(le);case 8:return le===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof le=="function")return le.displayName||le.name||null;if(typeof le=="string")return le}return null}function De(se){var le=se,ve=se;if(se.alternate)for(;le.return;)le=le.return;else{se=le;do le=se,le.flags&4098&&(ve=le.return),se=le.return;while(se)}return le.tag===3?ve:null}function we(se){if(De(se)!==se)throw Error(te(188))}function Fe(se){var le=se.alternate;if(!le){if(le=De(se),le===null)throw Error(te(188));return le!==se?null:se}for(var ve=se,Ee=le;;){var Ce=ve.return;if(Ce===null)break;var Le=Ce.alternate;if(Le===null){if(Ee=Ce.return,Ee!==null){ve=Ee;continue}break}if(Ce.child===Le.child){for(Le=Ce.child;Le;){if(Le===ve)return we(Ce),se;if(Le===Ee)return we(Ce),le;Le=Le.sibling}throw Error(te(188))}if(ve.return!==Ee.return)ve=Ce,Ee=Le;else{for(var $e=!1,st=Ce.child;st;){if(st===ve){$e=!0,ve=Ce,Ee=Le;break}if(st===Ee){$e=!0,Ee=Ce,ve=Le;break}st=st.sibling}if(!$e){for(st=Le.child;st;){if(st===ve){$e=!0,ve=Le,Ee=Ce;break}if(st===Ee){$e=!0,Ee=Le,ve=Ce;break}st=st.sibling}if(!$e)throw Error(te(189))}}if(ve.alternate!==Ee)throw Error(te(190))}if(ve.tag!==3)throw Error(te(188));return ve.stateNode.current===ve?se:le}function Ge(se){return se=Fe(se),se!==null?He(se):null}function He(se){if(se.tag===5||se.tag===6)return se;for(se=se.child;se!==null;){var le=He(se);if(le!==null)return le;se=se.sibling}return null}function je(se){if(se.tag===5||se.tag===6)return se;for(se=se.child;se!==null;){if(se.tag!==4){var le=je(se);if(le!==null)return le}se=se.sibling}return null}var qe=Array.isArray,Ye=T.getPublicInstance,Ct=T.getRootHostContext,Re=T.getChildHostContext,Oe=T.prepareForCommit,ze=T.resetAfterCommit,Ne=T.createInstance,Ze=T.appendInitialChild,Wt=T.finalizeInitialChildren,Qe=T.prepareUpdate,Pt=T.shouldSetTextContent,zt=T.createTextInstance,It=T.scheduleTimeout,Yt=T.cancelTimeout,ln=T.noTimeout,pn=T.isPrimaryRenderer,In=T.supportsMutation,$t=T.supportsPersistence,jt=T.supportsHydration,Ve=T.getInstanceFromNode,Cn=T.preparePortalMount,Zt=T.getCurrentEventPriority,fn=T.detachDeletedInstance,Jt=T.supportsMicrotasks,Rn=T.scheduleMicrotask,tn=T.supportsTestSelectors,We=T.findFiberRoot,Be=T.getBoundingRect,Mt=T.getTextContent,Ut=T.isHiddenSubtree,Xt=T.matchAccessibilityRole,Gt=T.setFocusIfFocusable,En=T.setupIntersectionObserver,un=T.appendChild,gn=T.appendChildToContainer,jn=T.commitTextUpdate,nn=T.commitMount,An=T.commitUpdate,zn=T.insertBefore,$n=T.insertInContainerBefore,wn=T.removeChild,sr=T.removeChildFromContainer,Xn=T.resetTextContent,gr=T.hideInstance,dt=T.hideTextInstance,mn=T.unhideInstance,Nt=T.unhideTextInstance,qt=T.clearContainer,_n=T.cloneInstance,yn=T.createContainerChildSet,qn=T.appendChildToContainerChildSet,Cr=T.finalizeContainerChildren,Nr=T.replaceContainerChildren,hr=T.cloneHiddenInstance,di=T.cloneHiddenTextInstance,pi=T.canHydrateInstance,Wa=T.canHydrateTextInstance,Ys=T.canHydrateSuspenseInstance,fs=T.isSuspenseInstancePending,Ji=T.isSuspenseInstanceFallback,ua=T.registerSuspenseInstanceRetry,es=T.getNextHydratableSibling,Zs=T.getFirstHydratableChild,ll=T.getFirstHydratableChildWithinContainer,$a=T.getFirstHydratableChildWithinSuspenseInstance,cl=T.hydrateInstance,ds=T.hydrateTextInstance,ul=T.hydrateSuspenseInstance,hl=T.getNextHydratableInstanceAfterSuspenseInstance,fl=T.commitHydratedContainer,dl=T.commitHydratedSuspenseInstance,pl=T.clearSuspenseBoundary,ml=T.clearSuspenseBoundaryFromContainer,Ue=T.shouldDeleteUnhydratedTailInstances,vt=T.didNotMatchHydratedContainerTextInstance,Ft=T.didNotMatchHydratedTextInstance,bt;function xt(se){if(bt===void 0)try{throw Error()}catch(ve){var le=ve.stack.trim().match(/\n( *(at )?)/);bt=le&&le[1]||""}return`
`+bt+se}var en=!1;function dn(se,le){if(!se||en)return"";en=!0;var ve=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(le)if(le=function(){throw Error()},Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(sn){var Ee=sn}Reflect.construct(se,[],le)}else{try{le.call()}catch(sn){Ee=sn}se.call(le.prototype)}else{try{throw Error()}catch(sn){Ee=sn}se()}}catch(sn){if(sn&&Ee&&typeof sn.stack=="string"){for(var Ce=sn.stack.split(`
`),Le=Ee.stack.split(`
`),$e=Ce.length-1,st=Le.length-1;1<=$e&&0<=st&&Ce[$e]!==Le[st];)st--;for(;1<=$e&&0<=st;$e--,st--)if(Ce[$e]!==Le[st]){if($e!==1||st!==1)do if($e--,st--,0>st||Ce[$e]!==Le[st]){var Vt=`
`+Ce[$e].replace(" at new "," at ");return se.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",se.displayName)),Vt}while(1<=$e&&0<=st);break}}}finally{en=!1,Error.prepareStackTrace=ve}return(se=se?se.displayName||se.name:"")?xt(se):""}var Sn=Object.prototype.hasOwnProperty,Tn=[],Un=-1;function On(se){return{current:se}}function an(se){0>Un||(se.current=Tn[Un],Tn[Un]=null,Un--)}function Fn(se,le){Un++,Tn[Un]=se.current,se.current=le}var Wn={},ar=On(Wn),or=On(!1),er=Wn;function Ln(se,le){var ve=se.type.contextTypes;if(!ve)return Wn;var Ee=se.stateNode;if(Ee&&Ee.__reactInternalMemoizedUnmaskedChildContext===le)return Ee.__reactInternalMemoizedMaskedChildContext;var Ce={},Le;for(Le in ve)Ce[Le]=le[Le];return Ee&&(se=se.stateNode,se.__reactInternalMemoizedUnmaskedChildContext=le,se.__reactInternalMemoizedMaskedChildContext=Ce),Ce}function ur(se){return se=se.childContextTypes,se!=null}function nr(){an(or),an(ar)}function Qr(se,le,ve){if(ar.current!==Wn)throw Error(te(168));Fn(ar,le),Fn(or,ve)}function Ts(se,le,ve){var Ee=se.stateNode;if(le=le.childContextTypes,typeof Ee.getChildContext!="function")return ve;Ee=Ee.getChildContext();for(var Ce in Ee)if(!(Ce in le))throw Error(te(108,Ie(se)||"Unknown",Ce));return W({},ve,Ee)}function Wr(se){return se=(se=se.stateNode)&&se.__reactInternalMemoizedMergedChildContext||Wn,er=ar.current,Fn(ar,se),Fn(or,or.current),!0}function ps(se,le,ve){var Ee=se.stateNode;if(!Ee)throw Error(te(169));ve?(se=Ts(se,le,er),Ee.__reactInternalMemoizedMergedChildContext=se,an(or),an(ar),Fn(ar,se)):an(or),Fn(or,ve)}var lr=Math.clz32?Math.clz32:Jr,oi=Math.log,$r=Math.LN2;function Jr(se){return se>>>=0,se===0?32:31-(oi(se)/$r|0)|0}var Fr=64,cr=4194304;function Ci(se){switch(se&-se){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return se&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return se&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return se}}function Mo(se,le){var ve=se.pendingLanes;if(ve===0)return 0;var Ee=0,Ce=se.suspendedLanes,Le=se.pingedLanes,$e=ve&268435455;if($e!==0){var st=$e&~Ce;st!==0?Ee=Ci(st):(Le&=$e,Le!==0&&(Ee=Ci(Le)))}else $e=ve&~Ce,$e!==0?Ee=Ci($e):Le!==0&&(Ee=Ci(Le));if(Ee===0)return 0;if(le!==0&&le!==Ee&&!(le&Ce)&&(Ce=Ee&-Ee,Le=le&-le,Ce>=Le||Ce===16&&(Le&4194240)!==0))return le;if(Ee&4&&(Ee|=ve&16),le=se.entangledLanes,le!==0)for(se=se.entanglements,le&=Ee;0<le;)ve=31-lr(le),Ce=1<<ve,Ee|=se[ve],le&=~Ce;return Ee}function dc(se,le){switch(se){case 1:case 2:case 4:return le+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return le+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(se,le){for(var ve=se.suspendedLanes,Ee=se.pingedLanes,Ce=se.expirationTimes,Le=se.pendingLanes;0<Le;){var $e=31-lr(Le),st=1<<$e,Vt=Ce[$e];Vt===-1?(!(st&ve)||st&Ee)&&(Ce[$e]=dc(st,le)):Vt<=le&&(se.expiredLanes|=st),Le&=~st}}function gl(se){return se=se.pendingLanes&-1073741825,se!==0?se:se&1073741824?1073741824:0}function yl(se){for(var le=[],ve=0;31>ve;ve++)le.push(se);return le}function ha(se,le,ve){se.pendingLanes|=le,le!==536870912&&(se.suspendedLanes=0,se.pingedLanes=0),se=se.eventTimes,le=31-lr(le),se[le]=ve}function vl(se,le){var ve=se.pendingLanes&~le;se.pendingLanes=le,se.suspendedLanes=0,se.pingedLanes=0,se.expiredLanes&=le,se.mutableReadLanes&=le,se.entangledLanes&=le,le=se.entanglements;var Ee=se.eventTimes;for(se=se.expirationTimes;0<ve;){var Ce=31-lr(ve),Le=1<<Ce;le[Ce]=0,Ee[Ce]=-1,se[Ce]=-1,ve&=~Le}}function ms(se,le){var ve=se.entangledLanes|=le;for(se=se.entanglements;ve;){var Ee=31-lr(ve),Ce=1<<Ee;Ce&le|se[Ee]&le&&(se[Ee]|=le),ve&=~Ce}}var ir=0;function bs(se){return se&=-se,1<se?4<se?se&268435455?16:536870912:4:1}var fa=U.unstable_scheduleCallback,ja=U.unstable_cancelCallback,Ks=U.unstable_shouldYield,Ju=U.unstable_requestPaint,Vr=U.unstable_now,da=U.unstable_ImmediatePriority,eh=U.unstable_UserBlockingPriority,_l=U.unstable_NormalPriority,xl=U.unstable_IdlePriority,Co=null,gs=null;function To(se){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(Co,se,void 0,(se.current.flags&128)===128)}catch{}}function bo(se,le){return se===le&&(se!==0||1/se===1/le)||se!==se&&le!==le}var mi=typeof Object.is=="function"?Object.is:bo,Gi=null,Sl=!1,pc=!1;function El(se){Gi===null?Gi=[se]:Gi.push(se)}function Ml(se){Sl=!0,El(se)}function Hi(){if(!pc&&Gi!==null){pc=!0;var se=0,le=ir;try{var ve=Gi;for(ir=1;se<ve.length;se++){var Ee=ve[se];do Ee=Ee(!0);while(Ee!==null)}Gi=null,Sl=!1}catch(Ce){throw Gi!==null&&(Gi=Gi.slice(se+1)),fa(da,Hi),Ce}finally{ir=le,pc=!1}}return null}var lu=ne.ReactCurrentBatchConfig;function ts(se,le){if(mi(se,le))return!0;if(typeof se!="object"||se===null||typeof le!="object"||le===null)return!1;var ve=Object.keys(se),Ee=Object.keys(le);if(ve.length!==Ee.length)return!1;for(Ee=0;Ee<ve.length;Ee++){var Ce=ve[Ee];if(!Sn.call(le,Ce)||!mi(se[Ce],le[Ce]))return!1}return!0}function mc(se){switch(se.tag){case 5:return xt(se.type);case 16:return xt("Lazy");case 13:return xt("Suspense");case 19:return xt("SuspenseList");case 0:case 2:case 15:return se=dn(se.type,!1),se;case 11:return se=dn(se.type.render,!1),se;case 1:return se=dn(se.type,!0),se;default:return""}}function Ti(se,le){if(se&&se.defaultProps){le=W({},le),se=se.defaultProps;for(var ve in se)le[ve]===void 0&&(le[ve]=se[ve]);return le}return le}var Ao=On(null),pa=null,As=null,Cl=null;function gi(){Cl=As=pa=null}function ma(se,le,ve){pn?(Fn(Ao,le._currentValue),le._currentValue=ve):(Fn(Ao,le._currentValue2),le._currentValue2=ve)}function wo(se){var le=Ao.current;an(Ao),pn?se._currentValue=le:se._currentValue2=le}function ga(se,le,ve){for(;se!==null;){var Ee=se.alternate;if((se.childLanes&le)!==le?(se.childLanes|=le,Ee!==null&&(Ee.childLanes|=le)):Ee!==null&&(Ee.childLanes&le)!==le&&(Ee.childLanes|=le),se===ve)break;se=se.return}}function Xa(se,le){pa=se,Cl=As=null,se=se.dependencies,se!==null&&se.firstContext!==null&&(se.lanes&le&&(Yr=!0),se.firstContext=null)}function bi(se){var le=pn?se._currentValue:se._currentValue2;if(Cl!==se)if(se={context:se,memoizedValue:le,next:null},As===null){if(pa===null)throw Error(te(308));As=se,pa.dependencies={lanes:0,firstContext:se}}else As=As.next=se;return le}var Wi=null,$i=!1;function qa(se){se.updateQueue={baseState:se.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gc(se,le){se=se.updateQueue,le.updateQueue===se&&(le.updateQueue={baseState:se.baseState,firstBaseUpdate:se.firstBaseUpdate,lastBaseUpdate:se.lastBaseUpdate,shared:se.shared,effects:se.effects})}function ws(se,le){return{eventTime:se,lane:le,tag:0,payload:null,callback:null,next:null}}function Qs(se,le){var ve=se.updateQueue;ve!==null&&(ve=ve.shared,Br!==null&&se.mode&1&&!(Jn&2)?(se=ve.interleaved,se===null?(le.next=le,Wi===null?Wi=[ve]:Wi.push(ve)):(le.next=se.next,se.next=le),ve.interleaved=le):(se=ve.pending,se===null?le.next=le:(le.next=se.next,se.next=le),ve.pending=le))}function Tl(se,le,ve){if(le=le.updateQueue,le!==null&&(le=le.shared,(ve&4194240)!==0)){var Ee=le.lanes;Ee&=se.pendingLanes,ve|=Ee,le.lanes=ve,ms(se,ve)}}function bl(se,le){var ve=se.updateQueue,Ee=se.alternate;if(Ee!==null&&(Ee=Ee.updateQueue,ve===Ee)){var Ce=null,Le=null;if(ve=ve.firstBaseUpdate,ve!==null){do{var $e={eventTime:ve.eventTime,lane:ve.lane,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null};Le===null?Ce=Le=$e:Le=Le.next=$e,ve=ve.next}while(ve!==null);Le===null?Ce=Le=le:Le=Le.next=le}else Ce=Le=le;ve={baseState:Ee.baseState,firstBaseUpdate:Ce,lastBaseUpdate:Le,shared:Ee.shared,effects:Ee.effects},se.updateQueue=ve;return}se=ve.lastBaseUpdate,se===null?ve.firstBaseUpdate=le:se.next=le,ve.lastBaseUpdate=le}function Al(se,le,ve,Ee){var Ce=se.updateQueue;$i=!1;var Le=Ce.firstBaseUpdate,$e=Ce.lastBaseUpdate,st=Ce.shared.pending;if(st!==null){Ce.shared.pending=null;var Vt=st,sn=Vt.next;Vt.next=null,$e===null?Le=sn:$e.next=sn,$e=Vt;var bn=se.alternate;bn!==null&&(bn=bn.updateQueue,st=bn.lastBaseUpdate,st!==$e&&(st===null?bn.firstBaseUpdate=sn:st.next=sn,bn.lastBaseUpdate=Vt))}if(Le!==null){var Zn=Ce.baseState;$e=0,bn=sn=Vt=null,st=Le;do{var Vn=st.lane,tr=st.eventTime;if((Ee&Vn)===Vn){bn!==null&&(bn=bn.next={eventTime:tr,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var xn=se,si=st;switch(Vn=le,tr=ve,si.tag){case 1:if(xn=si.payload,typeof xn=="function"){Zn=xn.call(tr,Zn,Vn);break e}Zn=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=si.payload,Vn=typeof xn=="function"?xn.call(tr,Zn,Vn):xn,Vn==null)break e;Zn=W({},Zn,Vn);break e;case 2:$i=!0}}st.callback!==null&&st.lane!==0&&(se.flags|=64,Vn=Ce.effects,Vn===null?Ce.effects=[st]:Vn.push(st))}else tr={eventTime:tr,lane:Vn,tag:st.tag,payload:st.payload,callback:st.callback,next:null},bn===null?(sn=bn=tr,Vt=Zn):bn=bn.next=tr,$e|=Vn;if(st=st.next,st===null){if(st=Ce.shared.pending,st===null)break;Vn=st,st=Vn.next,Vn.next=null,Ce.lastBaseUpdate=Vn,Ce.shared.pending=null}}while(!0);if(bn===null&&(Vt=Zn),Ce.baseState=Vt,Ce.firstBaseUpdate=sn,Ce.lastBaseUpdate=bn,le=Ce.shared.interleaved,le!==null){Ce=le;do $e|=Ce.lane,Ce=Ce.next;while(Ce!==le)}else Le===null&&(Ce.shared.lanes=0);xs|=$e,se.lanes=$e,se.memoizedState=Zn}}function cu(se,le,ve){if(se=le.effects,le.effects=null,se!==null)for(le=0;le<se.length;le++){var Ee=se[le],Ce=Ee.callback;if(Ce!==null){if(Ee.callback=null,Ee=ve,typeof Ce!="function")throw Error(te(191,Ce));Ce.call(Ee)}}}var uu=new L.Component().refs;function yc(se,le,ve,Ee){le=se.memoizedState,ve=ve(Ee,le),ve=ve==null?le:W({},le,ve),se.memoizedState=ve,se.lanes===0&&(se.updateQueue.baseState=ve)}var wl={isMounted:function(se){return(se=se._reactInternals)?De(se)===se:!1},enqueueSetState:function(se,le,ve){se=se._reactInternals;var Ee=pr(),Ce=cs(se),Le=ws(Ee,Ce);Le.payload=le,ve!=null&&(Le.callback=ve),Qs(se,Le),le=ui(se,Ce,Ee),le!==null&&Tl(le,se,Ce)},enqueueReplaceState:function(se,le,ve){se=se._reactInternals;var Ee=pr(),Ce=cs(se),Le=ws(Ee,Ce);Le.tag=1,Le.payload=le,ve!=null&&(Le.callback=ve),Qs(se,Le),le=ui(se,Ce,Ee),le!==null&&Tl(le,se,Ce)},enqueueForceUpdate:function(se,le){se=se._reactInternals;var ve=pr(),Ee=cs(se),Ce=ws(ve,Ee);Ce.tag=2,le!=null&&(Ce.callback=le),Qs(se,Ce),le=ui(se,Ee,ve),le!==null&&Tl(le,se,Ee)}};function vc(se,le,ve,Ee,Ce,Le,$e){return se=se.stateNode,typeof se.shouldComponentUpdate=="function"?se.shouldComponentUpdate(Ee,Le,$e):le.prototype&&le.prototype.isPureReactComponent?!ts(ve,Ee)||!ts(Ce,Le):!0}function hu(se,le,ve){var Ee=!1,Ce=Wn,Le=le.contextType;return typeof Le=="object"&&Le!==null?Le=bi(Le):(Ce=ur(le)?er:ar.current,Ee=le.contextTypes,Le=(Ee=Ee!=null)?Ln(se,Ce):Wn),le=new le(ve,Le),se.memoizedState=le.state!==null&&le.state!==void 0?le.state:null,le.updater=wl,se.stateNode=le,le._reactInternals=se,Ee&&(se=se.stateNode,se.__reactInternalMemoizedUnmaskedChildContext=Ce,se.__reactInternalMemoizedMaskedChildContext=Le),le}function fu(se,le,ve,Ee){se=le.state,typeof le.componentWillReceiveProps=="function"&&le.componentWillReceiveProps(ve,Ee),typeof le.UNSAFE_componentWillReceiveProps=="function"&&le.UNSAFE_componentWillReceiveProps(ve,Ee),le.state!==se&&wl.enqueueReplaceState(le,le.state,null)}function _c(se,le,ve,Ee){var Ce=se.stateNode;Ce.props=ve,Ce.state=se.memoizedState,Ce.refs=uu,qa(se);var Le=le.contextType;typeof Le=="object"&&Le!==null?Ce.context=bi(Le):(Le=ur(le)?er:ar.current,Ce.context=Ln(se,Le)),Ce.state=se.memoizedState,Le=le.getDerivedStateFromProps,typeof Le=="function"&&(yc(se,le,Le,ve),Ce.state=se.memoizedState),typeof le.getDerivedStateFromProps=="function"||typeof Ce.getSnapshotBeforeUpdate=="function"||typeof Ce.UNSAFE_componentWillMount!="function"&&typeof Ce.componentWillMount!="function"||(le=Ce.state,typeof Ce.componentWillMount=="function"&&Ce.componentWillMount(),typeof Ce.UNSAFE_componentWillMount=="function"&&Ce.UNSAFE_componentWillMount(),le!==Ce.state&&wl.enqueueReplaceState(Ce,Ce.state,null),Al(se,ve,Ce,Ee),Ce.state=se.memoizedState),typeof Ce.componentDidMount=="function"&&(se.flags|=4194308)}var Ya=[],Js=0,Pl=null,Rl=0,ji=[],Ii=0,ya=null,Ps=1,Rs="";function va(se,le){Ya[Js++]=Rl,Ya[Js++]=Pl,Pl=se,Rl=le}function du(se,le,ve){ji[Ii++]=Ps,ji[Ii++]=Rs,ji[Ii++]=ya,ya=se;var Ee=Ps;se=Rs;var Ce=32-lr(Ee)-1;Ee&=~(1<<Ce),ve+=1;var Le=32-lr(le)+Ce;if(30<Le){var $e=Ce-Ce%5;Le=(Ee&(1<<$e)-1).toString(32),Ee>>=$e,Ce-=$e,Ps=1<<32-lr(le)+Ce|ve<<Ce|Ee,Rs=Le+se}else Ps=1<<Le|ve<<Ce|Ee,Rs=se}function xc(se){se.return!==null&&(va(se,1),du(se,1,0))}function Sc(se){for(;se===Pl;)Pl=Ya[--Js],Ya[Js]=null,Rl=Ya[--Js],Ya[Js]=null;for(;se===ya;)ya=ji[--Ii],ji[Ii]=null,Rs=ji[--Ii],ji[Ii]=null,Ps=ji[--Ii],ji[Ii]=null}var yi=null,ei=null,Ar=!1,Za=!1,Xi=null;function Ec(se,le){var ve=Ui(5,null,null,0);ve.elementType="DELETED",ve.stateNode=le,ve.return=se,le=se.deletions,le===null?(se.deletions=[ve],se.flags|=16):le.push(ve)}function Mc(se,le){switch(se.tag){case 5:return le=pi(le,se.type,se.pendingProps),le!==null?(se.stateNode=le,yi=se,ei=Zs(le),!0):!1;case 6:return le=Wa(le,se.pendingProps),le!==null?(se.stateNode=le,yi=se,ei=null,!0):!1;case 13:if(le=Ys(le),le!==null){var ve=ya!==null?{id:Ps,overflow:Rs}:null;return se.memoizedState={dehydrated:le,treeContext:ve,retryLane:1073741824},ve=Ui(18,null,null,0),ve.stateNode=le,ve.return=se,se.child=ve,yi=se,ei=null,!0}return!1;default:return!1}}function Dl(se){return(se.mode&1)!==0&&(se.flags&128)===0}function ea(se){if(Ar){var le=ei;if(le){var ve=le;if(!Mc(se,le)){if(Dl(se))throw Error(te(418));le=es(ve);var Ee=yi;le&&Mc(se,le)?Ec(Ee,ve):(se.flags=se.flags&-4097|2,Ar=!1,yi=se)}}else{if(Dl(se))throw Error(te(418));se.flags=se.flags&-4097|2,Ar=!1,yi=se}}}function pu(se){for(se=se.return;se!==null&&se.tag!==5&&se.tag!==3&&se.tag!==13;)se=se.return;yi=se}function Po(se){if(!jt||se!==yi)return!1;if(!Ar)return pu(se),Ar=!0,!1;if(se.tag!==3&&(se.tag!==5||Ue(se.type)&&!Pt(se.type,se.memoizedProps))){var le=ei;if(le){if(Dl(se)){for(se=ei;se;)se=es(se);throw Error(te(418))}for(;le;)Ec(se,le),le=es(le)}}if(pu(se),se.tag===13){if(!jt)throw Error(te(316));if(se=se.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(te(317));ei=hl(se)}else ei=yi?es(se.stateNode):null;return!0}function Ka(){jt&&(ei=yi=null,Za=Ar=!1)}function Il(se){Xi===null?Xi=[se]:Xi.push(se)}function Qa(se,le,ve){if(se=ve.ref,se!==null&&typeof se!="function"&&typeof se!="object"){if(ve._owner){if(ve=ve._owner,ve){if(ve.tag!==1)throw Error(te(309));var Ee=ve.stateNode}if(!Ee)throw Error(te(147,se));var Ce=Ee,Le=""+se;return le!==null&&le.ref!==null&&typeof le.ref=="function"&&le.ref._stringRef===Le?le.ref:(le=function($e){var st=Ce.refs;st===uu&&(st=Ce.refs={}),$e===null?delete st[Le]:st[Le]=$e},le._stringRef=Le,le)}if(typeof se!="string")throw Error(te(284));if(!ve._owner)throw Error(te(290,se))}return se}function ta(se,le){throw se=Object.prototype.toString.call(le),Error(te(31,se==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":se))}function Ja(se){var le=se._init;return le(se._payload)}function mu(se){function le(Dt,_t){if(se){var Bt=Dt.deletions;Bt===null?(Dt.deletions=[_t],Dt.flags|=16):Bt.push(_t)}}function ve(Dt,_t){if(!se)return null;for(;_t!==null;)le(Dt,_t),_t=_t.sibling;return null}function Ee(Dt,_t){for(Dt=new Map;_t!==null;)_t.key!==null?Dt.set(_t.key,_t):Dt.set(_t.index,_t),_t=_t.sibling;return Dt}function Ce(Dt,_t){return Dt=Ws(Dt,_t),Dt.index=0,Dt.sibling=null,Dt}function Le(Dt,_t,Bt){return Dt.index=Bt,se?(Bt=Dt.alternate,Bt!==null?(Bt=Bt.index,Bt<_t?(Dt.flags|=2,_t):Bt):(Dt.flags|=2,_t)):(Dt.flags|=1048576,_t)}function $e(Dt){return se&&Dt.alternate===null&&(Dt.flags|=2),Dt}function st(Dt,_t,Bt,vn){return _t===null||_t.tag!==6?(_t=sc(Bt,Dt.mode,vn),_t.return=Dt,_t):(_t=Ce(_t,Bt),_t.return=Dt,_t)}function Vt(Dt,_t,Bt,vn){var Bn=Bt.type;return Bn===ae?bn(Dt,_t,Bt.props.children,vn,Bt.key):_t!==null&&(_t.elementType===Bn||typeof Bn=="object"&&Bn!==null&&Bn.$$typeof===xe&&Ja(Bn)===_t.type)?(vn=Ce(_t,Bt.props),vn.ref=Qa(Dt,_t,Bt),vn.return=Dt,vn):(vn=ic(Bt.type,Bt.key,Bt.props,null,Dt.mode,vn),vn.ref=Qa(Dt,_t,Bt),vn.return=Dt,vn)}function sn(Dt,_t,Bt,vn){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==Bt.containerInfo||_t.stateNode.implementation!==Bt.implementation?(_t=ac(Bt,Dt.mode,vn),_t.return=Dt,_t):(_t=Ce(_t,Bt.children||[]),_t.return=Dt,_t)}function bn(Dt,_t,Bt,vn,Bn){return _t===null||_t.tag!==7?(_t=Va(Bt,Dt.mode,vn,Bn),_t.return=Dt,_t):(_t=Ce(_t,Bt),_t.return=Dt,_t)}function Zn(Dt,_t,Bt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return _t=sc(""+_t,Dt.mode,Bt),_t.return=Dt,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case ie:return Bt=ic(_t.type,_t.key,_t.props,null,Dt.mode,Bt),Bt.ref=Qa(Dt,null,_t),Bt.return=Dt,Bt;case oe:return _t=ac(_t,Dt.mode,Bt),_t.return=Dt,_t;case xe:var vn=_t._init;return Zn(Dt,vn(_t._payload),Bt)}if(qe(_t)||be(_t))return _t=Va(_t,Dt.mode,Bt,null),_t.return=Dt,_t;ta(Dt,_t)}return null}function Vn(Dt,_t,Bt,vn){var Bn=_t!==null?_t.key:null;if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return Bn!==null?null:st(Dt,_t,""+Bt,vn);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case ie:return Bt.key===Bn?Vt(Dt,_t,Bt,vn):null;case oe:return Bt.key===Bn?sn(Dt,_t,Bt,vn):null;case xe:return Bn=Bt._init,Vn(Dt,_t,Bn(Bt._payload),vn)}if(qe(Bt)||be(Bt))return Bn!==null?null:bn(Dt,_t,Bt,vn,null);ta(Dt,Bt)}return null}function tr(Dt,_t,Bt,vn,Bn){if(typeof vn=="string"&&vn!==""||typeof vn=="number")return Dt=Dt.get(Bt)||null,st(_t,Dt,""+vn,Bn);if(typeof vn=="object"&&vn!==null){switch(vn.$$typeof){case ie:return Dt=Dt.get(vn.key===null?Bt:vn.key)||null,Vt(_t,Dt,vn,Bn);case oe:return Dt=Dt.get(vn.key===null?Bt:vn.key)||null,sn(_t,Dt,vn,Bn);case xe:var Qn=vn._init;return tr(Dt,_t,Bt,Qn(vn._payload),Bn)}if(qe(vn)||be(vn))return Dt=Dt.get(Bt)||null,bn(_t,Dt,vn,Bn,null);ta(_t,vn)}return null}function xn(Dt,_t,Bt,vn){for(var Bn=null,Qn=null,Kn=_t,dr=_t=0,Ur=null;Kn!==null&&dr<Bt.length;dr++){Kn.index>dr?(Ur=Kn,Kn=null):Ur=Kn.sibling;var fr=Vn(Dt,Kn,Bt[dr],vn);if(fr===null){Kn===null&&(Kn=Ur);break}se&&Kn&&fr.alternate===null&&le(Dt,Kn),_t=Le(fr,_t,dr),Qn===null?Bn=fr:Qn.sibling=fr,Qn=fr,Kn=Ur}if(dr===Bt.length)return ve(Dt,Kn),Ar&&va(Dt,dr),Bn;if(Kn===null){for(;dr<Bt.length;dr++)Kn=Zn(Dt,Bt[dr],vn),Kn!==null&&(_t=Le(Kn,_t,dr),Qn===null?Bn=Kn:Qn.sibling=Kn,Qn=Kn);return Ar&&va(Dt,dr),Bn}for(Kn=Ee(Dt,Kn);dr<Bt.length;dr++)Ur=tr(Kn,Dt,dr,Bt[dr],vn),Ur!==null&&(se&&Ur.alternate!==null&&Kn.delete(Ur.key===null?dr:Ur.key),_t=Le(Ur,_t,dr),Qn===null?Bn=Ur:Qn.sibling=Ur,Qn=Ur);return se&&Kn.forEach(function($s){return le(Dt,$s)}),Ar&&va(Dt,dr),Bn}function si(Dt,_t,Bt,vn){var Bn=be(Bt);if(typeof Bn!="function")throw Error(te(150));if(Bt=Bn.call(Bt),Bt==null)throw Error(te(151));for(var Qn=Bn=null,Kn=_t,dr=_t=0,Ur=null,fr=Bt.next();Kn!==null&&!fr.done;dr++,fr=Bt.next()){Kn.index>dr?(Ur=Kn,Kn=null):Ur=Kn.sibling;var $s=Vn(Dt,Kn,fr.value,vn);if($s===null){Kn===null&&(Kn=Ur);break}se&&Kn&&$s.alternate===null&&le(Dt,Kn),_t=Le($s,_t,dr),Qn===null?Bn=$s:Qn.sibling=$s,Qn=$s,Kn=Ur}if(fr.done)return ve(Dt,Kn),Ar&&va(Dt,dr),Bn;if(Kn===null){for(;!fr.done;dr++,fr=Bt.next())fr=Zn(Dt,fr.value,vn),fr!==null&&(_t=Le(fr,_t,dr),Qn===null?Bn=fr:Qn.sibling=fr,Qn=fr);return Ar&&va(Dt,dr),Bn}for(Kn=Ee(Dt,Kn);!fr.done;dr++,fr=Bt.next())fr=tr(Kn,Dt,dr,fr.value,vn),fr!==null&&(se&&fr.alternate!==null&&Kn.delete(fr.key===null?dr:fr.key),_t=Le(fr,_t,dr),Qn===null?Bn=fr:Qn.sibling=fr,Qn=fr);return se&&Kn.forEach(function(eu){return le(Dt,eu)}),Ar&&va(Dt,dr),Bn}function zi(Dt,_t,Bt,vn){if(typeof Bt=="object"&&Bt!==null&&Bt.type===ae&&Bt.key===null&&(Bt=Bt.props.children),typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case ie:e:{for(var Bn=Bt.key,Qn=_t;Qn!==null;){if(Qn.key===Bn){if(Bn=Bt.type,Bn===ae){if(Qn.tag===7){ve(Dt,Qn.sibling),_t=Ce(Qn,Bt.props.children),_t.return=Dt,Dt=_t;break e}}else if(Qn.elementType===Bn||typeof Bn=="object"&&Bn!==null&&Bn.$$typeof===xe&&Ja(Bn)===Qn.type){ve(Dt,Qn.sibling),_t=Ce(Qn,Bt.props),_t.ref=Qa(Dt,Qn,Bt),_t.return=Dt,Dt=_t;break e}ve(Dt,Qn);break}else le(Dt,Qn);Qn=Qn.sibling}Bt.type===ae?(_t=Va(Bt.props.children,Dt.mode,vn,Bt.key),_t.return=Dt,Dt=_t):(vn=ic(Bt.type,Bt.key,Bt.props,null,Dt.mode,vn),vn.ref=Qa(Dt,_t,Bt),vn.return=Dt,Dt=vn)}return $e(Dt);case oe:e:{for(Qn=Bt.key;_t!==null;){if(_t.key===Qn)if(_t.tag===4&&_t.stateNode.containerInfo===Bt.containerInfo&&_t.stateNode.implementation===Bt.implementation){ve(Dt,_t.sibling),_t=Ce(_t,Bt.children||[]),_t.return=Dt,Dt=_t;break e}else{ve(Dt,_t);break}else le(Dt,_t);_t=_t.sibling}_t=ac(Bt,Dt.mode,vn),_t.return=Dt,Dt=_t}return $e(Dt);case xe:return Qn=Bt._init,zi(Dt,_t,Qn(Bt._payload),vn)}if(qe(Bt))return xn(Dt,_t,Bt,vn);if(be(Bt))return si(Dt,_t,Bt,vn);ta(Dt,Bt)}return typeof Bt=="string"&&Bt!==""||typeof Bt=="number"?(Bt=""+Bt,_t!==null&&_t.tag===6?(ve(Dt,_t.sibling),_t=Ce(_t,Bt),_t.return=Dt,Dt=_t):(ve(Dt,_t),_t=sc(Bt,Dt.mode,vn),_t.return=Dt,Dt=_t),$e(Dt)):ve(Dt,_t)}return zi}var Ds=mu(!0),gu=mu(!1),eo={},Ai=On(eo),xa=On(eo),Sa=On(eo);function ns(se){if(se===eo)throw Error(te(174));return se}function Ll(se,le){Fn(Sa,le),Fn(xa,se),Fn(Ai,eo),se=Ct(le),an(Ai),Fn(Ai,se)}function to(){an(Ai),an(xa),an(Sa)}function yu(se){var le=ns(Sa.current),ve=ns(Ai.current);le=Re(ve,se.type,le),ve!==le&&(Fn(xa,se),Fn(Ai,le))}function Cc(se){xa.current===se&&(an(Ai),an(xa))}var Pr=On(0);function Fl(se){for(var le=se;le!==null;){if(le.tag===13){var ve=le.memoizedState;if(ve!==null&&(ve=ve.dehydrated,ve===null||fs(ve)||Ji(ve)))return le}else if(le.tag===19&&le.memoizedProps.revealOrder!==void 0){if(le.flags&128)return le}else if(le.child!==null){le.child.return=le,le=le.child;continue}if(le===se)break;for(;le.sibling===null;){if(le.return===null||le.return===se)return null;le=le.return}le.sibling.return=le.return,le=le.sibling}return null}var Li=[];function Ea(){for(var se=0;se<Li.length;se++){var le=Li[se];pn?le._workInProgressVersionPrimary=null:le._workInProgressVersionSecondary=null}Li.length=0}var Ro=ne.ReactCurrentDispatcher,Fi=ne.ReactCurrentBatchConfig,Ma=0,Rr=null,jr=null,Xr=null,kl=!1,ys=!1,Ca=0,Do=0;function qr(){throw Error(te(321))}function Bl(se,le){if(le===null)return!1;for(var ve=0;ve<le.length&&ve<se.length;ve++)if(!mi(se[ve],le[ve]))return!1;return!0}function no(se,le,ve,Ee,Ce,Le){if(Ma=Le,Rr=le,le.memoizedState=null,le.updateQueue=null,le.lanes=0,Ro.current=se===null||se.memoizedState===null?Rc:Dc,se=ve(Ee,Ce),ys){Le=0;do{if(ys=!1,Ca=0,25<=Le)throw Error(te(301));Le+=1,Xr=jr=null,le.updateQueue=null,Ro.current=Ic,se=ve(Ee,Ce)}while(ys)}if(Ro.current=ao,le=jr!==null&&jr.next!==null,Ma=0,Xr=jr=Rr=null,kl=!1,le)throw Error(te(300));return se}function na(){var se=Ca!==0;return Ca=0,se}function rs(){var se={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?Rr.memoizedState=Xr=se:Xr=Xr.next=se,Xr}function ss(){if(jr===null){var se=Rr.alternate;se=se!==null?se.memoizedState:null}else se=jr.next;var le=Xr===null?Rr.memoizedState:Xr.next;if(le!==null)Xr=le,jr=se;else{if(se===null)throw Error(te(310));jr=se,se={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Xr===null?Rr.memoizedState=Xr=se:Xr=Xr.next=se}return Xr}function vs(se,le){return typeof le=="function"?le(se):le}function Io(se){var le=ss(),ve=le.queue;if(ve===null)throw Error(te(311));ve.lastRenderedReducer=se;var Ee=jr,Ce=Ee.baseQueue,Le=ve.pending;if(Le!==null){if(Ce!==null){var $e=Ce.next;Ce.next=Le.next,Le.next=$e}Ee.baseQueue=Ce=Le,ve.pending=null}if(Ce!==null){Le=Ce.next,Ee=Ee.baseState;var st=$e=null,Vt=null,sn=Le;do{var bn=sn.lane;if((Ma&bn)===bn)Vt!==null&&(Vt=Vt.next={lane:0,action:sn.action,hasEagerState:sn.hasEagerState,eagerState:sn.eagerState,next:null}),Ee=sn.hasEagerState?sn.eagerState:se(Ee,sn.action);else{var Zn={lane:bn,action:sn.action,hasEagerState:sn.hasEagerState,eagerState:sn.eagerState,next:null};Vt===null?(st=Vt=Zn,$e=Ee):Vt=Vt.next=Zn,Rr.lanes|=bn,xs|=bn}sn=sn.next}while(sn!==null&&sn!==Le);Vt===null?$e=Ee:Vt.next=st,mi(Ee,le.memoizedState)||(Yr=!0),le.memoizedState=Ee,le.baseState=$e,le.baseQueue=Vt,ve.lastRenderedState=Ee}if(se=ve.interleaved,se!==null){Ce=se;do Le=Ce.lane,Rr.lanes|=Le,xs|=Le,Ce=Ce.next;while(Ce!==se)}else Ce===null&&(ve.lanes=0);return[le.memoizedState,ve.dispatch]}function Lo(se){var le=ss(),ve=le.queue;if(ve===null)throw Error(te(311));ve.lastRenderedReducer=se;var Ee=ve.dispatch,Ce=ve.pending,Le=le.memoizedState;if(Ce!==null){ve.pending=null;var $e=Ce=Ce.next;do Le=se(Le,$e.action),$e=$e.next;while($e!==Ce);mi(Le,le.memoizedState)||(Yr=!0),le.memoizedState=Le,le.baseQueue===null&&(le.baseState=Le),ve.lastRenderedState=Le}return[Le,Ee]}function Tc(){}function bc(se,le){var ve=Rr,Ee=ss(),Ce=le(),Le=!mi(Ee.memoizedState,Ce);if(Le&&(Ee.memoizedState=Ce,Yr=!0),Ee=Ee.queue,ro(Is.bind(null,ve,Ee,se),[se]),Ee.getSnapshot!==le||Le||Xr!==null&&Xr.memoizedState.tag&1){if(ve.flags|=2048,ko(9,wc.bind(null,ve,Ee,Ce,le),void 0,null),Br===null)throw Error(te(349));Ma&30||Ac(ve,le,Ce)}return Ce}function Ac(se,le,ve){se.flags|=16384,se={getSnapshot:le,value:ve},le=Rr.updateQueue,le===null?(le={lastEffect:null,stores:null},Rr.updateQueue=le,le.stores=[se]):(ve=le.stores,ve===null?le.stores=[se]:ve.push(se))}function wc(se,le,ve,Ee){le.value=ve,le.getSnapshot=Ee,Nl(le)&&ui(se,1,-1)}function Is(se,le,ve){return ve(function(){Nl(le)&&ui(se,1,-1)})}function Nl(se){var le=se.getSnapshot;se=se.value;try{var ve=le();return!mi(se,ve)}catch{return!0}}function Fo(se){var le=rs();return typeof se=="function"&&(se=se()),le.memoizedState=le.baseState=se,se={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:se},le.queue=se,se=se.dispatch=th.bind(null,Rr,se),[le.memoizedState,se]}function ko(se,le,ve,Ee){return se={tag:se,create:le,destroy:ve,deps:Ee,next:null},le=Rr.updateQueue,le===null?(le={lastEffect:null,stores:null},Rr.updateQueue=le,le.lastEffect=se.next=se):(ve=le.lastEffect,ve===null?le.lastEffect=se.next=se:(Ee=ve.next,ve.next=se,se.next=Ee,le.lastEffect=se)),se}function vu(){return ss().memoizedState}function ra(se,le,ve,Ee){var Ce=rs();Rr.flags|=se,Ce.memoizedState=ko(1|le,ve,void 0,Ee===void 0?null:Ee)}function Ol(se,le,ve,Ee){var Ce=ss();Ee=Ee===void 0?null:Ee;var Le=void 0;if(jr!==null){var $e=jr.memoizedState;if(Le=$e.destroy,Ee!==null&&Bl(Ee,$e.deps)){Ce.memoizedState=ko(le,ve,Le,Ee);return}}Rr.flags|=se,Ce.memoizedState=ko(1|le,ve,Le,Ee)}function Ul(se,le){return ra(8390656,8,se,le)}function ro(se,le){return Ol(2048,8,se,le)}function Sr(se,le){return Ol(4,2,se,le)}function zl(se,le){return Ol(4,4,se,le)}function Bo(se,le){if(typeof le=="function")return se=se(),le(se),function(){le(null)};if(le!=null)return se=se(),le.current=se,function(){le.current=null}}function io(se,le,ve){return ve=ve!=null?ve.concat([se]):null,Ol(4,4,Bo.bind(null,le,se),ve)}function Vl(){}function Gl(se,le){var ve=ss();le=le===void 0?null:le;var Ee=ve.memoizedState;return Ee!==null&&le!==null&&Bl(le,Ee[1])?Ee[0]:(ve.memoizedState=[se,le],se)}function so(se,le){var ve=ss();le=le===void 0?null:le;var Ee=ve.memoizedState;return Ee!==null&&le!==null&&Bl(le,Ee[1])?Ee[0]:(se=se(),ve.memoizedState=[se,le],se)}function Hl(se,le){var ve=ir;ir=ve!==0&&4>ve?ve:4,se(!0);var Ee=Fi.transition;Fi.transition={};try{se(!1),le()}finally{ir=ve,Fi.transition=Ee}}function Ta(){return ss().memoizedState}function _u(se,le,ve){var Ee=cs(se);ve={lane:Ee,action:ve,hasEagerState:!1,eagerState:null,next:null},xu(se)?Pc(le,ve):(No(se,le,ve),ve=pr(),se=ui(se,Ee,ve),se!==null&&Oo(se,le,Ee))}function th(se,le,ve){var Ee=cs(se),Ce={lane:Ee,action:ve,hasEagerState:!1,eagerState:null,next:null};if(xu(se))Pc(le,Ce);else{No(se,le,Ce);var Le=se.alternate;if(se.lanes===0&&(Le===null||Le.lanes===0)&&(Le=le.lastRenderedReducer,Le!==null))try{var $e=le.lastRenderedState,st=Le($e,ve);if(Ce.hasEagerState=!0,Ce.eagerState=st,mi(st,$e))return}catch{}finally{}ve=pr(),se=ui(se,Ee,ve),se!==null&&Oo(se,le,Ee)}}function xu(se){var le=se.alternate;return se===Rr||le!==null&&le===Rr}function Pc(se,le){ys=kl=!0;var ve=se.pending;ve===null?le.next=le:(le.next=ve.next,ve.next=le),se.pending=le}function No(se,le,ve){Br!==null&&se.mode&1&&!(Jn&2)?(se=le.interleaved,se===null?(ve.next=ve,Wi===null?Wi=[le]:Wi.push(le)):(ve.next=se.next,se.next=ve),le.interleaved=ve):(se=le.pending,se===null?ve.next=ve:(ve.next=se.next,se.next=ve),le.pending=ve)}function Oo(se,le,ve){if(ve&4194240){var Ee=le.lanes;Ee&=se.pendingLanes,ve|=Ee,le.lanes=ve,ms(se,ve)}}var ao={readContext:bi,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},Rc={readContext:bi,useCallback:function(se,le){return rs().memoizedState=[se,le===void 0?null:le],se},useContext:bi,useEffect:Ul,useImperativeHandle:function(se,le,ve){return ve=ve!=null?ve.concat([se]):null,ra(4194308,4,Bo.bind(null,le,se),ve)},useLayoutEffect:function(se,le){return ra(4194308,4,se,le)},useInsertionEffect:function(se,le){return ra(4,2,se,le)},useMemo:function(se,le){var ve=rs();return le=le===void 0?null:le,se=se(),ve.memoizedState=[se,le],se},useReducer:function(se,le,ve){var Ee=rs();return le=ve!==void 0?ve(le):le,Ee.memoizedState=Ee.baseState=le,se={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:se,lastRenderedState:le},Ee.queue=se,se=se.dispatch=_u.bind(null,Rr,se),[Ee.memoizedState,se]},useRef:function(se){var le=rs();return se={current:se},le.memoizedState=se},useState:Fo,useDebugValue:Vl,useDeferredValue:function(se){var le=Fo(se),ve=le[0],Ee=le[1];return Ul(function(){var Ce=Fi.transition;Fi.transition={};try{Ee(se)}finally{Fi.transition=Ce}},[se]),ve},useTransition:function(){var se=Fo(!1),le=se[0];return se=Hl.bind(null,se[1]),rs().memoizedState=se,[le,se]},useMutableSource:function(){},useSyncExternalStore:function(se,le,ve){var Ee=Rr,Ce=rs();if(Ar){if(ve===void 0)throw Error(te(407));ve=ve()}else{if(ve=le(),Br===null)throw Error(te(349));Ma&30||Ac(Ee,le,ve)}Ce.memoizedState=ve;var Le={value:ve,getSnapshot:le};return Ce.queue=Le,Ul(Is.bind(null,Ee,Le,se),[se]),Ee.flags|=2048,ko(9,wc.bind(null,Ee,Le,ve,le),void 0,null),ve},useId:function(){var se=rs(),le=Br.identifierPrefix;if(Ar){var ve=Rs,Ee=Ps;ve=(Ee&~(1<<32-lr(Ee)-1)).toString(32)+ve,le=":"+le+"R"+ve,ve=Ca++,0<ve&&(le+="H"+ve.toString(32)),le+=":"}else ve=Do++,le=":"+le+"r"+ve.toString(32)+":";return se.memoizedState=le},unstable_isNewReconciler:!1},Dc={readContext:bi,useCallback:Gl,useContext:bi,useEffect:ro,useImperativeHandle:io,useInsertionEffect:Sr,useLayoutEffect:zl,useMemo:so,useReducer:Io,useRef:vu,useState:function(){return Io(vs)},useDebugValue:Vl,useDeferredValue:function(se){var le=Io(vs),ve=le[0],Ee=le[1];return ro(function(){var Ce=Fi.transition;Fi.transition={};try{Ee(se)}finally{Fi.transition=Ce}},[se]),ve},useTransition:function(){var se=Io(vs)[0],le=ss().memoizedState;return[se,le]},useMutableSource:Tc,useSyncExternalStore:bc,useId:Ta,unstable_isNewReconciler:!1},Ic={readContext:bi,useCallback:Gl,useContext:bi,useEffect:ro,useImperativeHandle:io,useInsertionEffect:Sr,useLayoutEffect:zl,useMemo:so,useReducer:Lo,useRef:vu,useState:function(){return Lo(vs)},useDebugValue:Vl,useDeferredValue:function(se){var le=Lo(vs),ve=le[0],Ee=le[1];return ro(function(){var Ce=Fi.transition;Fi.transition={};try{Ee(se)}finally{Fi.transition=Ce}},[se]),ve},useTransition:function(){var se=Lo(vs)[0],le=ss().memoizedState;return[se,le]},useMutableSource:Tc,useSyncExternalStore:bc,useId:Ta,unstable_isNewReconciler:!1};function Lc(se,le){try{var ve="",Ee=le;do ve+=mc(Ee),Ee=Ee.return;while(Ee);var Ce=ve}catch(Le){Ce=`
Error generating stack: `+Le.message+`
`+Le.stack}return{value:se,source:le,stack:Ce}}function Wl(se,le){try{console.error(le.value)}catch(ve){setTimeout(function(){throw ve})}}var nh=typeof WeakMap=="function"?WeakMap:Map;function Su(se,le,ve){ve=ws(-1,ve),ve.tag=3,ve.payload={element:null};var Ee=le.value;return ve.callback=function(){fo||(fo=!0,br=Ee),Wl(se,le)},ve}function $l(se,le,ve){ve=ws(-1,ve),ve.tag=3;var Ee=se.type.getDerivedStateFromError;if(typeof Ee=="function"){var Ce=le.value;ve.payload=function(){return Ee(Ce)},ve.callback=function(){Wl(se,le)}}var Le=se.stateNode;return Le!==null&&typeof Le.componentDidCatch=="function"&&(ve.callback=function(){Wl(se,le),typeof Ee!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var $e=le.stack;this.componentDidCatch(le.value,{componentStack:$e!==null?$e:""})}),ve}function Ls(se,le,ve){var Ee=se.pingCache;if(Ee===null){Ee=se.pingCache=new nh;var Ce=new Set;Ee.set(le,Ce)}else Ce=Ee.get(le),Ce===void 0&&(Ce=new Set,Ee.set(le,Ce));Ce.has(ve)||(Ce.add(ve),se=Kc.bind(null,se,le,ve),le.then(se,se))}function Fc(se){do{var le;if((le=se.tag===13)&&(le=se.memoizedState,le=le!==null?le.dehydrated!==null:!0),le)return se;se=se.return}while(se!==null);return null}function ba(se,le,ve,Ee,Ce){return se.mode&1?(se.flags|=65536,se.lanes=Ce,se):(se===le?se.flags|=65536:(se.flags|=128,ve.flags|=131072,ve.flags&=-52805,ve.tag===1&&(ve.alternate===null?ve.tag=17:(le=ws(-1,1),le.tag=2,Qs(ve,le))),ve.lanes|=1),se)}function Gr(se){se.flags|=4}function oo(se,le){if(se!==null&&se.child===le.child)return!0;if(le.flags&16)return!1;for(se=le.child;se!==null;){if(se.flags&12854||se.subtreeFlags&12854)return!1;se=se.sibling}return!0}var ki,Aa,jl,Xl;if(In)ki=function(se,le){for(var ve=le.child;ve!==null;){if(ve.tag===5||ve.tag===6)Ze(se,ve.stateNode);else if(ve.tag!==4&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===le)break;for(;ve.sibling===null;){if(ve.return===null||ve.return===le)return;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}},Aa=function(){},jl=function(se,le,ve,Ee,Ce){if(se=se.memoizedProps,se!==Ee){var Le=le.stateNode,$e=ns(Ai.current);ve=Qe(Le,ve,se,Ee,Ce,$e),(le.updateQueue=ve)&&Gr(le)}},Xl=function(se,le,ve,Ee){ve!==Ee&&Gr(le)};else if($t){ki=function(se,le,ve,Ee){for(var Ce=le.child;Ce!==null;){if(Ce.tag===5){var Le=Ce.stateNode;ve&&Ee&&(Le=hr(Le,Ce.type,Ce.memoizedProps,Ce)),Ze(se,Le)}else if(Ce.tag===6)Le=Ce.stateNode,ve&&Ee&&(Le=di(Le,Ce.memoizedProps,Ce)),Ze(se,Le);else if(Ce.tag!==4){if(Ce.tag===22&&Ce.memoizedState!==null)Le=Ce.child,Le!==null&&(Le.return=Ce),ki(se,Ce,!0,!0);else if(Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}}if(Ce===le)break;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===le)return;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}};var ia=function(se,le,ve,Ee){for(var Ce=le.child;Ce!==null;){if(Ce.tag===5){var Le=Ce.stateNode;ve&&Ee&&(Le=hr(Le,Ce.type,Ce.memoizedProps,Ce)),qn(se,Le)}else if(Ce.tag===6)Le=Ce.stateNode,ve&&Ee&&(Le=di(Le,Ce.memoizedProps,Ce)),qn(se,Le);else if(Ce.tag!==4){if(Ce.tag===22&&Ce.memoizedState!==null)Le=Ce.child,Le!==null&&(Le.return=Ce),ia(se,Ce,!0,!0);else if(Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}}if(Ce===le)break;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===le)return;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}};Aa=function(se,le){var ve=le.stateNode;if(!oo(se,le)){se=ve.containerInfo;var Ee=yn(se);ia(Ee,le,!1,!1),ve.pendingChildren=Ee,Gr(le),Cr(se,Ee)}},jl=function(se,le,ve,Ee,Ce){var Le=se.stateNode,$e=se.memoizedProps;if((se=oo(se,le))&&$e===Ee)le.stateNode=Le;else{var st=le.stateNode,Vt=ns(Ai.current),sn=null;$e!==Ee&&(sn=Qe(st,ve,$e,Ee,Ce,Vt)),se&&sn===null?le.stateNode=Le:(Le=_n(Le,sn,ve,$e,Ee,le,se,st),Wt(Le,ve,Ee,Ce,Vt)&&Gr(le),le.stateNode=Le,se?Gr(le):ki(Le,le,!1,!1))}},Xl=function(se,le,ve,Ee){ve!==Ee?(se=ns(Sa.current),ve=ns(Ai.current),le.stateNode=zt(Ee,se,ve,le),Gr(le)):le.stateNode=se.stateNode}}else Aa=function(){},jl=function(){},Xl=function(){};function Fs(se,le){if(!Ar)switch(se.tailMode){case"hidden":le=se.tail;for(var ve=null;le!==null;)le.alternate!==null&&(ve=le),le=le.sibling;ve===null?se.tail=null:ve.sibling=null;break;case"collapsed":ve=se.tail;for(var Ee=null;ve!==null;)ve.alternate!==null&&(Ee=ve),ve=ve.sibling;Ee===null?le||se.tail===null?se.tail=null:se.tail.sibling=null:Ee.sibling=null}}function kr(se){var le=se.alternate!==null&&se.alternate.child===se.child,ve=0,Ee=0;if(le)for(var Ce=se.child;Ce!==null;)ve|=Ce.lanes|Ce.childLanes,Ee|=Ce.subtreeFlags&14680064,Ee|=Ce.flags&14680064,Ce.return=se,Ce=Ce.sibling;else for(Ce=se.child;Ce!==null;)ve|=Ce.lanes|Ce.childLanes,Ee|=Ce.subtreeFlags,Ee|=Ce.flags,Ce.return=se,Ce=Ce.sibling;return se.subtreeFlags|=Ee,se.childLanes=ve,le}function ql(se,le,ve){var Ee=le.pendingProps;switch(Sc(le),le.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(le),null;case 1:return ur(le.type)&&nr(),kr(le),null;case 3:return Ee=le.stateNode,to(),an(or),an(ar),Ea(),Ee.pendingContext&&(Ee.context=Ee.pendingContext,Ee.pendingContext=null),(se===null||se.child===null)&&(Po(le)?Gr(le):se===null||se.memoizedState.isDehydrated&&!(le.flags&256)||(le.flags|=1024,Xi!==null&&(Ko(Xi),Xi=null))),Aa(se,le),kr(le),null;case 5:Cc(le),ve=ns(Sa.current);var Ce=le.type;if(se!==null&&le.stateNode!=null)jl(se,le,Ce,Ee,ve),se.ref!==le.ref&&(le.flags|=512,le.flags|=2097152);else{if(!Ee){if(le.stateNode===null)throw Error(te(166));return kr(le),null}if(se=ns(Ai.current),Po(le)){if(!jt)throw Error(te(175));se=cl(le.stateNode,le.type,le.memoizedProps,ve,se,le,!Za),le.updateQueue=se,se!==null&&Gr(le)}else{var Le=Ne(Ce,Ee,ve,se,le);ki(Le,le,!1,!1),le.stateNode=Le,Wt(Le,Ce,Ee,ve,se)&&Gr(le)}le.ref!==null&&(le.flags|=512,le.flags|=2097152)}return kr(le),null;case 6:if(se&&le.stateNode!=null)Xl(se,le,se.memoizedProps,Ee);else{if(typeof Ee!="string"&&le.stateNode===null)throw Error(te(166));if(se=ns(Sa.current),ve=ns(Ai.current),Po(le)){if(!jt)throw Error(te(176));if(se=le.stateNode,Ee=le.memoizedProps,(ve=ds(se,Ee,le,!Za))&&(Ce=yi,Ce!==null))switch(Le=(Ce.mode&1)!==0,Ce.tag){case 3:vt(Ce.stateNode.containerInfo,se,Ee,Le);break;case 5:Ft(Ce.type,Ce.memoizedProps,Ce.stateNode,se,Ee,Le)}ve&&Gr(le)}else le.stateNode=zt(Ee,se,ve,le)}return kr(le),null;case 13:if(an(Pr),Ee=le.memoizedState,Ar&&ei!==null&&le.mode&1&&!(le.flags&128)){for(se=ei;se;)se=es(se);return Ka(),le.flags|=98560,le}if(Ee!==null&&Ee.dehydrated!==null){if(Ee=Po(le),se===null){if(!Ee)throw Error(te(318));if(!jt)throw Error(te(344));if(se=le.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(te(317));ul(se,le)}else Ka(),!(le.flags&128)&&(le.memoizedState=null),le.flags|=4;return kr(le),null}return Xi!==null&&(Ko(Xi),Xi=null),le.flags&128?(le.lanes=ve,le):(Ee=Ee!==null,ve=!1,se===null?Po(le):ve=se.memoizedState!==null,Ee&&!ve&&(le.child.flags|=8192,le.mode&1&&(se===null||Pr.current&1?Ir===0&&(Ir=3):tc())),le.updateQueue!==null&&(le.flags|=4),kr(le),null);case 4:return to(),Aa(se,le),se===null&&Cn(le.stateNode.containerInfo),kr(le),null;case 10:return wo(le.type._context),kr(le),null;case 17:return ur(le.type)&&nr(),kr(le),null;case 19:if(an(Pr),Ce=le.memoizedState,Ce===null)return kr(le),null;if(Ee=(le.flags&128)!==0,Le=Ce.rendering,Le===null)if(Ee)Fs(Ce,!1);else{if(Ir!==0||se!==null&&se.flags&128)for(se=le.child;se!==null;){if(Le=Fl(se),Le!==null){for(le.flags|=128,Fs(Ce,!1),se=Le.updateQueue,se!==null&&(le.updateQueue=se,le.flags|=4),le.subtreeFlags=0,se=ve,Ee=le.child;Ee!==null;)ve=Ee,Ce=se,ve.flags&=14680066,Le=ve.alternate,Le===null?(ve.childLanes=0,ve.lanes=Ce,ve.child=null,ve.subtreeFlags=0,ve.memoizedProps=null,ve.memoizedState=null,ve.updateQueue=null,ve.dependencies=null,ve.stateNode=null):(ve.childLanes=Le.childLanes,ve.lanes=Le.lanes,ve.child=Le.child,ve.subtreeFlags=0,ve.deletions=null,ve.memoizedProps=Le.memoizedProps,ve.memoizedState=Le.memoizedState,ve.updateQueue=Le.updateQueue,ve.type=Le.type,Ce=Le.dependencies,ve.dependencies=Ce===null?null:{lanes:Ce.lanes,firstContext:Ce.firstContext}),Ee=Ee.sibling;return Fn(Pr,Pr.current&1|2),le.child}se=se.sibling}Ce.tail!==null&&Vr()>oa&&(le.flags|=128,Ee=!0,Fs(Ce,!1),le.lanes=4194304)}else{if(!Ee)if(se=Fl(Le),se!==null){if(le.flags|=128,Ee=!0,se=se.updateQueue,se!==null&&(le.updateQueue=se,le.flags|=4),Fs(Ce,!0),Ce.tail===null&&Ce.tailMode==="hidden"&&!Le.alternate&&!Ar)return kr(le),null}else 2*Vr()-Ce.renderingStartTime>oa&&ve!==1073741824&&(le.flags|=128,Ee=!0,Fs(Ce,!1),le.lanes=4194304);Ce.isBackwards?(Le.sibling=le.child,le.child=Le):(se=Ce.last,se!==null?se.sibling=Le:le.child=Le,Ce.last=Le)}return Ce.tail!==null?(le=Ce.tail,Ce.rendering=le,Ce.tail=le.sibling,Ce.renderingStartTime=Vr(),le.sibling=null,se=Pr.current,Fn(Pr,Ee?se&1|2:se&1),le):(kr(le),null);case 22:case 23:return Qo(),Ee=le.memoizedState!==null,se!==null&&se.memoizedState!==null!==Ee&&(le.flags|=8192),Ee&&le.mode&1?ci&1073741824&&(kr(le),In&&le.subtreeFlags&6&&(le.flags|=8192)):kr(le),null;case 24:return null;case 25:return null}throw Error(te(156,le.tag))}var kc=ne.ReactCurrentOwner,Yr=!1;function Dr(se,le,ve,Ee){le.child=se===null?gu(le,null,ve,Ee):Ds(le,se.child,ve,Ee)}function Er(se,le,ve,Ee,Ce){ve=ve.render;var Le=le.ref;return Xa(le,Ce),Ee=no(se,le,ve,Ee,Le,Ce),ve=na(),se!==null&&!Yr?(le.updateQueue=se.updateQueue,le.flags&=-2053,se.lanes&=~Ce,wi(se,le,Ce)):(Ar&&ve&&xc(le),le.flags|=1,Dr(se,le,Ee,Ce),le.child)}function xr(se,le,ve,Ee,Ce){if(se===null){var Le=ve.type;return typeof Le=="function"&&!rc(Le)&&Le.defaultProps===void 0&&ve.compare===null&&ve.defaultProps===void 0?(le.tag=15,le.type=Le,ks(se,le,Le,Ee,Ce)):(se=ic(ve.type,null,Ee,le,le.mode,Ce),se.ref=le.ref,se.return=le,le.child=se)}if(Le=se.child,!(se.lanes&Ce)){var $e=Le.memoizedProps;if(ve=ve.compare,ve=ve!==null?ve:ts,ve($e,Ee)&&se.ref===le.ref)return wi(se,le,Ce)}return le.flags|=1,se=Ws(Le,Ee),se.ref=le.ref,se.return=le,le.child=se}function ks(se,le,ve,Ee,Ce){if(se!==null&&ts(se.memoizedProps,Ee)&&se.ref===le.ref)if(Yr=!1,(se.lanes&Ce)!==0)se.flags&131072&&(Yr=!0);else return le.lanes=se.lanes,wi(se,le,Ce);return Bs(se,le,ve,Ee,Ce)}function ti(se,le,ve){var Ee=le.pendingProps,Ce=Ee.children,Le=se!==null?se.memoizedState:null;if(Ee.mode==="hidden")if(!(le.mode&1))le.memoizedState={baseLanes:0,cachePool:null},Fn(Ba,ci),ci|=ve;else if(ve&1073741824)le.memoizedState={baseLanes:0,cachePool:null},Ee=Le!==null?Le.baseLanes:ve,Fn(Ba,ci),ci|=Ee;else return se=Le!==null?Le.baseLanes|ve:ve,le.lanes=le.childLanes=1073741824,le.memoizedState={baseLanes:se,cachePool:null},le.updateQueue=null,Fn(Ba,ci),ci|=se,null;else Le!==null?(Ee=Le.baseLanes|ve,le.memoizedState=null):Ee=ve,Fn(Ba,ci),ci|=Ee;return Dr(se,le,Ce,ve),le.child}function vi(se,le){var ve=le.ref;(se===null&&ve!==null||se!==null&&se.ref!==ve)&&(le.flags|=512,le.flags|=2097152)}function Bs(se,le,ve,Ee,Ce){var Le=ur(ve)?er:ar.current;return Le=Ln(le,Le),Xa(le,Ce),ve=no(se,le,ve,Ee,Le,Ce),Ee=na(),se!==null&&!Yr?(le.updateQueue=se.updateQueue,le.flags&=-2053,se.lanes&=~Ce,wi(se,le,Ce)):(Ar&&Ee&&xc(le),le.flags|=1,Dr(se,le,ve,Ce),le.child)}function wa(se,le,ve,Ee,Ce){if(ur(ve)){var Le=!0;Wr(le)}else Le=!1;if(Xa(le,Ce),le.stateNode===null)se!==null&&(se.alternate=null,le.alternate=null,le.flags|=2),hu(le,ve,Ee),_c(le,ve,Ee,Ce),Ee=!0;else if(se===null){var $e=le.stateNode,st=le.memoizedProps;$e.props=st;var Vt=$e.context,sn=ve.contextType;typeof sn=="object"&&sn!==null?sn=bi(sn):(sn=ur(ve)?er:ar.current,sn=Ln(le,sn));var bn=ve.getDerivedStateFromProps,Zn=typeof bn=="function"||typeof $e.getSnapshotBeforeUpdate=="function";Zn||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(st!==Ee||Vt!==sn)&&fu(le,$e,Ee,sn),$i=!1;var Vn=le.memoizedState;$e.state=Vn,Al(le,Ee,$e,Ce),Vt=le.memoizedState,st!==Ee||Vn!==Vt||or.current||$i?(typeof bn=="function"&&(yc(le,ve,bn,Ee),Vt=le.memoizedState),(st=$i||vc(le,ve,st,Ee,Vn,Vt,sn))?(Zn||typeof $e.UNSAFE_componentWillMount!="function"&&typeof $e.componentWillMount!="function"||(typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount()),typeof $e.componentDidMount=="function"&&(le.flags|=4194308)):(typeof $e.componentDidMount=="function"&&(le.flags|=4194308),le.memoizedProps=Ee,le.memoizedState=Vt),$e.props=Ee,$e.state=Vt,$e.context=sn,Ee=st):(typeof $e.componentDidMount=="function"&&(le.flags|=4194308),Ee=!1)}else{$e=le.stateNode,gc(se,le),st=le.memoizedProps,sn=le.type===le.elementType?st:Ti(le.type,st),$e.props=sn,Zn=le.pendingProps,Vn=$e.context,Vt=ve.contextType,typeof Vt=="object"&&Vt!==null?Vt=bi(Vt):(Vt=ur(ve)?er:ar.current,Vt=Ln(le,Vt));var tr=ve.getDerivedStateFromProps;(bn=typeof tr=="function"||typeof $e.getSnapshotBeforeUpdate=="function")||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(st!==Zn||Vn!==Vt)&&fu(le,$e,Ee,Vt),$i=!1,Vn=le.memoizedState,$e.state=Vn,Al(le,Ee,$e,Ce);var xn=le.memoizedState;st!==Zn||Vn!==xn||or.current||$i?(typeof tr=="function"&&(yc(le,ve,tr,Ee),xn=le.memoizedState),(sn=$i||vc(le,ve,sn,Ee,Vn,xn,Vt)||!1)?(bn||typeof $e.UNSAFE_componentWillUpdate!="function"&&typeof $e.componentWillUpdate!="function"||(typeof $e.componentWillUpdate=="function"&&$e.componentWillUpdate(Ee,xn,Vt),typeof $e.UNSAFE_componentWillUpdate=="function"&&$e.UNSAFE_componentWillUpdate(Ee,xn,Vt)),typeof $e.componentDidUpdate=="function"&&(le.flags|=4),typeof $e.getSnapshotBeforeUpdate=="function"&&(le.flags|=1024)):(typeof $e.componentDidUpdate!="function"||st===se.memoizedProps&&Vn===se.memoizedState||(le.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||st===se.memoizedProps&&Vn===se.memoizedState||(le.flags|=1024),le.memoizedProps=Ee,le.memoizedState=xn),$e.props=Ee,$e.state=xn,$e.context=Vt,Ee=sn):(typeof $e.componentDidUpdate!="function"||st===se.memoizedProps&&Vn===se.memoizedState||(le.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||st===se.memoizedProps&&Vn===se.memoizedState||(le.flags|=1024),Ee=!1)}return li(se,le,ve,Ee,Le,Ce)}function li(se,le,ve,Ee,Ce,Le){vi(se,le);var $e=(le.flags&128)!==0;if(!Ee&&!$e)return Ce&&ps(le,ve,!1),wi(se,le,Le);Ee=le.stateNode,kc.current=le;var st=$e&&typeof ve.getDerivedStateFromError!="function"?null:Ee.render();return le.flags|=1,se!==null&&$e?(le.child=Ds(le,se.child,null,Le),le.child=Ds(le,null,st,Le)):Dr(se,le,st,Le),le.memoizedState=Ee.state,Ce&&ps(le,ve,!0),le.child}function Uo(se){var le=se.stateNode;le.pendingContext?Qr(se,le.pendingContext,le.pendingContext!==le.context):le.context&&Qr(se,le.context,!1),Ll(se,le.containerInfo)}function Bc(se,le,ve,Ee,Ce){return Ka(),Il(Ce),le.flags|=256,Dr(se,le,ve,Ee),le.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Pa(se){return{baseLanes:se,cachePool:null}}function Nc(se,le,ve){var Ee=le.pendingProps,Ce=Pr.current,Le=!1,$e=(le.flags&128)!==0,st;if((st=$e)||(st=se!==null&&se.memoizedState===null?!1:(Ce&2)!==0),st?(Le=!0,le.flags&=-129):(se===null||se.memoizedState!==null)&&(Ce|=1),Fn(Pr,Ce&1),se===null)return ea(le),se=le.memoizedState,se!==null&&(se=se.dehydrated,se!==null)?(le.mode&1?Ji(se)?le.lanes=8:le.lanes=1073741824:le.lanes=1,null):(Ce=Ee.children,se=Ee.fallback,Le?(Ee=le.mode,Le=le.child,Ce={mode:"hidden",children:Ce},!(Ee&1)&&Le!==null?(Le.childLanes=0,Le.pendingProps=Ce):Le=tl(Ce,Ee,0,null),se=Va(se,Ee,ve,null),Le.return=le,se.return=le,Le.sibling=se,le.child=Le,le.child.memoizedState=Pa(ve),le.memoizedState=zo,se):as(le,Ce));if(Ce=se.memoizedState,Ce!==null){if(st=Ce.dehydrated,st!==null){if($e)return le.flags&256?(le.flags&=-257,Go(se,le,ve,Error(te(422)))):le.memoizedState!==null?(le.child=se.child,le.flags|=128,null):(Le=Ee.fallback,Ce=le.mode,Ee=tl({mode:"visible",children:Ee.children},Ce,0,null),Le=Va(Le,Ce,ve,null),Le.flags|=2,Ee.return=le,Le.return=le,Ee.sibling=Le,le.child=Ee,le.mode&1&&Ds(le,se.child,null,ve),le.child.memoizedState=Pa(ve),le.memoizedState=zo,Le);if(!(le.mode&1))le=Go(se,le,ve,null);else if(Ji(st))le=Go(se,le,ve,Error(te(419)));else if(Ee=(ve&se.childLanes)!==0,Yr||Ee){if(Ee=Br,Ee!==null){switch(ve&-ve){case 4:Le=2;break;case 16:Le=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Le=32;break;case 536870912:Le=268435456;break;default:Le=0}Ee=Le&(Ee.suspendedLanes|ve)?0:Le,Ee!==0&&Ee!==Ce.retryLane&&(Ce.retryLane=Ee,ui(se,Ee,-1))}tc(),le=Go(se,le,ve,Error(te(421)))}else fs(st)?(le.flags|=128,le.child=se.child,le=bu.bind(null,se),ua(st,le),le=null):(ve=Ce.treeContext,jt&&(ei=$a(st),yi=le,Ar=!0,Xi=null,Za=!1,ve!==null&&(ji[Ii++]=Ps,ji[Ii++]=Rs,ji[Ii++]=ya,Ps=ve.id,Rs=ve.overflow,ya=le)),le=as(le,le.pendingProps.children),le.flags|=4096);return le}return Le?(Ee=Yl(se,le,Ee.children,Ee.fallback,ve),Le=le.child,Ce=se.child.memoizedState,Le.memoizedState=Ce===null?Pa(ve):{baseLanes:Ce.baseLanes|ve,cachePool:null},Le.childLanes=se.childLanes&~ve,le.memoizedState=zo,Ee):(ve=Vo(se,le,Ee.children,ve),le.memoizedState=null,ve)}return Le?(Ee=Yl(se,le,Ee.children,Ee.fallback,ve),Le=le.child,Ce=se.child.memoizedState,Le.memoizedState=Ce===null?Pa(ve):{baseLanes:Ce.baseLanes|ve,cachePool:null},Le.childLanes=se.childLanes&~ve,le.memoizedState=zo,Ee):(ve=Vo(se,le,Ee.children,ve),le.memoizedState=null,ve)}function as(se,le){return le=tl({mode:"visible",children:le},se.mode,0,null),le.return=se,se.child=le}function Vo(se,le,ve,Ee){var Ce=se.child;return se=Ce.sibling,ve=Ws(Ce,{mode:"visible",children:ve}),!(le.mode&1)&&(ve.lanes=Ee),ve.return=le,ve.sibling=null,se!==null&&(Ee=le.deletions,Ee===null?(le.deletions=[se],le.flags|=16):Ee.push(se)),le.child=ve}function Yl(se,le,ve,Ee,Ce){var Le=le.mode;se=se.child;var $e=se.sibling,st={mode:"hidden",children:ve};return!(Le&1)&&le.child!==se?(ve=le.child,ve.childLanes=0,ve.pendingProps=st,le.deletions=null):(ve=Ws(se,st),ve.subtreeFlags=se.subtreeFlags&14680064),$e!==null?Ee=Ws($e,Ee):(Ee=Va(Ee,Le,Ce,null),Ee.flags|=2),Ee.return=le,ve.return=le,ve.sibling=Ee,le.child=ve,Ee}function Go(se,le,ve,Ee){return Ee!==null&&Il(Ee),Ds(le,se.child,null,ve),se=as(le,le.pendingProps.children),se.flags|=2,le.memoizedState=null,se}function Eu(se,le,ve){se.lanes|=le;var Ee=se.alternate;Ee!==null&&(Ee.lanes|=le),ga(se.return,le,ve)}function _s(se,le,ve,Ee,Ce){var Le=se.memoizedState;Le===null?se.memoizedState={isBackwards:le,rendering:null,renderingStartTime:0,last:Ee,tail:ve,tailMode:Ce}:(Le.isBackwards=le,Le.rendering=null,Le.renderingStartTime=0,Le.last=Ee,Le.tail=ve,Le.tailMode=Ce)}function Ra(se,le,ve){var Ee=le.pendingProps,Ce=Ee.revealOrder,Le=Ee.tail;if(Dr(se,le,Ee.children,ve),Ee=Pr.current,Ee&2)Ee=Ee&1|2,le.flags|=128;else{if(se!==null&&se.flags&128)e:for(se=le.child;se!==null;){if(se.tag===13)se.memoizedState!==null&&Eu(se,ve,le);else if(se.tag===19)Eu(se,ve,le);else if(se.child!==null){se.child.return=se,se=se.child;continue}if(se===le)break e;for(;se.sibling===null;){if(se.return===null||se.return===le)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}Ee&=1}if(Fn(Pr,Ee),!(le.mode&1))le.memoizedState=null;else switch(Ce){case"forwards":for(ve=le.child,Ce=null;ve!==null;)se=ve.alternate,se!==null&&Fl(se)===null&&(Ce=ve),ve=ve.sibling;ve=Ce,ve===null?(Ce=le.child,le.child=null):(Ce=ve.sibling,ve.sibling=null),_s(le,!1,Ce,ve,Le);break;case"backwards":for(ve=null,Ce=le.child,le.child=null;Ce!==null;){if(se=Ce.alternate,se!==null&&Fl(se)===null){le.child=Ce;break}se=Ce.sibling,Ce.sibling=ve,ve=Ce,Ce=se}_s(le,!0,ve,null,Le);break;case"together":_s(le,!1,null,null,void 0);break;default:le.memoizedState=null}return le.child}function wi(se,le,ve){if(se!==null&&(le.dependencies=se.dependencies),xs|=le.lanes,!(ve&le.childLanes))return null;if(se!==null&&le.child!==se.child)throw Error(te(153));if(le.child!==null){for(se=le.child,ve=Ws(se,se.pendingProps),le.child=ve,ve.return=le;se.sibling!==null;)se=se.sibling,ve=ve.sibling=Ws(se,se.pendingProps),ve.return=le;ve.sibling=null}return le.child}function Zl(se,le,ve){switch(le.tag){case 3:Uo(le),Ka();break;case 5:yu(le);break;case 1:ur(le.type)&&Wr(le);break;case 4:Ll(le,le.stateNode.containerInfo);break;case 10:ma(le,le.type._context,le.memoizedProps.value);break;case 13:var Ee=le.memoizedState;if(Ee!==null)return Ee.dehydrated!==null?(Fn(Pr,Pr.current&1),le.flags|=128,null):ve&le.child.childLanes?Nc(se,le,ve):(Fn(Pr,Pr.current&1),se=wi(se,le,ve),se!==null?se.sibling:null);Fn(Pr,Pr.current&1);break;case 19:if(Ee=(ve&le.childLanes)!==0,se.flags&128){if(Ee)return Ra(se,le,ve);le.flags|=128}var Ce=le.memoizedState;if(Ce!==null&&(Ce.rendering=null,Ce.tail=null,Ce.lastEffect=null),Fn(Pr,Pr.current),Ee)break;return null;case 22:case 23:return le.lanes=0,ti(se,le,ve)}return wi(se,le,ve)}function Kl(se,le){switch(Sc(le),le.tag){case 1:return ur(le.type)&&nr(),se=le.flags,se&65536?(le.flags=se&-65537|128,le):null;case 3:return to(),an(or),an(ar),Ea(),se=le.flags,se&65536&&!(se&128)?(le.flags=se&-65537|128,le):null;case 5:return Cc(le),null;case 13:if(an(Pr),se=le.memoizedState,se!==null&&se.dehydrated!==null){if(le.alternate===null)throw Error(te(340));Ka()}return se=le.flags,se&65536?(le.flags=se&-65537|128,le):null;case 19:return an(Pr),null;case 4:return to(),null;case 10:return wo(le.type._context),null;case 22:case 23:return Qo(),null;case 24:return null;default:return null}}var _i=!1,Zr=!1,Da=typeof WeakSet=="function"?WeakSet:Set,hn=null;function qi(se,le){var ve=se.ref;if(ve!==null)if(typeof ve=="function")try{ve(null)}catch(Ee){Si(se,le,Ee)}else ve.current=null}function Ns(se,le,ve){try{ve()}catch(Ee){Si(se,le,Ee)}}var Oc=!1;function Uc(se,le){for(Oe(se.containerInfo),hn=le;hn!==null;)if(se=hn,le=se.child,(se.subtreeFlags&1028)!==0&&le!==null)le.return=se,hn=le;else for(;hn!==null;){se=hn;try{var ve=se.alternate;if(se.flags&1024)switch(se.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Ee=ve.memoizedProps,Ce=ve.memoizedState,Le=se.stateNode,$e=Le.getSnapshotBeforeUpdate(se.elementType===se.type?Ee:Ti(se.type,Ee),Ce);Le.__reactInternalSnapshotBeforeUpdate=$e}break;case 3:In&&qt(se.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(st){Si(se,se.return,st)}if(le=se.sibling,le!==null){le.return=se.return,hn=le;break}hn=se.return}return ve=Oc,Oc=!1,ve}function Os(se,le,ve){var Ee=le.updateQueue;if(Ee=Ee!==null?Ee.lastEffect:null,Ee!==null){var Ce=Ee=Ee.next;do{if((Ce.tag&se)===se){var Le=Ce.destroy;Ce.destroy=void 0,Le!==void 0&&Ns(le,ve,Le)}Ce=Ce.next}while(Ce!==Ee)}}function ni(se,le){if(le=le.updateQueue,le=le!==null?le.lastEffect:null,le!==null){var ve=le=le.next;do{if((ve.tag&se)===se){var Ee=ve.create;ve.destroy=Ee()}ve=ve.next}while(ve!==le)}}function xi(se){var le=se.ref;if(le!==null){var ve=se.stateNode;switch(se.tag){case 5:se=Ye(ve);break;default:se=ve}typeof le=="function"?le(se):le.current=se}}function Tr(se,le,ve){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(Co,le)}catch{}switch(le.tag){case 0:case 11:case 14:case 15:if(se=le.updateQueue,se!==null&&(se=se.lastEffect,se!==null)){var Ee=se=se.next;do{var Ce=Ee,Le=Ce.destroy;Ce=Ce.tag,Le!==void 0&&(Ce&2||Ce&4)&&Ns(le,ve,Le),Ee=Ee.next}while(Ee!==se)}break;case 1:if(qi(le,ve),se=le.stateNode,typeof se.componentWillUnmount=="function")try{se.props=le.memoizedProps,se.state=le.memoizedState,se.componentWillUnmount()}catch($e){Si(le,ve,$e)}break;case 5:qi(le,ve);break;case 4:In?Gc(se,le,ve):$t&&$t&&(le=le.stateNode.containerInfo,ve=yn(le),Nr(le,ve))}}function Yi(se,le,ve){for(var Ee=le;;)if(Tr(se,Ee,ve),Ee.child===null||In&&Ee.tag===4){if(Ee===le)break;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===le)return;Ee=Ee.return}Ee.sibling.return=Ee.return,Ee=Ee.sibling}else Ee.child.return=Ee,Ee=Ee.child}function zc(se){var le=se.alternate;le!==null&&(se.alternate=null,zc(le)),se.child=null,se.deletions=null,se.sibling=null,se.tag===5&&(le=se.stateNode,le!==null&&fn(le)),se.stateNode=null,se.return=null,se.dependencies=null,se.memoizedProps=null,se.memoizedState=null,se.pendingProps=null,se.stateNode=null,se.updateQueue=null}function Vc(se){return se.tag===5||se.tag===3||se.tag===4}function Ql(se){e:for(;;){for(;se.sibling===null;){if(se.return===null||Vc(se.return))return null;se=se.return}for(se.sibling.return=se.return,se=se.sibling;se.tag!==5&&se.tag!==6&&se.tag!==18;){if(se.flags&2||se.child===null||se.tag===4)continue e;se.child.return=se,se=se.child}if(!(se.flags&2))return se.stateNode}}function Jl(se){if(In){e:{for(var le=se.return;le!==null;){if(Vc(le))break e;le=le.return}throw Error(te(160))}var ve=le;switch(ve.tag){case 5:le=ve.stateNode,ve.flags&32&&(Xn(le),ve.flags&=-33),ve=Ql(se),lo(se,ve,le);break;case 3:case 4:le=ve.stateNode.containerInfo,ve=Ql(se),ec(se,ve,le);break;default:throw Error(te(161))}}}function ec(se,le,ve){var Ee=se.tag;if(Ee===5||Ee===6)se=se.stateNode,le?$n(ve,se,le):gn(ve,se);else if(Ee!==4&&(se=se.child,se!==null))for(ec(se,le,ve),se=se.sibling;se!==null;)ec(se,le,ve),se=se.sibling}function lo(se,le,ve){var Ee=se.tag;if(Ee===5||Ee===6)se=se.stateNode,le?zn(ve,se,le):un(ve,se);else if(Ee!==4&&(se=se.child,se!==null))for(lo(se,le,ve),se=se.sibling;se!==null;)lo(se,le,ve),se=se.sibling}function Gc(se,le,ve){for(var Ee=le,Ce=!1,Le,$e;;){if(!Ce){Ce=Ee.return;e:for(;;){if(Ce===null)throw Error(te(160));switch(Le=Ce.stateNode,Ce.tag){case 5:$e=!1;break e;case 3:Le=Le.containerInfo,$e=!0;break e;case 4:Le=Le.containerInfo,$e=!0;break e}Ce=Ce.return}Ce=!0}if(Ee.tag===5||Ee.tag===6)Yi(se,Ee,ve),$e?sr(Le,Ee.stateNode):wn(Le,Ee.stateNode);else if(Ee.tag===18)$e?ml(Le,Ee.stateNode):pl(Le,Ee.stateNode);else if(Ee.tag===4){if(Ee.child!==null){Le=Ee.stateNode.containerInfo,$e=!0,Ee.child.return=Ee,Ee=Ee.child;continue}}else if(Tr(se,Ee,ve),Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===le)break;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===le)return;Ee=Ee.return,Ee.tag===4&&(Ce=!1)}Ee.sibling.return=Ee.return,Ee=Ee.sibling}}function sa(se,le){if(In){switch(le.tag){case 0:case 11:case 14:case 15:Os(3,le,le.return),ni(3,le),Os(5,le,le.return);return;case 1:return;case 5:var ve=le.stateNode;if(ve!=null){var Ee=le.memoizedProps;se=se!==null?se.memoizedProps:Ee;var Ce=le.type,Le=le.updateQueue;le.updateQueue=null,Le!==null&&An(ve,Le,Ce,se,Ee,le)}return;case 6:if(le.stateNode===null)throw Error(te(162));ve=le.memoizedProps,jn(le.stateNode,se!==null?se.memoizedProps:ve,ve);return;case 3:jt&&se!==null&&se.memoizedState.isDehydrated&&fl(le.stateNode.containerInfo);return;case 12:return;case 13:co(le);return;case 19:co(le);return;case 17:return}throw Error(te(163))}switch(le.tag){case 0:case 11:case 14:case 15:Os(3,le,le.return),ni(3,le),Os(5,le,le.return);return;case 12:return;case 13:co(le);return;case 19:co(le);return;case 3:jt&&se!==null&&se.memoizedState.isDehydrated&&fl(le.stateNode.containerInfo);break;case 22:case 23:return}e:if($t){switch(le.tag){case 1:case 5:case 6:break e;case 3:case 4:le=le.stateNode,Nr(le.containerInfo,le.pendingChildren);break e}throw Error(te(163))}}function co(se){var le=se.updateQueue;if(le!==null){se.updateQueue=null;var ve=se.stateNode;ve===null&&(ve=se.stateNode=new Da),le.forEach(function(Ee){var Ce=Au.bind(null,se,Ee);ve.has(Ee)||(ve.add(Ee),Ee.then(Ce,Ce))})}}function rh(se,le){for(hn=le;hn!==null;){le=hn;var ve=le.deletions;if(ve!==null)for(var Ee=0;Ee<ve.length;Ee++){var Ce=ve[Ee];try{var Le=se;In?Gc(Le,Ce,le):Yi(Le,Ce,le);var $e=Ce.alternate;$e!==null&&($e.return=null),Ce.return=null}catch(Bn){Si(Ce,le,Bn)}}if(ve=le.child,le.subtreeFlags&12854&&ve!==null)ve.return=le,hn=ve;else for(;hn!==null;){le=hn;try{var st=le.flags;if(st&32&&In&&Xn(le.stateNode),st&512){var Vt=le.alternate;if(Vt!==null){var sn=Vt.ref;sn!==null&&(typeof sn=="function"?sn(null):sn.current=null)}}if(st&8192)switch(le.tag){case 13:if(le.memoizedState!==null){var bn=le.alternate;(bn===null||bn.memoizedState===null)&&(Yo=Vr())}break;case 22:var Zn=le.memoizedState!==null,Vn=le.alternate,tr=Vn!==null&&Vn.memoizedState!==null;if(ve=le,In){e:if(Ee=ve,Ce=Zn,Le=null,In)for(var xn=Ee;;){if(xn.tag===5){if(Le===null){Le=xn;var si=xn.stateNode;Ce?gr(si):mn(xn.stateNode,xn.memoizedProps)}}else if(xn.tag===6){if(Le===null){var zi=xn.stateNode;Ce?dt(zi):Nt(zi,xn.memoizedProps)}}else if((xn.tag!==22&&xn.tag!==23||xn.memoizedState===null||xn===Ee)&&xn.child!==null){xn.child.return=xn,xn=xn.child;continue}if(xn===Ee)break;for(;xn.sibling===null;){if(xn.return===null||xn.return===Ee)break e;Le===xn&&(Le=null),xn=xn.return}Le===xn&&(Le=null),xn.sibling.return=xn.return,xn=xn.sibling}}if(Zn&&!tr&&ve.mode&1){hn=ve;for(var Dt=ve.child;Dt!==null;){for(ve=hn=Dt;hn!==null;){Ee=hn;var _t=Ee.child;switch(Ee.tag){case 0:case 11:case 14:case 15:Os(4,Ee,Ee.return);break;case 1:qi(Ee,Ee.return);var Bt=Ee.stateNode;if(typeof Bt.componentWillUnmount=="function"){var vn=Ee.return;try{Bt.props=Ee.memoizedProps,Bt.state=Ee.memoizedState,Bt.componentWillUnmount()}catch(Bn){Si(Ee,vn,Bn)}}break;case 5:qi(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){Wc(ve);continue}}_t!==null?(_t.return=Ee,hn=_t):Wc(ve)}Dt=Dt.sibling}}}switch(st&4102){case 2:Jl(le),le.flags&=-3;break;case 6:Jl(le),le.flags&=-3,sa(le.alternate,le);break;case 4096:le.flags&=-4097;break;case 4100:le.flags&=-4097,sa(le.alternate,le);break;case 4:sa(le.alternate,le)}}catch(Bn){Si(le,le.return,Bn)}if(ve=le.sibling,ve!==null){ve.return=le.return,hn=ve;break}hn=le.return}}}function Ho(se,le,ve){hn=se,Wo(se)}function Wo(se,le,ve){for(var Ee=(se.mode&1)!==0;hn!==null;){var Ce=hn,Le=Ce.child;if(Ce.tag===22&&Ee){var $e=Ce.memoizedState!==null||_i;if(!$e){var st=Ce.alternate,Vt=st!==null&&st.memoizedState!==null||Zr;st=_i;var sn=Zr;if(_i=$e,(Zr=Vt)&&!sn)for(hn=Ce;hn!==null;)$e=hn,Vt=$e.child,$e.tag===22&&$e.memoizedState!==null?Ia(Ce):Vt!==null?(Vt.return=$e,hn=Vt):Ia(Ce);for(;Le!==null;)hn=Le,Wo(Le),Le=Le.sibling;hn=Ce,_i=st,Zr=sn}Hc(se)}else Ce.subtreeFlags&8772&&Le!==null?(Le.return=Ce,hn=Le):Hc(se)}}function Hc(se){for(;hn!==null;){var le=hn;if(le.flags&8772){var ve=le.alternate;try{if(le.flags&8772)switch(le.tag){case 0:case 11:case 15:Zr||ni(5,le);break;case 1:var Ee=le.stateNode;if(le.flags&4&&!Zr)if(ve===null)Ee.componentDidMount();else{var Ce=le.elementType===le.type?ve.memoizedProps:Ti(le.type,ve.memoizedProps);Ee.componentDidUpdate(Ce,ve.memoizedState,Ee.__reactInternalSnapshotBeforeUpdate)}var Le=le.updateQueue;Le!==null&&cu(le,Le,Ee);break;case 3:var $e=le.updateQueue;if($e!==null){if(ve=null,le.child!==null)switch(le.child.tag){case 5:ve=Ye(le.child.stateNode);break;case 1:ve=le.child.stateNode}cu(le,$e,ve)}break;case 5:var st=le.stateNode;ve===null&&le.flags&4&&nn(st,le.type,le.memoizedProps,le);break;case 6:break;case 4:break;case 12:break;case 13:if(jt&&le.memoizedState===null){var Vt=le.alternate;if(Vt!==null){var sn=Vt.memoizedState;if(sn!==null){var bn=sn.dehydrated;bn!==null&&dl(bn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(te(163))}Zr||le.flags&512&&xi(le)}catch(Zn){Si(le,le.return,Zn)}}if(le===se){hn=null;break}if(ve=le.sibling,ve!==null){ve.return=le.return,hn=ve;break}hn=le.return}}function Wc(se){for(;hn!==null;){var le=hn;if(le===se){hn=null;break}var ve=le.sibling;if(ve!==null){ve.return=le.return,hn=ve;break}hn=le.return}}function Ia(se){for(;hn!==null;){var le=hn;try{switch(le.tag){case 0:case 11:case 15:var ve=le.return;try{ni(4,le)}catch(Vt){Si(le,ve,Vt)}break;case 1:var Ee=le.stateNode;if(typeof Ee.componentDidMount=="function"){var Ce=le.return;try{Ee.componentDidMount()}catch(Vt){Si(le,Ce,Vt)}}var Le=le.return;try{xi(le)}catch(Vt){Si(le,Le,Vt)}break;case 5:var $e=le.return;try{xi(le)}catch(Vt){Si(le,$e,Vt)}}}catch(Vt){Si(le,le.return,Vt)}if(le===se){hn=null;break}var st=le.sibling;if(st!==null){st.return=le.return,hn=st;break}hn=le.return}}var $o=0,La=1,Fa=2,Us=3,uo=4;if(typeof Symbol=="function"&&Symbol.for){var ka=Symbol.for;$o=ka("selector.component"),La=ka("selector.has_pseudo_class"),Fa=ka("selector.role"),Us=ka("selector.test_id"),uo=ka("selector.text")}function jo(se){var le=Ve(se);if(le!=null){if(typeof le.memoizedProps["data-testname"]!="string")throw Error(te(364));return le}if(se=We(se),se===null)throw Error(te(362));return se.stateNode.current}function Xo(se,le){switch(le.$$typeof){case $o:if(se.type===le.value)return!0;break;case La:e:{le=le.value,se=[se,0];for(var ve=0;ve<se.length;){var Ee=se[ve++],Ce=se[ve++],Le=le[Ce];if(Ee.tag!==5||!Ut(Ee)){for(;Le!=null&&Xo(Ee,Le);)Ce++,Le=le[Ce];if(Ce===le.length){le=!0;break e}else for(Ee=Ee.child;Ee!==null;)se.push(Ee,Ce),Ee=Ee.sibling}}le=!1}return le;case Fa:if(se.tag===5&&Xt(se.stateNode,le.value))return!0;break;case uo:if((se.tag===5||se.tag===6)&&(se=Mt(se),se!==null&&0<=se.indexOf(le.value)))return!0;break;case Us:if(se.tag===5&&(se=se.memoizedProps["data-testname"],typeof se=="string"&&se.toLowerCase()===le.value.toLowerCase()))return!0;break;default:throw Error(te(365))}return!1}function aa(se){switch(se.$$typeof){case $o:return"<"+(Pe(se.value)||"Unknown")+">";case La:return":has("+(aa(se)||"")+")";case Fa:return'[role="'+se.value+'"]';case uo:return'"'+se.value+'"';case Us:return'[data-testname="'+se.value+'"]';default:throw Error(te(365))}}function Bi(se,le){var ve=[];se=[se,0];for(var Ee=0;Ee<se.length;){var Ce=se[Ee++],Le=se[Ee++],$e=le[Le];if(Ce.tag!==5||!Ut(Ce)){for(;$e!=null&&Xo(Ce,$e);)Le++,$e=le[Le];if(Le===le.length)ve.push(Ce);else for(Ce=Ce.child;Ce!==null;)se.push(Ce,Le),Ce=Ce.sibling}}return ve}function zs(se,le){if(!tn)throw Error(te(363));se=jo(se),se=Bi(se,le),le=[],se=Array.from(se);for(var ve=0;ve<se.length;){var Ee=se[ve++];if(Ee.tag===5)Ut(Ee)||le.push(Ee.stateNode);else for(Ee=Ee.child;Ee!==null;)se.push(Ee),Ee=Ee.sibling}return le}var $c=Math.ceil,qo=ne.ReactCurrentDispatcher,os=ne.ReactCurrentOwner,vr=ne.ReactCurrentBatchConfig,Jn=0,Br=null,_r=null,wr=0,ci=0,Ba=On(0),Ir=0,ho=null,xs=0,Ni=0,Na=0,Vs=null,Or=null,Yo=0,oa=1/0;function Oa(){oa=Vr()+500}var fo=!1,br=null,ls=null,po=!1,Ss=null,Ua=0,za=0,Gs=null,Mr=-1,Lr=0;function pr(){return Jn&6?Vr():Mr!==-1?Mr:Mr=Vr()}function cs(se){return se.mode&1?Jn&2&&wr!==0?wr&-wr:lu.transition!==null?(Lr===0&&(se=Fr,Fr<<=1,!(Fr&4194240)&&(Fr=64),Lr=se),Lr):(se=ir,se!==0?se:Zt()):1}function ui(se,le,ve){if(50<za)throw za=0,Gs=null,Error(te(185));var Ee=la(se,le);return Ee===null?null:(ha(Ee,le,ve),(!(Jn&2)||Ee!==Br)&&(Ee===Br&&(!(Jn&2)&&(Ni|=le),Ir===4&&ii(Ee,wr)),Pi(Ee,ve),le===1&&Jn===0&&!(se.mode&1)&&(Oa(),Sl&&Hi())),Ee)}function la(se,le){se.lanes|=le;var ve=se.alternate;for(ve!==null&&(ve.lanes|=le),ve=se,se=se.return;se!==null;)se.childLanes|=le,ve=se.alternate,ve!==null&&(ve.childLanes|=le),ve=se,se=se.return;return ve.tag===3?ve.stateNode:null}function Pi(se,le){var ve=se.callbackNode;ou(se,le);var Ee=Mo(se,se===Br?wr:0);if(Ee===0)ve!==null&&ja(ve),se.callbackNode=null,se.callbackPriority=0;else if(le=Ee&-Ee,se.callbackPriority!==le){if(ve!=null&&ja(ve),le===1)se.tag===0?Ml(Oi.bind(null,se)):El(Oi.bind(null,se)),Jt?Rn(function(){Jn===0&&Hi()}):fa(da,Hi),ve=null;else{switch(bs(Ee)){case 1:ve=da;break;case 4:ve=eh;break;case 16:ve=_l;break;case 536870912:ve=xl;break;default:ve=_l}ve=nc(ve,ri.bind(null,se))}se.callbackPriority=le,se.callbackNode=ve}}function ri(se,le){if(Mr=-1,Lr=0,Jn&6)throw Error(te(327));var ve=se.callbackNode;if(Es()&&se.callbackNode!==ve)return null;var Ee=Mo(se,se===Br?wr:0);if(Ee===0)return null;if(Ee&30||Ee&se.expiredLanes||le)le=Jo(se,Ee);else{le=Ee;var Ce=Jn;Jn|=2;var Le=qc();(Br!==se||wr!==le)&&(Oa(),Hs(se,le));do try{Cu();break}catch(st){Xc(se,st)}while(!0);gi(),qo.current=Le,Jn=Ce,_r!==null?le=0:(Br=null,wr=0,le=Ir)}if(le!==0){if(le===2&&(Ce=gl(se),Ce!==0&&(Ee=Ce,le=Zo(se,Ce))),le===1)throw ve=ho,Hs(se,0),ii(se,Ee),Pi(se,Vr()),ve;if(le===6)ii(se,Ee);else{if(Ce=se.current.alternate,!(Ee&30)&&!jc(Ce)&&(le=Jo(se,Ee),le===2&&(Le=gl(se),Le!==0&&(Ee=Le,le=Zo(se,Le))),le===1))throw ve=ho,Hs(se,0),ii(se,Ee),Pi(se,Vr()),ve;switch(se.finishedWork=Ce,se.finishedLanes=Ee,le){case 0:case 1:throw Error(te(345));case 2:us(se,Or);break;case 3:if(ii(se,Ee),(Ee&130023424)===Ee&&(le=Yo+500-Vr(),10<le)){if(Mo(se,0)!==0)break;if(Ce=se.suspendedLanes,(Ce&Ee)!==Ee){pr(),se.pingedLanes|=se.suspendedLanes&Ce;break}se.timeoutHandle=It(us.bind(null,se,Or),le);break}us(se,Or);break;case 4:if(ii(se,Ee),(Ee&4194240)===Ee)break;for(le=se.eventTimes,Ce=-1;0<Ee;){var $e=31-lr(Ee);Le=1<<$e,$e=le[$e],$e>Ce&&(Ce=$e),Ee&=~Le}if(Ee=Ce,Ee=Vr()-Ee,Ee=(120>Ee?120:480>Ee?480:1080>Ee?1080:1920>Ee?1920:3e3>Ee?3e3:4320>Ee?4320:1960*$c(Ee/1960))-Ee,10<Ee){se.timeoutHandle=It(us.bind(null,se,Or),Ee);break}us(se,Or);break;case 5:us(se,Or);break;default:throw Error(te(329))}}}return Pi(se,Vr()),se.callbackNode===ve?ri.bind(null,se):null}function Zo(se,le){var ve=Vs;return se.current.memoizedState.isDehydrated&&(Hs(se,le).flags|=256),se=Jo(se,le),se!==2&&(le=Or,Or=ve,le!==null&&Ko(le)),se}function Ko(se){Or===null?Or=se:Or.push.apply(Or,se)}function jc(se){for(var le=se;;){if(le.flags&16384){var ve=le.updateQueue;if(ve!==null&&(ve=ve.stores,ve!==null))for(var Ee=0;Ee<ve.length;Ee++){var Ce=ve[Ee],Le=Ce.getSnapshot;Ce=Ce.value;try{if(!mi(Le(),Ce))return!1}catch{return!1}}}if(ve=le.child,le.subtreeFlags&16384&&ve!==null)ve.return=le,le=ve;else{if(le===se)break;for(;le.sibling===null;){if(le.return===null||le.return===se)return!0;le=le.return}le.sibling.return=le.return,le=le.sibling}}return!0}function ii(se,le){for(le&=~Na,le&=~Ni,se.suspendedLanes|=le,se.pingedLanes&=~le,se=se.expirationTimes;0<le;){var ve=31-lr(le),Ee=1<<ve;se[ve]=-1,le&=~Ee}}function Oi(se){if(Jn&6)throw Error(te(327));Es();var le=Mo(se,0);if(!(le&1))return Pi(se,Vr()),null;var ve=Jo(se,le);if(se.tag!==0&&ve===2){var Ee=gl(se);Ee!==0&&(le=Ee,ve=Zo(se,Ee))}if(ve===1)throw ve=ho,Hs(se,0),ii(se,le),Pi(se,Vr()),ve;if(ve===6)throw Error(te(345));return se.finishedWork=se.current.alternate,se.finishedLanes=le,us(se,Or),Pi(se,Vr()),null}function mo(se){Ss!==null&&Ss.tag===0&&!(Jn&6)&&Es();var le=Jn;Jn|=1;var ve=vr.transition,Ee=ir;try{if(vr.transition=null,ir=1,se)return se()}finally{ir=Ee,vr.transition=ve,Jn=le,!(Jn&6)&&Hi()}}function Qo(){ci=Ba.current,an(Ba)}function Hs(se,le){se.finishedWork=null,se.finishedLanes=0;var ve=se.timeoutHandle;if(ve!==ln&&(se.timeoutHandle=ln,Yt(ve)),_r!==null)for(ve=_r.return;ve!==null;){var Ee=ve;switch(Sc(Ee),Ee.tag){case 1:Ee=Ee.type.childContextTypes,Ee!=null&&nr();break;case 3:to(),an(or),an(ar),Ea();break;case 5:Cc(Ee);break;case 4:to();break;case 13:an(Pr);break;case 19:an(Pr);break;case 10:wo(Ee.type._context);break;case 22:case 23:Qo()}ve=ve.return}if(Br=se,_r=se=Ws(se.current,null),wr=ci=le,Ir=0,ho=null,Na=Ni=xs=0,Or=Vs=null,Wi!==null){for(le=0;le<Wi.length;le++)if(ve=Wi[le],Ee=ve.interleaved,Ee!==null){ve.interleaved=null;var Ce=Ee.next,Le=ve.pending;if(Le!==null){var $e=Le.next;Le.next=Ce,Ee.next=$e}ve.pending=Ee}Wi=null}return se}function Xc(se,le){do{var ve=_r;try{if(gi(),Ro.current=ao,kl){for(var Ee=Rr.memoizedState;Ee!==null;){var Ce=Ee.queue;Ce!==null&&(Ce.pending=null),Ee=Ee.next}kl=!1}if(Ma=0,Xr=jr=Rr=null,ys=!1,Ca=0,os.current=null,ve===null||ve.return===null){Ir=1,ho=le,_r=null;break}e:{var Le=se,$e=ve.return,st=ve,Vt=le;if(le=wr,st.flags|=32768,Vt!==null&&typeof Vt=="object"&&typeof Vt.then=="function"){var sn=Vt,bn=st,Zn=bn.tag;if(!(bn.mode&1)&&(Zn===0||Zn===11||Zn===15)){var Vn=bn.alternate;Vn?(bn.updateQueue=Vn.updateQueue,bn.memoizedState=Vn.memoizedState,bn.lanes=Vn.lanes):(bn.updateQueue=null,bn.memoizedState=null)}var tr=Fc($e);if(tr!==null){tr.flags&=-257,ba(tr,$e,st,Le,le),tr.mode&1&&Ls(Le,sn,le),le=tr,Vt=sn;var xn=le.updateQueue;if(xn===null){var si=new Set;si.add(Vt),le.updateQueue=si}else xn.add(Vt);break e}else{if(!(le&1)){Ls(Le,sn,le),tc();break e}Vt=Error(te(426))}}else if(Ar&&st.mode&1){var zi=Fc($e);if(zi!==null){!(zi.flags&65536)&&(zi.flags|=256),ba(zi,$e,st,Le,le),Il(Vt);break e}}Le=Vt,Ir!==4&&(Ir=2),Vs===null?Vs=[Le]:Vs.push(Le),Vt=Lc(Vt,st),st=$e;do{switch(st.tag){case 3:st.flags|=65536,le&=-le,st.lanes|=le;var Dt=Su(st,Vt,le);bl(st,Dt);break e;case 1:Le=Vt;var _t=st.type,Bt=st.stateNode;if(!(st.flags&128)&&(typeof _t.getDerivedStateFromError=="function"||Bt!==null&&typeof Bt.componentDidCatch=="function"&&(ls===null||!ls.has(Bt)))){st.flags|=65536,le&=-le,st.lanes|=le;var vn=$l(st,Le,le);bl(st,vn);break e}}st=st.return}while(st!==null)}Zc(ve)}catch(Bn){le=Bn,_r===ve&&ve!==null&&(_r=ve=ve.return);continue}break}while(!0)}function qc(){var se=qo.current;return qo.current=ao,se===null?ao:se}function tc(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Br===null||!(xs&268435455)&&!(Ni&268435455)||ii(Br,wr)}function Jo(se,le){var ve=Jn;Jn|=2;var Ee=qc();Br===se&&wr===le||Hs(se,le);do try{Mu();break}catch(Ce){Xc(se,Ce)}while(!0);if(gi(),Jn=ve,qo.current=Ee,_r!==null)throw Error(te(261));return Br=null,wr=0,Ir}function Mu(){for(;_r!==null;)Yc(_r)}function Cu(){for(;_r!==null&&!Ks();)Yc(_r)}function Yc(se){var le=Jc(se.alternate,se,ci);se.memoizedProps=se.pendingProps,le===null?Zc(se):_r=le,os.current=null}function Zc(se){var le=se;do{var ve=le.alternate;if(se=le.return,le.flags&32768){if(ve=Kl(ve,le),ve!==null){ve.flags&=32767,_r=ve;return}if(se!==null)se.flags|=32768,se.subtreeFlags=0,se.deletions=null;else{Ir=6,_r=null;return}}else if(ve=ql(ve,le,ci),ve!==null){_r=ve;return}if(le=le.sibling,le!==null){_r=le;return}_r=le=se}while(le!==null);Ir===0&&(Ir=5)}function us(se,le){var ve=ir,Ee=vr.transition;try{vr.transition=null,ir=1,Tu(se,le,ve)}finally{vr.transition=Ee,ir=ve}return null}function Tu(se,le,ve){do Es();while(Ss!==null);if(Jn&6)throw Error(te(327));var Ee=se.finishedWork,Ce=se.finishedLanes;if(Ee===null)return null;if(se.finishedWork=null,se.finishedLanes=0,Ee===se.current)throw Error(te(177));se.callbackNode=null,se.callbackPriority=0;var Le=Ee.lanes|Ee.childLanes;if(vl(se,Le),se===Br&&(_r=Br=null,wr=0),!(Ee.subtreeFlags&2064)&&!(Ee.flags&2064)||po||(po=!0,nc(_l,function(){return Es(),null})),Le=(Ee.flags&15990)!==0,Ee.subtreeFlags&15990||Le){Le=vr.transition,vr.transition=null;var $e=ir;ir=1;var st=Jn;Jn|=4,os.current=null,Uc(se,Ee),rh(se,Ee),ze(se.containerInfo),se.current=Ee,Ho(Ee),Ju(),Jn=st,ir=$e,vr.transition=Le}else se.current=Ee;if(po&&(po=!1,Ss=se,Ua=Ce),Le=se.pendingLanes,Le===0&&(ls=null),To(Ee.stateNode),Pi(se,Vr()),le!==null)for(ve=se.onRecoverableError,Ee=0;Ee<le.length;Ee++)ve(le[Ee]);if(fo)throw fo=!1,se=br,br=null,se;return Ua&1&&se.tag!==0&&Es(),Le=se.pendingLanes,Le&1?se===Gs?za++:(za=0,Gs=se):za=0,Hi(),null}function Es(){if(Ss!==null){var se=bs(Ua),le=vr.transition,ve=ir;try{if(vr.transition=null,ir=16>se?16:se,Ss===null)var Ee=!1;else{if(se=Ss,Ss=null,Ua=0,Jn&6)throw Error(te(331));var Ce=Jn;for(Jn|=4,hn=se.current;hn!==null;){var Le=hn,$e=Le.child;if(hn.flags&16){var st=Le.deletions;if(st!==null){for(var Vt=0;Vt<st.length;Vt++){var sn=st[Vt];for(hn=sn;hn!==null;){var bn=hn;switch(bn.tag){case 0:case 11:case 15:Os(8,bn,Le)}var Zn=bn.child;if(Zn!==null)Zn.return=bn,hn=Zn;else for(;hn!==null;){bn=hn;var Vn=bn.sibling,tr=bn.return;if(zc(bn),bn===sn){hn=null;break}if(Vn!==null){Vn.return=tr,hn=Vn;break}hn=tr}}}var xn=Le.alternate;if(xn!==null){var si=xn.child;if(si!==null){xn.child=null;do{var zi=si.sibling;si.sibling=null,si=zi}while(si!==null)}}hn=Le}}if(Le.subtreeFlags&2064&&$e!==null)$e.return=Le,hn=$e;else e:for(;hn!==null;){if(Le=hn,Le.flags&2048)switch(Le.tag){case 0:case 11:case 15:Os(9,Le,Le.return)}var Dt=Le.sibling;if(Dt!==null){Dt.return=Le.return,hn=Dt;break e}hn=Le.return}}var _t=se.current;for(hn=_t;hn!==null;){$e=hn;var Bt=$e.child;if($e.subtreeFlags&2064&&Bt!==null)Bt.return=$e,hn=Bt;else e:for($e=_t;hn!==null;){if(st=hn,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:ni(9,st)}}catch(Bn){Si(st,st.return,Bn)}if(st===$e){hn=null;break e}var vn=st.sibling;if(vn!==null){vn.return=st.return,hn=vn;break e}hn=st.return}}if(Jn=Ce,Hi(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(Co,se)}catch{}Ee=!0}return Ee}finally{ir=ve,vr.transition=le}}return!1}function el(se,le,ve){le=Lc(ve,le),le=Su(se,le,1),Qs(se,le),le=pr(),se=la(se,1),se!==null&&(ha(se,1,le),Pi(se,le))}function Si(se,le,ve){if(se.tag===3)el(se,se,ve);else for(;le!==null;){if(le.tag===3){el(le,se,ve);break}else if(le.tag===1){var Ee=le.stateNode;if(typeof le.type.getDerivedStateFromError=="function"||typeof Ee.componentDidCatch=="function"&&(ls===null||!ls.has(Ee))){se=Lc(ve,se),se=$l(le,se,1),Qs(le,se),se=pr(),le=la(le,1),le!==null&&(ha(le,1,se),Pi(le,se));break}}le=le.return}}function Kc(se,le,ve){var Ee=se.pingCache;Ee!==null&&Ee.delete(le),le=pr(),se.pingedLanes|=se.suspendedLanes&ve,Br===se&&(wr&ve)===ve&&(Ir===4||Ir===3&&(wr&130023424)===wr&&500>Vr()-Yo?Hs(se,0):Na|=ve),Pi(se,le)}function Qc(se,le){le===0&&(se.mode&1?(le=cr,cr<<=1,!(cr&130023424)&&(cr=4194304)):le=1);var ve=pr();se=la(se,le),se!==null&&(ha(se,le,ve),Pi(se,ve))}function bu(se){var le=se.memoizedState,ve=0;le!==null&&(ve=le.retryLane),Qc(se,ve)}function Au(se,le){var ve=0;switch(se.tag){case 13:var Ee=se.stateNode,Ce=se.memoizedState;Ce!==null&&(ve=Ce.retryLane);break;case 19:Ee=se.stateNode;break;default:throw Error(te(314))}Ee!==null&&Ee.delete(le),Qc(se,ve)}var Jc;Jc=function(se,le,ve){if(se!==null)if(se.memoizedProps!==le.pendingProps||or.current)Yr=!0;else{if(!(se.lanes&ve)&&!(le.flags&128))return Yr=!1,Zl(se,le,ve);Yr=!!(se.flags&131072)}else Yr=!1,Ar&&le.flags&1048576&&du(le,Rl,le.index);switch(le.lanes=0,le.tag){case 2:var Ee=le.type;se!==null&&(se.alternate=null,le.alternate=null,le.flags|=2),se=le.pendingProps;var Ce=Ln(le,ar.current);Xa(le,ve),Ce=no(null,le,Ee,se,Ce,ve);var Le=na();return le.flags|=1,typeof Ce=="object"&&Ce!==null&&typeof Ce.render=="function"&&Ce.$$typeof===void 0?(le.tag=1,le.memoizedState=null,le.updateQueue=null,ur(Ee)?(Le=!0,Wr(le)):Le=!1,le.memoizedState=Ce.state!==null&&Ce.state!==void 0?Ce.state:null,qa(le),Ce.updater=wl,le.stateNode=Ce,Ce._reactInternals=le,_c(le,Ee,se,ve),le=li(null,le,Ee,!0,Le,ve)):(le.tag=0,Ar&&Le&&xc(le),Dr(null,le,Ce,ve),le=le.child),le;case 16:Ee=le.elementType;e:{switch(se!==null&&(se.alternate=null,le.alternate=null,le.flags|=2),se=le.pendingProps,Ce=Ee._init,Ee=Ce(Ee._payload),le.type=Ee,Ce=le.tag=ih(Ee),se=Ti(Ee,se),Ce){case 0:le=Bs(null,le,Ee,se,ve);break e;case 1:le=wa(null,le,Ee,se,ve);break e;case 11:le=Er(null,le,Ee,se,ve);break e;case 14:le=xr(null,le,Ee,Ti(Ee.type,se),ve);break e}throw Error(te(306,Ee,""))}return le;case 0:return Ee=le.type,Ce=le.pendingProps,Ce=le.elementType===Ee?Ce:Ti(Ee,Ce),Bs(se,le,Ee,Ce,ve);case 1:return Ee=le.type,Ce=le.pendingProps,Ce=le.elementType===Ee?Ce:Ti(Ee,Ce),wa(se,le,Ee,Ce,ve);case 3:e:{if(Uo(le),se===null)throw Error(te(387));Ee=le.pendingProps,Le=le.memoizedState,Ce=Le.element,gc(se,le),Al(le,Ee,null,ve);var $e=le.memoizedState;if(Ee=$e.element,jt&&Le.isDehydrated)if(Le={element:Ee,isDehydrated:!1,cache:$e.cache,transitions:$e.transitions},le.updateQueue.baseState=Le,le.memoizedState=Le,le.flags&256){Ce=Error(te(423)),le=Bc(se,le,Ee,ve,Ce);break e}else if(Ee!==Ce){Ce=Error(te(424)),le=Bc(se,le,Ee,ve,Ce);break e}else for(jt&&(ei=ll(le.stateNode.containerInfo),yi=le,Ar=!0,Xi=null,Za=!1),ve=gu(le,null,Ee,ve),le.child=ve;ve;)ve.flags=ve.flags&-3|4096,ve=ve.sibling;else{if(Ka(),Ee===Ce){le=wi(se,le,ve);break e}Dr(se,le,Ee,ve)}le=le.child}return le;case 5:return yu(le),se===null&&ea(le),Ee=le.type,Ce=le.pendingProps,Le=se!==null?se.memoizedProps:null,$e=Ce.children,Pt(Ee,Ce)?$e=null:Le!==null&&Pt(Ee,Le)&&(le.flags|=32),vi(se,le),Dr(se,le,$e,ve),le.child;case 6:return se===null&&ea(le),null;case 13:return Nc(se,le,ve);case 4:return Ll(le,le.stateNode.containerInfo),Ee=le.pendingProps,se===null?le.child=Ds(le,null,Ee,ve):Dr(se,le,Ee,ve),le.child;case 11:return Ee=le.type,Ce=le.pendingProps,Ce=le.elementType===Ee?Ce:Ti(Ee,Ce),Er(se,le,Ee,Ce,ve);case 7:return Dr(se,le,le.pendingProps,ve),le.child;case 8:return Dr(se,le,le.pendingProps.children,ve),le.child;case 12:return Dr(se,le,le.pendingProps.children,ve),le.child;case 10:e:{if(Ee=le.type._context,Ce=le.pendingProps,Le=le.memoizedProps,$e=Ce.value,ma(le,Ee,$e),Le!==null)if(mi(Le.value,$e)){if(Le.children===Ce.children&&!or.current){le=wi(se,le,ve);break e}}else for(Le=le.child,Le!==null&&(Le.return=le);Le!==null;){var st=Le.dependencies;if(st!==null){$e=Le.child;for(var Vt=st.firstContext;Vt!==null;){if(Vt.context===Ee){if(Le.tag===1){Vt=ws(-1,ve&-ve),Vt.tag=2;var sn=Le.updateQueue;if(sn!==null){sn=sn.shared;var bn=sn.pending;bn===null?Vt.next=Vt:(Vt.next=bn.next,bn.next=Vt),sn.pending=Vt}}Le.lanes|=ve,Vt=Le.alternate,Vt!==null&&(Vt.lanes|=ve),ga(Le.return,ve,le),st.lanes|=ve;break}Vt=Vt.next}}else if(Le.tag===10)$e=Le.type===le.type?null:Le.child;else if(Le.tag===18){if($e=Le.return,$e===null)throw Error(te(341));$e.lanes|=ve,st=$e.alternate,st!==null&&(st.lanes|=ve),ga($e,ve,le),$e=Le.sibling}else $e=Le.child;if($e!==null)$e.return=Le;else for($e=Le;$e!==null;){if($e===le){$e=null;break}if(Le=$e.sibling,Le!==null){Le.return=$e.return,$e=Le;break}$e=$e.return}Le=$e}Dr(se,le,Ce.children,ve),le=le.child}return le;case 9:return Ce=le.type,Ee=le.pendingProps.children,Xa(le,ve),Ce=bi(Ce),Ee=Ee(Ce),le.flags|=1,Dr(se,le,Ee,ve),le.child;case 14:return Ee=le.type,Ce=Ti(Ee,le.pendingProps),Ce=Ti(Ee.type,Ce),xr(se,le,Ee,Ce,ve);case 15:return ks(se,le,le.type,le.pendingProps,ve);case 17:return Ee=le.type,Ce=le.pendingProps,Ce=le.elementType===Ee?Ce:Ti(Ee,Ce),se!==null&&(se.alternate=null,le.alternate=null,le.flags|=2),le.tag=1,ur(Ee)?(se=!0,Wr(le)):se=!1,Xa(le,ve),hu(le,Ee,Ce),_c(le,Ee,Ce,ve),li(null,le,Ee,!0,se,ve);case 19:return Ra(se,le,ve);case 22:return ti(se,le,ve)}throw Error(te(156,le.tag))};function nc(se,le){return fa(se,le)}function wu(se,le,ve,Ee){this.tag=se,this.key=ve,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=le,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ee,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(se,le,ve,Ee){return new wu(se,le,ve,Ee)}function rc(se){return se=se.prototype,!(!se||!se.isReactComponent)}function ih(se){if(typeof se=="function")return rc(se)?1:0;if(se!=null){if(se=se.$$typeof,se===ge)return 11;if(se===ye)return 14}return 2}function Ws(se,le){var ve=se.alternate;return ve===null?(ve=Ui(se.tag,le,se.key,se.mode),ve.elementType=se.elementType,ve.type=se.type,ve.stateNode=se.stateNode,ve.alternate=se,se.alternate=ve):(ve.pendingProps=le,ve.type=se.type,ve.flags=0,ve.subtreeFlags=0,ve.deletions=null),ve.flags=se.flags&14680064,ve.childLanes=se.childLanes,ve.lanes=se.lanes,ve.child=se.child,ve.memoizedProps=se.memoizedProps,ve.memoizedState=se.memoizedState,ve.updateQueue=se.updateQueue,le=se.dependencies,ve.dependencies=le===null?null:{lanes:le.lanes,firstContext:le.firstContext},ve.sibling=se.sibling,ve.index=se.index,ve.ref=se.ref,ve}function ic(se,le,ve,Ee,Ce,Le){var $e=2;if(Ee=se,typeof se=="function")rc(se)&&($e=1);else if(typeof se=="string")$e=5;else e:switch(se){case ae:return Va(ve.children,Ce,Le,le);case ce:$e=8,Ce|=8;break;case he:return se=Ui(12,ve,le,Ce|2),se.elementType=he,se.lanes=Le,se;case de:return se=Ui(13,ve,le,Ce),se.elementType=de,se.lanes=Le,se;case me:return se=Ui(19,ve,le,Ce),se.elementType=me,se.lanes=Le,se;case Se:return tl(ve,Ce,Le,le);default:if(typeof se=="object"&&se!==null)switch(se.$$typeof){case ue:$e=10;break e;case pe:$e=9;break e;case ge:$e=11;break e;case ye:$e=14;break e;case xe:$e=16,Ee=null;break e}throw Error(te(130,se==null?se:typeof se,""))}return le=Ui($e,ve,le,Ce),le.elementType=se,le.type=Ee,le.lanes=Le,le}function Va(se,le,ve,Ee){return se=Ui(7,se,Ee,le),se.lanes=ve,se}function tl(se,le,ve,Ee){return se=Ui(22,se,Ee,le),se.elementType=Se,se.lanes=ve,se.stateNode={},se}function sc(se,le,ve){return se=Ui(6,se,null,le),se.lanes=ve,se}function ac(se,le,ve){return le=Ui(4,se.children!==null?se.children:[],se.key,le),le.lanes=ve,le.stateNode={containerInfo:se.containerInfo,pendingChildren:null,implementation:se.implementation},le}function oc(se,le,ve,Ee,Ce){this.tag=le,this.containerInfo=se,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ln,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=Ee,this.onRecoverableError=Ce,jt&&(this.mutableSourceEagerHydrationData=null)}function Pu(se,le,ve,Ee,Ce,Le,$e,st,Vt){return se=new oc(se,le,ve,st,Vt),le===1?(le=1,Le===!0&&(le|=8)):le=0,Le=Ui(3,null,null,le),se.current=Le,Le.stateNode=se,Le.memoizedState={element:Ee,isDehydrated:ve,cache:null,transitions:null},qa(Le),se}function Ru(se){if(!se)return Wn;se=se._reactInternals;e:{if(De(se)!==se||se.tag!==1)throw Error(te(170));var le=se;do{switch(le.tag){case 3:le=le.stateNode.context;break e;case 1:if(ur(le.type)){le=le.stateNode.__reactInternalMemoizedMergedChildContext;break e}}le=le.return}while(le!==null);throw Error(te(171))}if(se.tag===1){var ve=se.type;if(ur(ve))return Ts(se,ve,le)}return le}function Du(se){var le=se._reactInternals;if(le===void 0)throw typeof se.render=="function"?Error(te(188)):(se=Object.keys(se).join(","),Error(te(268,se)));return se=Ge(le),se===null?null:se.stateNode}function Zi(se,le){if(se=se.memoizedState,se!==null&&se.dehydrated!==null){var ve=se.retryLane;se.retryLane=ve!==0&&ve<le?ve:le}}function nl(se,le){Zi(se,le),(se=se.alternate)&&Zi(se,le)}function lc(se){return se=Ge(se),se===null?null:se.stateNode}function Iu(){return null}return A.attemptContinuousHydration=function(se){if(se.tag===13){var le=pr();ui(se,134217728,le),nl(se,134217728)}},A.attemptHydrationAtCurrentPriority=function(se){if(se.tag===13){var le=pr(),ve=cs(se);ui(se,ve,le),nl(se,ve)}},A.attemptSynchronousHydration=function(se){switch(se.tag){case 3:var le=se.stateNode;if(le.current.memoizedState.isDehydrated){var ve=Ci(le.pendingLanes);ve!==0&&(ms(le,ve|1),Pi(le,Vr()),!(Jn&6)&&(Oa(),Hi()))}break;case 13:var Ee=pr();mo(function(){return ui(se,1,Ee)}),nl(se,1)}},A.batchedUpdates=function(se,le){var ve=Jn;Jn|=1;try{return se(le)}finally{Jn=ve,Jn===0&&(Oa(),Sl&&Hi())}},A.createComponentSelector=function(se){return{$$typeof:$o,value:se}},A.createContainer=function(se,le,ve,Ee,Ce,Le,$e){return Pu(se,le,!1,null,ve,Ee,Ce,Le,$e)},A.createHasPseudoClassSelector=function(se){return{$$typeof:La,value:se}},A.createHydrationContainer=function(se,le,ve,Ee,Ce,Le,$e,st,Vt){return se=Pu(ve,Ee,!0,se,Ce,Le,$e,st,Vt),se.context=Ru(null),ve=se.current,Ee=pr(),Ce=cs(ve),Le=ws(Ee,Ce),Le.callback=le??null,Qs(ve,Le),se.current.lanes=Ce,ha(se,Ce,Ee),Pi(se,Ee),se},A.createPortal=function(se,le,ve){var Ee=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:Ee==null?null:""+Ee,children:se,containerInfo:le,implementation:ve}},A.createRoleSelector=function(se){return{$$typeof:Fa,value:se}},A.createTestNameSelector=function(se){return{$$typeof:Us,value:se}},A.createTextSelector=function(se){return{$$typeof:uo,value:se}},A.deferredUpdates=function(se){var le=ir,ve=vr.transition;try{return vr.transition=null,ir=16,se()}finally{ir=le,vr.transition=ve}},A.discreteUpdates=function(se,le,ve,Ee,Ce){var Le=ir,$e=vr.transition;try{return vr.transition=null,ir=1,se(le,ve,Ee,Ce)}finally{ir=Le,vr.transition=$e,Jn===0&&Oa()}},A.findAllNodes=zs,A.findBoundingRects=function(se,le){if(!tn)throw Error(te(363));le=zs(se,le),se=[];for(var ve=0;ve<le.length;ve++)se.push(Be(le[ve]));for(le=se.length-1;0<le;le--){ve=se[le];for(var Ee=ve.x,Ce=Ee+ve.width,Le=ve.y,$e=Le+ve.height,st=le-1;0<=st;st--)if(le!==st){var Vt=se[st],sn=Vt.x,bn=sn+Vt.width,Zn=Vt.y,Vn=Zn+Vt.height;if(Ee>=sn&&Le>=Zn&&Ce<=bn&&$e<=Vn){se.splice(le,1);break}else if(Ee!==sn||ve.width!==Vt.width||Vn<Le||Zn>$e){if(!(Le!==Zn||ve.height!==Vt.height||bn<Ee||sn>Ce)){sn>Ee&&(Vt.width+=sn-Ee,Vt.x=Ee),bn<Ce&&(Vt.width=Ce-sn),se.splice(le,1);break}}else{Zn>Le&&(Vt.height+=Zn-Le,Vt.y=Le),Vn<$e&&(Vt.height=$e-Zn),se.splice(le,1);break}}}return se},A.findHostInstance=Du,A.findHostInstanceWithNoPortals=function(se){return se=Fe(se),se=se!==null?je(se):null,se===null?null:se.stateNode},A.findHostInstanceWithWarning=function(se){return Du(se)},A.flushControlled=function(se){var le=Jn;Jn|=1;var ve=vr.transition,Ee=ir;try{vr.transition=null,ir=1,se()}finally{ir=Ee,vr.transition=ve,Jn=le,Jn===0&&(Oa(),Hi())}},A.flushPassiveEffects=Es,A.flushSync=mo,A.focusWithin=function(se,le){if(!tn)throw Error(te(363));for(se=jo(se),le=Bi(se,le),le=Array.from(le),se=0;se<le.length;){var ve=le[se++];if(!Ut(ve)){if(ve.tag===5&&Gt(ve.stateNode))return!0;for(ve=ve.child;ve!==null;)le.push(ve),ve=ve.sibling}}return!1},A.getCurrentUpdatePriority=function(){return ir},A.getFindAllNodesFailureDescription=function(se,le){if(!tn)throw Error(te(363));var ve=0,Ee=[];se=[jo(se),0];for(var Ce=0;Ce<se.length;){var Le=se[Ce++],$e=se[Ce++],st=le[$e];if((Le.tag!==5||!Ut(Le))&&(Xo(Le,st)&&(Ee.push(aa(st)),$e++,$e>ve&&(ve=$e)),$e<le.length))for(Le=Le.child;Le!==null;)se.push(Le,$e),Le=Le.sibling}if(ve<le.length){for(se=[];ve<le.length;ve++)se.push(aa(le[ve]));return`findAllNodes was able to match part of the selector:
  `+(Ee.join(" > ")+`

No matching component was found for:
  `)+se.join(" > ")}return null},A.getPublicRootInstance=function(se){if(se=se.current,!se.child)return null;switch(se.child.tag){case 5:return Ye(se.child.stateNode);default:return se.child.stateNode}},A.injectIntoDevTools=function(se){if(se={bundleType:se.bundleType,version:se.version,rendererPackageName:se.rendererPackageName,rendererConfig:se.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:lc,findFiberByHostInstance:se.findFiberByHostInstance||Iu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")se=!1;else{var le=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(le.isDisabled||!le.supportsFiber)se=!0;else{try{Co=le.inject(se),gs=le}catch{}se=!!le.checkDCE}}return se},A.isAlreadyRendering=function(){return!1},A.observeVisibleRects=function(se,le,ve,Ee){if(!tn)throw Error(te(363));se=zs(se,le);var Ce=En(se,ve,Ee).disconnect;return{disconnect:function(){Ce()}}},A.registerMutableSourceForHydration=function(se,le){var ve=le._getVersion;ve=ve(le._source),se.mutableSourceEagerHydrationData==null?se.mutableSourceEagerHydrationData=[le,ve]:se.mutableSourceEagerHydrationData.push(le,ve)},A.runWithPriority=function(se,le){var ve=ir;try{return ir=se,le()}finally{ir=ve}},A.shouldError=function(){return null},A.shouldSuspend=function(){return!1},A.updateContainer=function(se,le,ve,Ee){var Ce=le.current,Le=pr(),$e=cs(Ce);return ve=Ru(ve),le.context===null?le.context=ve:le.pendingContext=ve,le=ws(Le,$e),le.payload={element:se},Ee=Ee===void 0?null:Ee,Ee!==null&&(le.callback=Ee),Qs(Ce,le),se=ui(Ce,$e,Le),se!==null&&Tl(se,Ce,$e),$e},A}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(P){function T(Re,Oe){var ze=Re.length;Re.push(Oe);e:for(;0<ze;){var Ne=ze-1>>>1,Ze=Re[Ne];if(0<U(Ze,Oe))Re[Ne]=Oe,Re[ze]=Ze,ze=Ne;else break e}}function A(Re){return Re.length===0?null:Re[0]}function L(Re){if(Re.length===0)return null;var Oe=Re[0],ze=Re.pop();if(ze!==Oe){Re[0]=ze;e:for(var Ne=0,Ze=Re.length,Wt=Ze>>>1;Ne<Wt;){var Qe=2*(Ne+1)-1,Pt=Re[Qe],zt=Qe+1,It=Re[zt];if(0>U(Pt,ze))zt<Ze&&0>U(It,Pt)?(Re[Ne]=It,Re[zt]=ze,Ne=zt):(Re[Ne]=Pt,Re[Qe]=ze,Ne=Qe);else if(zt<Ze&&0>U(It,ze))Re[Ne]=It,Re[zt]=ze,Ne=zt;else break e}}return Oe}function U(Re,Oe){var ze=Re.sortIndex-Oe.sortIndex;return ze!==0?ze:Re.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var W=performance;P.unstable_now=function(){return W.now()}}else{var te=Date,ne=te.now();P.unstable_now=function(){return te.now()-ne}}var ie=[],oe=[],ae=1,ce=null,he=3,ue=!1,pe=!1,ge=!1,de=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xe(Re){for(var Oe=A(oe);Oe!==null;){if(Oe.callback===null)L(oe);else if(Oe.startTime<=Re)L(oe),Oe.sortIndex=Oe.expirationTime,T(ie,Oe);else break;Oe=A(oe)}}function Se(Re){if(ge=!1,xe(Re),!pe)if(A(ie)!==null)pe=!0,Ye(Te);else{var Oe=A(oe);Oe!==null&&Ct(Se,Oe.startTime-Re)}}function Te(Re,Oe){pe=!1,ge&&(ge=!1,me(Ie),Ie=-1),ue=!0;var ze=he;try{for(xe(Oe),ce=A(ie);ce!==null&&(!(ce.expirationTime>Oe)||Re&&!Fe());){var Ne=ce.callback;if(typeof Ne=="function"){ce.callback=null,he=ce.priorityLevel;var Ze=Ne(ce.expirationTime<=Oe);Oe=P.unstable_now(),typeof Ze=="function"?ce.callback=Ze:ce===A(ie)&&L(ie),xe(Oe)}else L(ie);ce=A(ie)}if(ce!==null)var Wt=!0;else{var Qe=A(oe);Qe!==null&&Ct(Se,Qe.startTime-Oe),Wt=!1}return Wt}finally{ce=null,he=ze,ue=!1}}var be=!1,Pe=null,Ie=-1,De=5,we=-1;function Fe(){return!(P.unstable_now()-we<De)}function Ge(){if(Pe!==null){var Re=P.unstable_now();we=Re;var Oe=!0;try{Oe=Pe(!0,Re)}finally{Oe?He():(be=!1,Pe=null)}}else be=!1}var He;if(typeof ye=="function")He=function(){ye(Ge)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,qe=je.port2;je.port1.onmessage=Ge,He=function(){qe.postMessage(null)}}else He=function(){de(Ge,0)};function Ye(Re){Pe=Re,be||(be=!0,He())}function Ct(Re,Oe){Ie=de(function(){Re(P.unstable_now())},Oe)}P.unstable_IdlePriority=5,P.unstable_ImmediatePriority=1,P.unstable_LowPriority=4,P.unstable_NormalPriority=3,P.unstable_Profiling=null,P.unstable_UserBlockingPriority=2,P.unstable_cancelCallback=function(Re){Re.callback=null},P.unstable_continueExecution=function(){pe||ue||(pe=!0,Ye(Te))},P.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<Re?Math.floor(1e3/Re):5},P.unstable_getCurrentPriorityLevel=function(){return he},P.unstable_getFirstCallbackNode=function(){return A(ie)},P.unstable_next=function(Re){switch(he){case 1:case 2:case 3:var Oe=3;break;default:Oe=he}var ze=he;he=Oe;try{return Re()}finally{he=ze}},P.unstable_pauseExecution=function(){},P.unstable_requestPaint=function(){},P.unstable_runWithPriority=function(Re,Oe){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var ze=he;he=Re;try{return Oe()}finally{he=ze}},P.unstable_scheduleCallback=function(Re,Oe,ze){var Ne=P.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Ne+ze:Ne):ze=Ne,Re){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ze+Ze,Re={id:ae++,callback:Oe,priorityLevel:Re,startTime:ze,expirationTime:Ze,sortIndex:-1},ze>Ne?(Re.sortIndex=ze,T(oe,Re),A(ie)===null&&Re===A(oe)&&(ge?(me(Ie),Ie=-1):ge=!0,Ct(Se,ze-Ne))):(Re.sortIndex=Ze,T(ie,Re),pe||ue||(pe=!0,Ye(Te))),Re},P.unstable_shouldYield=Fe,P.unstable_wrapCallback=function(Re){var Oe=he;return function(){var ze=he;he=Oe;try{return Re.apply(this,arguments)}finally{he=ze}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}var schedulerExports=requireScheduler();const catalogue={},extend=P=>void Object.assign(catalogue,P);function createRenderer(P,T){function A(ae,{args:ce=[],attach:he,...ue},pe){let ge=`${ae[0].toUpperCase()}${ae.slice(1)}`,de;if(ae==="primitive"){if(ue.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const me=ue.object;de=prepare(me,{type:ae,root:pe,attach:he,primitive:!0})}else{const me=catalogue[ge];if(!me)throw new Error(`R3F: ${ge} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ce))throw new Error("R3F: The args prop must be an array!");de=prepare(new me(...ce),{type:ae,root:pe,attach:he,memoizedProps:{args:ce}})}return de.__r3f.attach===void 0&&(de.isBufferGeometry?de.__r3f.attach="geometry":de.isMaterial&&(de.__r3f.attach="material")),ge!=="inject"&&applyProps$1(de,ue),de}function L(ae,ce){let he=!1;if(ce){var ue,pe;(ue=ce.__r3f)!=null&&ue.attach?attach(ae,ce,ce.__r3f.attach):ce.isObject3D&&ae.isObject3D&&(ae.add(ce),he=!0),he||(pe=ae.__r3f)==null||pe.objects.push(ce),ce.__r3f||prepare(ce,{}),ce.__r3f.parent=ae,updateInstance(ce),invalidateInstance(ce)}}function U(ae,ce,he){let ue=!1;if(ce){var pe,ge;if((pe=ce.__r3f)!=null&&pe.attach)attach(ae,ce,ce.__r3f.attach);else if(ce.isObject3D&&ae.isObject3D){ce.parent=ae,ce.dispatchEvent({type:"added"}),ae.dispatchEvent({type:"childadded",child:ce});const de=ae.children.filter(ye=>ye!==ce),me=de.indexOf(he);ae.children=[...de.slice(0,me),ce,...de.slice(me)],ue=!0}ue||(ge=ae.__r3f)==null||ge.objects.push(ce),ce.__r3f||prepare(ce,{}),ce.__r3f.parent=ae,updateInstance(ce),invalidateInstance(ce)}}function W(ae,ce,he=!1){ae&&[...ae].forEach(ue=>te(ce,ue,he))}function te(ae,ce,he){if(ce){var ue,pe,ge;if(ce.__r3f&&(ce.__r3f.parent=null),(ue=ae.__r3f)!=null&&ue.objects&&(ae.__r3f.objects=ae.__r3f.objects.filter(Se=>Se!==ce)),(pe=ce.__r3f)!=null&&pe.attach)detach(ae,ce,ce.__r3f.attach);else if(ce.isObject3D&&ae.isObject3D){var de;ae.remove(ce),(de=ce.__r3f)!=null&&de.root&&removeInteractivity(findInitialRoot(ce),ce)}const ye=(ge=ce.__r3f)==null?void 0:ge.primitive,xe=!ye&&(he===void 0?ce.dispose!==null:he);if(!ye){var me;W((me=ce.__r3f)==null?void 0:me.objects,ce,xe),W(ce.children,ce,xe)}if(delete ce.__r3f,xe&&ce.dispose&&ce.type!=="Scene"){const Se=()=>{try{ce.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Se):Se()}invalidateInstance(ae)}}function ne(ae,ce,he,ue){var pe;const ge=(pe=ae.__r3f)==null?void 0:pe.parent;if(!ge)return;const de=A(ce,he,ae.__r3f.root);if(ae.children){for(const me of ae.children)me.__r3f&&L(de,me);ae.children=ae.children.filter(me=>!me.__r3f)}ae.__r3f.objects.forEach(me=>L(de,me)),ae.__r3f.objects=[],ae.__r3f.autoRemovedBeforeAppend||te(ge,ae),de.parent&&(de.__r3f.autoRemovedBeforeAppend=!0),L(ge,de),de.raycast&&de.__r3f.eventCount&&findInitialRoot(de).getState().internal.interaction.push(de),[ue,ue.alternate].forEach(me=>{me!==null&&(me.stateNode=de,me.ref&&(typeof me.ref=="function"?me.ref(de):me.ref.current=de))})}const ie=()=>{};return{reconciler:Reconciler({createInstance:A,removeChild:te,appendChild:L,appendInitialChild:L,insertBefore:U,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ae,ce)=>{if(!ce)return;const he=ae.getState().scene;he.__r3f&&(he.__r3f.root=ae,L(he,ce))},removeChildFromContainer:(ae,ce)=>{ce&&te(ae.getState().scene,ce)},insertInContainerBefore:(ae,ce,he)=>{if(!ce||!he)return;const ue=ae.getState().scene;ue.__r3f&&U(ue,ce,he)},getRootHostContext:()=>null,getChildHostContext:ae=>ae,finalizeInitialChildren(ae){var ce;return!!((ce=ae==null?void 0:ae.__r3f)!=null?ce:{}).handlers},prepareUpdate(ae,ce,he,ue){var pe;if(((pe=ae==null?void 0:ae.__r3f)!=null?pe:{}).primitive&&ue.object&&ue.object!==ae)return[!0];{const{args:de=[],children:me,...ye}=ue,{args:xe=[],children:Se,...Te}=he;if(!Array.isArray(de))throw new Error("R3F: the args prop must be an array!");if(de.some((Pe,Ie)=>Pe!==xe[Ie]))return[!0];const be=diffProps(ae,ye,Te,!0);return be.changes.length?[!1,be]:null}},commitUpdate(ae,[ce,he],ue,pe,ge,de){ce?ne(ae,ue,ge,de):applyProps$1(ae,he)},commitMount(ae,ce,he,ue){var pe;const ge=(pe=ae.__r3f)!=null?pe:{};ae.raycast&&ge.handlers&&ge.eventCount&&findInitialRoot(ae).getState().internal.interaction.push(ae)},getPublicInstance:ae=>ae,prepareForCommit:()=>null,preparePortalMount:ae=>prepare(ae.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ae){var ce;const{attach:he,parent:ue}=(ce=ae.__r3f)!=null?ce:{};he&&ue&&detach(ue,ae,he),ae.isObject3D&&(ae.visible=!1),invalidateInstance(ae)},unhideInstance(ae,ce){var he;const{attach:ue,parent:pe}=(he=ae.__r3f)!=null?he:{};ue&&pe&&attach(pe,ae,ue),(ae.isObject3D&&ce.visible==null||ce.visible)&&(ae.visible=!0),invalidateInstance(ae)},createTextInstance:ie,hideTextInstance:ie,unhideTextInstance:ie,getCurrentEventPriority:()=>T?T():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=P=>"colorSpace"in P||"outputColorSpace"in P,getColorManagement=()=>{var P;return(P=catalogue.ColorManagement)!=null?P:null},isOrthographicCamera=P=>P&&P.isOrthographicCamera,isRef=P=>P&&P.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(P){const T=reactExports.useRef(P);return useIsomorphicLayoutEffect(()=>void(T.current=P),[P]),T}function Block({set:P}){return useIsomorphicLayoutEffect(()=>(P(new Promise(()=>null)),()=>P(!1)),[P]),null}class ErrorBoundary extends reactExports.Component{constructor(...T){super(...T),this.state={error:!1}}componentDidCatch(T){this.props.set(T)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=P=>P&&!!P.memoized&&!!P.changes;function calculateDpr(P){var T;const A=typeof window<"u"?(T=window.devicePixelRatio)!=null?T:2:1;return Array.isArray(P)?Math.min(Math.max(P[0],A),P[1]):P}const getRootState=P=>{var T;return(T=P.__r3f)==null?void 0:T.root.getState()};function findInitialRoot(P){let T=P.__r3f.root;for(;T.getState().previousRoot;)T=T.getState().previousRoot;return T}const is={obj:P=>P===Object(P)&&!is.arr(P)&&typeof P!="function",fun:P=>typeof P=="function",str:P=>typeof P=="string",num:P=>typeof P=="number",boo:P=>typeof P=="boolean",und:P=>P===void 0,arr:P=>Array.isArray(P),equ(P,T,{arrays:A="shallow",objects:L="reference",strict:U=!0}={}){if(typeof P!=typeof T||!!P!=!!T)return!1;if(is.str(P)||is.num(P)||is.boo(P))return P===T;const W=is.obj(P);if(W&&L==="reference")return P===T;const te=is.arr(P);if(te&&A==="reference")return P===T;if((te||W)&&P===T)return!0;let ne;for(ne in P)if(!(ne in T))return!1;if(W&&A==="shallow"&&L==="shallow"){for(ne in U?T:P)if(!is.equ(P[ne],T[ne],{strict:U,objects:"reference"}))return!1}else for(ne in U?T:P)if(P[ne]!==T[ne])return!1;if(is.und(ne)){if(te&&P.length===0&&T.length===0||W&&Object.keys(P).length===0&&Object.keys(T).length===0)return!0;if(P!==T)return!1}return!0}};function buildGraph(P){const T={nodes:{},materials:{}};return P&&P.traverse(A=>{A.name&&(T.nodes[A.name]=A),A.material&&!T.materials[A.material.name]&&(T.materials[A.material.name]=A.material)}),T}function dispose(P){P.dispose&&P.type!=="Scene"&&P.dispose();for(const T in P)T.dispose==null||T.dispose(),delete P[T]}function prepare(P,T){const A=P;return A.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...T},P}function resolve(P,T){let A=P;if(T.includes("-")){const L=T.split("-"),U=L.pop();return A=L.reduce((W,te)=>W[te],P),{target:A,key:U}}else return{target:A,key:T}}const INDEX_REGEX=/-\d+$/;function attach(P,T,A){if(is.str(A)){if(INDEX_REGEX.test(A)){const W=A.replace(INDEX_REGEX,""),{target:te,key:ne}=resolve(P,W);Array.isArray(te[ne])||(te[ne]=[])}const{target:L,key:U}=resolve(P,A);T.__r3f.previousAttach=L[U],L[U]=T}else T.__r3f.previousAttach=A(P,T)}function detach(P,T,A){var L,U;if(is.str(A)){const{target:W,key:te}=resolve(P,A),ne=T.__r3f.previousAttach;ne===void 0?delete W[te]:W[te]=ne}else(L=T.__r3f)==null||L.previousAttach==null||L.previousAttach(P,T);(U=T.__r3f)==null||delete U.previousAttach}function diffProps(P,{children:T,key:A,ref:L,...U},{children:W,key:te,ref:ne,...ie}={},oe=!1){const ae=P.__r3f,ce=Object.entries(U),he=[];if(oe){const pe=Object.keys(ie);for(let ge=0;ge<pe.length;ge++)U.hasOwnProperty(pe[ge])||ce.unshift([pe[ge],DEFAULT+"remove"])}ce.forEach(([pe,ge])=>{var de;if((de=P.__r3f)!=null&&de.primitive&&pe==="object"||is.equ(ge,ie[pe]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(pe))return he.push([pe,ge,!0,[]]);let me=[];pe.includes("-")&&(me=pe.split("-")),he.push([pe,ge,!1,me]);for(const ye in U){const xe=U[ye];ye.startsWith(`${pe}-`)&&he.push([ye,xe,!1,ye.split("-")])}});const ue={...U};return ae!=null&&ae.memoizedProps&&ae!=null&&ae.memoizedProps.args&&(ue.args=ae.memoizedProps.args),ae!=null&&ae.memoizedProps&&ae!=null&&ae.memoizedProps.attach&&(ue.attach=ae.memoizedProps.attach),{memoized:ue,changes:he}}const __DEV__=typeof process<"u"&&!1;function applyProps$1(P,T){var A;const L=P.__r3f,U=L==null?void 0:L.root,W=U==null||U.getState==null?void 0:U.getState(),{memoized:te,changes:ne}=isDiffSet(T)?T:diffProps(P,T),ie=L==null?void 0:L.eventCount;P.__r3f&&(P.__r3f.memoizedProps=te);for(let he=0;he<ne.length;he++){let[ue,pe,ge,de]=ne[he];if(hasColorSpace(P)){const Se="srgb",Te="srgb-linear";ue==="encoding"?(ue="colorSpace",pe=pe===3001?Se:Te):ue==="outputEncoding"&&(ue="outputColorSpace",pe=pe===3001?Se:Te)}let me=P,ye=me[ue];if(de.length&&(ye=de.reduce((xe,Se)=>xe[Se],P),!(ye&&ye.set))){const[xe,...Se]=de.reverse();me=Se.reverse().reduce((Te,be)=>Te[be],P),ue=xe}if(pe===DEFAULT+"remove")if(me.constructor){let xe=DEFAULTS.get(me.constructor);xe||(xe=new me.constructor,DEFAULTS.set(me.constructor,xe)),pe=xe[ue]}else pe=0;if(ge&&L)pe?L.handlers[ue]=pe:delete L.handlers[ue],L.eventCount=Object.keys(L.handlers).length;else if(ye&&ye.set&&(ye.copy||ye instanceof Layers)){if(Array.isArray(pe))ye.fromArray?ye.fromArray(pe):ye.set(...pe);else if(ye.copy&&pe&&pe.constructor&&(__DEV__?ye.constructor.name===pe.constructor.name:ye.constructor===pe.constructor))ye.copy(pe);else if(pe!==void 0){var oe;const xe=(oe=ye)==null?void 0:oe.isColor;!xe&&ye.setScalar?ye.setScalar(pe):ye instanceof Layers&&pe instanceof Layers?ye.mask=pe.mask:ye.set(pe),!getColorManagement()&&W&&!W.linear&&xe&&ye.convertSRGBToLinear()}}else{var ae;if(me[ue]=pe,(ae=me[ue])!=null&&ae.isTexture&&me[ue].format===RGBAFormat&&me[ue].type===UnsignedByteType&&W){const xe=me[ue];hasColorSpace(xe)&&hasColorSpace(W.gl)?xe.colorSpace=W.gl.outputColorSpace:xe.encoding=W.gl.outputEncoding}}invalidateInstance(P)}if(L&&L.parent&&P.raycast&&ie!==L.eventCount){const he=findInitialRoot(P).getState().internal,ue=he.interaction.indexOf(P);ue>-1&&he.interaction.splice(ue,1),L.eventCount&&he.interaction.push(P)}return!(ne.length===1&&ne[0][0]==="onUpdate")&&ne.length&&(A=P.__r3f)!=null&&A.parent&&updateInstance(P),P}function invalidateInstance(P){var T,A;const L=(T=P.__r3f)==null||(A=T.root)==null||A.getState==null?void 0:A.getState();L&&L.internal.frames===0&&L.invalidate()}function updateInstance(P){P.onUpdate==null||P.onUpdate(P)}function updateCamera(P,T){P.manual||(isOrthographicCamera(P)?(P.left=T.width/-2,P.right=T.width/2,P.top=T.height/2,P.bottom=T.height/-2):P.aspect=T.width/T.height,P.updateProjectionMatrix(),P.updateMatrixWorld())}function makeId(P){return(P.eventObject||P.object).uuid+"/"+P.index+P.instanceId}function getEventPriority(){var P;const T=typeof self<"u"&&self||typeof window<"u"&&window;if(!T)return constantsExports.DefaultEventPriority;switch((P=T.event)==null?void 0:P.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(P,T,A,L){const U=A.get(T);U&&(A.delete(T),A.size===0&&(P.delete(L),U.target.releasePointerCapture(L)))}function removeInteractivity(P,T){const{internal:A}=P.getState();A.interaction=A.interaction.filter(L=>L!==T),A.initialHits=A.initialHits.filter(L=>L!==T),A.hovered.forEach((L,U)=>{(L.eventObject===T||L.object===T)&&A.hovered.delete(U)}),A.capturedMap.forEach((L,U)=>{releaseInternalPointerCapture(A.capturedMap,T,L,U)})}function createEvents(P){function T(ie){const{internal:oe}=P.getState(),ae=ie.offsetX-oe.initialClick[0],ce=ie.offsetY-oe.initialClick[1];return Math.round(Math.sqrt(ae*ae+ce*ce))}function A(ie){return ie.filter(oe=>["Move","Over","Enter","Out","Leave"].some(ae=>{var ce;return(ce=oe.__r3f)==null?void 0:ce.handlers["onPointer"+ae]}))}function L(ie,oe){const ae=P.getState(),ce=new Set,he=[],ue=oe?oe(ae.internal.interaction):ae.internal.interaction;for(let me=0;me<ue.length;me++){const ye=getRootState(ue[me]);ye&&(ye.raycaster.camera=void 0)}ae.previousRoot||ae.events.compute==null||ae.events.compute(ie,ae);function pe(me){const ye=getRootState(me);if(!ye||!ye.events.enabled||ye.raycaster.camera===null)return[];if(ye.raycaster.camera===void 0){var xe;ye.events.compute==null||ye.events.compute(ie,ye,(xe=ye.previousRoot)==null?void 0:xe.getState()),ye.raycaster.camera===void 0&&(ye.raycaster.camera=null)}return ye.raycaster.camera?ye.raycaster.intersectObject(me,!0):[]}let ge=ue.flatMap(pe).sort((me,ye)=>{const xe=getRootState(me.object),Se=getRootState(ye.object);return!xe||!Se?me.distance-ye.distance:Se.events.priority-xe.events.priority||me.distance-ye.distance}).filter(me=>{const ye=makeId(me);return ce.has(ye)?!1:(ce.add(ye),!0)});ae.events.filter&&(ge=ae.events.filter(ge,ae));for(const me of ge){let ye=me.object;for(;ye;){var de;(de=ye.__r3f)!=null&&de.eventCount&&he.push({...me,eventObject:ye}),ye=ye.parent}}if("pointerId"in ie&&ae.internal.capturedMap.has(ie.pointerId))for(let me of ae.internal.capturedMap.get(ie.pointerId).values())ce.has(makeId(me.intersection))||he.push(me.intersection);return he}function U(ie,oe,ae,ce){const he=P.getState();if(ie.length){const ue={stopped:!1};for(const pe of ie){const ge=getRootState(pe.object)||he,{raycaster:de,pointer:me,camera:ye,internal:xe}=ge,Se=new Vector3(me.x,me.y,0).unproject(ye),Te=we=>{var Fe,Ge;return(Fe=(Ge=xe.capturedMap.get(we))==null?void 0:Ge.has(pe.eventObject))!=null?Fe:!1},be=we=>{const Fe={intersection:pe,target:oe.target};xe.capturedMap.has(we)?xe.capturedMap.get(we).set(pe.eventObject,Fe):xe.capturedMap.set(we,new Map([[pe.eventObject,Fe]])),oe.target.setPointerCapture(we)},Pe=we=>{const Fe=xe.capturedMap.get(we);Fe&&releaseInternalPointerCapture(xe.capturedMap,pe.eventObject,Fe,we)};let Ie={};for(let we in oe){let Fe=oe[we];typeof Fe!="function"&&(Ie[we]=Fe)}let De={...pe,...Ie,pointer:me,intersections:ie,stopped:ue.stopped,delta:ae,unprojectedPoint:Se,ray:de.ray,camera:ye,stopPropagation(){const we="pointerId"in oe&&xe.capturedMap.get(oe.pointerId);if((!we||we.has(pe.eventObject))&&(De.stopped=ue.stopped=!0,xe.hovered.size&&Array.from(xe.hovered.values()).find(Fe=>Fe.eventObject===pe.eventObject))){const Fe=ie.slice(0,ie.indexOf(pe));W([...Fe,pe])}},target:{hasPointerCapture:Te,setPointerCapture:be,releasePointerCapture:Pe},currentTarget:{hasPointerCapture:Te,setPointerCapture:be,releasePointerCapture:Pe},nativeEvent:oe};if(ce(De),ue.stopped===!0)break}}return ie}function W(ie){const{internal:oe}=P.getState();for(const ae of oe.hovered.values())if(!ie.length||!ie.find(ce=>ce.object===ae.object&&ce.index===ae.index&&ce.instanceId===ae.instanceId)){const he=ae.eventObject.__r3f,ue=he==null?void 0:he.handlers;if(oe.hovered.delete(makeId(ae)),he!=null&&he.eventCount){const pe={...ae,intersections:ie};ue.onPointerOut==null||ue.onPointerOut(pe),ue.onPointerLeave==null||ue.onPointerLeave(pe)}}}function te(ie,oe){for(let ae=0;ae<oe.length;ae++){const ce=oe[ae].__r3f;ce==null||ce.handlers.onPointerMissed==null||ce.handlers.onPointerMissed(ie)}}function ne(ie){switch(ie){case"onPointerLeave":case"onPointerCancel":return()=>W([]);case"onLostPointerCapture":return oe=>{const{internal:ae}=P.getState();"pointerId"in oe&&ae.capturedMap.has(oe.pointerId)&&requestAnimationFrame(()=>{ae.capturedMap.has(oe.pointerId)&&(ae.capturedMap.delete(oe.pointerId),W([]))})}}return function(ae){const{onPointerMissed:ce,internal:he}=P.getState();he.lastEvent.current=ae;const ue=ie==="onPointerMove",pe=ie==="onClick"||ie==="onContextMenu"||ie==="onDoubleClick",de=L(ae,ue?A:void 0),me=pe?T(ae):0;ie==="onPointerDown"&&(he.initialClick=[ae.offsetX,ae.offsetY],he.initialHits=de.map(xe=>xe.eventObject)),pe&&!de.length&&me<=2&&(te(ae,he.interaction),ce&&ce(ae)),ue&&W(de);function ye(xe){const Se=xe.eventObject,Te=Se.__r3f,be=Te==null?void 0:Te.handlers;if(Te!=null&&Te.eventCount)if(ue){if(be.onPointerOver||be.onPointerEnter||be.onPointerOut||be.onPointerLeave){const Pe=makeId(xe),Ie=he.hovered.get(Pe);Ie?Ie.stopped&&xe.stopPropagation():(he.hovered.set(Pe,xe),be.onPointerOver==null||be.onPointerOver(xe),be.onPointerEnter==null||be.onPointerEnter(xe))}be.onPointerMove==null||be.onPointerMove(xe)}else{const Pe=be[ie];Pe?(!pe||he.initialHits.includes(Se))&&(te(ae,he.interaction.filter(Ie=>!he.initialHits.includes(Ie))),Pe(xe)):pe&&he.initialHits.includes(Se)&&te(ae,he.interaction.filter(Ie=>!he.initialHits.includes(Ie)))}}U(de,ae,me,ye)}}return{handlePointer:ne}}const isRenderer=P=>!!(P!=null&&P.render),context=reactExports.createContext(null),createStore=(P,T)=>{const A=create((ne,ie)=>{const oe=new Vector3,ae=new Vector3,ce=new Vector3;function he(me=ie().camera,ye=ae,xe=ie().size){const{width:Se,height:Te,top:be,left:Pe}=xe,Ie=Se/Te;ye.isVector3?ce.copy(ye):ce.set(...ye);const De=me.getWorldPosition(oe).distanceTo(ce);if(isOrthographicCamera(me))return{width:Se/me.zoom,height:Te/me.zoom,top:be,left:Pe,factor:1,distance:De,aspect:Ie};{const we=me.fov*Math.PI/180,Fe=2*Math.tan(we/2)*De,Ge=Fe*(Se/Te);return{width:Ge,height:Fe,top:be,left:Pe,factor:Se/Ge,distance:De,aspect:Ie}}}let ue;const pe=me=>ne(ye=>({performance:{...ye.performance,current:me}})),ge=new Vector2;return{set:ne,get:ie,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(me=1)=>P(ie(),me),advance:(me,ye)=>T(me,ye,ie()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:ge,mouse:ge,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const me=ie();ue&&clearTimeout(ue),me.performance.current!==me.performance.min&&pe(me.performance.min),ue=setTimeout(()=>pe(ie().performance.max),me.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:he},setEvents:me=>ne(ye=>({...ye,events:{...ye.events,...me}})),setSize:(me,ye,xe,Se,Te)=>{const be=ie().camera,Pe={width:me,height:ye,top:Se||0,left:Te||0,updateStyle:xe};ne(Ie=>({size:Pe,viewport:{...Ie.viewport,...he(be,ae,Pe)}}))},setDpr:me=>ne(ye=>{const xe=calculateDpr(me);return{viewport:{...ye.viewport,dpr:xe,initialDpr:ye.viewport.initialDpr||xe}}}),setFrameloop:(me="always")=>{const ye=ie().clock;ye.stop(),ye.elapsedTime=0,me!=="never"&&(ye.start(),ye.elapsedTime=0),ne(()=>({frameloop:me}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(me,ye,xe)=>{const Se=ie().internal;return Se.priority=Se.priority+(ye>0?1:0),Se.subscribers.push({ref:me,priority:ye,store:xe}),Se.subscribers=Se.subscribers.sort((Te,be)=>Te.priority-be.priority),()=>{const Te=ie().internal;Te!=null&&Te.subscribers&&(Te.priority=Te.priority-(ye>0?1:0),Te.subscribers=Te.subscribers.filter(be=>be.ref!==me))}}}}}),L=A.getState();let U=L.size,W=L.viewport.dpr,te=L.camera;return A.subscribe(()=>{const{camera:ne,size:ie,viewport:oe,gl:ae,set:ce}=A.getState();if(ie.width!==U.width||ie.height!==U.height||oe.dpr!==W){var he;U=ie,W=oe.dpr,updateCamera(ne,ie),ae.setPixelRatio(oe.dpr);const ue=(he=ie.updateStyle)!=null?he:typeof HTMLCanvasElement<"u"&&ae.domElement instanceof HTMLCanvasElement;ae.setSize(ie.width,ie.height,ue)}ne!==te&&(te=ne,ce(ue=>({viewport:{...ue.viewport,...ue.viewport.getCurrentViewport(ne)}})))}),A.subscribe(ne=>P(ne)),A};let i$4,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(P,T){if(P.size)for(const{callback:A}of P.values())A(T)}function flushGlobalEffects(P,T){switch(P){case"before":return run(globalEffects,T);case"after":return run(globalAfterEffects,T);case"tail":return run(globalTailEffects,T)}}let subscribers,subscription;function render$1(P,T,A){let L=T.clock.getDelta();for(T.frameloop==="never"&&typeof P=="number"&&(L=P-T.clock.elapsedTime,T.clock.oldTime=T.clock.elapsedTime,T.clock.elapsedTime=P),subscribers=T.internal.subscribers,i$4=0;i$4<subscribers.length;i$4++)subscription=subscribers[i$4],subscription.ref.current(subscription.store.getState(),L,A);return!T.internal.priority&&T.gl.render&&T.gl.render(T.scene,T.camera),T.internal.frames=Math.max(0,T.internal.frames-1),T.frameloop==="always"?1:T.internal.frames}function createLoop(P){let T=!1,A=!1,L,U,W;function te(oe){U=requestAnimationFrame(te),T=!0,L=0,flushGlobalEffects("before",oe),A=!0;for(const ce of P.values()){var ae;W=ce.store.getState(),W.internal.active&&(W.frameloop==="always"||W.internal.frames>0)&&!((ae=W.gl.xr)!=null&&ae.isPresenting)&&(L+=render$1(oe,W))}if(A=!1,flushGlobalEffects("after",oe),L===0)return flushGlobalEffects("tail",oe),T=!1,cancelAnimationFrame(U)}function ne(oe,ae=1){var ce;if(!oe)return P.forEach(he=>ne(he.store.getState(),ae));(ce=oe.gl.xr)!=null&&ce.isPresenting||!oe.internal.active||oe.frameloop==="never"||(ae>1?oe.internal.frames=Math.min(60,oe.internal.frames+ae):A?oe.internal.frames=2:oe.internal.frames=1,T||(T=!0,requestAnimationFrame(te)))}function ie(oe,ae=!0,ce,he){if(ae&&flushGlobalEffects("before",oe),ce)render$1(oe,ce,he);else for(const ue of P.values())render$1(oe,ue.store.getState());ae&&flushGlobalEffects("after",oe)}return{loop:te,invalidate:ne,advance:ie}}function useStore(){const P=reactExports.useContext(context);if(!P)throw new Error("R3F: Hooks can only be used within the Canvas component!");return P}function useThree(P=A=>A,T){return useStore()(P,T)}function useFrame(P,T=0){const A=useStore(),L=A.getState().internal.subscribe,U=useMutableCallback(P);return useIsomorphicLayoutEffect(()=>L(U,T,A),[T,L,A]),null}const memoizedLoaders=new WeakMap;function loadingFn(P,T){return function(A,...L){let U=memoizedLoaders.get(A);return U||(U=new A,memoizedLoaders.set(A,U)),P&&P(U),Promise.all(L.map(W=>new Promise((te,ne)=>U.load(W,ie=>{ie.scene&&Object.assign(ie,buildGraph(ie.scene)),te(ie)},T,ie=>ne(new Error(`Could not load ${W}: ${ie==null?void 0:ie.message}`))))))}}function useLoader(P,T,A,L){const U=Array.isArray(T)?T:[T],W=suspend(loadingFn(A,L),[P,...U],{equal:is.equ});return Array.isArray(T)?W:W[0]}useLoader.preload=function(P,T,A){const L=Array.isArray(T)?T:[T];return preload(loadingFn(A),[P,...L])};useLoader.clear=function(P,T){const A=Array.isArray(T)?T:[T];return clear([P,...A])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(P,T)=>{const A=typeof P=="function"?P(T):P;return isRenderer(A)?A:new WebGLRenderer({powerPreference:"high-performance",canvas:T,antialias:!0,alpha:!0,...P})};function computeInitialSize(P,T){const A=typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement;if(T){const{width:L,height:U,top:W,left:te,updateStyle:ne=A}=T;return{width:L,height:U,top:W,left:te,updateStyle:ne}}else if(typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement&&P.parentElement){const{width:L,height:U,top:W,left:te}=P.parentElement.getBoundingClientRect();return{width:L,height:U,top:W,left:te,updateStyle:A}}else if(typeof OffscreenCanvas<"u"&&P instanceof OffscreenCanvas)return{width:P.width,height:P.height,top:0,left:0,updateStyle:A};return{width:0,height:0,top:0,left:0}}function createRoot(P){const T=roots.get(P),A=T==null?void 0:T.fiber,L=T==null?void 0:T.store;T&&console.warn("R3F.createRoot should only be called once!");const U=typeof reportError=="function"?reportError:console.error,W=L||createStore(invalidate,advance),te=A||reconciler.createContainer(W,constantsExports.ConcurrentRoot,null,!1,null,"",U,null);T||roots.set(P,{fiber:te,store:W});let ne,ie=!1,oe;return{configure(ae={}){let{gl:ce,size:he,scene:ue,events:pe,onCreated:ge,shadows:de=!1,linear:me=!1,flat:ye=!1,legacy:xe=!1,orthographic:Se=!1,frameloop:Te="always",dpr:be=[1,2],performance:Pe,raycaster:Ie,camera:De,onPointerMissed:we}=ae,Fe=W.getState(),Ge=Fe.gl;Fe.gl||Fe.set({gl:Ge=createRendererInstance(ce,P)});let He=Fe.raycaster;He||Fe.set({raycaster:He=new Raycaster});const{params:je,...qe}=Ie||{};if(is.equ(qe,He,shallowLoose)||applyProps(He,{...qe}),is.equ(je,He.params,shallowLoose)||applyProps(He,{params:{...He.params,...je}}),!Fe.camera||Fe.camera===oe&&!is.equ(oe,De,shallowLoose)){oe=De;const ze=De instanceof Camera,Ne=ze?De:Se?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);ze||(Ne.position.z=5,De&&(applyProps(Ne,De),("aspect"in De||"left"in De||"right"in De||"bottom"in De||"top"in De)&&(Ne.manual=!0,Ne.updateProjectionMatrix())),!Fe.camera&&!(De!=null&&De.rotation)&&Ne.lookAt(0,0,0)),Fe.set({camera:Ne}),He.camera=Ne}if(!Fe.scene){let ze;ue!=null&&ue.isScene?ze=ue:(ze=new Scene,ue&&applyProps(ze,ue)),Fe.set({scene:prepare(ze)})}if(!Fe.xr){var Ye;const ze=(Wt,Qe)=>{const Pt=W.getState();Pt.frameloop!=="never"&&advance(Wt,!0,Pt,Qe)},Ne=()=>{const Wt=W.getState();Wt.gl.xr.enabled=Wt.gl.xr.isPresenting,Wt.gl.xr.setAnimationLoop(Wt.gl.xr.isPresenting?ze:null),Wt.gl.xr.isPresenting||invalidate(Wt)},Ze={connect(){const Wt=W.getState().gl;Wt.xr.addEventListener("sessionstart",Ne),Wt.xr.addEventListener("sessionend",Ne)},disconnect(){const Wt=W.getState().gl;Wt.xr.removeEventListener("sessionstart",Ne),Wt.xr.removeEventListener("sessionend",Ne)}};typeof((Ye=Ge.xr)==null?void 0:Ye.addEventListener)=="function"&&Ze.connect(),Fe.set({xr:Ze})}if(Ge.shadowMap){const ze=Ge.shadowMap.enabled,Ne=Ge.shadowMap.type;if(Ge.shadowMap.enabled=!!de,is.boo(de))Ge.shadowMap.type=PCFSoftShadowMap;else if(is.str(de)){var Ct;const Ze={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Ge.shadowMap.type=(Ct=Ze[de])!=null?Ct:PCFSoftShadowMap}else is.obj(de)&&Object.assign(Ge.shadowMap,de);(ze!==Ge.shadowMap.enabled||Ne!==Ge.shadowMap.type)&&(Ge.shadowMap.needsUpdate=!0)}const Re=getColorManagement();Re&&("enabled"in Re?Re.enabled=!xe:"legacyMode"in Re&&(Re.legacyMode=xe)),ie||applyProps(Ge,{outputEncoding:me?3e3:3001,toneMapping:ye?NoToneMapping:ACESFilmicToneMapping}),Fe.legacy!==xe&&Fe.set(()=>({legacy:xe})),Fe.linear!==me&&Fe.set(()=>({linear:me})),Fe.flat!==ye&&Fe.set(()=>({flat:ye})),ce&&!is.fun(ce)&&!isRenderer(ce)&&!is.equ(ce,Ge,shallowLoose)&&applyProps(Ge,ce),pe&&!Fe.events.handlers&&Fe.set({events:pe(W)});const Oe=computeInitialSize(P,he);return is.equ(Oe,Fe.size,shallowLoose)||Fe.setSize(Oe.width,Oe.height,Oe.updateStyle,Oe.top,Oe.left),be&&Fe.viewport.dpr!==calculateDpr(be)&&Fe.setDpr(be),Fe.frameloop!==Te&&Fe.setFrameloop(Te),Fe.onPointerMissed||Fe.set({onPointerMissed:we}),Pe&&!is.equ(Pe,Fe.performance,shallowLoose)&&Fe.set(ze=>({performance:{...ze.performance,...Pe}})),ne=ge,ie=!0,this},render(ae){return ie||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:W,children:ae,onCreated:ne,rootElement:P}),te,null,()=>{}),W},unmount(){unmountComponentAtNode(P)}}}function Provider({store:P,children:T,onCreated:A,rootElement:L}){return useIsomorphicLayoutEffect(()=>{const U=P.getState();U.set(W=>({internal:{...W.internal,active:!0}})),A&&A(U),P.getState().events.connected||U.events.connect==null||U.events.connect(L)},[]),jsxRuntimeExports.jsx(context.Provider,{value:P,children:T})}function unmountComponentAtNode(P,T){const A=roots.get(P),L=A==null?void 0:A.fiber;if(L){const U=A==null?void 0:A.store.getState();U&&(U.internal.active=!1),reconciler.updateContainer(null,L,null,()=>{U&&setTimeout(()=>{try{var W,te,ne,ie;U.events.disconnect==null||U.events.disconnect(),(W=U.gl)==null||(te=W.renderLists)==null||te.dispose==null||te.dispose(),(ne=U.gl)==null||ne.forceContextLoss==null||ne.forceContextLoss(),(ie=U.gl)!=null&&ie.xr&&U.xr.disconnect(),dispose(U),roots.delete(P)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(P){const{handlePointer:T}=createEvents(P);return{priority:1,enabled:!0,compute(A,L,U){L.pointer.set(A.offsetX/L.size.width*2-1,-(A.offsetY/L.size.height)*2+1),L.raycaster.setFromCamera(L.pointer,L.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((A,L)=>({...A,[L]:T(L)}),{}),update:()=>{var A;const{events:L,internal:U}=P.getState();(A=U.lastEvent)!=null&&A.current&&L.handlers&&L.handlers.onPointerMove(U.lastEvent.current)},connect:A=>{var L;const{set:U,events:W}=P.getState();W.disconnect==null||W.disconnect(),U(te=>({events:{...te.events,connected:A}})),Object.entries((L=W.handlers)!=null?L:[]).forEach(([te,ne])=>{const[ie,oe]=DOM_EVENTS[te];A.addEventListener(ie,ne,{passive:oe})})},disconnect:()=>{const{set:A,events:L}=P.getState();if(L.connected){var U;Object.entries((U=L.handlers)!=null?U:[]).forEach(([W,te])=>{if(L&&L.connected instanceof HTMLElement){const[ne]=DOM_EVENTS[W];L.connected.removeEventListener(ne,te)}}),A(W=>({events:{...W.events,connected:void 0}}))}}}}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;function P(T,A,L){var U,W,te,ne,ie;A==null&&(A=100);function oe(){var ce=Date.now()-ne;ce<A&&ce>=0?U=setTimeout(oe,A-ce):(U=null,L||(ie=T.apply(te,W),te=W=null))}var ae=function(){te=this,W=arguments,ne=Date.now();var ce=L&&!U;return U||(U=setTimeout(oe,A)),ce&&(ie=T.apply(te,W),te=W=null),ie};return ae.clear=function(){U&&(clearTimeout(U),U=null)},ae.flush=function(){U&&(ie=T.apply(te,W),te=W=null,clearTimeout(U),U=null)},ae}return P.debounce=P,debounce_1=P,debounce_1}var debounceExports=requireDebounce();const createDebounce=getDefaultExportFromCjs(debounceExports);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(P,T,A)=>T in P?__defProp(P,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):P[T]=A,__spreadValues=(P,T)=>{for(var A in T||(T={}))__hasOwnProp.call(T,A)&&__defNormalProp(P,A,T[A]);if(__getOwnPropSymbols)for(var A of __getOwnPropSymbols(T))__propIsEnum.call(T,A)&&__defNormalProp(P,A,T[A]);return P},__spreadProps=(P,T)=>__defProps(P,__getOwnPropDescs(T)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(P,T,A){if(!P)return;if(A(P)===!0)return P;let L=P.child;for(;L;){const U=traverseFiber(L,T,A);if(U)return U;L=L.sibling}}function wrapContext(P){try{return Object.defineProperties(P,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return P}}const error=console.error;console.error=function(){const P=[...arguments].join("");if(P!=null&&P.startsWith("Warning:")&&P.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const P=reactExports.useContext(FiberContext);if(P===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const T=reactExports.useId();return reactExports.useMemo(()=>{for(const L of[P,P==null?void 0:P.alternate]){if(!L)continue;const U=traverseFiber(L,!1,W=>{let te=W.memoizedState;for(;te;){if(te.memoizedState===T)return!0;te=te.next}});if(U)return U}},[P,T])}function useContextMap(){const P=useFiber(),[T]=reactExports.useState(()=>new Map);T.clear();let A=P;for(;A;){if(A.type&&typeof A.type=="object"){const U=A.type._context===void 0&&A.type.Provider===A.type?A.type:A.type._context;U&&U!==FiberContext&&!T.has(U)&&T.set(U,reactExports.useContext(wrapContext(U)))}A=A.return}return T}function useContextBridge(){const P=useContextMap();return reactExports.useMemo(()=>Array.from(P.keys()).reduce((T,A)=>L=>reactExports.createElement(T,null,reactExports.createElement(A.Provider,__spreadProps(__spreadValues({},L),{value:P.get(A)}))),T=>reactExports.createElement(FiberProvider,__spreadValues({},T))),[P])}function useMeasure({debounce:P,scroll:T,polyfill:A,offsetSize:L}={debounce:0,scroll:!1,offsetSize:!1}){const U=A||typeof window<"u"&&window.ResizeObserver,[W,te]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!U)return W.width=1280,W.height=800,[()=>{},W,()=>{}];const ne=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:W,orientationHandler:null}),ie=P?typeof P=="number"?P:P.scroll:null,oe=P?typeof P=="number"?P:P.resize:null,ae=reactExports.useRef(!1);reactExports.useEffect(()=>(ae.current=!0,()=>void(ae.current=!1)));const[ce,he,ue]=reactExports.useMemo(()=>{const me=()=>{if(!ne.current.element)return;const{left:ye,top:xe,width:Se,height:Te,bottom:be,right:Pe,x:Ie,y:De}=ne.current.element.getBoundingClientRect(),we={left:ye,top:xe,width:Se,height:Te,bottom:be,right:Pe,x:Ie,y:De};ne.current.element instanceof HTMLElement&&L&&(we.height=ne.current.element.offsetHeight,we.width=ne.current.element.offsetWidth),Object.freeze(we),ae.current&&!areBoundsEqual(ne.current.lastBounds,we)&&te(ne.current.lastBounds=we)};return[me,oe?createDebounce(me,oe):me,ie?createDebounce(me,ie):me]},[te,L,ie,oe]);function pe(){ne.current.scrollContainers&&(ne.current.scrollContainers.forEach(me=>me.removeEventListener("scroll",ue,!0)),ne.current.scrollContainers=null),ne.current.resizeObserver&&(ne.current.resizeObserver.disconnect(),ne.current.resizeObserver=null),ne.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",ne.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",ne.current.orientationHandler))}function ge(){var me;ne.current.element&&(ne.current.resizeObserver=new U(he),(me=ne.current.resizeObserver)==null||me.observe(ne.current.element),T&&ne.current.scrollContainers&&ne.current.scrollContainers.forEach(ye=>ye.addEventListener("scroll",ue,{capture:!0,passive:!0})),ne.current.orientationHandler=()=>{ue()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",ne.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",ne.current.orientationHandler))}const de=me=>{!me||me===ne.current.element||(pe(),ne.current.element=me,ne.current.scrollContainers=findScrollContainers(me),ge())};return useOnWindowScroll(ue,!!T),useOnWindowResize(he),reactExports.useEffect(()=>{pe(),ge()},[T,ue,he]),reactExports.useEffect(()=>pe,[]),[de,W,ce]}function useOnWindowResize(P){reactExports.useEffect(()=>{const T=P;return window.addEventListener("resize",T),()=>void window.removeEventListener("resize",T)},[P])}function useOnWindowScroll(P,T){reactExports.useEffect(()=>{if(T){const A=P;return window.addEventListener("scroll",A,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",A,!0)}},[P,T])}function findScrollContainers(P){const T=[];if(!P||P===document.body)return T;const{overflow:A,overflowX:L,overflowY:U}=window.getComputedStyle(P);return[A,L,U].some(W=>W==="auto"||W==="scroll")&&T.push(P),[...T,...findScrollContainers(P.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(P,T)=>keys.every(A=>P[A]===T[A]),CanvasImpl=reactExports.forwardRef(function({children:T,fallback:A,resize:L,style:U,gl:W,events:te=createPointerEvents,eventSource:ne,eventPrefix:ie,shadows:oe,linear:ae,flat:ce,legacy:he,orthographic:ue,frameloop:pe,dpr:ge,performance:de,raycaster:me,camera:ye,scene:xe,onPointerMissed:Se,onCreated:Te,...be},Pe){reactExports.useMemo(()=>extend(St),[]);const Ie=useContextBridge(),[De,we]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...L}),Fe=reactExports.useRef(null),Ge=reactExports.useRef(null);reactExports.useImperativeHandle(Pe,()=>Fe.current);const He=useMutableCallback(Se),[je,qe]=reactExports.useState(!1),[Ye,Ct]=reactExports.useState(!1);if(je)throw je;if(Ye)throw Ye;const Re=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const ze=Fe.current;we.width>0&&we.height>0&&ze&&(Re.current||(Re.current=createRoot(ze)),Re.current.configure({gl:W,events:te,shadows:oe,linear:ae,flat:ce,legacy:he,orthographic:ue,frameloop:pe,dpr:ge,performance:de,raycaster:me,camera:ye,scene:xe,size:we,onPointerMissed:(...Ne)=>He.current==null?void 0:He.current(...Ne),onCreated:Ne=>{Ne.events.connect==null||Ne.events.connect(ne?isRef(ne)?ne.current:ne:Ge.current),ie&&Ne.setEvents({compute:(Ze,Wt)=>{const Qe=Ze[ie+"X"],Pt=Ze[ie+"Y"];Wt.pointer.set(Qe/Wt.size.width*2-1,-(Pt/Wt.size.height)*2+1),Wt.raycaster.setFromCamera(Wt.pointer,Wt.camera)}}),Te==null||Te(Ne)}}),Re.current.render(jsxRuntimeExports.jsx(Ie,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:Ct,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:qe}),children:T})})})))}),reactExports.useEffect(()=>{const ze=Fe.current;if(ze)return()=>unmountComponentAtNode(ze)},[]);const Oe=ne?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:Ge,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Oe,...U},...be,children:jsxRuntimeExports.jsx("div",{ref:De,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:Fe,style:{display:"block"},children:A})})})}),Canvas=reactExports.forwardRef(function(T,A){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{...T,ref:A})})});function S$1({children:P,style:T={},pixelDensity:A=1,fov:L=45,pointerEvents:U,className:W}){return h$2(),jsxRuntimeExports.jsx(Canvas,x$1(w$2({style:x$1(w$2({},T),{pointerEvents:U}),resize:{offsetSize:!0},className:W},o$2(A,L)),{children:P}))}function h$2(){reactExports.useEffect(()=>{ShaderChunk.uv2_pars_vertex="",ShaderChunk.uv2_vertex="",ShaderChunk.uv2_pars_fragment="",ShaderChunk.encodings_fragment=""},[])}var n$2=`// #pragma glslify: cnoise3 = require(glsl-noise/classic/3d) 

// noise source from https://github.com/hughsk/glsl-noise/blob/master/periodic/3d.glsl

vec3 mod289(vec3 x)
{
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x)
{
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x)
{
  return mod289(((x*34.0)+1.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

float cnoise(vec3 P)
{
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}

//-------- start here ------------

mat3 rotation3dY(float angle) {
  float s = sin(angle);
  float c = cos(angle);

  return mat3(c, 0.0, -s, 0.0, 1.0, 0.0, s, 0.0, c);
}

vec3 rotateY(vec3 v, float angle) { return rotation3dY(angle) * v; }

varying vec3 vNormal;
varying float displacement;
varying vec3 vPos;
varying float vDistort;

varying vec2 vUv;

uniform float uTime;
uniform float uSpeed;

uniform float uLoadingTime;

uniform float uNoiseDensity;
uniform float uNoiseStrength;

#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;
varying vec3 vBitangent;
#endif
#endif
#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>

void main() {

  #include <beginnormal_vertex>
  #include <color_vertex>
  #include <defaultnormal_vertex>
  #include <morphnormal_vertex>
  #include <skinbase_vertex>
  #include <skinnormal_vertex>
  #include <uv2_vertex>
  #include <uv_vertex>
  #ifndef FLAT_SHADED
    vNormal = normalize(transformedNormal);
  #ifdef USE_TANGENT
    vTangent = normalize(transformedTangent);
    vBitangent = normalize(cross(vNormal, vTangent) * tangent.w);
  #endif
  #endif
  #include <begin_vertex>

  #include <clipping_planes_vertex>
  #include <displacementmap_vertex>
  #include <logdepthbuf_vertex>
  #include <morphtarget_vertex>
  #include <project_vertex>
  #include <skinning_vertex>
    vViewPosition = -mvPosition.xyz;
  #include <fog_vertex>
  #include <shadowmap_vertex>
  #include <worldpos_vertex>

  //-------- start vertex ------------
  vUv = uv;

  float t = uTime * uSpeed;
  // Create a sine wave from top to bottom of the sphere
  float distortion = 0.75 * cnoise(0.43 * position * uNoiseDensity + t);

  vec3 pos = position + normal * distortion * uNoiseStrength * uLoadingTime;
  vPos = pos;

  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);
}
`,e$6=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif

uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;

#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;
uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;
varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
// #include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
// include를 통해 가져온 값은 대부분 환경, 빛 등을 계산하기 위해서 기본 fragment
// shader의 값들을 받아왔습니다. 일단은 무시하셔도 됩니다.

varying vec3 vNormal;
varying float displacement;
varying vec3 vPos;
varying float vDistort;

uniform float uC1r;
uniform float uC1g;
uniform float uC1b;
uniform float uC2r;
uniform float uC2g;
uniform float uC2b;
uniform float uC3r;
uniform float uC3g;
uniform float uC3b;

varying vec3 color1;
varying vec3 color2;
varying vec3 color3;

// for npm package, need to add this manually
float linearToRelativeLuminance2( const in vec3 color ) {
    vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
    return dot( weights, color.rgb );
}

void main() {

  //-------- basic gradient ------------
  vec3 color1 = vec3(uC1r, uC1g, uC1b);
  vec3 color2 = vec3(uC2r, uC2g, uC2b);
  vec3 color3 = vec3(uC3r, uC3g, uC3b);
  float clearcoat = 1.0;
  float clearcoatRoughness = 0.5;

  #include <clipping_planes_fragment>

  vec4 diffuseColor = vec4(
      mix(mix(color1, color2, smoothstep(-3.0, 3.0, vPos.x)), color3, vPos.z),
      1);
  // diffuseColor는 오브젝트의 베이스 색상 (환경이나 빛이 고려되지 않은 본연의
  // 색)

  // mix(x, y, a): a를 축으로 했을 때 가장 낮은 값에서 x값의 영향력을 100%, 가장
  // 높은 값에서 y값의 영향력을 100%로 만든다. smoothstep(x, y, a): a축을
  // 기준으로 x를 최소값, y를 최대값으로 그 사이의 값을 쪼갠다. x와 y 사이를
  // 0-100 사이의 그라디언트처럼 단계별로 표현하고, x 미만의 값은 0, y 이상의
  // 값은 100으로 처리

  // 1. smoothstep(-3.0, 3.0,vPos.x)로 x축의 그라디언트가 표현 될 범위를 -3,
  // 3으로 정한다.
  // 2. mix(color1, color3, smoothstep(-3.0, 3.0,vPos.x))로 color1과 color3을
  // 위의 범위 안에서 그라디언트로 표현한다.
  // 예를 들어 color1이 노랑, color3이 파랑이라고 치면, x축 기준 -3부터 3까지
  // 노랑과 파랑 사이의 그라디언트가 나타나고, -3보다 작은 값에서는 계속 노랑,
  // 3보다 큰 값에서는 계속 파랑이 나타난다.
  // 3. mix()를 한 번 더 사용해서 위의 그라디언트와 color2를 z축 기준으로
  // 분배한다.

  //-------- materiality ------------
  ReflectedLight reflectedLight =
      ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
  vec3 totalEmissiveRadiance = emissive;

  #ifdef TRANSMISSION
    float totalTransmission = transmission;
  #endif
  #include <logdepthbuf_fragment>
  #include <map_fragment>
  #include <color_fragment>
  #include <alphamap_fragment>
  #include <alphatest_fragment>
  #include <roughnessmap_fragment>
  #include <metalnessmap_fragment>
  #include <normal_fragment_begin>
  #include <normal_fragment_maps>
  #include <clearcoat_normal_fragment_begin>
  #include <clearcoat_normal_fragment_maps>
  #include <emissivemap_fragment>
  // #include <transmissionmap_fragment>
  #include <lights_physical_fragment>
  #include <lights_fragment_begin>
  #include <lights_fragment_maps>
  #include <lights_fragment_end>
  #include <aomap_fragment>
    vec3 outgoingLight =
        reflectedLight.directDiffuse + reflectedLight.indirectDiffuse +
        reflectedLight.directSpecular + reflectedLight.indirectSpecular;
    //위에서 정의한 diffuseColor에 환경이나 반사값들을 반영한 값.
  #ifdef TRANSMISSION
    diffuseColor.a *=
        mix(saturate(1. - totalTransmission +
                    linearToRelativeLuminance2(reflectedLight.directSpecular +
                                              reflectedLight.indirectSpecular)),
            1.0, metalness);
  #endif


  #include <tonemapping_fragment>
  #include <encodings_fragment>
  #include <fog_fragment>
  #include <premultiplied_alpha_fragment>
  #include <dithering_fragment>


  gl_FragColor = vec4(outgoingLight, diffuseColor.a);
  // gl_FragColor가 fragment shader를 통해 나타나는 최종값으로, diffuseColor에서
  // 정의한 그라디언트 색상 위에 반사나 빛을 계산한 값을 최종값으로 정의.
  // gl_FragColor = vec4(mix(mix(color1, color3, smoothstep(-3.0, 3.0,vPos.x)),
  // color2, vNormal.z), 1.0); 위처럼 최종값을 그라디언트 값 자체를 넣으면 환경
  // 영향없는 그라디언트만 표현됨.
}
`,i$3=`// #pragma glslify: pnoise = require(glsl-noise/periodic/3d)

vec3 mod289(vec3 x)
{
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x)
{
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x)
{
  return mod289(((x*34.0)+1.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return 2.2 * n_xyz;
}


//-------- start here ------------

varying vec3 vNormal;
uniform float uTime;
uniform float uSpeed;
uniform float uNoiseDensity;
uniform float uNoiseStrength;
uniform float uFrequency;
uniform float uAmplitude;
varying vec3 vPos;
varying float vDistort;
varying vec2 vUv;
varying vec3 vViewPosition;

#define STANDARD
#ifndef FLAT_SHADED
  #ifdef USE_TANGENT
    varying vec3 vTangent;
    varying vec3 vBitangent;
  #endif
#endif

#include <clipping_planes_pars_vertex>
#include <color_pars_vertex>
#include <common>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <morphtarget_pars_vertex>
#include <shadowmap_pars_vertex>
#include <skinning_pars_vertex>
#include <uv2_pars_vertex>
#include <uv_pars_vertex>


// rotation
mat3 rotation3dY(float angle) {
  float s = sin(angle);
  float c = cos(angle);
  return mat3(c, 0.0, -s, 0.0, 1.0, 0.0, s, 0.0, c);
}

vec3 rotateY(vec3 v, float angle) { return rotation3dY(angle) * v; }

void main() {
  #include <beginnormal_vertex>
  #include <color_vertex>
  #include <defaultnormal_vertex>
  #include <morphnormal_vertex>
  #include <skinbase_vertex>
  #include <skinnormal_vertex>
  #include <uv2_vertex>
  #include <uv_vertex>
  #ifndef FLAT_SHADED
    vNormal = normalize(transformedNormal);
  #ifdef USE_TANGENT
    vTangent = normalize(transformedTangent);
    vBitangent = normalize(cross(vNormal, vTangent) * tangent.w);
  #endif
  #endif
  #include <begin_vertex>

  #include <clipping_planes_vertex>
  #include <displacementmap_vertex>
  #include <logdepthbuf_vertex>
  #include <morphtarget_vertex>
  #include <project_vertex>
  #include <skinning_vertex>
    vViewPosition = -mvPosition.xyz;
  #include <fog_vertex>
  #include <shadowmap_vertex>
  #include <worldpos_vertex>

  //-------- start vertex ------------
  float t = uTime * uSpeed;
  float distortion =
      pnoise((normal + t) * uNoiseDensity, vec3(10.0)) * uNoiseStrength;
  vec3 pos = position + (normal * distortion);
  float angle = sin(uv.y * uFrequency + t) * uAmplitude;
  pos = rotateY(pos, angle);

  vPos = pos;
  vDistort = distortion;
  vNormal = normal;
  vUv = uv;

  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);
}
`,r$4=`
#define STANDARD
#ifdef PHYSICAL
#define REFLECTIVITY
#define CLEARCOAT
#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
uniform float transmission;
#endif
#ifdef REFLECTIVITY
uniform float reflectivity;
#endif
#ifdef CLEARCOAT
uniform float clearcoat;
uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
#ifdef USE_TANGENT
varying vec3 vTangent;
varying vec3 vBitangent;
#endif
#endif
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <color_pars_fragment>
#include <common>
#include <dithering_pars_fragment>
#include <emissivemap_pars_fragment>
#include <lightmap_pars_fragment>
#include <map_pars_fragment>
#include <packing>
#include <uv2_pars_fragment>
#include <uv_pars_fragment>
// #include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <bumpmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <clipping_planes_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <shadowmap_pars_fragment>
// include를 통해 가져온 값은 대부분 환경, 빛 등을 계산하기 위해서 기본 fragment
// shader의 값들을 받아왔습니다. 일단은 무시하셔도 됩니다.
varying vec3 vNormal;
varying float displacement;
varying vec3 vPos;
varying float vDistort;
uniform float uC1r;
uniform float uC1g;
uniform float uC1b;
uniform float uC2r;
uniform float uC2g;
uniform float uC2b;
uniform float uC3r;
uniform float uC3g;
uniform float uC3b;
varying vec3 color1;
varying vec3 color2;
varying vec3 color3;
varying float distanceToCenter;


// for npm package, need to add this manually
// 'linearToRelativeLuminance' : function already has a body
float linearToRelativeLuminance2( const in vec3 color ) {
    vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
    return dot( weights, color.rgb );
}

void main() {
  //-------- basic gradient ------------
  vec3 color1 = vec3(uC1r, uC1g, uC1b);
  vec3 color2 = vec3(uC2r, uC2g, uC2b);
  vec3 color3 = vec3(uC3r, uC3g, uC3b);
  float clearcoat = 1.0;
  float clearcoatRoughness = 0.5;
#include <clipping_planes_fragment>

  float distanceToCenter = distance(vPos, vec3(0, 0, 0));
  // distanceToCenter로 중심점과의 거리를 구함.

  vec4 diffuseColor =
      vec4(mix(color3, mix(color2, color1, smoothstep(-1.0, 1.0, vPos.y)),
               distanceToCenter),
           1);

  //-------- materiality ------------
  ReflectedLight reflectedLight =
      ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
  vec3 totalEmissiveRadiance = emissive;
#ifdef TRANSMISSION
  float totalTransmission = transmission;
#endif
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
#include <normal_fragment_maps>
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
// #include <transmissionmap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
#include <aomap_fragment>
  vec3 outgoingLight =
      reflectedLight.directDiffuse + reflectedLight.indirectDiffuse +
      reflectedLight.directSpecular + reflectedLight.indirectSpecular;
//위에서 정의한 diffuseColor에 환경이나 반사값들을 반영한 값.
#ifdef TRANSMISSION
  diffuseColor.a *=
      mix(saturate(1. - totalTransmission +
                   linearToRelativeLuminance2(reflectedLight.directSpecular +
                                             reflectedLight.indirectSpecular)),
          1.0, metalness);
#endif
  gl_FragColor = vec4(outgoingLight, diffuseColor.a);
  // gl_FragColor가 fragment shader를 통해 나타나는 최종값으로, diffuseColor에서
  // 정의한 그라디언트 색상 위에 반사나 빛을 계산한 값을 최종값으로 정의.
  // gl_FragColor = vec4(mix(mix(color1, color3, smoothstep(-3.0, 3.0,vPos.x)),
  // color2, vNormal.z), 1.0); 위처럼 최종값을 그라디언트 값 자체를 넣으면 환경
  // 영향없는 그라디언트만 표현됨.

#include <tonemapping_fragment>
#include <encodings_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
}
`;function n$1(P){let T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(P);return T?{r:parseInt(T[1],16),g:parseInt(T[2],16),b:parseInt(T[3],16)}:null}function e$5(P){let T=P.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return T?{r:parseInt(T[1]),g:parseInt(T[2]),b:parseInt(T[3])}:null}function s$4(P){if(P.startsWith("#"))return n$1(P);if(P.startsWith("rgb"))return e$5(P);throw new Error("Invalid color format")}function a$4(P=0){return P/255}var w$1=({animate:P,uniforms:T,vertexShader:A,fragmentShader:L,onInit:U})=>{let W=reactExports.useMemo(()=>{let te=Object.entries(T),ne=T.colors,ie=s$4(ne[0]),oe=s$4(ne[1]),ae=s$4(ne[2]),ce={uC1r:{value:a$4(ie==null?void 0:ie.r)},uC1g:{value:a$4(ie==null?void 0:ie.g)},uC1b:{value:a$4(ie==null?void 0:ie.b)},uC2r:{value:a$4(oe==null?void 0:oe.r)},uC2g:{value:a$4(oe==null?void 0:oe.g)},uC2b:{value:a$4(oe==null?void 0:oe.b)},uC3r:{value:a$4(ae==null?void 0:ae.r)},uC3g:{value:a$4(ae==null?void 0:ae.g)},uC3b:{value:a$4(ae==null?void 0:ae.b)}},he=te.reduce((pe,[ge,de])=>{let me=UniformsUtils.clone({[ge]:{value:de}});return w$2(w$2({},pe),me)},{}),ue=new MeshPhysicalMaterial({userData:he,metalness:.2,side:DoubleSide,onBeforeCompile:pe=>{pe.uniforms=w$2(w$2(w$2({},pe.uniforms),he),ce),pe.vertexShader=A,pe.fragmentShader=L}});return te.forEach(([pe])=>Object.defineProperty(ue,pe,{get:()=>ue.uniforms[pe].value,set:ge=>ue.uniforms[pe].value=ge})),U&&U(ue),ue},[T,A,L,U]);return reactExports.useEffect(()=>()=>{W.dispose()},[W]),useFrame(({clock:te})=>{P==="on"&&W.userData.uTime&&(W.userData.uTime.value=te.getElapsedTime())}),jsxRuntimeExports.jsx("primitive",{attach:"material",object:W})};function t$2({type:P}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[P==="plane"&&jsxRuntimeExports.jsx("planeGeometry",{args:[10,10,1,192]}),P==="sphere"&&jsxRuntimeExports.jsx("icosahedronGeometry",{args:[1,192/3]}),P==="waterPlane"&&jsxRuntimeExports.jsx("planeGeometry",{args:[10,10,192,192]})]})}function e$4(P){return P/180*Math.PI}function n(P){return P.map(T=>e$4(T))}function a$3(P){return P.replace("http://localhost:3001/customize","").replace("https://shadergradient.co/customize","").replace("https://www.shadergradient.co/customize","")}function R$3({animate:P,positionX:T,positionY:A,positionZ:L,rotationX:U,rotationY:W,rotationZ:te,type:ne,color1:ie,color2:oe,color3:ae,uTime:ce,uSpeed:he,uDensity:ue,uStrength:pe,uFrequency:ge,uAmplitude:de}){return jsxRuntimeExports.jsxs("mesh",{name:"shadergradient-mesh",position:[T,A,L],rotation:n([U,W,te]),children:[jsxRuntimeExports.jsx(t$2,{type:ne}),jsxRuntimeExports.jsx(w$1,{animate:P,uniforms:{colors:[ie,oe,ae],uTime:ce,uSpeed:he,uLoadingTime:1,uNoiseDensity:ue,uNoiseStrength:pe,uFrequency:ge,uAmplitude:de,uIntensity:.5},vertexShader:ne==="sphere"?i$3:n$2,fragmentShader:ne==="sphere"?r$4:e$6,onInit:me=>{console.log("material (onInit)",me)}})]})}var r$3=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},h$1=new OrthographicCamera(-1,1,1,-1,0,1),t$1=new BufferGeometry;t$1.setAttribute("position",new Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3));t$1.setAttribute("uv",new Float32BufferAttribute([0,2,0,0,2,0],2));var s$3=class{constructor(T){this._mesh=new Mesh(t$1,T)}dispose(){this._mesh.geometry.dispose()}render(T){T.render(this._mesh,h$1)}get material(){return this._mesh.material}set material(T){this._mesh.material=T}},f$2=class extends r$3{constructor(T,A){super(),this.textureID=A!==void 0?A:"tDiffuse",T instanceof ShaderMaterial?(this.uniforms=T.uniforms,this.material=T):T&&(this.uniforms=UniformsUtils.clone(T.uniforms),this.material=new ShaderMaterial({defines:Object.assign({},T.defines),uniforms:this.uniforms,vertexShader:T.vertexShader,fragmentShader:T.fragmentShader})),this.fsQuad=new s$3(this.material)}render(T,A,L){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=L.texture),this.fsQuad.material=this.material,this.renderToScreen?(T.setRenderTarget(null),this.fsQuad.render(T)):(T.setRenderTarget(A),this.clear&&T.clear(T.autoClearColor,T.autoClearDepth,T.autoClearStencil),this.fsQuad.render(T))}},e$3={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;

		}`},a$2=class extends r$3{constructor(T,A){super(),this.scene=T,this.camera=A,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(T,A,L){let U=T.getContext(),W=T.state;W.buffers.color.setMask(!1),W.buffers.depth.setMask(!1),W.buffers.color.setLocked(!0),W.buffers.depth.setLocked(!0);let te,ne;this.inverse?(te=0,ne=1):(te=1,ne=0),W.buffers.stencil.setTest(!0),W.buffers.stencil.setOp(U.REPLACE,U.REPLACE,U.REPLACE),W.buffers.stencil.setFunc(U.ALWAYS,te,4294967295),W.buffers.stencil.setClear(ne),W.buffers.stencil.setLocked(!0),T.setRenderTarget(L),this.clear&&T.clear(),T.render(this.scene,this.camera),T.setRenderTarget(A),this.clear&&T.clear(),T.render(this.scene,this.camera),W.buffers.color.setLocked(!1),W.buffers.depth.setLocked(!1),W.buffers.stencil.setLocked(!1),W.buffers.stencil.setFunc(U.EQUAL,1,4294967295),W.buffers.stencil.setOp(U.KEEP,U.KEEP,U.KEEP),W.buffers.stencil.setLocked(!0)}},i$2=class extends r$3{constructor(){super(),this.needsSwap=!1}render(T){T.state.buffers.stencil.setLocked(!1),T.state.buffers.stencil.setTest(!1)}},g$1=class{constructor(T,A){if(this.renderer=T,A===void 0){let L={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat},U=T.getSize(new Vector2);this._pixelRatio=T.getPixelRatio(),this._width=U.width,this._height=U.height,A=new WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,L),A.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=A.width,this._height=A.height;this.renderTarget1=A,this.renderTarget2=A.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],e$3===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),f$2===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new f$2(e$3),this.clock=new Clock}swapBuffers(){let T=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=T}addPass(T){this.passes.push(T),T.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(T,A){this.passes.splice(A,0,T),T.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(T){let A=this.passes.indexOf(T);A!==-1&&this.passes.splice(A,1)}isLastEnabledPass(T){for(let A=T+1;A<this.passes.length;A++)if(this.passes[A].enabled)return!1;return!0}render(T){T===void 0&&(T=this.clock.getDelta());let A=this.renderer.getRenderTarget(),L=!1;for(let U=0,W=this.passes.length;U<W;U++){let te=this.passes[U];if(te.enabled!==!1){if(te.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(U),te.render(this.renderer,this.writeBuffer,this.readBuffer,T,L),te.needsSwap){if(L){let ne=this.renderer.getContext(),ie=this.renderer.state.buffers.stencil;ie.setFunc(ne.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,T),ie.setFunc(ne.EQUAL,1,4294967295)}this.swapBuffers()}a$2!==void 0&&(te instanceof a$2?L=!0:te instanceof i$2&&(L=!1))}}this.renderer.setRenderTarget(A)}reset(T){if(T===void 0){let A=this.renderer.getSize(new Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=A.width,this._height=A.height,T=this.renderTarget1.clone(),T.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=T,this.renderTarget2=T.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(T,A){this._width=T,this._height=A;let L=this._width*this._pixelRatio,U=this._height*this._pixelRatio;this.renderTarget1.setSize(L,U),this.renderTarget2.setSize(L,U);for(let W=0;W<this.passes.length;W++)this.passes[W].setSize(L,U)}setPixelRatio(T){this._pixelRatio=T,this.setSize(this._width,this._height)}};new OrthographicCamera(-1,1,1,-1,0,1);var f$1=new BufferGeometry;f$1.setAttribute("position",new Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3));f$1.setAttribute("uv",new Float32BufferAttribute([0,2,0,0,2,0],2));var s$2=class extends r$3{constructor(T,A,L,U,W){super(),this.scene=T,this.camera=A,this.overrideMaterial=L,this.clearColor=U,this.clearAlpha=W!==void 0?W:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Color}render(T,A,L){let U=T.autoClear;T.autoClear=!1;let W,te;this.overrideMaterial!==void 0&&(te=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(T.getClearColor(this._oldClearColor),W=T.getClearAlpha(),T.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&T.clearDepth(),T.setRenderTarget(this.renderToScreen?null:L),this.clear&&T.clear(T.autoClearColor,T.autoClearDepth,T.autoClearStencil),T.render(this.scene,this.camera),this.clearColor&&T.setClearColor(this._oldClearColor,W),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=te),T.autoClear=U}},E$2={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},o$1=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return min(x + y, 1.0) * opacity + x * (1.0 - opacity);

}
`,e$2=`vec3 blend(const in vec3 x, const in vec3 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	float a = min(y.a, opacity);

	return vec4(blend(x.rgb, y.rgb, a), max(x.a, a));

}
`,c=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return (x + y) * 0.5 * opacity + x * (1.0 - opacity);

}
`,i$1=`float blend(const in float x, const in float y) {

	return (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		blend(x.r, y.r),
		blend(x.g, y.g),
		blend(x.b, y.b),
		blend(x.a, y.a)
	);

	return z * opacity + x * (1.0 - opacity);

}
`,a$1=`float blend(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x / (1.0 - y), 1.0);

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		blend(x.r, y.r),
		blend(x.g, y.g),
		blend(x.b, y.b),
		blend(x.a, y.a)
	);

	return z * opacity + x * (1.0 - opacity);

}
`,r$2=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return min(x, y) * opacity + x * (1.0 - opacity);

}
`,l$2=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return abs(x - y) * opacity + x * (1.0 - opacity);

}
`,y$1=`float blend(const in float x, const in float y) {

	return (y > 0.0) ? min(x / y, 1.0) : 1.0;

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		blend(x.r, y.r),
		blend(x.g, y.g),
		blend(x.b, y.b),
		blend(x.a, y.a)
	);

	return z * opacity + x * (1.0 - opacity);

}
`,x=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return (x + y - 2.0 * x * y) * opacity + x * (1.0 - opacity);

}
`,d$1=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return max(x, y) * opacity + x * (1.0 - opacity);

}
`,p=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return x * y * opacity + x * (1.0 - opacity);

}
`,s$1=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return (1.0 - abs(1.0 - x - y)) * opacity + x * (1.0 - opacity);

}
`,f=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}
`,u=`float blend(const in float x, const in float y) {

	return (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		blend(x.r, y.r),
		blend(x.g, y.g),
		blend(x.b, y.b),
		blend(x.a, y.a)
	);

	return z * opacity + x * (1.0 - opacity);

}
`,v$1=`float blend(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		blend(x.r, y.r),
		blend(x.g, y.g),
		blend(x.b, y.b),
		blend(x.a, y.a)
	);

	return z * opacity + x * (1.0 - opacity);

}
`,b$1=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return (1.0 - (1.0 - x) * (1.0 - y)) * opacity + x * (1.0 - opacity);

}
`,m$2=`float blend(const in float x, const in float y) {

	return (y < 0.5) ?
		(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :
		(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));

}

vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		blend(x.r, y.r),
		blend(x.g, y.g),
		blend(x.b, y.b),
		blend(x.a, y.a)
	);

	return z * opacity + x * (1.0 - opacity);

}
`,F$1=`vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {

	return max(x + y - 1.0, 0.0) * opacity + x * (1.0 - opacity);

}
`,z$1=new Map([[E$2.SKIP,null],[E$2.ADD,o$1],[E$2.ALPHA,e$2],[E$2.AVERAGE,c],[E$2.COLOR_BURN,i$1],[E$2.COLOR_DODGE,a$1],[E$2.DARKEN,r$2],[E$2.DIFFERENCE,l$2],[E$2.EXCLUSION,x],[E$2.LIGHTEN,d$1],[E$2.MULTIPLY,p],[E$2.DIVIDE,y$1],[E$2.NEGATION,s$1],[E$2.NORMAL,f],[E$2.OVERLAY,u],[E$2.REFLECT,v$1],[E$2.SCREEN,b$1],[E$2.SOFT_LIGHT,m$2],[E$2.SUBTRACT,F$1]]),g=class extends EventDispatcher{constructor(P,T=1){super(),this.blendFunction=P,this.opacity=new Uniform(T)}getBlendFunction(){return this.blendFunction}setBlendFunction(P){this.blendFunction=P,this.dispatchEvent({type:"change"})}getShaderCode(){return z$1.get(this.blendFunction)}},e$1={uniforms:{tDiffuse:{value:null},shape:{value:1},radius:{value:2},rotateR:{value:Math.PI/12*1},rotateG:{value:Math.PI/12*2},rotateB:{value:Math.PI/12*3},scatter:{value:1},width:{value:20},height:{value:20},blending:{value:1},blendingMode:{value:1},greyscale:{value:!1},disable:{value:!1}},vertexShader:`

		varying vec2 vUV;
		varying vec3 vPosition;

		void main() {

			vUV = uv;
			vPosition = position;

			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

		}`,fragmentShader:`

		#define SQRT2_MINUS_ONE 0.41421356
		#define SQRT2_HALF_MINUS_ONE 0.20710678
		#define PI2 6.28318531
		#define SHAPE_DOT 1
		#define SHAPE_ELLIPSE 2
		#define SHAPE_LINE 3
		#define SHAPE_SQUARE 4
		#define BLENDING_LINEAR 1
		#define BLENDING_MULTIPLY 2
		#define BLENDING_ADD 3
		#define BLENDING_LIGHTER 4
		#define BLENDING_DARKER 5
		uniform sampler2D tDiffuse;
		uniform float radius;
		uniform float rotateR;
		uniform float rotateG;
		uniform float rotateB;
		uniform float scatter;
		uniform float width;
		uniform float height;
		uniform int shape;
		uniform bool disable;
		uniform float blending;
		uniform int blendingMode;
		varying vec2 vUV;
		varying vec3 vPosition;
		uniform bool greyscale;
		const int samples = 8;

		float blend( float a, float b, float t ) {

		// linear blend
			return a * ( 1.0 - t ) + b * t;

		}

		float hypot( float x, float y ) {

		// vector magnitude
			return sqrt( x * x + y * y );

		}

		float rand( vec2 seed ){

		// get pseudo-random number
			return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );

		}

		float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {

		// apply shape-specific transforms
			float dist = hypot( coord.x - p.x, coord.y - p.y );
			float rad = channel;

			if ( shape == SHAPE_DOT ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

			} else if ( shape == SHAPE_ELLIPSE ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

				if ( dist != 0.0 ) {
					float dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );
					dist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;
				}

			} else if ( shape == SHAPE_LINE ) {

				rad = pow( abs( rad ), 1.5) * rad_max;
				float dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;
				dist = hypot( normal.x * dot_p, normal.y * dot_p );

			} else if ( shape == SHAPE_SQUARE ) {

				float theta = atan( p.y - coord.y, p.x - coord.x ) - angle;
				float sin_t = abs( sin( theta ) );
				float cos_t = abs( cos( theta ) );
				rad = pow( abs( rad ), 1.4 );
				rad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );

			}

			return rad - dist;

		}

		struct Cell {

		// grid sample positions
			vec2 normal;
			vec2 p1;
			vec2 p2;
			vec2 p3;
			vec2 p4;
			float samp2;
			float samp1;
			float samp3;
			float samp4;

		};

		vec4 getSample( vec2 point ) {

		// multi-sampled point
			vec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );
			float base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;
			float step = PI2 / float( samples );
			// float dist = radius * 0.66;
			float dist = radius * 0.0;

			for ( int i = 0; i < samples; ++i ) {

				float r = base + step * float( i );
				vec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );
				tex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );

			}

			tex /= float( samples ) + 1.0;
			return tex;

		}

		float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {

		// get colour for given point
			float dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;

			if ( channel == 0 ) {

				c.samp1 = getSample( c.p1 ).r;
				c.samp2 = getSample( c.p2 ).r;
				c.samp3 = getSample( c.p3 ).r;
				c.samp4 = getSample( c.p4 ).r;

			} else if (channel == 1) {

				c.samp1 = getSample( c.p1 ).g;
				c.samp2 = getSample( c.p2 ).g;
				c.samp3 = getSample( c.p3 ).g;
				c.samp4 = getSample( c.p4 ).g;

			} else {

				c.samp1 = getSample( c.p1 ).b;
				c.samp3 = getSample( c.p3 ).b;
				c.samp2 = getSample( c.p2 ).b;
				c.samp4 = getSample( c.p4 ).b;

			}

			dist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );
			dist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );
			dist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );
			dist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );
			res = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;
			// res = 0.0;
			res += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;
			res = clamp( res, 0.0, 1.0 );

			return res;
			// return 2

		}

		Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {

		// get containing cell
			Cell c;

		// calc grid
			vec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );
			float threshold = step * 0.5;
			float dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );
			float dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );
			vec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );
			float offset_normal = mod( hypot( offset.x, offset.y ), step );
			float normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;
			float normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;
			float offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );
			float line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;
			float line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;

		// get closest corner
			c.normal = n;
			c.p1.x = p.x - n.x * normal_scale + n.y * line_scale;
			c.p1.y = p.y - n.y * normal_scale - n.x * line_scale;

		// scatter
			if ( scatter != 0.0 ) {

				float off_mag = scatter * threshold * 0.5;
				float off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;
				c.p1.x += cos( off_angle ) * off_mag;
				c.p1.y += sin( off_angle ) * off_mag;

			}

		// find corners
			float normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );
			float line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );
			c.p2.x = c.p1.x - n.x * normal_step;
			c.p2.y = c.p1.y - n.y * normal_step;
			c.p3.x = c.p1.x + n.y * line_step;
			c.p3.y = c.p1.y - n.x * line_step;
			c.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;
			c.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;

			return c;

		}

		float blendColour( float a, float b, float t ) {

		// blend colours
			if ( blendingMode == BLENDING_LINEAR ) {
				return blend( a, b, 1.0 - t );
			} else if ( blendingMode == BLENDING_ADD ) {
				return blend( a, min( 1.0, a + b ), t );
			} else if ( blendingMode == BLENDING_MULTIPLY ) {
				return blend( a, max( 0.0, a * b ), t );
			} else if ( blendingMode == BLENDING_LIGHTER ) {
				return blend( a, max( a, b ), t );
			} else if ( blendingMode == BLENDING_DARKER ) {
				return blend( a, min( a, b ), t );
			} else {
				return blend( a, b, 1.0 - t );
			}

		}

		void main() {

			if ( ! disable ) {

		// setup
				vec2 p = vec2( vUV.x * width, vUV.y * height ) - vec2(vPosition.x, vPosition.y) * 3.0; // - position values to remove black borders.
				vec2 origin = vec2( 0, 0 );
				float aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;
				// float aa = 0.0;

		// get channel samples
				Cell cell_r = getReferenceCell( p, origin, rotateR, radius );
				Cell cell_g = getReferenceCell( p, origin, rotateG, radius );
				Cell cell_b = getReferenceCell( p, origin, rotateB, radius );
				float r = getDotColour( cell_r, p, 0, rotateR, aa );
				float g = getDotColour( cell_g, p, 1, rotateG, aa );
				float b = getDotColour( cell_b, p, 2, rotateB, aa );

		// blend with original
				vec4 colour = texture2D( tDiffuse, vUV );
				
				// add masking before blendColour
				if (colour.r == 0.0) {
					r = 0.0;
				} else {
					r = blendColour( r, colour.r, blending );
				}

				if (colour.g == 0.0) {
					g = 0.0;
				} else {
					g = blendColour( g, colour.g, blending );
				}

				if (colour.b == 0.0) {
					b = 0.0;
				} else {
					b = blendColour( b, colour.b, blending );
				}
				
				
				

				if ( greyscale ) {
					r = g = b = (r + b + g) / 3.0;
				}

				// add alpha channel to each r, g, b colors
				vec4 vR;
				vec4 vG;
				vec4 vB;
	
				// apply transparent to outside of mesh
				if (r == 0.0 && colour.r == 0.0) {
					vR = vec4( 0, 0, 0, 0 );
				} else {
					vR = vec4( r, 0, 0, 1 );
				}
	
				if (g == 0.0 && colour.g == 0.0) {
					vG = vec4( 0, 0, 0, 0 );
				} else {
					vG = vec4( 0, g, 0, 1 );
				}
	
				if (b == 0.0 && colour.b == 0.0) {
					vB = vec4( 0, 0, 0, 0 );
				} else {
					vB = vec4( 0, 0, b, 1 );
				}

				// gl_FragColor = vec4( r, g, b, 1.0 );
				gl_FragColor = vR + vG + vB;

			} else {

				gl_FragColor = texture2D( tDiffuse, vUV );

			}

		}`},r$1=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},h=new OrthographicCamera(-1,1,1,-1,0,1),t=new BufferGeometry;t.setAttribute("position",new Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3));t.setAttribute("uv",new Float32BufferAttribute([0,2,0,0,2,0],2));var s=class{constructor(P){this._mesh=new Mesh(t,P)}dispose(){this._mesh.geometry.dispose()}render(P){P.render(this._mesh,h)}get material(){return this._mesh.material}set material(P){this._mesh.material=P}},d=class extends r$1{constructor(P,T,A){super(),e$1===void 0&&console.error("THREE.HalftonePass requires HalftoneShader"),this.uniforms=UniformsUtils.clone(e$1.uniforms),this.material=new ShaderMaterial({uniforms:this.uniforms,fragmentShader:e$1.fragmentShader,vertexShader:e$1.vertexShader}),this.uniforms.width.value=P,this.uniforms.height.value=T,this.uniforms.disable.value=A.disable,this.fsQuad=new s(this.material),this.blendMode=new g(E$2.SCREEN),this.extensions=null}render(P,T,A){this.material.uniforms.tDiffuse.value=A.texture,this.renderToScreen?(P.setRenderTarget(null),this.fsQuad.render(P)):(P.setRenderTarget(T),this.clear&&P.clear(),this.fsQuad.render(P))}setSize(P,T){this.uniforms.width.value=P,this.uniforms.height.value=T}initialize(P,T,A){}addEventListener(){}getAttributes(){return this.attributes}getFragmentShader(){return e$1.fragmentShader}getVertexShader(){return e$1.vertexShader}update(P,T,A){}};function z({disable:P=!1}){let{gl:T,scene:A,camera:L,size:U}=useThree(),W=reactExports.useMemo(()=>{let te=new g$1(T);te.addPass(new s$2(A,L));let ne={shape:1,radius:2,rotateR:Math.PI/12,rotateB:Math.PI/12*2,rotateG:Math.PI/12*3,scatter:1,blending:1,blendingMode:1,greyscale:!1,disable:P},ie=new d(U.width,U.height,ne);return te.addPass(ie),te},[T,A,L,U,P]);return reactExports.useEffect(()=>W==null?void 0:W.setSize(U.width,U.height),[W,U]),useFrame((te,ne)=>(T.autoClear=!0,void W.render(ne)),1),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function q$1({type:P,cAzimuthAngle:T,cPolarAngle:A,cDistance:L,cameraZoom:U,zoomOut:W,enableTransition:te=!0}){let ne=reactExports.useRef();return useFrame((ie,oe)=>ne.current.update(oe)),reactExports.useEffect(()=>{let ie=ne.current;ie==null||ie.rotateTo(e$4(T),e$4(A),te)},[ne,T,A]),reactExports.useEffect(()=>{let ie=ne.current;W?P==="sphere"?(ie==null||ie.dollyTo(a$5.distance,te),ie==null||ie.zoomTo(a$5.zoom,te)):(ie==null||ie.dollyTo(i$5.distance,te),ie==null||ie.zoomTo(i$5.zoom,te)):P==="sphere"?(ie==null||ie.zoomTo(U,te),ie==null||ie.dollyTo(n$3,te)):(ie==null||ie.dollyTo(L,te),ie==null||ie.zoomTo(s$6,te))},[ne,W,P,U,L]),ne}var S={LEFT:1,RIGHT:2,MIDDLE:4},i=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Y={NONE:0,IN:1,OUT:-1};function b(P){return P.isPerspectiveCamera}function H$1(P){return P.isOrthographicCamera}var Z=Math.PI*2,mt=Math.PI/2,Et=1e-5,B=Math.PI/180;function R$2(P,T,A){return Math.max(T,Math.min(A,P))}function D(P,T=Et){return Math.abs(P)<T}function v(P,T,A=Et){return D(P-T,A)}function pt(P,T){return Math.round(P/T)*T}function K(P){return isFinite(P)?P:P<0?-Number.MAX_VALUE:Number.MAX_VALUE}function X(P){return Math.abs(P)<Number.MAX_VALUE?P:P*(1/0)}function J(P,T,A,L,U=1/0,W){L=Math.max(1e-4,L);let te=2/L,ne=te*W,ie=1/(1+ne+.48*ne*ne+.235*ne*ne*ne),oe=P-T,ae=T,ce=U*L;oe=R$2(oe,-ce,ce),T=P-oe;let he=(A.value+te*oe)*W;A.value=(A.value-te*he)*ie;let ue=T+(oe+he)*ie;return ae-P>0==ue>ae&&(ue=ae,A.value=(ue-ae)/W),ue}function ut(P,T,A,L,U=1/0,W,te){L=Math.max(1e-4,L);let ne=2/L,ie=ne*W,oe=1/(1+ie+.48*ie*ie+.235*ie*ie*ie),ae=T.x,ce=T.y,he=T.z,ue=P.x-ae,pe=P.y-ce,ge=P.z-he,de=ae,me=ce,ye=he,xe=U*L,Se=xe*xe,Te=ue*ue+pe*pe+ge*ge;if(Te>Se){let qe=Math.sqrt(Te);ue=ue/qe*xe,pe=pe/qe*xe,ge=ge/qe*xe}ae=P.x-ue,ce=P.y-pe,he=P.z-ge;let be=(A.x+ne*ue)*W,Pe=(A.y+ne*pe)*W,Ie=(A.z+ne*ge)*W;A.x=(A.x-ne*be)*oe,A.y=(A.y-ne*Pe)*oe,A.z=(A.z-ne*Ie)*oe,te.x=ae+(ue+be)*oe,te.y=ce+(pe+Pe)*oe,te.z=he+(ge+Ie)*oe;let De=de-P.x,we=me-P.y,Fe=ye-P.z,Ge=te.x-de,He=te.y-me,je=te.z-ye;return De*Ge+we*He+Fe*je>0&&(te.x=de,te.y=me,te.z=ye,A.x=(te.x-de)/W,A.y=(te.y-me)/W,A.z=(te.z-ye)/W),te}function it(P,T){T.set(0,0),P.forEach(A=>{T.x+=A.clientX,T.y+=A.clientY}),T.x/=P.length,T.y/=P.length}function ot(P,T){return H$1(P)?(console.warn(`${T} is not supported in OrthographicCamera`),!0):!1}var ct=class{constructor(){this._listeners={}}addEventListener(P,T){let A=this._listeners;A[P]===void 0&&(A[P]=[]),A[P].indexOf(T)===-1&&A[P].push(T)}hasEventListener(P,T){let A=this._listeners;return A[P]!==void 0&&A[P].indexOf(T)!==-1}removeEventListener(P,T){let A=this._listeners[P];if(A!==void 0){let L=A.indexOf(T);L!==-1&&A.splice(L,1)}}removeAllEventListeners(P){if(!P){this._listeners={};return}Array.isArray(this._listeners[P])&&(this._listeners[P].length=0)}dispatchEvent(P){let T=this._listeners[P.type];if(T!==void 0){P.target=this;let A=T.slice(0);for(let L=0,U=A.length;L<U;L++)A[L].call(this,P)}}},rt,Lt="2.9.0",$=1/8,At=/Mac/.test((rt=globalThis==null?void 0:globalThis.navigator)===null||rt===void 0?void 0:rt.platform),m$1,ft,tt,nt,w,y,C,V,Q,M$1,I,k,gt,yt,F,q,N,Ot,at,Tt,ht,lt,et,G=class wh extends ct{static install(T){m$1=T.THREE,ft=Object.freeze(new m$1.Vector3(0,0,0)),tt=Object.freeze(new m$1.Vector3(0,1,0)),nt=Object.freeze(new m$1.Vector3(0,0,1)),w=new m$1.Vector2,y=new m$1.Vector3,C=new m$1.Vector3,V=new m$1.Vector3,Q=new m$1.Vector3,M$1=new m$1.Vector3,I=new m$1.Vector3,k=new m$1.Vector3,gt=new m$1.Vector3,yt=new m$1.Vector3,F=new m$1.Spherical,q=new m$1.Spherical,N=new m$1.Box3,Ot=new m$1.Box3,at=new m$1.Sphere,Tt=new m$1.Quaternion,ht=new m$1.Quaternion,lt=new m$1.Matrix4,et=new m$1.Raycaster}static get ACTION(){return i}constructor(T,A){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=i.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Y.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new m$1.Vector3,this._focalOffsetVelocity=new m$1.Vector3,this._zoomVelocity={value:0},this._truckInternal=(me,ye,xe)=>{let Se,Te;if(b(this._camera)){let be=y.copy(this._camera.position).sub(this._target),Pe=this._camera.getEffectiveFOV()*B,Ie=be.length()*Math.tan(Pe*.5);Se=this.truckSpeed*me*Ie/this._elementRect.height,Te=this.truckSpeed*ye*Ie/this._elementRect.height}else if(H$1(this._camera)){let be=this._camera;Se=me*(be.right-be.left)/be.zoom/this._elementRect.width,Te=ye*(be.top-be.bottom)/be.zoom/this._elementRect.height}else return;this.verticalDragToForward?(xe?this.setFocalOffset(this._focalOffsetEnd.x+Se,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(Se,0,!0),this.forward(-Te,!0)):xe?this.setFocalOffset(this._focalOffsetEnd.x+Se,this._focalOffsetEnd.y+Te,this._focalOffsetEnd.z,!0):this.truck(Se,Te,!0)},this._rotateInternal=(me,ye)=>{let xe=Z*this.azimuthRotateSpeed*me/this._elementRect.height,Se=Z*this.polarRotateSpeed*ye/this._elementRect.height;this.rotate(xe,Se,!0)},this._dollyInternal=(me,ye,xe)=>{let Se=Math.pow(.95,-me*this.dollySpeed),Te=this._sphericalEnd.radius,be=this._sphericalEnd.radius*Se,Pe=R$2(be,this.minDistance,this.maxDistance),Ie=Pe-be;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(be,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(Ie,!0),this._dollyToNoClamp(Pe,!0)):this._dollyToNoClamp(Pe,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?be:Pe)-Te,this._dollyControlCoord.set(ye,xe)),this._lastDollyDirection=Math.sign(-me)},this._zoomInternal=(me,ye,xe)=>{let Se=Math.pow(.95,me*this.dollySpeed),Te=this._zoom,be=this._zoom*Se;this.zoomTo(be,!0),this.dollyToCursor&&(this._changedZoom+=be-Te,this._dollyControlCoord.set(ye,xe))},typeof m$1>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=T,this._yAxisUpSpace=new m$1.Quaternion().setFromUnitVectors(this._camera.up,tt),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=i.NONE,this._target=new m$1.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new m$1.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new m$1.Spherical().setFromVector3(y.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new m$1.Vector3,new m$1.Vector3,new m$1.Vector3,new m$1.Vector3],this._updateNearPlaneCorners(),this._boundary=new m$1.Box3(new m$1.Vector3(-1/0,-1/0,-1/0),new m$1.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new m$1.Vector2,this.mouseButtons={left:i.ROTATE,middle:i.DOLLY,right:i.TRUCK,wheel:b(this._camera)?i.DOLLY:H$1(this._camera)?i.ZOOM:i.NONE},this.touches={one:i.TOUCH_ROTATE,two:b(this._camera)?i.TOUCH_DOLLY_TRUCK:H$1(this._camera)?i.TOUCH_ZOOM_TRUCK:i.NONE,three:i.TOUCH_TRUCK};let L=new m$1.Vector2,U=new m$1.Vector2,W=new m$1.Vector2,te=me=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let Se=this._domElement.getBoundingClientRect(),Te=me.clientX/Se.width,be=me.clientY/Se.height;if(Te<this._interactiveArea.left||Te>this._interactiveArea.right||be<this._interactiveArea.top||be>this._interactiveArea.bottom)return}let ye=me.pointerType!=="mouse"?null:(me.buttons&S.LEFT)===S.LEFT?S.LEFT:(me.buttons&S.MIDDLE)===S.MIDDLE?S.MIDDLE:(me.buttons&S.RIGHT)===S.RIGHT?S.RIGHT:null;if(ye!==null){let Se=this._findPointerByMouseButton(ye);Se&&this._disposePointer(Se)}if((me.buttons&S.LEFT)===S.LEFT&&this._lockedPointer)return;let xe={pointerId:me.pointerId,clientX:me.clientX,clientY:me.clientY,deltaX:0,deltaY:0,mouseButton:ye};this._activePointers.push(xe),this._domElement.ownerDocument.removeEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",ie),this._domElement.ownerDocument.addEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",ie),this._isDragging=!0,he(me)},ne=me=>{me.cancelable&&me.preventDefault();let ye=me.pointerId,xe=this._lockedPointer||this._findPointerById(ye);if(xe){if(xe.clientX=me.clientX,xe.clientY=me.clientY,xe.deltaX=me.movementX,xe.deltaY=me.movementY,this._state=0,me.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(me.buttons&S.LEFT)===S.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(me.buttons&S.MIDDLE)===S.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(me.buttons&S.RIGHT)===S.RIGHT&&(this._state=this._state|this.mouseButtons.right);ue()}},ie=me=>{let ye=this._findPointerById(me.pointerId);if(!(ye&&ye===this._lockedPointer)){if(ye&&this._disposePointer(ye),me.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=i.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=i.NONE;pe()}},oe=-1,ae=me=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===i.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let be=this._domElement.getBoundingClientRect(),Pe=me.clientX/be.width,Ie=me.clientY/be.height;if(Pe<this._interactiveArea.left||Pe>this._interactiveArea.right||Ie<this._interactiveArea.top||Ie>this._interactiveArea.bottom)return}if(me.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===i.ROTATE||this.mouseButtons.wheel===i.TRUCK){let be=performance.now();oe-be<1e3&&this._getClientRect(this._elementRect),oe=be}let ye=At?-1:-3,xe=me.deltaMode===1?me.deltaY/ye:me.deltaY/(ye*10),Se=this.dollyToCursor?(me.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,Te=this.dollyToCursor?(me.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case i.ROTATE:{this._rotateInternal(me.deltaX,me.deltaY),this._isUserControllingRotate=!0;break}case i.TRUCK:{this._truckInternal(me.deltaX,me.deltaY,!1),this._isUserControllingTruck=!0;break}case i.OFFSET:{this._truckInternal(me.deltaX,me.deltaY,!0),this._isUserControllingOffset=!0;break}case i.DOLLY:{this._dollyInternal(-xe,Se,Te),this._isUserControllingDolly=!0;break}case i.ZOOM:{this._zoomInternal(-xe,Se,Te),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},ce=me=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===wh.ACTION.NONE){let ye=me instanceof PointerEvent?me.pointerId:0,xe=this._findPointerById(ye);xe&&this._disposePointer(xe),this._domElement.ownerDocument.removeEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",ie);return}me.preventDefault()}},he=me=>{if(this._enabled){if(it(this._activePointers,w),this._getClientRect(this._elementRect),L.copy(w),U.copy(w),this._activePointers.length>=2){let ye=w.x-this._activePointers[1].clientX,xe=w.y-this._activePointers[1].clientY,Se=Math.sqrt(ye*ye+xe*xe);W.set(0,Se);let Te=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,be=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;U.set(Te,be)}if(this._state=0,!me)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in me&&me.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(me.buttons&S.LEFT)===S.LEFT&&(this._state=this._state|this.mouseButtons.left),(me.buttons&S.MIDDLE)===S.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(me.buttons&S.RIGHT)===S.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&i.ROTATE)===i.ROTATE||(this._state&i.TOUCH_ROTATE)===i.TOUCH_ROTATE||(this._state&i.TOUCH_DOLLY_ROTATE)===i.TOUCH_DOLLY_ROTATE||(this._state&i.TOUCH_ZOOM_ROTATE)===i.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&i.TRUCK)===i.TRUCK||(this._state&i.TOUCH_TRUCK)===i.TOUCH_TRUCK||(this._state&i.TOUCH_DOLLY_TRUCK)===i.TOUCH_DOLLY_TRUCK||(this._state&i.TOUCH_ZOOM_TRUCK)===i.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&i.DOLLY)===i.DOLLY||(this._state&i.TOUCH_DOLLY)===i.TOUCH_DOLLY||(this._state&i.TOUCH_DOLLY_TRUCK)===i.TOUCH_DOLLY_TRUCK||(this._state&i.TOUCH_DOLLY_OFFSET)===i.TOUCH_DOLLY_OFFSET||(this._state&i.TOUCH_DOLLY_ROTATE)===i.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&i.ZOOM)===i.ZOOM||(this._state&i.TOUCH_ZOOM)===i.TOUCH_ZOOM||(this._state&i.TOUCH_ZOOM_TRUCK)===i.TOUCH_ZOOM_TRUCK||(this._state&i.TOUCH_ZOOM_OFFSET)===i.TOUCH_ZOOM_OFFSET||(this._state&i.TOUCH_ZOOM_ROTATE)===i.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&i.OFFSET)===i.OFFSET||(this._state&i.TOUCH_OFFSET)===i.TOUCH_OFFSET||(this._state&i.TOUCH_DOLLY_OFFSET)===i.TOUCH_DOLLY_OFFSET||(this._state&i.TOUCH_ZOOM_OFFSET)===i.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},ue=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,it(this._activePointers,w);let me=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,ye=me?-me.deltaX:U.x-w.x,xe=me?-me.deltaY:U.y-w.y;if(U.copy(w),((this._state&i.ROTATE)===i.ROTATE||(this._state&i.TOUCH_ROTATE)===i.TOUCH_ROTATE||(this._state&i.TOUCH_DOLLY_ROTATE)===i.TOUCH_DOLLY_ROTATE||(this._state&i.TOUCH_ZOOM_ROTATE)===i.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(ye,xe),this._isUserControllingRotate=!0),(this._state&i.DOLLY)===i.DOLLY||(this._state&i.ZOOM)===i.ZOOM){let Se=this.dollyToCursor?(L.x-this._elementRect.x)/this._elementRect.width*2-1:0,Te=this.dollyToCursor?(L.y-this._elementRect.y)/this._elementRect.height*-2+1:0,be=this.dollyDragInverted?-1:1;(this._state&i.DOLLY)===i.DOLLY?(this._dollyInternal(be*xe*$,Se,Te),this._isUserControllingDolly=!0):(this._zoomInternal(be*xe*$,Se,Te),this._isUserControllingZoom=!0)}if((this._state&i.TOUCH_DOLLY)===i.TOUCH_DOLLY||(this._state&i.TOUCH_ZOOM)===i.TOUCH_ZOOM||(this._state&i.TOUCH_DOLLY_TRUCK)===i.TOUCH_DOLLY_TRUCK||(this._state&i.TOUCH_ZOOM_TRUCK)===i.TOUCH_ZOOM_TRUCK||(this._state&i.TOUCH_DOLLY_OFFSET)===i.TOUCH_DOLLY_OFFSET||(this._state&i.TOUCH_ZOOM_OFFSET)===i.TOUCH_ZOOM_OFFSET||(this._state&i.TOUCH_DOLLY_ROTATE)===i.TOUCH_DOLLY_ROTATE||(this._state&i.TOUCH_ZOOM_ROTATE)===i.TOUCH_ZOOM_ROTATE){let Se=w.x-this._activePointers[1].clientX,Te=w.y-this._activePointers[1].clientY,be=Math.sqrt(Se*Se+Te*Te),Pe=W.y-be;W.set(0,be);let Ie=this.dollyToCursor?(U.x-this._elementRect.x)/this._elementRect.width*2-1:0,De=this.dollyToCursor?(U.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&i.TOUCH_DOLLY)===i.TOUCH_DOLLY||(this._state&i.TOUCH_DOLLY_ROTATE)===i.TOUCH_DOLLY_ROTATE||(this._state&i.TOUCH_DOLLY_TRUCK)===i.TOUCH_DOLLY_TRUCK||(this._state&i.TOUCH_DOLLY_OFFSET)===i.TOUCH_DOLLY_OFFSET?(this._dollyInternal(Pe*$,Ie,De),this._isUserControllingDolly=!0):(this._zoomInternal(Pe*$,Ie,De),this._isUserControllingZoom=!0)}((this._state&i.TRUCK)===i.TRUCK||(this._state&i.TOUCH_TRUCK)===i.TOUCH_TRUCK||(this._state&i.TOUCH_DOLLY_TRUCK)===i.TOUCH_DOLLY_TRUCK||(this._state&i.TOUCH_ZOOM_TRUCK)===i.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(ye,xe,!1),this._isUserControllingTruck=!0),((this._state&i.OFFSET)===i.OFFSET||(this._state&i.TOUCH_OFFSET)===i.TOUCH_OFFSET||(this._state&i.TOUCH_DOLLY_OFFSET)===i.TOUCH_DOLLY_OFFSET||(this._state&i.TOUCH_ZOOM_OFFSET)===i.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(ye,xe,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},pe=()=>{it(this._activePointers,w),U.copy(w),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",ie),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",ie),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",ge),this._domElement.ownerDocument.addEventListener("pointerlockerror",de),this._domElement.ownerDocument.addEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",ie),he())},this.unlockPointer=()=>{var me,ye,xe;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(me=this._domElement)===null||me===void 0||me.ownerDocument.exitPointerLock(),(ye=this._domElement)===null||ye===void 0||ye.ownerDocument.removeEventListener("pointerlockchange",ge),(xe=this._domElement)===null||xe===void 0||xe.ownerDocument.removeEventListener("pointerlockerror",de),this.cancel()};let ge=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},de=()=>{this.unlockPointer()};this._addAllEventListeners=me=>{this._domElement=me,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",te),this._domElement.addEventListener("pointercancel",ie),this._domElement.addEventListener("wheel",ae,{passive:!1}),this._domElement.addEventListener("contextmenu",ce)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",te),this._domElement.removeEventListener("pointercancel",ie),this._domElement.removeEventListener("wheel",ae,{passive:!1}),this._domElement.removeEventListener("contextmenu",ce),this._domElement.ownerDocument.removeEventListener("pointermove",ne,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",ie),this._domElement.ownerDocument.removeEventListener("pointerlockchange",ge),this._domElement.ownerDocument.removeEventListener("pointerlockerror",de))},this.cancel=()=>{this._state!==i.NONE&&(this._state=i.NONE,this._activePointers.length=0,pe())},A&&this.connect(A),this.update(0)}get camera(){return this._camera}set camera(T){this._camera=T,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(T){this._enabled=T,this._domElement&&(T?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(T){this._spherical.radius===T&&this._sphericalEnd.radius===T||(this._spherical.radius=T,this._sphericalEnd.radius=T,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(T){this._spherical.theta===T&&this._sphericalEnd.theta===T||(this._spherical.theta=T,this._sphericalEnd.theta=T,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(T){this._spherical.phi===T&&this._sphericalEnd.phi===T||(this._spherical.phi=T,this._sphericalEnd.phi=T,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(T){this._boundaryEnclosesCamera=T,this._needsUpdate=!0}set interactiveArea(T){this._interactiveArea.width=R$2(T.width,0,1),this._interactiveArea.height=R$2(T.height,0,1),this._interactiveArea.x=R$2(T.x,0,1-this._interactiveArea.width),this._interactiveArea.y=R$2(T.y,0,1-this._interactiveArea.height)}addEventListener(T,A){super.addEventListener(T,A)}removeEventListener(T,A){super.removeEventListener(T,A)}rotate(T,A,L=!1){return this.rotateTo(this._sphericalEnd.theta+T,this._sphericalEnd.phi+A,L)}rotateAzimuthTo(T,A=!1){return this.rotateTo(T,this._sphericalEnd.phi,A)}rotatePolarTo(T,A=!1){return this.rotateTo(this._sphericalEnd.theta,T,A)}rotateTo(T,A,L=!1){this._isUserControllingRotate=!1;let U=R$2(T,this.minAzimuthAngle,this.maxAzimuthAngle),W=R$2(A,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=U,this._sphericalEnd.phi=W,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,L||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let te=!L||v(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&v(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(te)}dolly(T,A=!1){return this.dollyTo(this._sphericalEnd.radius-T,A)}dollyTo(T,A=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Y.NONE,this._changedDolly=0,this._dollyToNoClamp(R$2(T,this.minDistance,this.maxDistance),A)}_dollyToNoClamp(T,A=!1){let L=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){let W=this._collisionTest(),te=v(W,this._spherical.radius);if(!(L>T)&&te)return Promise.resolve();this._sphericalEnd.radius=Math.min(T,W)}else this._sphericalEnd.radius=T;this._needsUpdate=!0,A||(this._spherical.radius=this._sphericalEnd.radius);let U=!A||v(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(U)}dollyInFixed(T,A=!1){this._targetEnd.add(this._getCameraDirection(Q).multiplyScalar(T)),A||this._target.copy(this._targetEnd);let L=!A||v(this._target.x,this._targetEnd.x,this.restThreshold)&&v(this._target.y,this._targetEnd.y,this.restThreshold)&&v(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(L)}zoom(T,A=!1){return this.zoomTo(this._zoomEnd+T,A)}zoomTo(T,A=!1){this._isUserControllingZoom=!1,this._zoomEnd=R$2(T,this.minZoom,this.maxZoom),this._needsUpdate=!0,A||(this._zoom=this._zoomEnd);let L=!A||v(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(L)}pan(T,A,L=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(T,A,L)}truck(T,A,L=!1){this._camera.updateMatrix(),M$1.setFromMatrixColumn(this._camera.matrix,0),I.setFromMatrixColumn(this._camera.matrix,1),M$1.multiplyScalar(T),I.multiplyScalar(-A);let U=y.copy(M$1).add(I),W=C.copy(this._targetEnd).add(U);return this.moveTo(W.x,W.y,W.z,L)}forward(T,A=!1){y.setFromMatrixColumn(this._camera.matrix,0),y.crossVectors(this._camera.up,y),y.multiplyScalar(T);let L=C.copy(this._targetEnd).add(y);return this.moveTo(L.x,L.y,L.z,A)}elevate(T,A=!1){return y.copy(this._camera.up).multiplyScalar(T),this.moveTo(this._targetEnd.x+y.x,this._targetEnd.y+y.y,this._targetEnd.z+y.z,A)}moveTo(T,A,L,U=!1){this._isUserControllingTruck=!1;let W=y.set(T,A,L).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,W,this.boundaryFriction),this._needsUpdate=!0,U||this._target.copy(this._targetEnd);let te=!U||v(this._target.x,this._targetEnd.x,this.restThreshold)&&v(this._target.y,this._targetEnd.y,this.restThreshold)&&v(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(te)}lookInDirectionOf(T,A,L,U=!1){let W=y.set(T,A,L).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(W.x,W.y,W.z,U)}fitToBox(T,A,{cover:L=!1,paddingLeft:U=0,paddingRight:W=0,paddingBottom:te=0,paddingTop:ne=0}={}){let ie=[],oe=T.isBox3?N.copy(T):N.setFromObject(T);oe.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let ae=pt(this._sphericalEnd.theta,mt),ce=pt(this._sphericalEnd.phi,mt);ie.push(this.rotateTo(ae,ce,A));let he=y.setFromSpherical(this._sphericalEnd).normalize(),ue=Tt.setFromUnitVectors(he,nt),pe=v(Math.abs(he.y),1);pe&&ue.multiply(ht.setFromAxisAngle(tt,ae)),ue.multiply(this._yAxisUpSpaceInverse);let ge=Ot.makeEmpty();C.copy(oe.min).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.min).setX(oe.max.x).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.min).setY(oe.max.y).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.max).setZ(oe.min.z).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.min).setZ(oe.max.z).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.max).setY(oe.min.y).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.max).setX(oe.min.x).applyQuaternion(ue),ge.expandByPoint(C),C.copy(oe.max).applyQuaternion(ue),ge.expandByPoint(C),ge.min.x-=U,ge.min.y-=te,ge.max.x+=W,ge.max.y+=ne,ue.setFromUnitVectors(nt,he),pe&&ue.premultiply(ht.invert()),ue.premultiply(this._yAxisUpSpace);let de=ge.getSize(y),me=ge.getCenter(C).applyQuaternion(ue);if(b(this._camera)){let ye=this.getDistanceToFitBox(de.x,de.y,de.z,L);ie.push(this.moveTo(me.x,me.y,me.z,A)),ie.push(this.dollyTo(ye,A)),ie.push(this.setFocalOffset(0,0,0,A))}else if(H$1(this._camera)){let ye=this._camera,xe=ye.right-ye.left,Se=ye.top-ye.bottom,Te=L?Math.max(xe/de.x,Se/de.y):Math.min(xe/de.x,Se/de.y);ie.push(this.moveTo(me.x,me.y,me.z,A)),ie.push(this.zoomTo(Te,A)),ie.push(this.setFocalOffset(0,0,0,A))}return Promise.all(ie)}fitToSphere(T,A){let L=[],U="isObject3D"in T?wh.createBoundingSphere(T,at):at.copy(T);if(L.push(this.moveTo(U.center.x,U.center.y,U.center.z,A)),b(this._camera)){let W=this.getDistanceToFitSphere(U.radius);L.push(this.dollyTo(W,A))}else if(H$1(this._camera)){let W=this._camera.right-this._camera.left,te=this._camera.top-this._camera.bottom,ne=2*U.radius,ie=Math.min(W/ne,te/ne);L.push(this.zoomTo(ie,A))}return L.push(this.setFocalOffset(0,0,0,A)),Promise.all(L)}setLookAt(T,A,L,U,W,te,ne=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Y.NONE,this._changedDolly=0;let ie=C.set(U,W,te),oe=y.set(T,A,L);this._targetEnd.copy(ie),this._sphericalEnd.setFromVector3(oe.sub(ie).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,ne||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let ae=!ne||v(this._target.x,this._targetEnd.x,this.restThreshold)&&v(this._target.y,this._targetEnd.y,this.restThreshold)&&v(this._target.z,this._targetEnd.z,this.restThreshold)&&v(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&v(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&v(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(ae)}lerpLookAt(T,A,L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Y.NONE,this._changedDolly=0;let ge=y.set(U,W,te),de=C.set(T,A,L);F.setFromVector3(de.sub(ge).applyQuaternion(this._yAxisUpSpace));let me=V.set(ae,ce,he),ye=C.set(ne,ie,oe);q.setFromVector3(ye.sub(me).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(ge.lerp(me,ue));let xe=q.theta-F.theta,Se=q.phi-F.phi,Te=q.radius-F.radius;this._sphericalEnd.set(F.radius+Te*ue,F.phi+Se*ue,F.theta+xe*ue),this.normalizeRotations(),this._needsUpdate=!0,pe||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let be=!pe||v(this._target.x,this._targetEnd.x,this.restThreshold)&&v(this._target.y,this._targetEnd.y,this.restThreshold)&&v(this._target.z,this._targetEnd.z,this.restThreshold)&&v(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&v(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&v(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(be)}setPosition(T,A,L,U=!1){return this.setLookAt(T,A,L,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,U)}setTarget(T,A,L,U=!1){let W=this.getPosition(y),te=this.setLookAt(W.x,W.y,W.z,T,A,L,U);return this._sphericalEnd.phi=R$2(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),te}setFocalOffset(T,A,L,U=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(T,A,L),this._needsUpdate=!0,U||this._focalOffset.copy(this._focalOffsetEnd);let W=!U||v(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&v(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&v(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(W)}setOrbitPoint(T,A,L){this._camera.updateMatrixWorld(),M$1.setFromMatrixColumn(this._camera.matrixWorldInverse,0),I.setFromMatrixColumn(this._camera.matrixWorldInverse,1),k.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let U=y.set(T,A,L),W=U.distanceTo(this._camera.position),te=U.sub(this._camera.position);M$1.multiplyScalar(te.x),I.multiplyScalar(te.y),k.multiplyScalar(te.z),y.copy(M$1).add(I).add(k),y.z=y.z+W,this.dollyTo(W,!1),this.setFocalOffset(-y.x,y.y,-y.z,!1),this.moveTo(T,A,L,!1)}setBoundary(T){if(!T){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(T),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(T,A,L,U){if(T===null){this._viewport=null;return}this._viewport=this._viewport||new m$1.Vector4,typeof T=="number"?this._viewport.set(T,A,L,U):this._viewport.copy(T)}getDistanceToFitBox(T,A,L,U=!1){if(ot(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let W=T/A,te=this._camera.getEffectiveFOV()*B,ne=this._camera.aspect;return((U?W>ne:W<ne)?A:T/ne)*.5/Math.tan(te*.5)+L*.5}getDistanceToFitSphere(T){if(ot(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let A=this._camera.getEffectiveFOV()*B,L=Math.atan(Math.tan(A*.5)*this._camera.aspect)*2,U=1<this._camera.aspect?A:L;return T/Math.sin(U*.5)}getTarget(T,A=!0){return(T&&T.isVector3?T:new m$1.Vector3).copy(A?this._targetEnd:this._target)}getPosition(T,A=!0){return(T&&T.isVector3?T:new m$1.Vector3).setFromSpherical(A?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(A?this._targetEnd:this._target)}getSpherical(T,A=!0){return(T||new m$1.Spherical).copy(A?this._sphericalEnd:this._spherical)}getFocalOffset(T,A=!0){return(T&&T.isVector3?T:new m$1.Vector3).copy(A?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Z,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Z),this._spherical.theta+=Z*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Z)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(T=!1){if(!v(this._camera.up.x,this._cameraUp0.x)||!v(this._camera.up.y,this._cameraUp0.y)||!v(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let L=this.getPosition(y);this.updateCameraUp(),this.setPosition(L.x,L.y,L.z)}let A=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,T),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,T),this.zoomTo(this._zoom0,T)];return Promise.all(A)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,tt),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let T=y.subVectors(this._target,this._camera.position).normalize(),A=C.crossVectors(T,this._camera.up);this._camera.up.crossVectors(A,T).normalize(),this._camera.updateMatrixWorld();let L=this.getPosition(y);this.updateCameraUp(),this.setPosition(L.x,L.y,L.z)}update(T){let A=this._sphericalEnd.theta-this._spherical.theta,L=this._sphericalEnd.phi-this._spherical.phi,U=this._sphericalEnd.radius-this._spherical.radius,W=gt.subVectors(this._targetEnd,this._target),te=yt.subVectors(this._focalOffsetEnd,this._focalOffset),ne=this._zoomEnd-this._zoom;if(D(A))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let ae=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=J(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,ae,1/0,T),this._needsUpdate=!0}if(D(L))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let ae=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=J(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,ae,1/0,T),this._needsUpdate=!0}if(D(U))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let ae=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=J(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,ae,this.maxSpeed,T),this._needsUpdate=!0}if(D(W.x)&&D(W.y)&&D(W.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let ae=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;ut(this._target,this._targetEnd,this._targetVelocity,ae,this.maxSpeed,T,this._target),this._needsUpdate=!0}if(D(te.x)&&D(te.y)&&D(te.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let ae=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;ut(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,ae,this.maxSpeed,T,this._focalOffset),this._needsUpdate=!0}if(D(ne))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let ae=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=J(this._zoom,this._zoomEnd,this._zoomVelocity,ae,1/0,T)}if(this.dollyToCursor){if(b(this._camera)&&this._changedDolly!==0){let ae=this._spherical.radius-this._lastDistance,ce=this._camera,he=this._getCameraDirection(Q),ue=y.copy(he).cross(ce.up).normalize();ue.lengthSq()===0&&(ue.x=1);let pe=C.crossVectors(ue,he),ge=this._sphericalEnd.radius*Math.tan(ce.getEffectiveFOV()*B*.5),de=(this._sphericalEnd.radius-ae-this._sphericalEnd.radius)/this._sphericalEnd.radius,me=V.copy(this._targetEnd).add(ue.multiplyScalar(this._dollyControlCoord.x*ge*ce.aspect)).add(pe.multiplyScalar(this._dollyControlCoord.y*ge)),ye=y.copy(this._targetEnd).lerp(me,de),xe=this._lastDollyDirection===Y.IN&&this._spherical.radius<=this.minDistance,Se=this._lastDollyDirection===Y.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(xe||Se)){this._sphericalEnd.radius-=ae,this._spherical.radius-=ae;let be=C.copy(he).multiplyScalar(-ae);ye.add(be)}this._boundary.clampPoint(ye,ye);let Te=C.subVectors(ye,this._targetEnd);this._targetEnd.copy(ye),this._target.add(Te),this._changedDolly-=ae,D(this._changedDolly)&&(this._changedDolly=0)}else if(H$1(this._camera)&&this._changedZoom!==0){let ae=this._zoom-this._lastZoom,ce=this._camera,he=y.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(ce.near+ce.far)/(ce.near-ce.far)).unproject(ce),ue=C.set(0,0,-1).applyQuaternion(ce.quaternion),pe=V.copy(he).add(ue.multiplyScalar(-he.dot(ce.up))),ge=-(this._zoom-ae-this._zoom)/this._zoom,de=this._getCameraDirection(Q),me=this._targetEnd.dot(de),ye=y.copy(this._targetEnd).lerp(pe,ge),xe=ye.dot(de),Se=de.multiplyScalar(xe-me);ye.sub(Se),this._boundary.clampPoint(ye,ye);let Te=C.subVectors(ye,this._targetEnd);this._targetEnd.copy(ye),this._target.add(Te),this._changedZoom-=ae,D(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;let ie=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,ie),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!D(this._focalOffset.x)||!D(this._focalOffset.y)||!D(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),M$1.setFromMatrixColumn(this._camera.matrix,0),I.setFromMatrixColumn(this._camera.matrix,1),k.setFromMatrixColumn(this._camera.matrix,2),M$1.multiplyScalar(this._focalOffset.x),I.multiplyScalar(-this._focalOffset.y),k.multiplyScalar(this._focalOffset.z),y.copy(M$1).add(I).add(k),this._camera.position.add(y)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),y.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let oe=this._needsUpdate;return oe&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):oe?(this.dispatchEvent({type:"update"}),D(A,this.restThreshold)&&D(L,this.restThreshold)&&D(U,this.restThreshold)&&D(W.x,this.restThreshold)&&D(W.y,this.restThreshold)&&D(W.z,this.restThreshold)&&D(te.x,this.restThreshold)&&D(te.y,this.restThreshold)&&D(te.z,this.restThreshold)&&D(ne,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!oe&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=oe,this._needsUpdate=!1,oe}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:K(this.maxDistance),minZoom:this.minZoom,maxZoom:K(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:K(this.maxPolarAngle),minAzimuthAngle:K(this.minAzimuthAngle),maxAzimuthAngle:K(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:y.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(T,A=!1){let L=JSON.parse(T);this.enabled=L.enabled,this.minDistance=L.minDistance,this.maxDistance=X(L.maxDistance),this.minZoom=L.minZoom,this.maxZoom=X(L.maxZoom),this.minPolarAngle=L.minPolarAngle,this.maxPolarAngle=X(L.maxPolarAngle),this.minAzimuthAngle=X(L.minAzimuthAngle),this.maxAzimuthAngle=X(L.maxAzimuthAngle),this.smoothTime=L.smoothTime,this.draggingSmoothTime=L.draggingSmoothTime,this.dollySpeed=L.dollySpeed,this.truckSpeed=L.truckSpeed,this.dollyToCursor=L.dollyToCursor,this.verticalDragToForward=L.verticalDragToForward,this._target0.fromArray(L.target0),this._position0.fromArray(L.position0),this._zoom0=L.zoom0,this._focalOffset0.fromArray(L.focalOffset0),this.moveTo(L.target[0],L.target[1],L.target[2],A),F.setFromVector3(y.fromArray(L.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(F.theta,F.phi,A),this.dollyTo(F.radius,A),this.zoomTo(L.zoom,A),this.setFocalOffset(L.focalOffset[0],L.focalOffset[1],L.focalOffset[2],A),this._needsUpdate=!0}connect(T){if(this._domElement){console.warn("camera-controls is already connected.");return}T.setAttribute("data-camera-controls-version",Lt),this._addAllEventListeners(T),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(T){return T.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(T){return this._getTargetDirection(T).negate()}_findPointerById(T){return this._activePointers.find(A=>A.pointerId===T)}_findPointerByMouseButton(T){return this._activePointers.find(A=>A.mouseButton===T)}_disposePointer(T){this._activePointers.splice(this._activePointers.indexOf(T),1)}_encloseToBoundary(T,A,L){let U=A.lengthSq();if(U===0)return T;let W=C.copy(A).add(T),te=this._boundary.clampPoint(W,V).sub(W),ne=te.lengthSq();if(ne===0)return T.add(A);if(ne===U)return T;if(L===0)return T.add(A).add(te);{let ie=1+L*ne/A.dot(te);return T.add(C.copy(A).multiplyScalar(ie)).add(te.multiplyScalar(1-L))}}_updateNearPlaneCorners(){if(b(this._camera)){let T=this._camera,A=T.near,L=T.getEffectiveFOV()*B,U=Math.tan(L*.5)*A,W=U*T.aspect;this._nearPlaneCorners[0].set(-W,-U,0),this._nearPlaneCorners[1].set(W,-U,0),this._nearPlaneCorners[2].set(W,U,0),this._nearPlaneCorners[3].set(-W,U,0)}else if(H$1(this._camera)){let T=this._camera,A=1/T.zoom,L=T.left*A,U=T.right*A,W=T.top*A,te=T.bottom*A;this._nearPlaneCorners[0].set(L,W,0),this._nearPlaneCorners[1].set(U,W,0),this._nearPlaneCorners[2].set(U,te,0),this._nearPlaneCorners[3].set(L,te,0)}}_collisionTest(){let T=1/0;if(!(this.colliderMeshes.length>=1)||ot(this._camera,"_collisionTest"))return T;let A=this._getTargetDirection(Q);lt.lookAt(ft,A,this._camera.up);for(let L=0;L<4;L++){let U=C.copy(this._nearPlaneCorners[L]);U.applyMatrix4(lt);let W=V.addVectors(this._target,U);et.set(W,A),et.far=this._spherical.radius+1;let te=et.intersectObjects(this.colliderMeshes);te.length!==0&&te[0].distance<T&&(T=te[0].distance)}return T}_getClientRect(T){if(!this._domElement)return;let A=this._domElement.getBoundingClientRect();return T.x=A.left,T.y=A.top,this._viewport?(T.x+=this._viewport.x,T.y+=A.height-this._viewport.w-this._viewport.y,T.width=this._viewport.z,T.height=this._viewport.w):(T.width=A.width,T.height=A.height),T}_createOnRestPromise(T){return T?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(A=>{let L=()=>{this.removeEventListener("rest",L),A()};this.addEventListener("rest",L)}))}_addAllEventListeners(T){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(T){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(T){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(T,A=new m$1.Sphere){let L=A,U=L.center;N.makeEmpty(),T.traverseVisible(te=>{te.isMesh&&N.expandByObject(te)}),N.getCenter(U);let W=0;return T.traverseVisible(te=>{if(!te.isMesh)return;let ne=te,ie=ne.geometry.clone();ie.applyMatrix4(ne.matrixWorld);let oe=ie.attributes.position;for(let ae=0,ce=oe.count;ae<ce;ae++)y.fromBufferAttribute(oe,ae),W=Math.max(W,U.distanceToSquared(y))}),L.radius=Math.sqrt(W),L}};function Ht(P){var T=P,{smoothTime:A=.05}=T,L=y$2(T,["smoothTime"]);G.install({THREE:St}),extend({CameraControls:G});let U=useThree(ne=>ne.camera),W=useThree(ne=>ne.gl),te=q$1(L);return jsxRuntimeExports.jsx("cameraControls",{ref:te,args:[U,W.domElement],enableDamping:!0,smoothTime:A,zoomSpeed:10,dollySpeed:10,restThreshold:0})}/*! Bundled license information:

camera-controls/dist/camera-controls.module.js:
  (*!
   * camera-controls
   * https://github.com/yomotsu/camera-controls
   * (c) 2017 @yomotsu
   * Released under the MIT License.
   *)
*/function m(P){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Ht,w$2({},P))})}var R$1=class extends DataTextureLoader{constructor(T){super(T),this.type=HalfFloatType}parse(T){let A=function(me,ye){switch(me){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(ye||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(ye||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(ye||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(ye||""))}},L=`
`,U=function(me,ye,xe){ye=ye||1024;let Se=me.pos,Te=-1,be=0,Pe="",Ie=String.fromCharCode.apply(null,new Uint16Array(me.subarray(Se,Se+128)));for(;0>(Te=Ie.indexOf(L))&&be<ye&&Se<me.byteLength;)Pe+=Ie,be+=Ie.length,Se+=128,Ie+=String.fromCharCode.apply(null,new Uint16Array(me.subarray(Se,Se+128)));return-1<Te?(me.pos+=be+Te+1,Pe+Ie.slice(0,Te)):!1},W=function(me){let ye=/^#\?(\S+)/,xe=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Se=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Te=/^\s*FORMAT=(\S+)\s*$/,be=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Pe={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0},Ie,De;for((me.pos>=me.byteLength||!(Ie=U(me)))&&A(1,"no header found"),(De=Ie.match(ye))||A(3,"bad initial token"),Pe.valid|=1,Pe.programtype=De[1],Pe.string+=Ie+`
`;Ie=U(me),Ie!==!1;){if(Pe.string+=Ie+`
`,Ie.charAt(0)==="#"){Pe.comments+=Ie+`
`;continue}if((De=Ie.match(xe))&&(Pe.gamma=parseFloat(De[1])),(De=Ie.match(Se))&&(Pe.exposure=parseFloat(De[1])),(De=Ie.match(Te))&&(Pe.valid|=2,Pe.format=De[1]),(De=Ie.match(be))&&(Pe.valid|=4,Pe.height=parseInt(De[1],10),Pe.width=parseInt(De[2],10)),Pe.valid&2&&Pe.valid&4)break}return Pe.valid&2||A(3,"missing format specifier"),Pe.valid&4||A(3,"missing image size specifier"),Pe},te=function(me,ye,xe){let Se=ye;if(Se<8||Se>32767||me[0]!==2||me[1]!==2||me[2]&128)return new Uint8Array(me);Se!==(me[2]<<8|me[3])&&A(3,"wrong scanline width");let Te=new Uint8Array(4*ye*xe);Te.length||A(4,"unable to allocate buffer space");let be=0,Pe=0,Ie=4*Se,De=new Uint8Array(4),we=new Uint8Array(Ie),Fe=xe;for(;Fe>0&&Pe<me.byteLength;){Pe+4>me.byteLength&&A(1),De[0]=me[Pe++],De[1]=me[Pe++],De[2]=me[Pe++],De[3]=me[Pe++],(De[0]!=2||De[1]!=2||(De[2]<<8|De[3])!=Se)&&A(3,"bad rgbe scanline format");let Ge=0,He;for(;Ge<Ie&&Pe<me.byteLength;){He=me[Pe++];let qe=He>128;if(qe&&(He-=128),(He===0||Ge+He>Ie)&&A(3,"bad scanline data"),qe){let Ye=me[Pe++];for(let Ct=0;Ct<He;Ct++)we[Ge++]=Ye}else we.set(me.subarray(Pe,Pe+He),Ge),Ge+=He,Pe+=He}let je=Se;for(let qe=0;qe<je;qe++){let Ye=0;Te[be]=we[qe+Ye],Ye+=Se,Te[be+1]=we[qe+Ye],Ye+=Se,Te[be+2]=we[qe+Ye],Ye+=Se,Te[be+3]=we[qe+Ye],be+=4}Fe--}return Te},ne=function(me,ye,xe,Se){let Te=me[ye+3],be=Math.pow(2,Te-128)/255;xe[Se+0]=me[ye+0]*be,xe[Se+1]=me[ye+1]*be,xe[Se+2]=me[ye+2]*be,xe[Se+3]=1},ie=function(me,ye,xe,Se){let Te=me[ye+3],be=Math.pow(2,Te-128)/255;xe[Se+0]=DataUtils.toHalfFloat(Math.min(me[ye+0]*be,65504)),xe[Se+1]=DataUtils.toHalfFloat(Math.min(me[ye+1]*be,65504)),xe[Se+2]=DataUtils.toHalfFloat(Math.min(me[ye+2]*be,65504)),xe[Se+3]=DataUtils.toHalfFloat(1)},oe=new Uint8Array(T);oe.pos=0;let ae=W(oe),ce=ae.width,he=ae.height,ue=te(oe.subarray(oe.pos),ce,he),pe,ge,de;switch(this.type){case FloatType:de=ue.length/4;let me=new Float32Array(de*4);for(let xe=0;xe<de;xe++)ne(ue,xe*4,me,xe*4);pe=me,ge=FloatType;break;case HalfFloatType:de=ue.length/4;let ye=new Uint16Array(de*4);for(let xe=0;xe<de;xe++)ie(ue,xe*4,ye,xe*4);pe=ye,ge=HalfFloatType;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:ce,height:he,data:pe,header:ae.string,gamma:ae.gamma,exposure:ae.exposure,type:ge}}setDataType(T){return this.type=T,this}load(T,A,L,U){function W(te,ne){switch(te.type){case FloatType:case HalfFloatType:"colorSpace"in te?te.colorSpace="srgb-linear":te.encoding=3e3,te.minFilter=LinearFilter,te.magFilter=LinearFilter,te.generateMipmaps=!1,te.flipY=!0;break}A&&A(te,ne)}return super.load(T,W,L,U)}};function rr(P,{path:T}){return useLoader(R$1,P,A=>A.setPath(T))}var E$1=P=>P.current&&P.current.isScene,R=P=>E$1(P)?P.current:P;function H({background:P=!1,envPreset:T}){let A=rr("city.hdr",{path:h$4}),L=rr("dawn.hdr",{path:h$4}),U=rr("lobby.hdr",{path:h$4}),W={city:A,dawn:L,lobby:U}[T],te=useThree(ie=>ie.scene);p$2.useLayoutEffect(()=>{if(W){let ie=R(te);ie.background;let oe=ie.environment;return P!=="only"&&(ie.environment=W),P&&(ie.background=W),()=>{P!=="only"&&(ie.environment=oe),P&&(ie.background="black")}}},[te,W,P]);let ne=W;return ne.mapping=EquirectangularReflectionMapping,null}function l$1({lightType:P,brightness:T,envPreset:A}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[P==="3d"&&jsxRuntimeExports.jsx("ambientLight",{intensity:(T||1)*Math.PI}),P==="env"&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(a,{}),children:jsxRuntimeExports.jsx(H,{envPreset:A,background:!1,loadingCallback:()=>{}})})]})}function a(){return jsxRuntimeExports.jsx("ambientLight",{intensity:.4})}var o=z$2((P,T)=>{T.exports=A=>encodeURIComponent(A).replace(/[!'()*]/g,L=>`%${L.charCodeAt(0).toString(16).toUpperCase()}`)}),O=z$2((P,T)=>{var A="%[a-f0-9]{2}",L=new RegExp("("+A+")|([^%]+?)","gi"),U=new RegExp("("+A+")+","gi");function W(ie,oe){try{return[decodeURIComponent(ie.join(""))]}catch{}if(ie.length===1)return ie;oe=oe||1;var ae=ie.slice(0,oe),ce=ie.slice(oe);return Array.prototype.concat.call([],W(ae),W(ce))}function te(ie){try{return decodeURIComponent(ie)}catch{for(var oe=ie.match(L)||[],ae=1;ae<oe.length;ae++)ie=W(oe,ae).join(""),oe=ie.match(L)||[];return ie}}function ne(ie){for(var oe={"%FE%FF":"��","%FF%FE":"��"},ae=U.exec(ie);ae;){try{oe[ae[0]]=decodeURIComponent(ae[0])}catch{var ce=te(ae[0]);ce!==ae[0]&&(oe[ae[0]]=ce)}ae=U.exec(ie)}oe["%C2"]="�";for(var he=Object.keys(oe),ue=0;ue<he.length;ue++){var pe=he[ue];ie=ie.replace(new RegExp(pe,"g"),oe[pe])}return ie}T.exports=function(ie){if(typeof ie!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof ie+"`");try{return ie=ie.replace(/\+/g," "),decodeURIComponent(ie)}catch{return ne(ie)}}}),j=z$2((P,T)=>{T.exports=(A,L)=>{if(!(typeof A=="string"&&typeof L=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(L==="")return[A];let U=A.indexOf(L);return U===-1?[A]:[A.slice(0,U),A.slice(U+L.length)]}}),E=z$2((P,T)=>{T.exports=function(A,L){for(var U={},W=Object.keys(A),te=Array.isArray(L),ne=0;ne<W.length;ne++){var ie=W[ne],oe=A[ie];(te?L.indexOf(ie)!==-1:L(ie,oe,A))&&(U[ie]=oe)}return U}}),_=z$2(P=>{var T=o(),A=O(),L=j(),U=E(),W=ye=>ye==null,te=Symbol("encodeFragmentIdentifier");function ne(ye){switch(ye.arrayFormat){case"index":return xe=>(Se,Te)=>{let be=Se.length;return Te===void 0||ye.skipNull&&Te===null||ye.skipEmptyString&&Te===""?Se:Te===null?[...Se,[ae(xe,ye),"[",be,"]"].join("")]:[...Se,[ae(xe,ye),"[",ae(be,ye),"]=",ae(Te,ye)].join("")]};case"bracket":return xe=>(Se,Te)=>Te===void 0||ye.skipNull&&Te===null||ye.skipEmptyString&&Te===""?Se:Te===null?[...Se,[ae(xe,ye),"[]"].join("")]:[...Se,[ae(xe,ye),"[]=",ae(Te,ye)].join("")];case"colon-list-separator":return xe=>(Se,Te)=>Te===void 0||ye.skipNull&&Te===null||ye.skipEmptyString&&Te===""?Se:Te===null?[...Se,[ae(xe,ye),":list="].join("")]:[...Se,[ae(xe,ye),":list=",ae(Te,ye)].join("")];case"comma":case"separator":case"bracket-separator":{let xe=ye.arrayFormat==="bracket-separator"?"[]=":"=";return Se=>(Te,be)=>be===void 0||ye.skipNull&&be===null||ye.skipEmptyString&&be===""?Te:(be=be===null?"":be,Te.length===0?[[ae(Se,ye),xe,ae(be,ye)].join("")]:[[Te,ae(be,ye)].join(ye.arrayFormatSeparator)])}default:return xe=>(Se,Te)=>Te===void 0||ye.skipNull&&Te===null||ye.skipEmptyString&&Te===""?Se:Te===null?[...Se,ae(xe,ye)]:[...Se,[ae(xe,ye),"=",ae(Te,ye)].join("")]}}function ie(ye){let xe;switch(ye.arrayFormat){case"index":return(Se,Te,be)=>{if(xe=/\[(\d*)\]$/.exec(Se),Se=Se.replace(/\[\d*\]$/,""),!xe){be[Se]=Te;return}be[Se]===void 0&&(be[Se]={}),be[Se][xe[1]]=Te};case"bracket":return(Se,Te,be)=>{if(xe=/(\[\])$/.exec(Se),Se=Se.replace(/\[\]$/,""),!xe){be[Se]=Te;return}if(be[Se]===void 0){be[Se]=[Te];return}be[Se]=[].concat(be[Se],Te)};case"colon-list-separator":return(Se,Te,be)=>{if(xe=/(:list)$/.exec(Se),Se=Se.replace(/:list$/,""),!xe){be[Se]=Te;return}if(be[Se]===void 0){be[Se]=[Te];return}be[Se]=[].concat(be[Se],Te)};case"comma":case"separator":return(Se,Te,be)=>{let Pe=typeof Te=="string"&&Te.includes(ye.arrayFormatSeparator),Ie=typeof Te=="string"&&!Pe&&ce(Te,ye).includes(ye.arrayFormatSeparator);Te=Ie?ce(Te,ye):Te;let De=Pe||Ie?Te.split(ye.arrayFormatSeparator).map(we=>ce(we,ye)):Te===null?Te:ce(Te,ye);be[Se]=De};case"bracket-separator":return(Se,Te,be)=>{let Pe=/(\[\])$/.test(Se);if(Se=Se.replace(/\[\]$/,""),!Pe){be[Se]=Te&&ce(Te,ye);return}let Ie=Te===null?[]:Te.split(ye.arrayFormatSeparator).map(De=>ce(De,ye));if(be[Se]===void 0){be[Se]=Ie;return}be[Se]=[].concat(be[Se],Ie)};default:return(Se,Te,be)=>{if(be[Se]===void 0){be[Se]=Te;return}be[Se]=[].concat(be[Se],Te)}}}function oe(ye){if(typeof ye!="string"||ye.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ae(ye,xe){return xe.encode?xe.strict?T(ye):encodeURIComponent(ye):ye}function ce(ye,xe){return xe.decode?A(ye):ye}function he(ye){return Array.isArray(ye)?ye.sort():typeof ye=="object"?he(Object.keys(ye)).sort((xe,Se)=>Number(xe)-Number(Se)).map(xe=>ye[xe]):ye}function ue(ye){let xe=ye.indexOf("#");return xe!==-1&&(ye=ye.slice(0,xe)),ye}function pe(ye){let xe="",Se=ye.indexOf("#");return Se!==-1&&(xe=ye.slice(Se)),xe}function ge(ye){ye=ue(ye);let xe=ye.indexOf("?");return xe===-1?"":ye.slice(xe+1)}function de(ye,xe){return xe.parseNumbers&&!Number.isNaN(Number(ye))&&typeof ye=="string"&&ye.trim()!==""?ye=Number(ye):xe.parseBooleans&&ye!==null&&(ye.toLowerCase()==="true"||ye.toLowerCase()==="false")&&(ye=ye.toLowerCase()==="true"),ye}function me(ye,xe){xe=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},xe),oe(xe.arrayFormatSeparator);let Se=ie(xe),Te=Object.create(null);if(typeof ye!="string"||(ye=ye.trim().replace(/^[?#&]/,""),!ye))return Te;for(let be of ye.split("&")){if(be==="")continue;let[Pe,Ie]=L(xe.decode?be.replace(/\+/g," "):be,"=");Ie=Ie===void 0?null:["comma","separator","bracket-separator"].includes(xe.arrayFormat)?Ie:ce(Ie,xe),Se(ce(Pe,xe),Ie,Te)}for(let be of Object.keys(Te)){let Pe=Te[be];if(typeof Pe=="object"&&Pe!==null)for(let Ie of Object.keys(Pe))Pe[Ie]=de(Pe[Ie],xe);else Te[be]=de(Pe,xe)}return xe.sort===!1?Te:(xe.sort===!0?Object.keys(Te).sort():Object.keys(Te).sort(xe.sort)).reduce((be,Pe)=>{let Ie=Te[Pe];return Ie&&typeof Ie=="object"&&!Array.isArray(Ie)?be[Pe]=he(Ie):be[Pe]=Ie,be},Object.create(null))}P.extract=ge,P.parse=me,P.stringify=(ye,xe)=>{if(!ye)return"";xe=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},xe),oe(xe.arrayFormatSeparator);let Se=Ie=>xe.skipNull&&W(ye[Ie])||xe.skipEmptyString&&ye[Ie]==="",Te=ne(xe),be={};for(let Ie of Object.keys(ye))Se(Ie)||(be[Ie]=ye[Ie]);let Pe=Object.keys(be);return xe.sort!==!1&&Pe.sort(xe.sort),Pe.map(Ie=>{let De=ye[Ie];return De===void 0?"":De===null?ae(Ie,xe):Array.isArray(De)?De.length===0&&xe.arrayFormat==="bracket-separator"?ae(Ie,xe)+"[]":De.reduce(Te(Ie),[]).join("&"):ae(Ie,xe)+"="+ae(De,xe)}).filter(Ie=>Ie.length>0).join("&")},P.parseUrl=(ye,xe)=>{xe=Object.assign({decode:!0},xe);let[Se,Te]=L(ye,"#");return Object.assign({url:Se.split("?")[0]||"",query:me(ge(ye),xe)},xe&&xe.parseFragmentIdentifier&&Te?{fragmentIdentifier:ce(Te,xe)}:{})},P.stringifyUrl=(ye,xe)=>{xe=Object.assign({encode:!0,strict:!0,[te]:!0},xe);let Se=ue(ye.url).split("?")[0]||"",Te=P.extract(ye.url),be=P.parse(Te,{sort:!1}),Pe=Object.assign(be,ye.query),Ie=P.stringify(Pe,xe);Ie&&(Ie=`?${Ie}`);let De=pe(ye.url);return ye.fragmentIdentifier&&(De=`#${xe[te]?ae(ye.fragmentIdentifier,xe):ye.fragmentIdentifier}`),`${Se}${Ie}${De}`},P.pick=(ye,xe,Se)=>{Se=Object.assign({parseFragmentIdentifier:!0,[te]:!1},Se);let{url:Te,query:be,fragmentIdentifier:Pe}=P.parseUrl(ye,Se);return P.stringifyUrl({url:Te,query:U(be,xe),fragmentIdentifier:Pe},Se)},P.exclude=(ye,xe,Se)=>{let Te=Array.isArray(xe)?be=>!xe.includes(be):(be,Pe)=>!xe(be,Pe);return P.pick(ye,Te,Se)}}),e={base:{title:"Base",color:"white",props:{positionX:0,positionY:0,positionZ:0,rotationX:0,rotationY:0,rotationZ:0,uAmplitude:2,color1:"#ff5005",color2:"#dbba95",color3:"#d0bce1"}},halo:{title:"Halo",color:"white",props:{type:"plane",uAmplitude:1,uDensity:1.3,uSpeed:.4,uStrength:4,uTime:0,uFrequency:5.5,range:"enabled",rangeStart:0,rangeEnd:40,frameRate:10,destination:"onCanvas",format:"gif",axesHelper:"off",brightness:1.2,cAzimuthAngle:180,cDistance:3.6,cPolarAngle:90,cameraZoom:1,color1:"#ff5005",color2:"#dbba95",color3:"#d0bce1",embedMode:"off",envPreset:"city",gizmoHelper:"hide",grain:"on",lightType:"3d",pixelDensity:1,fov:45,positionX:-1.4,positionY:0,positionZ:0,reflection:.1,rotationX:0,rotationY:10,rotationZ:50,shader:"defaults",animate:"on",wireframe:!1}},pensive:{title:"Pensive",color:"white",props:{range:"enabled",rangeStart:0,rangeEnd:40,frameRate:10,destination:"onCanvas",format:"gif",animate:"on",axesHelper:"off",brightness:1.5,cAzimuthAngle:250,cDistance:1.5,cPolarAngle:140,cameraZoom:12.5,color1:"#809bd6",color2:"#910aff",color3:"#af38ff",embedMode:"off",envPreset:"city",gizmoHelper:"hide",grain:"on",lightType:"3d",pixelDensity:1,fov:45,positionX:0,positionY:0,positionZ:0,reflection:.5,rotationX:0,rotationY:0,rotationZ:140,shader:"defaults",type:"sphere",uAmplitude:7,uDensity:.8,uFrequency:5.5,uSpeed:.3,uStrength:.4,uTime:0,wireframe:!1}},mint:{title:"Mint",color:"white",props:{range:"enabled",rangeStart:0,rangeEnd:40,frameRate:10,destination:"onCanvas",format:"gif",animate:"on",axesHelper:"off",brightness:1.2,cAzimuthAngle:170,cDistance:4.4,cPolarAngle:70,cameraZoom:1,color1:"#94ffd1",color2:"#6bf5ff",color3:"#ffffff",embedMode:"off",envPreset:"city",gizmoHelper:"hide",grain:"off",lightType:"3d",pixelDensity:1,fov:45,positionX:0,positionY:.9,positionZ:-.3,reflection:.1,rotationX:45,rotationY:0,rotationZ:0,shader:"defaults",type:"waterPlane",uAmplitude:0,uDensity:1.2,uFrequency:0,uSpeed:.2,uStrength:3.4,uTime:0,wireframe:!1}},interstella:{title:"Interstella",color:"white",props:{range:"enabled",rangeStart:0,rangeEnd:40,frameRate:10,destination:"onCanvas",format:"gif",animate:"on",axesHelper:"off",brightness:.8,cAzimuthAngle:270,cDistance:.5,cPolarAngle:180,cameraZoom:15.1,color1:"#73bfc4",color2:"#ff810a",color3:"#8da0ce",embedMode:"off",envPreset:"city",gizmoHelper:"hide",grain:"on",lightType:"env",pixelDensity:1,fov:45,positionX:-.1,positionY:0,positionZ:0,reflection:.4,rotationX:0,rotationY:130,rotationZ:70,shader:"defaults",type:"sphere",uAmplitude:3.2,uDensity:.8,uFrequency:5.5,uSpeed:.3,uStrength:.3,uTime:0,wireframe:!1}}},l=B$1(_());function M(P){let T=w$2(w$2({},e.halo.props),P),{control:A,urlString:L}=T,U=y$2(T,["control","urlString"]);A==="query"&&(U=l.parse(a$3(L),{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"}));let W=U,{lightType:te,envPreset:ne,brightness:ie,grain:oe,toggleAxis:ae}=W;return y$2(W,["lightType","envPreset","brightness","grain","toggleAxis"]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(R$3,w$2({},U)),jsxRuntimeExports.jsx(l$1,{lightType:te,brightness:ie,envPreset:ne}),oe!=="off"&&jsxRuntimeExports.jsx(z,{}),jsxRuntimeExports.jsx(m,w$2({},U))]})}const Foto_Perfil="/portfolio_nikolasguedes/assets/foto_perfil-CUK5e2u4.png",Github_Icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQuSURBVHgBzVqLcdswDIWzQLVB2AniThB1gnqDeIN4A2uDtBOonSCXCeROYG8gZQK7E6BEBF1AipRJio7z7nCyJQLEI8EfpAVkBiIqfVlqudVSCOm4yCv/PiwWixNkxAJmQjtPjq603PO1iFA/aNlpedHEdnAtaBKllictR8yDVssDzEB0z3AY1VpKTxEKHWrxjuXEovj5kn8vPfqkU+me+gOXhCZSeXqi0bLVsoywVWj5oaX22Gy54bKTUFr2HhL3kAHazpoJ2KggF6i1HZVkI+Gob+PoqWfsJ5pZhtcOw49wYXAkNFa9+2RC3CN2DAePiRzAfhzOI8Qtc7SIKLgCHITqGOUCzTFyNSLCJ5tQFapYC6XjtYkMwH6BlijPKawthVkrcm6gOSm05wq3SbHptkXhSpPIihuJtj+zJhDHWN76Cq5zjBO206AfLYeyggSgOX6IWOEq1J5lPF1Jie4VfAp1CqlJX9kR2XIKIoD9ni0VLUaGny7/KPT39sNathZEYCaRAUeM36TKsVPKh/JBjNHKcmiL0+NFlq2x33MNaDEiItCcqp/o3oJZNVym0+eIr4HGlL7I6XGndb/zM9qEbqA/Rcqj8ZL//6IjM/aD9+iyEVB/KfymI/g3O/6CQwzN0IzStezYKAP1CkuvuAHzxHgINKT0ZW3dVhAJT1gFLdScDJH+KiIj5+kgMuA+MlcQCe1Qpy8/rdsrCIf0947IKHGjgzDc2Ua1Y38hDS/WfwqfWwiDHI/KIKMdeoUw2DNeB4nwpJhCZ1Qj73YDeZA1mQfhuTfZ+CqVjO188gYS3etaB2H4In6fiMxJGA5tkc76v8T0hIMrMfIPwiDrNMmAyXQKrsEevc7w1LyxbtPCHTqrjshIxdBw2cE41FYYsQsWK7hy2A6F9Pfg3OMEOrNlHdpfLdHcZzXoSElhf7ii+lwJxQEqwoejoYfmoayJMCR3rg2OEyF1gAM2YhpTpsJa6ZRE8EDG/kg8oOSWp8Z58NlB/666jaxb7imffRVEZSzxPdxaJkGE1ET5xkNERdbbCv0H8LAMDjWh78oP30MYmSaBiDwZm3kAnDq5hVdAPVJHkDliYt4az52M0ZzVontH2CFSW19rYz/OHjFxkWX7EspXSPbOBj4hMDS3h+OclIJPBBwnT9RUYXutSA633MDxK5bzuT00ZwpC8EJ2KfAQkI3cxihvLEIVXAkuItHhj+NXCB/eQw4iUclC29hvi9AeP2hSQPf71Jhkh9Oo3UMtXvC9DfaTUG3Vmd4jjgq2OAaRKiETmETl6I02ezSg+3uAIfQeUivE6W9w6P689/8TFReeXhrQ8PMVky8sfcX3aTzU6H+fQ/cv8tGEi5S9qcyFt16GawDfD2MNpmN4vTG7J2Z/PDcA+zFDadsS+kQDhZgCM4PSwfsnXG8yI607wn+mUthn5iRRywAAAABJRU5ErkJggg==",Linkdin_Icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAzCAYAAADYfStTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPfSURBVHgB1VrvdaMwDFfy7nvpBOeboL0JygZ3N0HTCdoNkg3SDZJO0N4E0AnSmwA6QbKBTgrmIowNhhjC/d5TMCBbUiz/kcwMBgAi3tKF6YooIlL6VU50IPrk8mw2+4ApggyIiB6JEqI9+mOv69wTKbg0SIlYKxQKCRsHZ2AGPcCG0GVJFDtYcqIPOLkYXyNBCgqXVA31n8glf8OQwMK1Xhv+XXa7qEN7imiB7l7e4FCuiIV7meOD75ddjGhoX2kDTGREPyEkqMGVRdA6hCEWWS7DVhACFmMyojsYGNojsqBGWYzZ4YjTq+6tXRCjLMZs4EIg2VtDl6euDSijgVe4MCxG3fpWjAzf5XLwwd8VWq9dZ72I6dmopGAi0J4jl461yTMzK9AlE48WtFq/OBrnfyeGYuUPiQPJfHO9xGJNkkPgG/HnLuaN77jB+uwTEkmL7KSVF+sTgWppdFC0yI7Roetc8C1FeevsxgmAdEvpkopH9R06Vme21p2A5U8tY5sMA8BDvuylfdPLDDxgyM9QdDsGiJE8dZAzXszPSpf7IfhS6I7UcNEXGAdbUT56VWmQXHXfoDuUcT/45lXjXZTjfyWj6xR4wOIlGRaxUYIB4KmDnJmP42iGxQJZDipe1K49G/MSakEZkvNVgSMMJz280gPakHJxvz6mnISVO/CE8YcmxruNfn5vPK+FH1iE4LVMEXgCq7Pq7RyqW5cDDItf5vpG91u6PEB/5KJ8NYdxcdA9UskR6L1bkD9zbIN4d8yBImeOlsa7PrNrDaZBQ8c9C1GOYQCwQbm4v3gg1wNKlPO5MUgVTiA69YXWVZX3ZMtn6XK54POL1acBqevxJKM0KBUvbuD/gdS1YpDcE4VNuw4LqWvKP1/0DU+ZZd6NQ4mI/LHLuhAZO4DI8dynjhd03Vg8ejcZErGFWHo0OCg85K8Fe2JjqESA2DLb4cBokc2zcSbY712MkmnZ0miXo8euyFpkr1y8Zl5uAaexxGPouytZgsV+7BHCg+U+k9x3h1wFnrnDskIirG/Mj10Chn7t+Q+s57xWMBFg/URE+VZcGxXPOpkOASzCDonWmdhsIJmKURZjug8FrB+rMLodNAWAxZgM+56IYH2+H3VMYfVo5zxjRKM2o85vuFkmT0y7wWRq99tgHZuQhqH7SJ9D9vBxGhaJRHQY1nuXju5vhng30mnx7vytj+4RnjIXlte8yqea/uj7vNy563+ZiQOzr1DslmOw77S5jYfRjnVIuTsM+yVWiQRH+LCjybDS7zPsjwwLdz47Wu71eZkLePqS8QZOn48pwXIQ9KHpjZMbEAh/AZtCb3pajJ8/AAAAAElFTkSuQmCC",Instagran_Icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASSSURBVHgBzVrrdds6DIZz+v/6ThBmgrgTRJmg3SDZIO4EdidIOoGzQdoJlE5QZwKpE9gboIAF1hBFStDDdb5zcGSaJIgXSYjUDCYGIs7p4YgWRJfyN5f3it6IytlsVsJ7AymQET0S/cJ+KIheiO7ECGdTYE60HqBACjuiDZGDgZjBALAS9HggSllzK+TDqpS2nhZCqf7PRF9PGoZYhVORsCqH2U2fcKG2C6KHBE8Uo51EkXVksEKEGR3vYohNYgwHUwCrufEc8cQKTgAWHJue4vICxkAUCSd4Ppml2sdeRQz4GYYgocgj/ENgNaeKQIb+HsJq/dc4SVgZ5AjDbtcrMrA52c+iiJInVIh/dy860vHdKOIhcu16hXxggRzeEUie+8DQma6fhY3psZEi79wf++zCEstOiq6laal+b2mMPdjHYPnuPR/qe5VqqL3yADbmPkfb4XDkRJ96jKfHuos10i4sjIxjG9xO/rNQiLVx3JXq8yvWoGjVtl0Rfg5Ka7CZxiwNfULvZLoy05YFA5QABU6QEWCVqHrPdhpFtWdsuivamRVWLxr5aWtbIiPuAKynLZ0TEas0w2PeISDPxZWEYdbBdyM8TWkT1qdG9kGE0fnOTwMfr8A+tqwKzzXRHQQvYFRX0uM2seSXAf8uvMJxmb6+gLoivdZ8qPaiGHiz9W+iexn0VeocEUdCW8LowAZt+MVF0LEEG9pC6wkqA7ESSzLO/0TsiVsq8wa3lf55JER/Qz9s1e+DMpeJyjZElZFVzW+2a1Lgm66X0GKlSuFh2phboCNjfgHTwodOGSriIWH8LMUMRiCYd25omKVwbeTz5gWACcHK1FwF47DvyafPYtOJqZXxFl9ge1bg9zLrHI0iWED2oTIORoBi+BWOS/BLTCGsksl7KT7DODj1u/wA9eXQgQ1t4fEFqn2GF4Ncluo34c2baCbtnkj5cIO+hH5wWiZWprZWgw1JZUjALSnAy++LDPYUacaKfPHZh3jUxD/Atfpd6YH1dLpTIZ2btbRxkpfleHx/2RDdqHrUiSUeE15rsps3ckqsv090HmBIAvk3wYMBwHqy+hgI17mZYvPgxfkK/ZZpOsRQA7/AQOAxo2bjfG4I1t23KTO2vbmlmen3iTWMANZvF6whpl9bDmE6U5Xs6qUUXyUx7GLIIbmWYgnHexlGW9L4H9TvajLF47brREiMrSPoqtYnsLTJO9Jvien7lT7I0fj6HYz315PhuRlrm0nR5B3pxxa+kb4ObJmEv1VjT36nsUzpP9bP9hhXUU9i8wh0Ce8I2DzaWnV1WAXut26kJwfWJ32BxsPzsJODM4NkeBpkZIxfITg4E3DsFQtWO/Tu3ApFPDLs9g6bVwis3CSHfoaxOTryYHzThtrGNPTQgekpvYTV3rWbxCMR5rHT/kJi2cFEwGrjzrGJsac4jYHmmP7ogP8ftIQL34eEEsz7Bk4FrOZRgXF4xQ7nyqHXRHD2MmfIjwkFGIePJvBffenUodRQ+G9wHJwDeLwsGnsNOPobnEGfaKWAVXz7lN5/EehUE51clvL80fOwPok/b0ofM6gC0RcAAAAASUVORK5CYII=";function r(P){var T,A,L="";if(typeof P=="string"||typeof P=="number")L+=P;else if(typeof P=="object")if(Array.isArray(P)){var U=P.length;for(T=0;T<U;T++)P[T]&&(A=r(P[T]))&&(L&&(L+=" "),L+=A)}else for(A in P)P[A]&&(L&&(L+=" "),L+=A);return L}function clsx(){for(var P,T,A=0,L="",U=arguments.length;A<U;A++)(P=arguments[A])&&(T=r(P))&&(L&&(L+=" "),L+=T);return L}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=P=>{const T=createClassMap(P),{conflictingClassGroups:A,conflictingClassGroupModifiers:L}=P;return{getClassGroupId:te=>{const ne=te.split(CLASS_PART_SEPARATOR);return ne[0]===""&&ne.length!==1&&ne.shift(),getGroupRecursive(ne,T)||getGroupIdForArbitraryProperty(te)},getConflictingClassGroupIds:(te,ne)=>{const ie=A[te]||[];return ne&&L[te]?[...ie,...L[te]]:ie}}},getGroupRecursive=(P,T)=>{var te;if(P.length===0)return T.classGroupId;const A=P[0],L=T.nextPart.get(A),U=L?getGroupRecursive(P.slice(1),L):void 0;if(U)return U;if(T.validators.length===0)return;const W=P.join(CLASS_PART_SEPARATOR);return(te=T.validators.find(({validator:ne})=>ne(W)))==null?void 0:te.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=P=>{if(arbitraryPropertyRegex.test(P)){const T=arbitraryPropertyRegex.exec(P)[1],A=T==null?void 0:T.substring(0,T.indexOf(":"));if(A)return"arbitrary.."+A}},createClassMap=P=>{const{theme:T,prefix:A}=P,L={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(P.classGroups),A).forEach(([W,te])=>{processClassesRecursively(te,L,W,T)}),L},processClassesRecursively=(P,T,A,L)=>{P.forEach(U=>{if(typeof U=="string"){const W=U===""?T:getPart(T,U);W.classGroupId=A;return}if(typeof U=="function"){if(isThemeGetter(U)){processClassesRecursively(U(L),T,A,L);return}T.validators.push({validator:U,classGroupId:A});return}Object.entries(U).forEach(([W,te])=>{processClassesRecursively(te,getPart(T,W),A,L)})})},getPart=(P,T)=>{let A=P;return T.split(CLASS_PART_SEPARATOR).forEach(L=>{A.nextPart.has(L)||A.nextPart.set(L,{nextPart:new Map,validators:[]}),A=A.nextPart.get(L)}),A},isThemeGetter=P=>P.isThemeGetter,getPrefixedClassGroupEntries=(P,T)=>T?P.map(([A,L])=>{const U=L.map(W=>typeof W=="string"?T+W:typeof W=="object"?Object.fromEntries(Object.entries(W).map(([te,ne])=>[T+te,ne])):W);return[A,U]}):P,createLruCache=P=>{if(P<1)return{get:()=>{},set:()=>{}};let T=0,A=new Map,L=new Map;const U=(W,te)=>{A.set(W,te),T++,T>P&&(T=0,L=A,A=new Map)};return{get(W){let te=A.get(W);if(te!==void 0)return te;if((te=L.get(W))!==void 0)return U(W,te),te},set(W,te){A.has(W)?A.set(W,te):U(W,te)}}},IMPORTANT_MODIFIER="!",createParseClassName=P=>{const{separator:T,experimentalParseClassName:A}=P,L=T.length===1,U=T[0],W=T.length,te=ne=>{const ie=[];let oe=0,ae=0,ce;for(let de=0;de<ne.length;de++){let me=ne[de];if(oe===0){if(me===U&&(L||ne.slice(de,de+W)===T)){ie.push(ne.slice(ae,de)),ae=de+W;continue}if(me==="/"){ce=de;continue}}me==="["?oe++:me==="]"&&oe--}const he=ie.length===0?ne:ne.substring(ae),ue=he.startsWith(IMPORTANT_MODIFIER),pe=ue?he.substring(1):he,ge=ce&&ce>ae?ce-ae:void 0;return{modifiers:ie,hasImportantModifier:ue,baseClassName:pe,maybePostfixModifierPosition:ge}};return A?ne=>A({className:ne,parseClassName:te}):te},sortModifiers=P=>{if(P.length<=1)return P;const T=[];let A=[];return P.forEach(L=>{L[0]==="["?(T.push(...A.sort(),L),A=[]):A.push(L)}),T.push(...A.sort()),T},createConfigUtils=P=>({cache:createLruCache(P.cacheSize),parseClassName:createParseClassName(P),...createClassGroupUtils(P)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(P,T)=>{const{parseClassName:A,getClassGroupId:L,getConflictingClassGroupIds:U}=T,W=[],te=P.trim().split(SPLIT_CLASSES_REGEX);let ne="";for(let ie=te.length-1;ie>=0;ie-=1){const oe=te[ie],{modifiers:ae,hasImportantModifier:ce,baseClassName:he,maybePostfixModifierPosition:ue}=A(oe);let pe=!!ue,ge=L(pe?he.substring(0,ue):he);if(!ge){if(!pe){ne=oe+(ne.length>0?" "+ne:ne);continue}if(ge=L(he),!ge){ne=oe+(ne.length>0?" "+ne:ne);continue}pe=!1}const de=sortModifiers(ae).join(":"),me=ce?de+IMPORTANT_MODIFIER:de,ye=me+ge;if(W.includes(ye))continue;W.push(ye);const xe=U(ge,pe);for(let Se=0;Se<xe.length;++Se){const Te=xe[Se];W.push(me+Te)}ne=oe+(ne.length>0?" "+ne:ne)}return ne};function twJoin(){let P=0,T,A,L="";for(;P<arguments.length;)(T=arguments[P++])&&(A=toValue(T))&&(L&&(L+=" "),L+=A);return L}const toValue=P=>{if(typeof P=="string")return P;let T,A="";for(let L=0;L<P.length;L++)P[L]&&(T=toValue(P[L]))&&(A&&(A+=" "),A+=T);return A};function createTailwindMerge(P,...T){let A,L,U,W=te;function te(ie){const oe=T.reduce((ae,ce)=>ce(ae),P());return A=createConfigUtils(oe),L=A.cache.get,U=A.cache.set,W=ne,ne(ie)}function ne(ie){const oe=L(ie);if(oe)return oe;const ae=mergeClassList(ie,A);return U(ie,ae),ae}return function(){return W(twJoin.apply(null,arguments))}}const fromTheme=P=>{const T=A=>A[P]||[];return T.isThemeGetter=!0,T},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=P=>isNumber(P)||stringLengths.has(P)||fractionRegex.test(P),isArbitraryLength=P=>getIsArbitraryValue(P,"length",isLengthOnly),isNumber=P=>!!P&&!Number.isNaN(Number(P)),isArbitraryNumber=P=>getIsArbitraryValue(P,"number",isNumber),isInteger=P=>!!P&&Number.isInteger(Number(P)),isPercent=P=>P.endsWith("%")&&isNumber(P.slice(0,-1)),isArbitraryValue=P=>arbitraryValueRegex.test(P),isTshirtSize=P=>tshirtUnitRegex.test(P),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=P=>getIsArbitraryValue(P,sizeLabels,isNever),isArbitraryPosition=P=>getIsArbitraryValue(P,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=P=>getIsArbitraryValue(P,imageLabels,isImage),isArbitraryShadow=P=>getIsArbitraryValue(P,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(P,T,A)=>{const L=arbitraryValueRegex.exec(P);return L?L[1]?typeof T=="string"?L[1]===T:T.has(L[1]):A(L[2]):!1},isLengthOnly=P=>lengthUnitRegex.test(P)&&!colorFunctionRegex.test(P),isNever=()=>!1,isShadow=P=>shadowRegex.test(P),isImage=P=>imageRegex.test(P),getDefaultConfig=()=>{const P=fromTheme("colors"),T=fromTheme("spacing"),A=fromTheme("blur"),L=fromTheme("brightness"),U=fromTheme("borderColor"),W=fromTheme("borderRadius"),te=fromTheme("borderSpacing"),ne=fromTheme("borderWidth"),ie=fromTheme("contrast"),oe=fromTheme("grayscale"),ae=fromTheme("hueRotate"),ce=fromTheme("invert"),he=fromTheme("gap"),ue=fromTheme("gradientColorStops"),pe=fromTheme("gradientColorStopPositions"),ge=fromTheme("inset"),de=fromTheme("margin"),me=fromTheme("opacity"),ye=fromTheme("padding"),xe=fromTheme("saturate"),Se=fromTheme("scale"),Te=fromTheme("sepia"),be=fromTheme("skew"),Pe=fromTheme("space"),Ie=fromTheme("translate"),De=()=>["auto","contain","none"],we=()=>["auto","hidden","clip","visible","scroll"],Fe=()=>["auto",isArbitraryValue,T],Ge=()=>[isArbitraryValue,T],He=()=>["",isLength,isArbitraryLength],je=()=>["auto",isNumber,isArbitraryValue],qe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ye=()=>["solid","dashed","dotted","double","none"],Ct=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Re=()=>["start","end","center","between","around","evenly","stretch"],Oe=()=>["","0",isArbitraryValue],ze=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ne=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Ne(),borderColor:[P],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Ge(),borderWidth:He(),contrast:Ne(),grayscale:Oe(),hueRotate:Ne(),invert:Oe(),gap:Ge(),gradientColorStops:[P],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Fe(),margin:Fe(),opacity:Ne(),padding:Ge(),saturate:Ne(),scale:Ne(),sepia:Oe(),skew:Ne(),space:Ge(),translate:Ge()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":ze()}],"break-before":[{"break-before":ze()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...qe(),isArbitraryValue]}],overflow:[{overflow:we()}],"overflow-x":[{"overflow-x":we()}],"overflow-y":[{"overflow-y":we()}],overscroll:[{overscroll:De()}],"overscroll-x":[{"overscroll-x":De()}],"overscroll-y":[{"overscroll-y":De()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[ge]}],"inset-x":[{"inset-x":[ge]}],"inset-y":[{"inset-y":[ge]}],start:[{start:[ge]}],end:[{end:[ge]}],top:[{top:[ge]}],right:[{right:[ge]}],bottom:[{bottom:[ge]}],left:[{left:[ge]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Fe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Oe()}],shrink:[{shrink:Oe()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":je()}],"col-end":[{"col-end":je()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":je()}],"row-end":[{"row-end":je()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[he]}],"gap-x":[{"gap-x":[he]}],"gap-y":[{"gap-y":[he]}],"justify-content":[{justify:["normal",...Re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ye]}],px:[{px:[ye]}],py:[{py:[ye]}],ps:[{ps:[ye]}],pe:[{pe:[ye]}],pt:[{pt:[ye]}],pr:[{pr:[ye]}],pb:[{pb:[ye]}],pl:[{pl:[ye]}],m:[{m:[de]}],mx:[{mx:[de]}],my:[{my:[de]}],ms:[{ms:[de]}],me:[{me:[de]}],mt:[{mt:[de]}],mr:[{mr:[de]}],mb:[{mb:[de]}],ml:[{ml:[de]}],"space-x":[{"space-x":[Pe]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Pe]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,T]}],"min-w":[{"min-w":[isArbitraryValue,T,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,T,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,T,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,T,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,T,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,T,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[P]}],"placeholder-opacity":[{"placeholder-opacity":[me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[P]}],"text-opacity":[{"text-opacity":[me]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[P]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Ge()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[me]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...qe(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[P]}],"gradient-from-pos":[{from:[pe]}],"gradient-via-pos":[{via:[pe]}],"gradient-to-pos":[{to:[pe]}],"gradient-from":[{from:[ue]}],"gradient-via":[{via:[ue]}],"gradient-to":[{to:[ue]}],rounded:[{rounded:[W]}],"rounded-s":[{"rounded-s":[W]}],"rounded-e":[{"rounded-e":[W]}],"rounded-t":[{"rounded-t":[W]}],"rounded-r":[{"rounded-r":[W]}],"rounded-b":[{"rounded-b":[W]}],"rounded-l":[{"rounded-l":[W]}],"rounded-ss":[{"rounded-ss":[W]}],"rounded-se":[{"rounded-se":[W]}],"rounded-ee":[{"rounded-ee":[W]}],"rounded-es":[{"rounded-es":[W]}],"rounded-tl":[{"rounded-tl":[W]}],"rounded-tr":[{"rounded-tr":[W]}],"rounded-br":[{"rounded-br":[W]}],"rounded-bl":[{"rounded-bl":[W]}],"border-w":[{border:[ne]}],"border-w-x":[{"border-x":[ne]}],"border-w-y":[{"border-y":[ne]}],"border-w-s":[{"border-s":[ne]}],"border-w-e":[{"border-e":[ne]}],"border-w-t":[{"border-t":[ne]}],"border-w-r":[{"border-r":[ne]}],"border-w-b":[{"border-b":[ne]}],"border-w-l":[{"border-l":[ne]}],"border-opacity":[{"border-opacity":[me]}],"border-style":[{border:[...Ye(),"hidden"]}],"divide-x":[{"divide-x":[ne]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[ne]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[me]}],"divide-style":[{divide:Ye()}],"border-color":[{border:[U]}],"border-color-x":[{"border-x":[U]}],"border-color-y":[{"border-y":[U]}],"border-color-s":[{"border-s":[U]}],"border-color-e":[{"border-e":[U]}],"border-color-t":[{"border-t":[U]}],"border-color-r":[{"border-r":[U]}],"border-color-b":[{"border-b":[U]}],"border-color-l":[{"border-l":[U]}],"divide-color":[{divide:[U]}],"outline-style":[{outline:["",...Ye()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[P]}],"ring-w":[{ring:He()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[P]}],"ring-opacity":[{"ring-opacity":[me]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[P]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[me]}],"mix-blend":[{"mix-blend":[...Ct(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ct()}],filter:[{filter:["","none"]}],blur:[{blur:[A]}],brightness:[{brightness:[L]}],contrast:[{contrast:[ie]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[oe]}],"hue-rotate":[{"hue-rotate":[ae]}],invert:[{invert:[ce]}],saturate:[{saturate:[xe]}],sepia:[{sepia:[Te]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[A]}],"backdrop-brightness":[{"backdrop-brightness":[L]}],"backdrop-contrast":[{"backdrop-contrast":[ie]}],"backdrop-grayscale":[{"backdrop-grayscale":[oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ae]}],"backdrop-invert":[{"backdrop-invert":[ce]}],"backdrop-opacity":[{"backdrop-opacity":[me]}],"backdrop-saturate":[{"backdrop-saturate":[xe]}],"backdrop-sepia":[{"backdrop-sepia":[Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[te]}],"border-spacing-x":[{"border-spacing-x":[te]}],"border-spacing-y":[{"border-spacing-y":[te]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Ne()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Se]}],"scale-x":[{"scale-x":[Se]}],"scale-y":[{"scale-y":[Se]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Ie]}],"translate-y":[{"translate-y":[Ie]}],"skew-x":[{"skew-x":[be]}],"skew-y":[{"skew-y":[be]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",P]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[P]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Ge()}],"scroll-mx":[{"scroll-mx":Ge()}],"scroll-my":[{"scroll-my":Ge()}],"scroll-ms":[{"scroll-ms":Ge()}],"scroll-me":[{"scroll-me":Ge()}],"scroll-mt":[{"scroll-mt":Ge()}],"scroll-mr":[{"scroll-mr":Ge()}],"scroll-mb":[{"scroll-mb":Ge()}],"scroll-ml":[{"scroll-ml":Ge()}],"scroll-p":[{"scroll-p":Ge()}],"scroll-px":[{"scroll-px":Ge()}],"scroll-py":[{"scroll-py":Ge()}],"scroll-ps":[{"scroll-ps":Ge()}],"scroll-pe":[{"scroll-pe":Ge()}],"scroll-pt":[{"scroll-pt":Ge()}],"scroll-pr":[{"scroll-pr":Ge()}],"scroll-pb":[{"scroll-pb":Ge()}],"scroll-pl":[{"scroll-pl":Ge()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[P,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[P,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...P){return twMerge(clsx(P))}function Marquee({className:P,reverse:T=!1,pauseOnHover:A=!1,children:L,vertical:U=!1,repeat:W=4,...te}){return jsxRuntimeExports.jsx("div",{...te,className:cn("group flex overflow-hidden p-2 [--duration:40s] [--gap:1rem] [gap:var(--gap)]",{"flex-row":!U,"flex-col":U},P),children:Array(W).fill(0).map((ne,ie)=>jsxRuntimeExports.jsx("div",{className:cn("flex shrink-0 justify-around [gap:var(--gap)]",{"animate-marquee flex-row":!U,"animate-marquee-vertical flex-col":U,"group-hover:[animation-play-state:paused]":A,"[animation-direction:reverse]":T}),children:L},ie))})}const Text_Marquee_Outline="/portfolio_nikolasguedes/assets/text_marque_outline-PqtLeoSo.png",Text_Marquee="/portfolio_nikolasguedes/assets/text_marque-B7b_kemM.png",Tunel_Grid="/portfolio_nikolasguedes/assets/tunel_grid-Bxo5PzsH.png",Green_Dot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF+SURBVHgBtZbhTcJQFIXPfZr4tyPgBjgBMIGOUCEx8ZduIG4gf02AsoFOAE5gN7Aj8JeE9HoubQlEWir0nYRA2+R+vefd9w6CCoU6DRxwJ0BHgS6gAW8H+eOY17FAFmPpz6rqSHnx9JmPn3aKVikhcDaRwbAWhICWg875s4X/K0mx6kXymJRCQn1vO1waoM7bl2mZYk3QQ/wHknfwfSZgB7S6KTpyxd3coiYAJq7p1dzWdgvp63iI09agSnQGNjiZXX2d/HiAmGibXDt2EXoCmIIL6C07ch14lEK7hGgbXiUGgWeITZp/bSBLeBYh4hXC0zu2ThbwKGEcGOQLHqXMG5cCH/C0LrQqmTLQXCT3BMgbPIgbMbLvzQizm5Fu0q1JAJJIBq9biHVD73poyDYCWG/VK663m5GgxBLtXFAGWO9F8MGM59jN5YST2SzSYxm/Dxu/8O9OWAeWvb1yeNwoG6R9ybEChIWOccAibckPU80sXbLjhe0Dfj4PFS/0C2+vknyK6jG8AAAAAElFTkSuQmCC";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(P,T){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var U in L)Object.prototype.hasOwnProperty.call(L,U)&&(A[U]=L[U])})(P,T)};function __extends(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function A(){this.constructor=P}extendStatics(P,T),P.prototype=T===null?Object.create(T):(A.prototype=T.prototype,new A)}var __assign=function(){return(__assign=Object.assign||function(P){for(var T,A=1,L=arguments.length;A<L;A++)for(var U in T=arguments[A])Object.prototype.hasOwnProperty.call(T,U)&&(P[U]=T[U]);return P}).apply(this,arguments)};function __awaiter(P,T,A,L){return new(A||(A=Promise))(function(U,W){function te(oe){try{ie(L.next(oe))}catch(ae){W(ae)}}function ne(oe){try{ie(L.throw(oe))}catch(ae){W(ae)}}function ie(oe){var ae;oe.done?U(oe.value):(ae=oe.value,ae instanceof A?ae:new A(function(ce){ce(ae)})).then(te,ne)}ie((L=L.apply(P,[])).next())})}function __generator(P,T){var A,L,U,W,te={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return W={next:ne(0),throw:ne(1),return:ne(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function ne(ie){return function(oe){return function(ae){if(A)throw new TypeError("Generator is already executing.");for(;te;)try{if(A=1,L&&(U=2&ae[0]?L.return:ae[0]?L.throw||((U=L.return)&&U.call(L),0):L.next)&&!(U=U.call(L,ae[1])).done)return U;switch(L=0,U&&(ae=[2&ae[0],U.value]),ae[0]){case 0:case 1:U=ae;break;case 4:return te.label++,{value:ae[1],done:!1};case 5:te.label++,L=ae[1],ae=[0];continue;case 7:ae=te.ops.pop(),te.trys.pop();continue;default:if(U=te.trys,!((U=U.length>0&&U[U.length-1])||ae[0]!==6&&ae[0]!==2)){te=0;continue}if(ae[0]===3&&(!U||ae[1]>U[0]&&ae[1]<U[3])){te.label=ae[1];break}if(ae[0]===6&&te.label<U[1]){te.label=U[1],U=ae;break}if(U&&te.label<U[2]){te.label=U[2],te.ops.push(ae);break}U[2]&&te.ops.pop(),te.trys.pop();continue}ae=T.call(P,te)}catch(ce){ae=[6,ce],L=0}finally{A=U=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ie,oe])}}}function createCommonjsModule(P,T){return P(T={exports:{}},T.exports),T.exports}var lottie=createCommonjsModule(function(module,exports){typeof navigator<"u"&&function(P,T){module.exports=T()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(P){_useWebWorker=!!P},getWebWorker=function(){return _useWebWorker},setLocationHref=function(P){locationHref=P},getLocationHref=function(){return locationHref};function createTag(P){return document.createElement(P)}function extendPrototype(P,T){var A,L,U=P.length;for(A=0;A<U;A+=1)for(var W in L=P[A].prototype)Object.prototype.hasOwnProperty.call(L,W)&&(T.prototype[W]=L[W])}function getDescriptor(P,T){return Object.getOwnPropertyDescriptor(P,T)}function createProxyFunction(P){function T(){}return T.prototype=P,T}var audioControllerFactory=function(){function P(T){this.audios=[],this.audioFactory=T,this._volume=1,this._isMuted=!1}return P.prototype={addAudio:function(T){this.audios.push(T)},pause:function(){var T,A=this.audios.length;for(T=0;T<A;T+=1)this.audios[T].pause()},resume:function(){var T,A=this.audios.length;for(T=0;T<A;T+=1)this.audios[T].resume()},setRate:function(T){var A,L=this.audios.length;for(A=0;A<L;A+=1)this.audios[A].setRate(T)},createAudio:function(T){return this.audioFactory?this.audioFactory(T):window.Howl?new window.Howl({src:[T]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(T){this.audioFactory=T},setVolume:function(T){this._volume=T,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var T,A=this.audios.length;for(T=0;T<A;T+=1)this.audios[T].volume(this._volume*(this._isMuted?0:1))}},function(){return new P}}(),createTypedArray=function(){function P(T,A){var L,U=0,W=[];switch(T){case"int16":case"uint8c":L=1;break;default:L=1.1}for(U=0;U<A;U+=1)W.push(L);return W}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(T,A){return T==="float32"?new Float32Array(A):T==="int16"?new Int16Array(A):T==="uint8c"?new Uint8ClampedArray(A):P(T,A)}:P}();function createSizedArray(P){return Array.apply(null,{length:P})}function _typeof$6(P){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var P,T=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],A=T.length;for(P=0;P<A;P+=1)BMMath[T[P]]=Math[T[P]]})(),BMMath.random=Math.random,BMMath.abs=function(P){if(_typeof$6(P)==="object"&&P.length){var T,A=createSizedArray(P.length),L=P.length;for(T=0;T<L;T+=1)A[T]=Math.abs(P[T]);return A}return Math.abs(P)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(P){P.style.position="absolute",P.style.top=0,P.style.left=0,P.style.display="block",P.style.transformOrigin="0 0",P.style.webkitTransformOrigin="0 0",P.style.backfaceVisibility="visible",P.style.webkitBackfaceVisibility="visible",P.style.transformStyle="preserve-3d",P.style.webkitTransformStyle="preserve-3d",P.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(P,T,A,L){this.type=P,this.currentTime=T,this.totalTime=A,this.direction=L<0?-1:1}function BMCompleteEvent(P,T){this.type=P,this.direction=T<0?-1:1}function BMCompleteLoopEvent(P,T,A,L){this.type=P,this.currentLoop=A,this.totalLoops=T,this.direction=L<0?-1:1}function BMSegmentStartEvent(P,T,A){this.type=P,this.firstFrame=T,this.totalFrames=A}function BMDestroyEvent(P,T){this.type=P,this.target=T}function BMRenderFrameErrorEvent(P,T){this.type="renderFrameError",this.nativeError=P,this.currentTime=T}function BMConfigErrorEvent(P){this.type="configError",this.nativeError=P}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(P,T,A){var L,U,W,te,ne,ie,oe,ae;switch(ie=A*(1-T),oe=A*(1-(ne=6*P-(te=Math.floor(6*P)))*T),ae=A*(1-(1-ne)*T),te%6){case 0:L=A,U=ae,W=ie;break;case 1:L=oe,U=A,W=ie;break;case 2:L=ie,U=A,W=ae;break;case 3:L=ie,U=oe,W=A;break;case 4:L=ae,U=ie,W=A;break;case 5:L=A,U=ie,W=oe}return[L,U,W]}function RGBtoHSV(P,T,A){var L,U=Math.max(P,T,A),W=Math.min(P,T,A),te=U-W,ne=U===0?0:te/U,ie=U/255;switch(U){case W:L=0;break;case P:L=T-A+te*(T<A?6:0),L/=6*te;break;case T:L=A-P+2*te,L/=6*te;break;case A:L=P-T+4*te,L/=6*te}return[L,ne,ie]}function addSaturationToRGB(P,T){var A=RGBtoHSV(255*P[0],255*P[1],255*P[2]);return A[1]+=T,A[1]>1?A[1]=1:A[1]<=0&&(A[1]=0),HSVtoRGB(A[0],A[1],A[2])}function addBrightnessToRGB(P,T){var A=RGBtoHSV(255*P[0],255*P[1],255*P[2]);return A[2]+=T,A[2]>1?A[2]=1:A[2]<0&&(A[2]=0),HSVtoRGB(A[0],A[1],A[2])}function addHueToRGB(P,T){var A=RGBtoHSV(255*P[0],255*P[1],255*P[2]);return A[0]+=T/360,A[0]>1?A[0]-=1:A[0]<0&&(A[0]+=1),HSVtoRGB(A[0],A[1],A[2])}var rgbToHex=function(){var P,T,A=[];for(P=0;P<256;P+=1)T=P.toString(16),A[P]=T.length===1?"0"+T:T;return function(L,U,W){return L<0&&(L=0),U<0&&(U=0),W<0&&(W=0),"#"+A[L]+A[U]+A[W]}}(),setSubframeEnabled=function(P){subframeEnabled=!!P},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(P){expressionsPlugin=P},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(P){expressionsInterfaces=P},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(P){defaultCurveSegments=P},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(P){idPrefix$1=P};function createNS(P){return document.createElementNS(svgNS,P)}function _typeof$5(P){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}var dataManager=function(){var P,T,A=1,L=[],U={onmessage:function(){},postMessage:function(ie){P({data:ie})}},W={postMessage:function(ie){U.onmessage({data:ie})}};function te(){T||((T=function(ie){if(window.Worker&&window.Blob&&getWebWorker()){var oe=new Blob(["var _workerSelf = self; self.onmessage = ",ie.toString()],{type:"text/javascript"}),ae=URL.createObjectURL(oe);return new Worker(ae)}return P=ie,U}(function(ie){if(W.dataManager||(W.dataManager=function(){function ae(Pe,Ie){var De,we,Fe,Ge,He,je,qe=Pe.length;for(we=0;we<qe;we+=1)if("ks"in(De=Pe[we])&&!De.completed){if(De.completed=!0,De.hasMask){var Ye=De.masksProperties;for(Ge=Ye.length,Fe=0;Fe<Ge;Fe+=1)if(Ye[Fe].pt.k.i)ue(Ye[Fe].pt.k);else for(je=Ye[Fe].pt.k.length,He=0;He<je;He+=1)Ye[Fe].pt.k[He].s&&ue(Ye[Fe].pt.k[He].s[0]),Ye[Fe].pt.k[He].e&&ue(Ye[Fe].pt.k[He].e[0])}De.ty===0?(De.layers=ce(De.refId,Ie),ae(De.layers,Ie)):De.ty===4?he(De.shapes):De.ty===5&&Te(De)}}function ce(Pe,Ie){var De=function(we,Fe){for(var Ge=0,He=Fe.length;Ge<He;){if(Fe[Ge].id===we)return Fe[Ge];Ge+=1}return null}(Pe,Ie);return De?De.layers.__used?JSON.parse(JSON.stringify(De.layers)):(De.layers.__used=!0,De.layers):null}function he(Pe){var Ie,De,we;for(Ie=Pe.length-1;Ie>=0;Ie-=1)if(Pe[Ie].ty==="sh")if(Pe[Ie].ks.k.i)ue(Pe[Ie].ks.k);else for(we=Pe[Ie].ks.k.length,De=0;De<we;De+=1)Pe[Ie].ks.k[De].s&&ue(Pe[Ie].ks.k[De].s[0]),Pe[Ie].ks.k[De].e&&ue(Pe[Ie].ks.k[De].e[0]);else Pe[Ie].ty==="gr"&&he(Pe[Ie].it)}function ue(Pe){var Ie,De=Pe.i.length;for(Ie=0;Ie<De;Ie+=1)Pe.i[Ie][0]+=Pe.v[Ie][0],Pe.i[Ie][1]+=Pe.v[Ie][1],Pe.o[Ie][0]+=Pe.v[Ie][0],Pe.o[Ie][1]+=Pe.v[Ie][1]}function pe(Pe,Ie){var De=Ie?Ie.split("."):[100,100,100];return Pe[0]>De[0]||!(De[0]>Pe[0])&&(Pe[1]>De[1]||!(De[1]>Pe[1])&&(Pe[2]>De[2]||!(De[2]>Pe[2])&&null))}var ge,de=function(){var Pe=[4,4,14];function Ie(De){var we,Fe,Ge,He=De.length;for(we=0;we<He;we+=1)De[we].ty===5&&(Fe=De[we],Ge=void 0,Ge=Fe.t.d,Fe.t.d={k:[{s:Ge,t:0}]})}return function(De){if(pe(Pe,De.v)&&(Ie(De.layers),De.assets)){var we,Fe=De.assets.length;for(we=0;we<Fe;we+=1)De.assets[we].layers&&Ie(De.assets[we].layers)}}}(),me=(ge=[4,7,99],function(Pe){if(Pe.chars&&!pe(ge,Pe.v)){var Ie,De=Pe.chars.length;for(Ie=0;Ie<De;Ie+=1){var we=Pe.chars[Ie];we.data&&we.data.shapes&&(he(we.data.shapes),we.data.ip=0,we.data.op=99999,we.data.st=0,we.data.sr=1,we.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Pe.chars[Ie].t||(we.data.shapes.push({ty:"no"}),we.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),ye=function(){var Pe=[5,7,15];function Ie(De){var we,Fe,Ge,He=De.length;for(we=0;we<He;we+=1)De[we].ty===5&&(Fe=De[we],Ge=void 0,typeof(Ge=Fe.t.p).a=="number"&&(Ge.a={a:0,k:Ge.a}),typeof Ge.p=="number"&&(Ge.p={a:0,k:Ge.p}),typeof Ge.r=="number"&&(Ge.r={a:0,k:Ge.r}))}return function(De){if(pe(Pe,De.v)&&(Ie(De.layers),De.assets)){var we,Fe=De.assets.length;for(we=0;we<Fe;we+=1)De.assets[we].layers&&Ie(De.assets[we].layers)}}}(),xe=function(){var Pe=[4,1,9];function Ie(we){var Fe,Ge,He,je=we.length;for(Fe=0;Fe<je;Fe+=1)if(we[Fe].ty==="gr")Ie(we[Fe].it);else if(we[Fe].ty==="fl"||we[Fe].ty==="st")if(we[Fe].c.k&&we[Fe].c.k[0].i)for(He=we[Fe].c.k.length,Ge=0;Ge<He;Ge+=1)we[Fe].c.k[Ge].s&&(we[Fe].c.k[Ge].s[0]/=255,we[Fe].c.k[Ge].s[1]/=255,we[Fe].c.k[Ge].s[2]/=255,we[Fe].c.k[Ge].s[3]/=255),we[Fe].c.k[Ge].e&&(we[Fe].c.k[Ge].e[0]/=255,we[Fe].c.k[Ge].e[1]/=255,we[Fe].c.k[Ge].e[2]/=255,we[Fe].c.k[Ge].e[3]/=255);else we[Fe].c.k[0]/=255,we[Fe].c.k[1]/=255,we[Fe].c.k[2]/=255,we[Fe].c.k[3]/=255}function De(we){var Fe,Ge=we.length;for(Fe=0;Fe<Ge;Fe+=1)we[Fe].ty===4&&Ie(we[Fe].shapes)}return function(we){if(pe(Pe,we.v)&&(De(we.layers),we.assets)){var Fe,Ge=we.assets.length;for(Fe=0;Fe<Ge;Fe+=1)we.assets[Fe].layers&&De(we.assets[Fe].layers)}}}(),Se=function(){var Pe=[4,4,18];function Ie(we){var Fe,Ge,He;for(Fe=we.length-1;Fe>=0;Fe-=1)if(we[Fe].ty==="sh")if(we[Fe].ks.k.i)we[Fe].ks.k.c=we[Fe].closed;else for(He=we[Fe].ks.k.length,Ge=0;Ge<He;Ge+=1)we[Fe].ks.k[Ge].s&&(we[Fe].ks.k[Ge].s[0].c=we[Fe].closed),we[Fe].ks.k[Ge].e&&(we[Fe].ks.k[Ge].e[0].c=we[Fe].closed);else we[Fe].ty==="gr"&&Ie(we[Fe].it)}function De(we){var Fe,Ge,He,je,qe,Ye,Ct=we.length;for(Ge=0;Ge<Ct;Ge+=1){if((Fe=we[Ge]).hasMask){var Re=Fe.masksProperties;for(je=Re.length,He=0;He<je;He+=1)if(Re[He].pt.k.i)Re[He].pt.k.c=Re[He].cl;else for(Ye=Re[He].pt.k.length,qe=0;qe<Ye;qe+=1)Re[He].pt.k[qe].s&&(Re[He].pt.k[qe].s[0].c=Re[He].cl),Re[He].pt.k[qe].e&&(Re[He].pt.k[qe].e[0].c=Re[He].cl)}Fe.ty===4&&Ie(Fe.shapes)}}return function(we){if(pe(Pe,we.v)&&(De(we.layers),we.assets)){var Fe,Ge=we.assets.length;for(Fe=0;Fe<Ge;Fe+=1)we.assets[Fe].layers&&De(we.assets[Fe].layers)}}}();function Te(Pe){Pe.t.a.length===0&&Pe.t.p}var be={completeData:function(Pe){Pe.__complete||(xe(Pe),de(Pe),me(Pe),ye(Pe),Se(Pe),ae(Pe.layers,Pe.assets),function(Ie,De){if(Ie){var we=0,Fe=Ie.length;for(we=0;we<Fe;we+=1)Ie[we].t===1&&(Ie[we].data.layers=ce(Ie[we].data.refId,De),ae(Ie[we].data.layers,De))}}(Pe.chars,Pe.assets),Pe.__complete=!0)}};return be.checkColors=xe,be.checkChars=me,be.checkPathProperties=ye,be.checkShapes=Se,be.completeLayers=ae,be}()),W.assetLoader||(W.assetLoader=function(){function ae(ce){var he=ce.getResponseHeader("content-type");return he&&ce.responseType==="json"&&he.indexOf("json")!==-1||ce.response&&_typeof$5(ce.response)==="object"?ce.response:ce.response&&typeof ce.response=="string"?JSON.parse(ce.response):ce.responseText?JSON.parse(ce.responseText):null}return{load:function(ce,he,ue,pe){var ge,de=new XMLHttpRequest;try{de.responseType="json"}catch{}de.onreadystatechange=function(){if(de.readyState===4)if(de.status===200)ge=ae(de),ue(ge);else try{ge=ae(de),ue(ge)}catch(me){pe&&pe(me)}};try{de.open(["G","E","T"].join(""),ce,!0)}catch{de.open(["G","E","T"].join(""),he+"/"+ce,!0)}de.send()}}}()),ie.data.type==="loadAnimation")W.assetLoader.load(ie.data.path,ie.data.fullPath,function(ae){W.dataManager.completeData(ae),W.postMessage({id:ie.data.id,payload:ae,status:"success"})},function(){W.postMessage({id:ie.data.id,status:"error"})});else if(ie.data.type==="complete"){var oe=ie.data.animation;W.dataManager.completeData(oe),W.postMessage({id:ie.data.id,payload:oe,status:"success"})}else ie.data.type==="loadData"&&W.assetLoader.load(ie.data.path,ie.data.fullPath,function(ae){W.postMessage({id:ie.data.id,payload:ae,status:"success"})},function(){W.postMessage({id:ie.data.id,status:"error"})})})).onmessage=function(ie){var oe=ie.data,ae=oe.id,ce=L[ae];L[ae]=null,oe.status==="success"?ce.onComplete(oe.payload):ce.onError&&ce.onError()})}function ne(ie,oe){var ae="processId_"+(A+=1);return L[ae]={onComplete:ie,onError:oe},ae}return{loadAnimation:function(ie,oe,ae){te();var ce=ne(oe,ae);T.postMessage({type:"loadAnimation",path:ie,fullPath:window.location.origin+window.location.pathname,id:ce})},loadData:function(ie,oe,ae){te();var ce=ne(oe,ae);T.postMessage({type:"loadData",path:ie,fullPath:window.location.origin+window.location.pathname,id:ce})},completeAnimation:function(ie,oe,ae){te();var ce=ne(oe,ae);T.postMessage({type:"complete",animation:ie,id:ce})}}}(),ImagePreloader=function(){var P=function(){var ne=createTag("canvas");ne.width=1,ne.height=1;var ie=ne.getContext("2d");return ie.fillStyle="rgba(0,0,0,0)",ie.fillRect(0,0,1,1),ne}();function T(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function A(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function L(ne,ie,oe){var ae="";if(ne.e)ae=ne.p;else if(ie){var ce=ne.p;ce.indexOf("images/")!==-1&&(ce=ce.split("/")[1]),ae=ie+ce}else ae=oe,ae+=ne.u?ne.u:"",ae+=ne.p;return ae}function U(ne){var ie=0,oe=setInterval((function(){(ne.getBBox().width||ie>500)&&(this._imageLoaded(),clearInterval(oe)),ie+=1}).bind(this),50)}function W(ne){var ie={assetData:ne},oe=L(ne,this.assetsPath,this.path);return dataManager.loadData(oe,(function(ae){ie.img=ae,this._footageLoaded()}).bind(this),(function(){ie.img={},this._footageLoaded()}).bind(this)),ie}function te(){this._imageLoaded=T.bind(this),this._footageLoaded=A.bind(this),this.testImageLoaded=U.bind(this),this.createFootageData=W.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return te.prototype={loadAssets:function(ne,ie){var oe;this.imagesLoadedCb=ie;var ae=ne.length;for(oe=0;oe<ae;oe+=1)ne[oe].layers||(ne[oe].t&&ne[oe].t!=="seq"?ne[oe].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ne[oe]))):(this.totalImages+=1,this.images.push(this._createImageData(ne[oe]))))},setAssetsPath:function(ne){this.assetsPath=ne||""},setPath:function(ne){this.path=ne||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(ne){for(var ie=0,oe=this.images.length;ie<oe;){if(this.images[ie].assetData===ne)return this.images[ie].img;ie+=1}return null},createImgData:function(ne){var ie=L(ne,this.assetsPath,this.path),oe=createTag("img");oe.crossOrigin="anonymous",oe.addEventListener("load",this._imageLoaded,!1),oe.addEventListener("error",(function(){ae.img=P,this._imageLoaded()}).bind(this),!1),oe.src=ie;var ae={img:oe,assetData:ne};return ae},createImageData:function(ne){var ie=L(ne,this.assetsPath,this.path),oe=createNS("image");isSafari?this.testImageLoaded(oe):oe.addEventListener("load",this._imageLoaded,!1),oe.addEventListener("error",(function(){ae.img=P,this._imageLoaded()}).bind(this),!1),oe.setAttributeNS("http://www.w3.org/1999/xlink","href",ie),this._elementHelper.append?this._elementHelper.append(oe):this._elementHelper.appendChild(oe);var ae={img:oe,assetData:ne};return ae},imageLoaded:T,footageLoaded:A,setCacheType:function(ne,ie){ne==="svg"?(this._elementHelper=ie,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},te}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(P,T){if(this._cbs[P])for(var A=this._cbs[P],L=0;L<A.length;L+=1)A[L](T)},addEventListener:function(P,T){return this._cbs[P]||(this._cbs[P]=[]),this._cbs[P].push(T),(function(){this.removeEventListener(P,T)}).bind(this)},removeEventListener:function(P,T){if(T){if(this._cbs[P]){for(var A=0,L=this._cbs[P].length;A<L;)this._cbs[P][A]===T&&(this._cbs[P].splice(A,1),A-=1,L-=1),A+=1;this._cbs[P].length||(this._cbs[P]=null)}}else this._cbs[P]=null}};var markerParser=function(){function P(T){for(var A,L=T.split(`\r
`),U={},W=0,te=0;te<L.length;te+=1)(A=L[te].split(":")).length===2&&(U[A[0]]=A[1].trim(),W+=1);if(W===0)throw new Error;return U}return function(T){for(var A=[],L=0;L<T.length;L+=1){var U=T[L],W={time:U.tm,duration:U.dr};try{W.payload=JSON.parse(T[L].cm)}catch{try{W.payload=P(T[L].cm)}catch{W.payload={name:T[L].cm}}}A.push(W)}return A}}(),ProjectInterface=function(){function P(T){this.compositions.push(T)}return function(){function T(A){for(var L=0,U=this.compositions.length;L<U;){if(this.compositions[L].data&&this.compositions[L].data.nm===A)return this.compositions[L].prepareFrame&&this.compositions[L].data.xt&&this.compositions[L].prepareFrame(this.currentFrame),this.compositions[L].compInterface;L+=1}return null}return T.compositions=[],T.currentFrame=0,T.registerComposition=P,T}}(),renderers={},registerRenderer=function(P,T){renderers[P]=T};function getRenderer(P){return renderers[P]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var P in renderers)if(renderers[P])return P;return""}function _typeof$4(P){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(P){(P.wrapper||P.container)&&(this.wrapper=P.wrapper||P.container);var T="svg";P.animType?T=P.animType:P.renderer&&(T=P.renderer);var A=getRenderer(T);this.renderer=new A(this,P.rendererSettings),this.imagePreloader.setCacheType(T,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=T,P.loop===""||P.loop===null||P.loop===void 0||P.loop===!0?this.loop=!0:P.loop===!1?this.loop=!1:this.loop=parseInt(P.loop,10),this.autoplay=!("autoplay"in P)||P.autoplay,this.name=P.name?P.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(P,"autoloadSegments")||P.autoloadSegments,this.assetsPath=P.assetsPath,this.initialSegment=P.initialSegment,P.audioFactory&&this.audioController.setAudioFactory(P.audioFactory),P.animationData?this.setupAnimation(P.animationData):P.path&&(P.path.lastIndexOf("\\")!==-1?this.path=P.path.substr(0,P.path.lastIndexOf("\\")+1):this.path=P.path.substr(0,P.path.lastIndexOf("/")+1),this.fileName=P.path.substr(P.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(P.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(P){dataManager.completeAnimation(P,this.configAnimation)},AnimationItem.prototype.setData=function(P,T){T&&_typeof$4(T)!=="object"&&(T=JSON.parse(T));var A={wrapper:P,animationData:T},L=P.attributes;A.path=L.getNamedItem("data-animation-path")?L.getNamedItem("data-animation-path").value:L.getNamedItem("data-bm-path")?L.getNamedItem("data-bm-path").value:L.getNamedItem("bm-path")?L.getNamedItem("bm-path").value:"",A.animType=L.getNamedItem("data-anim-type")?L.getNamedItem("data-anim-type").value:L.getNamedItem("data-bm-type")?L.getNamedItem("data-bm-type").value:L.getNamedItem("bm-type")?L.getNamedItem("bm-type").value:L.getNamedItem("data-bm-renderer")?L.getNamedItem("data-bm-renderer").value:L.getNamedItem("bm-renderer")?L.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var U=L.getNamedItem("data-anim-loop")?L.getNamedItem("data-anim-loop").value:L.getNamedItem("data-bm-loop")?L.getNamedItem("data-bm-loop").value:L.getNamedItem("bm-loop")?L.getNamedItem("bm-loop").value:"";U==="false"?A.loop=!1:U==="true"?A.loop=!0:U!==""&&(A.loop=parseInt(U,10));var W=L.getNamedItem("data-anim-autoplay")?L.getNamedItem("data-anim-autoplay").value:L.getNamedItem("data-bm-autoplay")?L.getNamedItem("data-bm-autoplay").value:!L.getNamedItem("bm-autoplay")||L.getNamedItem("bm-autoplay").value;A.autoplay=W!=="false",A.name=L.getNamedItem("data-name")?L.getNamedItem("data-name").value:L.getNamedItem("data-bm-name")?L.getNamedItem("data-bm-name").value:L.getNamedItem("bm-name")?L.getNamedItem("bm-name").value:"",(L.getNamedItem("data-anim-prerender")?L.getNamedItem("data-anim-prerender").value:L.getNamedItem("data-bm-prerender")?L.getNamedItem("data-bm-prerender").value:L.getNamedItem("bm-prerender")?L.getNamedItem("bm-prerender").value:"")==="false"&&(A.prerender=!1),A.path?this.setParams(A):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(P){P.op>this.animationData.op&&(this.animationData.op=P.op,this.totalFrames=Math.floor(P.op-this.animationData.ip));var T,A,L=this.animationData.layers,U=L.length,W=P.layers,te=W.length;for(A=0;A<te;A+=1)for(T=0;T<U;){if(L[T].id===W[A].id){L[T]=W[A];break}T+=1}if((P.chars||P.fonts)&&(this.renderer.globalData.fontManager.addChars(P.chars),this.renderer.globalData.fontManager.addFonts(P.fonts,this.renderer.globalData.defs)),P.assets)for(U=P.assets.length,T=0;T<U;T+=1)this.animationData.assets.push(P.assets[T]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(P){this.animationData=P;var T=getExpressionsPlugin();T&&T.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var P=this.animationData.segments;if(!P||P.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var T=P.shift();this.timeCompleted=T.time*this.frameRate;var A=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(A,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(P){if(this.renderer)try{this.animationData=P,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(P),P.assets||(P.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(P.assets),this.markers=markerParser(P.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(T){this.triggerConfigError(T)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var P=getExpressionsPlugin();P&&P.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(P,T){var A=typeof P=="number"?P:void 0,L=typeof T=="number"?T:void 0;this.renderer.updateContainerSize(A,L)},AnimationItem.prototype.setSubframe=function(P){this.isSubframeEnabled=!!P},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(P){this.triggerRenderFrameError(P)}},AnimationItem.prototype.play=function(P){P&&this.name!==P||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(P){P&&this.name!==P||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(P){P&&this.name!==P||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(P){P&&this.name!==P||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(P){for(var T,A=0;A<this.markers.length;A+=1)if((T=this.markers[A]).payload&&T.payload.name===P)return T;return null},AnimationItem.prototype.goToAndStop=function(P,T,A){if(!A||this.name===A){var L=Number(P);if(isNaN(L)){var U=this.getMarkerData(P);U&&this.goToAndStop(U.time,!0)}else T?this.setCurrentRawFrameValue(P):this.setCurrentRawFrameValue(P*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(P,T,A){if(!A||this.name===A){var L=Number(P);if(isNaN(L)){var U=this.getMarkerData(P);U&&(U.duration?this.playSegments([U.time,U.time+U.duration],!0):this.goToAndStop(U.time,!0))}else this.goToAndStop(L,T,A);this.play()}},AnimationItem.prototype.advanceTime=function(P){if(this.isPaused!==!0&&this.isLoaded!==!1){var T=this.currentRawFrame+P*this.frameModifier,A=!1;T>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?T>=this.totalFrames?(this.playCount+=1,this.checkSegments(T%this.totalFrames)||(this.setCurrentRawFrameValue(T%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(T):this.checkSegments(T>this.totalFrames?T%this.totalFrames:0)||(A=!0,T=this.totalFrames-1):T<0?this.checkSegments(T%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(A=!0,T=0):(this.setCurrentRawFrameValue(this.totalFrames+T%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(T),A&&(this.setCurrentRawFrameValue(T),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(P,T){this.playCount=0,P[1]<P[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=P[0]-P[1],this.timeCompleted=this.totalFrames,this.firstFrame=P[1],this.setCurrentRawFrameValue(this.totalFrames-.001-T)):P[1]>P[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=P[1]-P[0],this.timeCompleted=this.totalFrames,this.firstFrame=P[0],this.setCurrentRawFrameValue(.001+T)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(P,T){var A=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<P?A=P:this.currentRawFrame+this.firstFrame>T&&(A=T-P)),this.firstFrame=P,this.totalFrames=T-P,this.timeCompleted=this.totalFrames,A!==-1&&this.goToAndStop(A,!0)},AnimationItem.prototype.playSegments=function(P,T){if(T&&(this.segments.length=0),_typeof$4(P[0])==="object"){var A,L=P.length;for(A=0;A<L;A+=1)this.segments.push(P[A])}else this.segments.push(P);this.segments.length&&T&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(P){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),P&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(P){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),P),!0)},AnimationItem.prototype.destroy=function(P){P&&this.name!==P||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(P){this.currentRawFrame=P,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(P){this.playSpeed=P,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(P){this.playDirection=P<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(P){this.loop=P},AnimationItem.prototype.setVolume=function(P,T){T&&this.name!==T||this.audioController.setVolume(P)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(P){P&&this.name!==P||this.audioController.mute()},AnimationItem.prototype.unmute=function(P){P&&this.name!==P||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(P){var T="";if(P.e)T=P.p;else if(this.assetsPath){var A=P.p;A.indexOf("images/")!==-1&&(A=A.split("/")[1]),T=this.assetsPath+A}else T=this.path,T+=P.u?P.u:"",T+=P.p;return T},AnimationItem.prototype.getAssetData=function(P){for(var T=0,A=this.assets.length;T<A;){if(P===this.assets[T].id)return this.assets[T];T+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(P){return P?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(P,T,A){try{this.renderer.getElementByPath(P).updateDocumentData(T,A)}catch{}},AnimationItem.prototype.trigger=function(P){if(this._cbs&&this._cbs[P])switch(P){case"enterFrame":this.triggerEvent(P,new BMEnterFrameEvent(P,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(P,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(P,new BMCompleteLoopEvent(P,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(P,new BMCompleteEvent(P,this.frameMult));break;case"segmentStart":this.triggerEvent(P,new BMSegmentStartEvent(P,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(P,new BMDestroyEvent(P,this));break;default:this.triggerEvent(P)}P==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(P,this.currentFrame,this.totalFrames,this.frameMult)),P==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(P,this.loop,this.playCount,this.frameMult)),P==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(P,this.frameMult)),P==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(P,this.firstFrame,this.totalFrames)),P==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(P,this))},AnimationItem.prototype.triggerRenderFrameError=function(P){var T=new BMRenderFrameErrorEvent(P,this.currentFrame);this.triggerEvent("error",T),this.onError&&this.onError.call(this,T)},AnimationItem.prototype.triggerConfigError=function(P){var T=new BMConfigErrorEvent(P,this.currentFrame);this.triggerEvent("error",T),this.onError&&this.onError.call(this,T)};var animationManager=function(){var P={},T=[],A=0,L=0,U=0,W=!0,te=!1;function ne(ge){for(var de=0,me=ge.target;de<L;)T[de].animation===me&&(T.splice(de,1),de-=1,L-=1,me.isPaused||ae()),de+=1}function ie(ge,de){if(!ge)return null;for(var me=0;me<L;){if(T[me].elem===ge&&T[me].elem!==null)return T[me].animation;me+=1}var ye=new AnimationItem;return ce(ye,ge),ye.setData(ge,de),ye}function oe(){U+=1,pe()}function ae(){U-=1}function ce(ge,de){ge.addEventListener("destroy",ne),ge.addEventListener("_active",oe),ge.addEventListener("_idle",ae),T.push({elem:de,animation:ge}),L+=1}function he(ge){var de,me=ge-A;for(de=0;de<L;de+=1)T[de].animation.advanceTime(me);A=ge,U&&!te?window.requestAnimationFrame(he):W=!0}function ue(ge){A=ge,window.requestAnimationFrame(he)}function pe(){!te&&U&&W&&(window.requestAnimationFrame(ue),W=!1)}return P.registerAnimation=ie,P.loadAnimation=function(ge){var de=new AnimationItem;return ce(de,null),de.setParams(ge),de},P.setSpeed=function(ge,de){var me;for(me=0;me<L;me+=1)T[me].animation.setSpeed(ge,de)},P.setDirection=function(ge,de){var me;for(me=0;me<L;me+=1)T[me].animation.setDirection(ge,de)},P.play=function(ge){var de;for(de=0;de<L;de+=1)T[de].animation.play(ge)},P.pause=function(ge){var de;for(de=0;de<L;de+=1)T[de].animation.pause(ge)},P.stop=function(ge){var de;for(de=0;de<L;de+=1)T[de].animation.stop(ge)},P.togglePause=function(ge){var de;for(de=0;de<L;de+=1)T[de].animation.togglePause(ge)},P.searchAnimations=function(ge,de,me){var ye,xe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Se=xe.length;for(ye=0;ye<Se;ye+=1)me&&xe[ye].setAttribute("data-bm-type",me),ie(xe[ye],ge);if(de&&Se===0){me||(me="svg");var Te=document.getElementsByTagName("body")[0];Te.innerText="";var be=createTag("div");be.style.width="100%",be.style.height="100%",be.setAttribute("data-bm-type",me),Te.appendChild(be),ie(be,ge)}},P.resize=function(){var ge;for(ge=0;ge<L;ge+=1)T[ge].animation.resize()},P.goToAndStop=function(ge,de,me){var ye;for(ye=0;ye<L;ye+=1)T[ye].animation.goToAndStop(ge,de,me)},P.destroy=function(ge){var de;for(de=L-1;de>=0;de-=1)T[de].animation.destroy(ge)},P.freeze=function(){te=!0},P.unfreeze=function(){te=!1,pe()},P.setVolume=function(ge,de){var me;for(me=0;me<L;me+=1)T[me].animation.setVolume(ge,de)},P.mute=function(ge){var de;for(de=0;de<L;de+=1)T[de].animation.mute(ge)},P.unmute=function(ge){var de;for(de=0;de<L;de+=1)T[de].animation.unmute(ge)},P.getRegisteredAnimations=function(){var ge,de=T.length,me=[];for(ge=0;ge<de;ge+=1)me.push(T[ge].animation);return me},P}(),BezierFactory=function(){var P={getBezierEasing:function(oe,ae,ce,he,ue){var pe=ue||("bez_"+oe+"_"+ae+"_"+ce+"_"+he).replace(/\./g,"p");if(T[pe])return T[pe];var ge=new ie([oe,ae,ce,he]);return T[pe]=ge,ge}},T={},A=typeof Float32Array=="function";function L(oe,ae){return 1-3*ae+3*oe}function U(oe,ae){return 3*ae-6*oe}function W(oe){return 3*oe}function te(oe,ae,ce){return((L(ae,ce)*oe+U(ae,ce))*oe+W(ae))*oe}function ne(oe,ae,ce){return 3*L(ae,ce)*oe*oe+2*U(ae,ce)*oe+W(ae)}function ie(oe){this._p=oe,this._mSampleValues=A?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return ie.prototype={get:function(oe){var ae=this._p[0],ce=this._p[1],he=this._p[2],ue=this._p[3];return this._precomputed||this._precompute(),ae===ce&&he===ue?oe:oe===0?0:oe===1?1:te(this._getTForX(oe),ce,ue)},_precompute:function(){var oe=this._p[0],ae=this._p[1],ce=this._p[2],he=this._p[3];this._precomputed=!0,oe===ae&&ce===he||this._calcSampleValues()},_calcSampleValues:function(){for(var oe=this._p[0],ae=this._p[2],ce=0;ce<11;++ce)this._mSampleValues[ce]=te(.1*ce,oe,ae)},_getTForX:function(oe){for(var ae=this._p[0],ce=this._p[2],he=this._mSampleValues,ue=0,pe=1;pe!==10&&he[pe]<=oe;++pe)ue+=.1;var ge=ue+.1*((oe-he[--pe])/(he[pe+1]-he[pe])),de=ne(ge,ae,ce);return de>=.001?function(me,ye,xe,Se){for(var Te=0;Te<4;++Te){var be=ne(ye,xe,Se);if(be===0)return ye;ye-=(te(ye,xe,Se)-me)/be}return ye}(oe,ge,ae,ce):de===0?ge:function(me,ye,xe,Se,Te){var be,Pe,Ie=0;do(be=te(Pe=ye+(xe-ye)/2,Se,Te)-me)>0?xe=Pe:ye=Pe;while(Math.abs(be)>1e-7&&++Ie<10);return Pe}(oe,ue,ue+.1,ae,ce)}},P}(),pooling={double:function(P){return P.concat(createSizedArray(P.length))}},poolFactory=function(P,T,A){var L=0,U=P,W=createSizedArray(U);return{newElement:function(){return L?W[L-=1]:T()},release:function(te){L===U&&(W=pooling.double(W),U*=2),A&&A(te),W[L]=te,L+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(P){var T,A=P.lengths.length;for(T=0;T<A;T+=1)bezierLengthPool.release(P.lengths[T]);P.lengths.length=0});function bezFunction(){var P=Math;function T(oe,ae,ce,he,ue,pe){var ge=oe*he+ae*ue+ce*pe-ue*he-pe*oe-ce*ae;return ge>-.001&&ge<.001}var A=function(oe,ae,ce,he){var ue,pe,ge,de,me,ye,xe=getDefaultCurveSegments(),Se=0,Te=[],be=[],Pe=bezierLengthPool.newElement();for(ge=ce.length,ue=0;ue<xe;ue+=1){for(me=ue/(xe-1),ye=0,pe=0;pe<ge;pe+=1)de=bmPow(1-me,3)*oe[pe]+3*bmPow(1-me,2)*me*ce[pe]+3*(1-me)*bmPow(me,2)*he[pe]+bmPow(me,3)*ae[pe],Te[pe]=de,be[pe]!==null&&(ye+=bmPow(Te[pe]-be[pe],2)),be[pe]=Te[pe];ye&&(Se+=ye=bmSqrt(ye)),Pe.percents[ue]=me,Pe.lengths[ue]=Se}return Pe.addedLength=Se,Pe};function L(oe){this.segmentLength=0,this.points=new Array(oe)}function U(oe,ae){this.partialLength=oe,this.point=ae}var W,te=(W={},function(oe,ae,ce,he){var ue=(oe[0]+"_"+oe[1]+"_"+ae[0]+"_"+ae[1]+"_"+ce[0]+"_"+ce[1]+"_"+he[0]+"_"+he[1]).replace(/\./g,"p");if(!W[ue]){var pe,ge,de,me,ye,xe,Se,Te=getDefaultCurveSegments(),be=0,Pe=null;oe.length===2&&(oe[0]!==ae[0]||oe[1]!==ae[1])&&T(oe[0],oe[1],ae[0],ae[1],oe[0]+ce[0],oe[1]+ce[1])&&T(oe[0],oe[1],ae[0],ae[1],ae[0]+he[0],ae[1]+he[1])&&(Te=2);var Ie=new L(Te);for(de=ce.length,pe=0;pe<Te;pe+=1){for(Se=createSizedArray(de),ye=pe/(Te-1),xe=0,ge=0;ge<de;ge+=1)me=bmPow(1-ye,3)*oe[ge]+3*bmPow(1-ye,2)*ye*(oe[ge]+ce[ge])+3*(1-ye)*bmPow(ye,2)*(ae[ge]+he[ge])+bmPow(ye,3)*ae[ge],Se[ge]=me,Pe!==null&&(xe+=bmPow(Se[ge]-Pe[ge],2));be+=xe=bmSqrt(xe),Ie.points[pe]=new U(xe,Se),Pe=Se}Ie.segmentLength=be,W[ue]=Ie}return W[ue]});function ne(oe,ae){var ce=ae.percents,he=ae.lengths,ue=ce.length,pe=bmFloor((ue-1)*oe),ge=oe*ae.addedLength,de=0;if(pe===ue-1||pe===0||ge===he[pe])return ce[pe];for(var me=he[pe]>ge?-1:1,ye=!0;ye;)if(he[pe]<=ge&&he[pe+1]>ge?(de=(ge-he[pe])/(he[pe+1]-he[pe]),ye=!1):pe+=me,pe<0||pe>=ue-1){if(pe===ue-1)return ce[pe];ye=!1}return ce[pe]+(ce[pe+1]-ce[pe])*de}var ie=createTypedArray("float32",8);return{getSegmentsLength:function(oe){var ae,ce=segmentsLengthPool.newElement(),he=oe.c,ue=oe.v,pe=oe.o,ge=oe.i,de=oe._length,me=ce.lengths,ye=0;for(ae=0;ae<de-1;ae+=1)me[ae]=A(ue[ae],ue[ae+1],pe[ae],ge[ae+1]),ye+=me[ae].addedLength;return he&&de&&(me[ae]=A(ue[ae],ue[0],pe[ae],ge[0]),ye+=me[ae].addedLength),ce.totalLength=ye,ce},getNewSegment:function(oe,ae,ce,he,ue,pe,ge){ue<0?ue=0:ue>1&&(ue=1);var de,me=ne(ue,ge),ye=ne(pe=pe>1?1:pe,ge),xe=oe.length,Se=1-me,Te=1-ye,be=Se*Se*Se,Pe=me*Se*Se*3,Ie=me*me*Se*3,De=me*me*me,we=Se*Se*Te,Fe=me*Se*Te+Se*me*Te+Se*Se*ye,Ge=me*me*Te+Se*me*ye+me*Se*ye,He=me*me*ye,je=Se*Te*Te,qe=me*Te*Te+Se*ye*Te+Se*Te*ye,Ye=me*ye*Te+Se*ye*ye+me*Te*ye,Ct=me*ye*ye,Re=Te*Te*Te,Oe=ye*Te*Te+Te*ye*Te+Te*Te*ye,ze=ye*ye*Te+Te*ye*ye+ye*Te*ye,Ne=ye*ye*ye;for(de=0;de<xe;de+=1)ie[4*de]=P.round(1e3*(be*oe[de]+Pe*ce[de]+Ie*he[de]+De*ae[de]))/1e3,ie[4*de+1]=P.round(1e3*(we*oe[de]+Fe*ce[de]+Ge*he[de]+He*ae[de]))/1e3,ie[4*de+2]=P.round(1e3*(je*oe[de]+qe*ce[de]+Ye*he[de]+Ct*ae[de]))/1e3,ie[4*de+3]=P.round(1e3*(Re*oe[de]+Oe*ce[de]+ze*he[de]+Ne*ae[de]))/1e3;return ie},getPointInSegment:function(oe,ae,ce,he,ue,pe){var ge=ne(ue,pe),de=1-ge;return[P.round(1e3*(de*de*de*oe[0]+(ge*de*de+de*ge*de+de*de*ge)*ce[0]+(ge*ge*de+de*ge*ge+ge*de*ge)*he[0]+ge*ge*ge*ae[0]))/1e3,P.round(1e3*(de*de*de*oe[1]+(ge*de*de+de*ge*de+de*de*ge)*ce[1]+(ge*ge*de+de*ge*ge+ge*de*ge)*he[1]+ge*ge*ge*ae[1]))/1e3]},buildBezierData:te,pointOnLine2D:T,pointOnLine3D:function(oe,ae,ce,he,ue,pe,ge,de,me){if(ce===0&&pe===0&&me===0)return T(oe,ae,he,ue,ge,de);var ye,xe=P.sqrt(P.pow(he-oe,2)+P.pow(ue-ae,2)+P.pow(pe-ce,2)),Se=P.sqrt(P.pow(ge-oe,2)+P.pow(de-ae,2)+P.pow(me-ce,2)),Te=P.sqrt(P.pow(ge-he,2)+P.pow(de-ue,2)+P.pow(me-pe,2));return(ye=xe>Se?xe>Te?xe-Se-Te:Te-Se-xe:Te>Se?Te-Se-xe:Se-xe-Te)>-1e-4&&ye<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(P,T){var A,L=this.offsetTime;this.propType==="multidimensional"&&(A=createTypedArray("float32",this.pv.length));for(var U,W,te,ne,ie,oe,ae,ce,he,ue=T.lastIndex,pe=ue,ge=this.keyframes.length-1,de=!0;de;){if(U=this.keyframes[pe],W=this.keyframes[pe+1],pe===ge-1&&P>=W.t-L){U.h&&(U=W),ue=0;break}if(W.t-L>P){ue=pe;break}pe<ge-1?pe+=1:(ue=0,de=!1)}te=this.keyframesMetadata[pe]||{};var me,ye=W.t-L,xe=U.t-L;if(U.to){te.bezierData||(te.bezierData=bez.buildBezierData(U.s,W.s||U.e,U.to,U.ti));var Se=te.bezierData;if(P>=ye||P<xe){var Te=P>=ye?Se.points.length-1:0;for(ie=Se.points[Te].point.length,ne=0;ne<ie;ne+=1)A[ne]=Se.points[Te].point[ne]}else{te.__fnct?he=te.__fnct:(he=BezierFactory.getBezierEasing(U.o.x,U.o.y,U.i.x,U.i.y,U.n).get,te.__fnct=he),oe=he((P-xe)/(ye-xe));var be,Pe=Se.segmentLength*oe,Ie=T.lastFrame<P&&T._lastKeyframeIndex===pe?T._lastAddedLength:0;for(ce=T.lastFrame<P&&T._lastKeyframeIndex===pe?T._lastPoint:0,de=!0,ae=Se.points.length;de;){if(Ie+=Se.points[ce].partialLength,Pe===0||oe===0||ce===Se.points.length-1){for(ie=Se.points[ce].point.length,ne=0;ne<ie;ne+=1)A[ne]=Se.points[ce].point[ne];break}if(Pe>=Ie&&Pe<Ie+Se.points[ce+1].partialLength){for(be=(Pe-Ie)/Se.points[ce+1].partialLength,ie=Se.points[ce].point.length,ne=0;ne<ie;ne+=1)A[ne]=Se.points[ce].point[ne]+(Se.points[ce+1].point[ne]-Se.points[ce].point[ne])*be;break}ce<ae-1?ce+=1:de=!1}T._lastPoint=ce,T._lastAddedLength=Ie-Se.points[ce].partialLength,T._lastKeyframeIndex=pe}}else{var De,we,Fe,Ge,He;if(ge=U.s.length,me=W.s||U.e,this.sh&&U.h!==1)P>=ye?(A[0]=me[0],A[1]=me[1],A[2]=me[2]):P<=xe?(A[0]=U.s[0],A[1]=U.s[1],A[2]=U.s[2]):quaternionToEuler(A,slerp(createQuaternion(U.s),createQuaternion(me),(P-xe)/(ye-xe)));else for(pe=0;pe<ge;pe+=1)U.h!==1&&(P>=ye?oe=1:P<xe?oe=0:(U.o.x.constructor===Array?(te.__fnct||(te.__fnct=[]),te.__fnct[pe]?he=te.__fnct[pe]:(De=U.o.x[pe]===void 0?U.o.x[0]:U.o.x[pe],we=U.o.y[pe]===void 0?U.o.y[0]:U.o.y[pe],Fe=U.i.x[pe]===void 0?U.i.x[0]:U.i.x[pe],Ge=U.i.y[pe]===void 0?U.i.y[0]:U.i.y[pe],he=BezierFactory.getBezierEasing(De,we,Fe,Ge).get,te.__fnct[pe]=he)):te.__fnct?he=te.__fnct:(De=U.o.x,we=U.o.y,Fe=U.i.x,Ge=U.i.y,he=BezierFactory.getBezierEasing(De,we,Fe,Ge).get,U.keyframeMetadata=he),oe=he((P-xe)/(ye-xe)))),me=W.s||U.e,He=U.h===1?U.s[pe]:U.s[pe]+(me[pe]-U.s[pe])*oe,this.propType==="multidimensional"?A[pe]=He:A=He}return T.lastIndex=ue,A}function slerp(P,T,A){var L,U,W,te,ne,ie=[],oe=P[0],ae=P[1],ce=P[2],he=P[3],ue=T[0],pe=T[1],ge=T[2],de=T[3];return(U=oe*ue+ae*pe+ce*ge+he*de)<0&&(U=-U,ue=-ue,pe=-pe,ge=-ge,de=-de),1-U>1e-6?(L=Math.acos(U),W=Math.sin(L),te=Math.sin((1-A)*L)/W,ne=Math.sin(A*L)/W):(te=1-A,ne=A),ie[0]=te*oe+ne*ue,ie[1]=te*ae+ne*pe,ie[2]=te*ce+ne*ge,ie[3]=te*he+ne*de,ie}function quaternionToEuler(P,T){var A=T[0],L=T[1],U=T[2],W=T[3],te=Math.atan2(2*L*W-2*A*U,1-2*L*L-2*U*U),ne=Math.asin(2*A*L+2*U*W),ie=Math.atan2(2*A*W-2*L*U,1-2*A*A-2*U*U);P[0]=te/degToRads,P[1]=ne/degToRads,P[2]=ie/degToRads}function createQuaternion(P){var T=P[0]*degToRads,A=P[1]*degToRads,L=P[2]*degToRads,U=Math.cos(T/2),W=Math.cos(A/2),te=Math.cos(L/2),ne=Math.sin(T/2),ie=Math.sin(A/2),oe=Math.sin(L/2);return[ne*ie*te+U*W*oe,ne*W*te+U*ie*oe,U*ie*te-ne*W*oe,U*W*te-ne*ie*oe]}function getValueAtCurrentTime(){var P=this.comp.renderedFrame-this.offsetTime,T=this.keyframes[0].t-this.offsetTime,A=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(P===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=A&&P>=A||this._caching.lastFrame<T&&P<T))){this._caching.lastFrame>=P&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var L=this.interpolateValue(P,this._caching);this.pv=L}return this._caching.lastFrame=P,this.pv}function setVValue(P){var T;if(this.propType==="unidimensional")T=P*this.mult,mathAbs(this.v-T)>1e-5&&(this.v=T,this._mdf=!0);else for(var A=0,L=this.v.length;A<L;)T=P[A]*this.mult,mathAbs(this.v[A]-T)>1e-5&&(this.v[A]=T,this._mdf=!0),A+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var P;this.lock=!0,this._mdf=this._isFirstFrame;var T=this.effectsSequence.length,A=this.kf?this.pv:this.data.k;for(P=0;P<T;P+=1)A=this.effectsSequence[P](A);this.setVValue(A),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(P){this.effectsSequence.push(P),this.container.addDynamicProperty(this)}function ValueProperty(P,T,A,L){this.propType="unidimensional",this.mult=A||1,this.data=T,this.v=A?T.k*A:T.k,this.pv=T.k,this._mdf=!1,this.elem=P,this.container=L,this.comp=P.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(P,T,A,L){var U;this.propType="multidimensional",this.mult=A||1,this.data=T,this._mdf=!1,this.elem=P,this.container=L,this.comp=P.comp,this.k=!1,this.kf=!1,this.frameId=-1;var W=T.k.length;for(this.v=createTypedArray("float32",W),this.pv=createTypedArray("float32",W),this.vel=createTypedArray("float32",W),U=0;U<W;U+=1)this.v[U]=T.k[U]*this.mult,this.pv[U]=T.k[U];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(P,T,A,L){this.propType="unidimensional",this.keyframes=T.k,this.keyframesMetadata=[],this.offsetTime=P.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=T,this.mult=A||1,this.elem=P,this.container=L,this.comp=P.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(P,T,A,L){var U;this.propType="multidimensional";var W,te,ne,ie,oe=T.k.length;for(U=0;U<oe-1;U+=1)T.k[U].to&&T.k[U].s&&T.k[U+1]&&T.k[U+1].s&&(W=T.k[U].s,te=T.k[U+1].s,ne=T.k[U].to,ie=T.k[U].ti,(W.length===2&&(W[0]!==te[0]||W[1]!==te[1])&&bez.pointOnLine2D(W[0],W[1],te[0],te[1],W[0]+ne[0],W[1]+ne[1])&&bez.pointOnLine2D(W[0],W[1],te[0],te[1],te[0]+ie[0],te[1]+ie[1])||W.length===3&&(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2])&&bez.pointOnLine3D(W[0],W[1],W[2],te[0],te[1],te[2],W[0]+ne[0],W[1]+ne[1],W[2]+ne[2])&&bez.pointOnLine3D(W[0],W[1],W[2],te[0],te[1],te[2],te[0]+ie[0],te[1]+ie[1],te[2]+ie[2]))&&(T.k[U].to=null,T.k[U].ti=null),W[0]===te[0]&&W[1]===te[1]&&ne[0]===0&&ne[1]===0&&ie[0]===0&&ie[1]===0&&(W.length===2||W[2]===te[2]&&ne[2]===0&&ie[2]===0)&&(T.k[U].to=null,T.k[U].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=T,this.keyframes=T.k,this.keyframesMetadata=[],this.offsetTime=P.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=A||1,this.elem=P,this.container=L,this.comp=P.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ae=T.k[0].s.length;for(this.v=createTypedArray("float32",ae),this.pv=createTypedArray("float32",ae),U=0;U<ae;U+=1)this.v[U]=initFrame,this.pv[U]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ae)},this.addEffect=addEffect}var PropertyFactory={getProp:function(P,T,A,L,U){var W;if(T.sid&&(T=P.globalData.slotManager.getProp(T)),T.k.length)if(typeof T.k[0]=="number")W=new MultiDimensionalProperty(P,T,L,U);else switch(A){case 0:W=new KeyframedValueProperty(P,T,L,U);break;case 1:W=new KeyframedMultidimensionalProperty(P,T,L,U)}else W=new ValueProperty(P,T,L,U);return W.effectsSequence.length&&U.addDynamicProperty(W),W}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(P){this.dynamicProperties.indexOf(P)===-1&&(this.dynamicProperties.push(P),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var P;this._mdf=!1;var T=this.dynamicProperties.length;for(P=0;P<T;P+=1)this.dynamicProperties[P].getValue(),this.dynamicProperties[P]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(P){this.container=P,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(P,T){this.c=P,this.setLength(T);for(var A=0;A<T;)this.v[A]=pointPool.newElement(),this.o[A]=pointPool.newElement(),this.i[A]=pointPool.newElement(),A+=1},ShapePath.prototype.setLength=function(P){for(;this._maxLength<P;)this.doubleArrayLength();this._length=P},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(P,T,A,L,U){var W;switch(this._length=Math.max(this._length,L+1),this._length>=this._maxLength&&this.doubleArrayLength(),A){case"v":W=this.v;break;case"i":W=this.i;break;case"o":W=this.o;break;default:W=[]}(!W[L]||W[L]&&!U)&&(W[L]=pointPool.newElement()),W[L][0]=P,W[L][1]=T},ShapePath.prototype.setTripleAt=function(P,T,A,L,U,W,te,ne){this.setXYAt(P,T,"v",te,ne),this.setXYAt(A,L,"o",te,ne),this.setXYAt(U,W,"i",te,ne)},ShapePath.prototype.reverse=function(){var P=new ShapePath;P.setPathData(this.c,this._length);var T=this.v,A=this.o,L=this.i,U=0;this.c&&(P.setTripleAt(T[0][0],T[0][1],L[0][0],L[0][1],A[0][0],A[0][1],0,!1),U=1);var W,te=this._length-1,ne=this._length;for(W=U;W<ne;W+=1)P.setTripleAt(T[te][0],T[te][1],L[te][0],L[te][1],A[te][0],A[te][1],W,!1),te-=1;return P},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(P){var T,A=P._length;for(T=0;T<A;T+=1)pointPool.release(P.v[T]),pointPool.release(P.i[T]),pointPool.release(P.o[T]),P.v[T]=null,P.i[T]=null,P.o[T]=null;P._length=0,P.c=!1}),factory.clone=function(P){var T,A=factory.newElement(),L=P._length===void 0?P.v.length:P._length;for(A.setLength(L),A.c=P.c,T=0;T<L;T+=1)A.setTripleAt(P.v[T][0],P.v[T][1],P.o[T][0],P.o[T][1],P.i[T][0],P.i[T][1],T);return A},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(P){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=P,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var P;for(P=0;P<this._length;P+=1)shapePool.release(this.shapes[P]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(P){var T,A=P._length;for(T=0;T<A;T+=1)shapePool.release(P.shapes[T]);P._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=P,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function P(he,ue,pe){var ge,de,me,ye,xe,Se,Te,be,Pe,Ie=pe.lastIndex,De=this.keyframes;if(he<De[0].t-this.offsetTime)ge=De[0].s[0],me=!0,Ie=0;else if(he>=De[De.length-1].t-this.offsetTime)ge=De[De.length-1].s?De[De.length-1].s[0]:De[De.length-2].e[0],me=!0;else{for(var we,Fe,Ge,He=Ie,je=De.length-1,qe=!0;qe&&(we=De[He],!((Fe=De[He+1]).t-this.offsetTime>he));)He<je-1?He+=1:qe=!1;if(Ge=this.keyframesMetadata[He]||{},Ie=He,!(me=we.h===1)){if(he>=Fe.t-this.offsetTime)be=1;else if(he<we.t-this.offsetTime)be=0;else{var Ye;Ge.__fnct?Ye=Ge.__fnct:(Ye=BezierFactory.getBezierEasing(we.o.x,we.o.y,we.i.x,we.i.y).get,Ge.__fnct=Ye),be=Ye((he-(we.t-this.offsetTime))/(Fe.t-this.offsetTime-(we.t-this.offsetTime)))}de=Fe.s?Fe.s[0]:we.e[0]}ge=we.s[0]}for(Se=ue._length,Te=ge.i[0].length,pe.lastIndex=Ie,ye=0;ye<Se;ye+=1)for(xe=0;xe<Te;xe+=1)Pe=me?ge.i[ye][xe]:ge.i[ye][xe]+(de.i[ye][xe]-ge.i[ye][xe])*be,ue.i[ye][xe]=Pe,Pe=me?ge.o[ye][xe]:ge.o[ye][xe]+(de.o[ye][xe]-ge.o[ye][xe])*be,ue.o[ye][xe]=Pe,Pe=me?ge.v[ye][xe]:ge.v[ye][xe]+(de.v[ye][xe]-ge.v[ye][xe])*be,ue.v[ye][xe]=Pe}function T(){var he=this.comp.renderedFrame-this.offsetTime,ue=this.keyframes[0].t-this.offsetTime,pe=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ge=this._caching.lastFrame;return ge!==-999999&&(ge<ue&&he<ue||ge>pe&&he>pe)||(this._caching.lastIndex=ge<he?this._caching.lastIndex:0,this.interpolateShape(he,this.pv,this._caching)),this._caching.lastFrame=he,this.pv}function A(){this.paths=this.localShapeCollection}function L(he){(function(ue,pe){if(ue._length!==pe._length||ue.c!==pe.c)return!1;var ge,de=ue._length;for(ge=0;ge<de;ge+=1)if(ue.v[ge][0]!==pe.v[ge][0]||ue.v[ge][1]!==pe.v[ge][1]||ue.o[ge][0]!==pe.o[ge][0]||ue.o[ge][1]!==pe.o[ge][1]||ue.i[ge][0]!==pe.i[ge][0]||ue.i[ge][1]!==pe.i[ge][1])return!1;return!0})(this.v,he)||(this.v=shapePool.clone(he),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function U(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var he,ue;this.lock=!0,this._mdf=!1,he=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var pe=this.effectsSequence.length;for(ue=0;ue<pe;ue+=1)he=this.effectsSequence[ue](he);this.setVValue(he),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function W(he,ue,pe){this.propType="shape",this.comp=he.comp,this.container=he,this.elem=he,this.data=ue,this.k=!1,this.kf=!1,this._mdf=!1;var ge=pe===3?ue.pt.k:ue.ks.k;this.v=shapePool.clone(ge),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=A,this.effectsSequence=[]}function te(he){this.effectsSequence.push(he),this.container.addDynamicProperty(this)}function ne(he,ue,pe){this.propType="shape",this.comp=he.comp,this.elem=he,this.container=he,this.offsetTime=he.data.st,this.keyframes=pe===3?ue.pt.k:ue.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ge=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ge),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=A,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[T.bind(this)]}W.prototype.interpolateShape=P,W.prototype.getValue=U,W.prototype.setVValue=L,W.prototype.addEffect=te,ne.prototype.getValue=U,ne.prototype.interpolateShape=P,ne.prototype.setVValue=L,ne.prototype.addEffect=te;var ie=function(){var he=roundCorner;function ue(pe,ge){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=ge.d,this.elem=pe,this.comp=pe.comp,this.frameId=-1,this.initDynamicPropertyContainer(pe),this.p=PropertyFactory.getProp(pe,ge.p,1,0,this),this.s=PropertyFactory.getProp(pe,ge.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return ue.prototype={reset:A,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var pe=this.p.v[0],ge=this.p.v[1],de=this.s.v[0]/2,me=this.s.v[1]/2,ye=this.d!==3,xe=this.v;xe.v[0][0]=pe,xe.v[0][1]=ge-me,xe.v[1][0]=ye?pe+de:pe-de,xe.v[1][1]=ge,xe.v[2][0]=pe,xe.v[2][1]=ge+me,xe.v[3][0]=ye?pe-de:pe+de,xe.v[3][1]=ge,xe.i[0][0]=ye?pe-de*he:pe+de*he,xe.i[0][1]=ge-me,xe.i[1][0]=ye?pe+de:pe-de,xe.i[1][1]=ge-me*he,xe.i[2][0]=ye?pe+de*he:pe-de*he,xe.i[2][1]=ge+me,xe.i[3][0]=ye?pe-de:pe+de,xe.i[3][1]=ge+me*he,xe.o[0][0]=ye?pe+de*he:pe-de*he,xe.o[0][1]=ge-me,xe.o[1][0]=ye?pe+de:pe-de,xe.o[1][1]=ge+me*he,xe.o[2][0]=ye?pe-de*he:pe+de*he,xe.o[2][1]=ge+me,xe.o[3][0]=ye?pe-de:pe+de,xe.o[3][1]=ge-me*he}},extendPrototype([DynamicPropertyContainer],ue),ue}(),oe=function(){function he(ue,pe){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=ue,this.comp=ue.comp,this.data=pe,this.frameId=-1,this.d=pe.d,this.initDynamicPropertyContainer(ue),pe.sy===1?(this.ir=PropertyFactory.getProp(ue,pe.ir,0,0,this),this.is=PropertyFactory.getProp(ue,pe.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(ue,pe.pt,0,0,this),this.p=PropertyFactory.getProp(ue,pe.p,1,0,this),this.r=PropertyFactory.getProp(ue,pe.r,0,degToRads,this),this.or=PropertyFactory.getProp(ue,pe.or,0,0,this),this.os=PropertyFactory.getProp(ue,pe.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return he.prototype={reset:A,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ue,pe,ge,de,me=2*Math.floor(this.pt.v),ye=2*Math.PI/me,xe=!0,Se=this.or.v,Te=this.ir.v,be=this.os.v,Pe=this.is.v,Ie=2*Math.PI*Se/(2*me),De=2*Math.PI*Te/(2*me),we=-Math.PI/2;we+=this.r.v;var Fe=this.data.d===3?-1:1;for(this.v._length=0,ue=0;ue<me;ue+=1){ge=xe?be:Pe,de=xe?Ie:De;var Ge=(pe=xe?Se:Te)*Math.cos(we),He=pe*Math.sin(we),je=Ge===0&&He===0?0:He/Math.sqrt(Ge*Ge+He*He),qe=Ge===0&&He===0?0:-Ge/Math.sqrt(Ge*Ge+He*He);Ge+=+this.p.v[0],He+=+this.p.v[1],this.v.setTripleAt(Ge,He,Ge-je*de*ge*Fe,He-qe*de*ge*Fe,Ge+je*de*ge*Fe,He+qe*de*ge*Fe,ue,!0),xe=!xe,we+=ye*Fe}},convertPolygonToPath:function(){var ue,pe=Math.floor(this.pt.v),ge=2*Math.PI/pe,de=this.or.v,me=this.os.v,ye=2*Math.PI*de/(4*pe),xe=.5*-Math.PI,Se=this.data.d===3?-1:1;for(xe+=this.r.v,this.v._length=0,ue=0;ue<pe;ue+=1){var Te=de*Math.cos(xe),be=de*Math.sin(xe),Pe=Te===0&&be===0?0:be/Math.sqrt(Te*Te+be*be),Ie=Te===0&&be===0?0:-Te/Math.sqrt(Te*Te+be*be);Te+=+this.p.v[0],be+=+this.p.v[1],this.v.setTripleAt(Te,be,Te-Pe*ye*me*Se,be-Ie*ye*me*Se,Te+Pe*ye*me*Se,be+Ie*ye*me*Se,ue,!0),xe+=ge*Se}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],he),he}(),ae=function(){function he(ue,pe){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=ue,this.comp=ue.comp,this.frameId=-1,this.d=pe.d,this.initDynamicPropertyContainer(ue),this.p=PropertyFactory.getProp(ue,pe.p,1,0,this),this.s=PropertyFactory.getProp(ue,pe.s,1,0,this),this.r=PropertyFactory.getProp(ue,pe.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return he.prototype={convertRectToPath:function(){var ue=this.p.v[0],pe=this.p.v[1],ge=this.s.v[0]/2,de=this.s.v[1]/2,me=bmMin(ge,de,this.r.v),ye=me*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ue+ge,pe-de+me,ue+ge,pe-de+me,ue+ge,pe-de+ye,0,!0),this.v.setTripleAt(ue+ge,pe+de-me,ue+ge,pe+de-ye,ue+ge,pe+de-me,1,!0),me!==0?(this.v.setTripleAt(ue+ge-me,pe+de,ue+ge-me,pe+de,ue+ge-ye,pe+de,2,!0),this.v.setTripleAt(ue-ge+me,pe+de,ue-ge+ye,pe+de,ue-ge+me,pe+de,3,!0),this.v.setTripleAt(ue-ge,pe+de-me,ue-ge,pe+de-me,ue-ge,pe+de-ye,4,!0),this.v.setTripleAt(ue-ge,pe-de+me,ue-ge,pe-de+ye,ue-ge,pe-de+me,5,!0),this.v.setTripleAt(ue-ge+me,pe-de,ue-ge+me,pe-de,ue-ge+ye,pe-de,6,!0),this.v.setTripleAt(ue+ge-me,pe-de,ue+ge-ye,pe-de,ue+ge-me,pe-de,7,!0)):(this.v.setTripleAt(ue-ge,pe+de,ue-ge+ye,pe+de,ue-ge,pe+de,2),this.v.setTripleAt(ue-ge,pe-de,ue-ge,pe-de+ye,ue-ge,pe-de,3))):(this.v.setTripleAt(ue+ge,pe-de+me,ue+ge,pe-de+ye,ue+ge,pe-de+me,0,!0),me!==0?(this.v.setTripleAt(ue+ge-me,pe-de,ue+ge-me,pe-de,ue+ge-ye,pe-de,1,!0),this.v.setTripleAt(ue-ge+me,pe-de,ue-ge+ye,pe-de,ue-ge+me,pe-de,2,!0),this.v.setTripleAt(ue-ge,pe-de+me,ue-ge,pe-de+me,ue-ge,pe-de+ye,3,!0),this.v.setTripleAt(ue-ge,pe+de-me,ue-ge,pe+de-ye,ue-ge,pe+de-me,4,!0),this.v.setTripleAt(ue-ge+me,pe+de,ue-ge+me,pe+de,ue-ge+ye,pe+de,5,!0),this.v.setTripleAt(ue+ge-me,pe+de,ue+ge-ye,pe+de,ue+ge-me,pe+de,6,!0),this.v.setTripleAt(ue+ge,pe+de-me,ue+ge,pe+de-me,ue+ge,pe+de-ye,7,!0)):(this.v.setTripleAt(ue-ge,pe-de,ue-ge+ye,pe-de,ue-ge,pe-de,1,!0),this.v.setTripleAt(ue-ge,pe+de,ue-ge,pe+de-ye,ue-ge,pe+de,2,!0),this.v.setTripleAt(ue+ge,pe+de,ue+ge-ye,pe+de,ue+ge,pe+de,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:A},extendPrototype([DynamicPropertyContainer],he),he}(),ce={getShapeProp:function(he,ue,pe){var ge;return pe===3||pe===4?ge=(pe===3?ue.pt:ue.ks).k.length?new ne(he,ue,pe):new W(he,ue,pe):pe===5?ge=new ae(he,ue):pe===6?ge=new ie(he,ue):pe===7&&(ge=new oe(he,ue)),ge.k&&he.addDynamicProperty(ge),ge},getConstructorFunction:function(){return W},getKeyframedConstructorFunction:function(){return ne}};return ce}(),Matrix=function(){var P=Math.cos,T=Math.sin,A=Math.tan,L=Math.round;function U(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function W(Re){if(Re===0)return this;var Oe=P(Re),ze=T(Re);return this._t(Oe,-ze,0,0,ze,Oe,0,0,0,0,1,0,0,0,0,1)}function te(Re){if(Re===0)return this;var Oe=P(Re),ze=T(Re);return this._t(1,0,0,0,0,Oe,-ze,0,0,ze,Oe,0,0,0,0,1)}function ne(Re){if(Re===0)return this;var Oe=P(Re),ze=T(Re);return this._t(Oe,0,ze,0,0,1,0,0,-ze,0,Oe,0,0,0,0,1)}function ie(Re){if(Re===0)return this;var Oe=P(Re),ze=T(Re);return this._t(Oe,-ze,0,0,ze,Oe,0,0,0,0,1,0,0,0,0,1)}function oe(Re,Oe){return this._t(1,Oe,Re,1,0,0)}function ae(Re,Oe){return this.shear(A(Re),A(Oe))}function ce(Re,Oe){var ze=P(Oe),Ne=T(Oe);return this._t(ze,Ne,0,0,-Ne,ze,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,A(Re),1,0,0,0,0,1,0,0,0,0,1)._t(ze,-Ne,0,0,Ne,ze,0,0,0,0,1,0,0,0,0,1)}function he(Re,Oe,ze){return ze||ze===0||(ze=1),Re===1&&Oe===1&&ze===1?this:this._t(Re,0,0,0,0,Oe,0,0,0,0,ze,0,0,0,0,1)}function ue(Re,Oe,ze,Ne,Ze,Wt,Qe,Pt,zt,It,Yt,ln,pn,In,$t,jt){return this.props[0]=Re,this.props[1]=Oe,this.props[2]=ze,this.props[3]=Ne,this.props[4]=Ze,this.props[5]=Wt,this.props[6]=Qe,this.props[7]=Pt,this.props[8]=zt,this.props[9]=It,this.props[10]=Yt,this.props[11]=ln,this.props[12]=pn,this.props[13]=In,this.props[14]=$t,this.props[15]=jt,this}function pe(Re,Oe,ze){return ze=ze||0,Re!==0||Oe!==0||ze!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Re,Oe,ze,1):this}function ge(Re,Oe,ze,Ne,Ze,Wt,Qe,Pt,zt,It,Yt,ln,pn,In,$t,jt){var Ve=this.props;if(Re===1&&Oe===0&&ze===0&&Ne===0&&Ze===0&&Wt===1&&Qe===0&&Pt===0&&zt===0&&It===0&&Yt===1&&ln===0)return Ve[12]=Ve[12]*Re+Ve[15]*pn,Ve[13]=Ve[13]*Wt+Ve[15]*In,Ve[14]=Ve[14]*Yt+Ve[15]*$t,Ve[15]*=jt,this._identityCalculated=!1,this;var Cn=Ve[0],Zt=Ve[1],fn=Ve[2],Jt=Ve[3],Rn=Ve[4],tn=Ve[5],We=Ve[6],Be=Ve[7],Mt=Ve[8],Ut=Ve[9],Xt=Ve[10],Gt=Ve[11],En=Ve[12],un=Ve[13],gn=Ve[14],jn=Ve[15];return Ve[0]=Cn*Re+Zt*Ze+fn*zt+Jt*pn,Ve[1]=Cn*Oe+Zt*Wt+fn*It+Jt*In,Ve[2]=Cn*ze+Zt*Qe+fn*Yt+Jt*$t,Ve[3]=Cn*Ne+Zt*Pt+fn*ln+Jt*jt,Ve[4]=Rn*Re+tn*Ze+We*zt+Be*pn,Ve[5]=Rn*Oe+tn*Wt+We*It+Be*In,Ve[6]=Rn*ze+tn*Qe+We*Yt+Be*$t,Ve[7]=Rn*Ne+tn*Pt+We*ln+Be*jt,Ve[8]=Mt*Re+Ut*Ze+Xt*zt+Gt*pn,Ve[9]=Mt*Oe+Ut*Wt+Xt*It+Gt*In,Ve[10]=Mt*ze+Ut*Qe+Xt*Yt+Gt*$t,Ve[11]=Mt*Ne+Ut*Pt+Xt*ln+Gt*jt,Ve[12]=En*Re+un*Ze+gn*zt+jn*pn,Ve[13]=En*Oe+un*Wt+gn*It+jn*In,Ve[14]=En*ze+un*Qe+gn*Yt+jn*$t,Ve[15]=En*Ne+un*Pt+gn*ln+jn*jt,this._identityCalculated=!1,this}function de(Re){var Oe=Re.props;return this.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],Oe[7],Oe[8],Oe[9],Oe[10],Oe[11],Oe[12],Oe[13],Oe[14],Oe[15])}function me(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function ye(Re){for(var Oe=0;Oe<16;){if(Re.props[Oe]!==this.props[Oe])return!1;Oe+=1}return!0}function xe(Re){var Oe;for(Oe=0;Oe<16;Oe+=1)Re.props[Oe]=this.props[Oe];return Re}function Se(Re){var Oe;for(Oe=0;Oe<16;Oe+=1)this.props[Oe]=Re[Oe]}function Te(Re,Oe,ze){return{x:Re*this.props[0]+Oe*this.props[4]+ze*this.props[8]+this.props[12],y:Re*this.props[1]+Oe*this.props[5]+ze*this.props[9]+this.props[13],z:Re*this.props[2]+Oe*this.props[6]+ze*this.props[10]+this.props[14]}}function be(Re,Oe,ze){return Re*this.props[0]+Oe*this.props[4]+ze*this.props[8]+this.props[12]}function Pe(Re,Oe,ze){return Re*this.props[1]+Oe*this.props[5]+ze*this.props[9]+this.props[13]}function Ie(Re,Oe,ze){return Re*this.props[2]+Oe*this.props[6]+ze*this.props[10]+this.props[14]}function De(){var Re=this.props[0]*this.props[5]-this.props[1]*this.props[4],Oe=this.props[5]/Re,ze=-this.props[1]/Re,Ne=-this.props[4]/Re,Ze=this.props[0]/Re,Wt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Re,Qe=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Re,Pt=new Matrix;return Pt.props[0]=Oe,Pt.props[1]=ze,Pt.props[4]=Ne,Pt.props[5]=Ze,Pt.props[12]=Wt,Pt.props[13]=Qe,Pt}function we(Re){return this.getInverseMatrix().applyToPointArray(Re[0],Re[1],Re[2]||0)}function Fe(Re){var Oe,ze=Re.length,Ne=[];for(Oe=0;Oe<ze;Oe+=1)Ne[Oe]=we(Re[Oe]);return Ne}function Ge(Re,Oe,ze){var Ne=createTypedArray("float32",6);if(this.isIdentity())Ne[0]=Re[0],Ne[1]=Re[1],Ne[2]=Oe[0],Ne[3]=Oe[1],Ne[4]=ze[0],Ne[5]=ze[1];else{var Ze=this.props[0],Wt=this.props[1],Qe=this.props[4],Pt=this.props[5],zt=this.props[12],It=this.props[13];Ne[0]=Re[0]*Ze+Re[1]*Qe+zt,Ne[1]=Re[0]*Wt+Re[1]*Pt+It,Ne[2]=Oe[0]*Ze+Oe[1]*Qe+zt,Ne[3]=Oe[0]*Wt+Oe[1]*Pt+It,Ne[4]=ze[0]*Ze+ze[1]*Qe+zt,Ne[5]=ze[0]*Wt+ze[1]*Pt+It}return Ne}function He(Re,Oe,ze){return this.isIdentity()?[Re,Oe,ze]:[Re*this.props[0]+Oe*this.props[4]+ze*this.props[8]+this.props[12],Re*this.props[1]+Oe*this.props[5]+ze*this.props[9]+this.props[13],Re*this.props[2]+Oe*this.props[6]+ze*this.props[10]+this.props[14]]}function je(Re,Oe){if(this.isIdentity())return Re+","+Oe;var ze=this.props;return Math.round(100*(Re*ze[0]+Oe*ze[4]+ze[12]))/100+","+Math.round(100*(Re*ze[1]+Oe*ze[5]+ze[13]))/100}function qe(){for(var Re=0,Oe=this.props,ze="matrix3d(";Re<16;)ze+=L(1e4*Oe[Re])/1e4,ze+=Re===15?")":",",Re+=1;return ze}function Ye(Re){return Re<1e-6&&Re>0||Re>-1e-6&&Re<0?L(1e4*Re)/1e4:Re}function Ct(){var Re=this.props;return"matrix("+Ye(Re[0])+","+Ye(Re[1])+","+Ye(Re[4])+","+Ye(Re[5])+","+Ye(Re[12])+","+Ye(Re[13])+")"}return function(){this.reset=U,this.rotate=W,this.rotateX=te,this.rotateY=ne,this.rotateZ=ie,this.skew=ae,this.skewFromAxis=ce,this.shear=oe,this.scale=he,this.setTransform=ue,this.translate=pe,this.transform=ge,this.multiply=de,this.applyToPoint=Te,this.applyToX=be,this.applyToY=Pe,this.applyToZ=Ie,this.applyToPointArray=He,this.applyToTriplePoints=Ge,this.applyToPointStringified=je,this.toCSS=qe,this.to2dCSS=Ct,this.clone=xe,this.cloneFromProps=Se,this.equals=ye,this.inversePoints=Fe,this.inversePoint=we,this.getInverseMatrix=De,this._t=this.transform,this.isIdentity=me,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(P){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}var lottie={};function setLocation(P){setLocationHref(P)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(P){setSubframeEnabled(P)}function setPrefix(P){setIdPrefix(P)}function loadAnimation(P){return animationManager.loadAnimation(P)}function setQuality(P){if(typeof P=="string")switch(P){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(P)&&P>1&&setDefaultCurveSegments(P)}function inBrowser(){return typeof navigator<"u"}function installPlugin(P,T){P==="expressions"&&setExpressionsPlugin(T)}function getFactory(P){switch(P){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(P){for(var T=queryString.split("&"),A=0;A<T.length;A+=1){var L=T[A].split("=");if(decodeURIComponent(L[0])==P)return decodeURIComponent(L[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(P){}var ShapeModifiers=function(){var P={},T={};return P.registerModifier=function(A,L){T[A]||(T[A]=L)},P.getModifier=function(A,L,U){return new T[A](L,U)},P}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(P){if(!this.closed){P.sh.container.addDynamicProperty(P.sh);var T={shape:P.sh,data:P,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(T),this.addShapeToModifier(T),this._isAnimated&&P.setAsAnimated()}},ShapeModifier.prototype.init=function(P,T){this.shapes=[],this.elem=P,this.initDynamicPropertyContainer(P),this.initModifierProperties(P,T),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(P,T){this.s=PropertyFactory.getProp(P,T.s,0,.01,this),this.e=PropertyFactory.getProp(P,T.e,0,.01,this),this.o=PropertyFactory.getProp(P,T.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=T.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(P){P.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(P,T,A,L,U){var W=[];T<=1?W.push({s:P,e:T}):P>=1?W.push({s:P-1,e:T-1}):(W.push({s:P,e:1}),W.push({s:0,e:T-1}));var te,ne,ie=[],oe=W.length;for(te=0;te<oe;te+=1){var ae,ce;(ne=W[te]).e*U<L||ne.s*U>L+A||(ae=ne.s*U<=L?0:(ne.s*U-L)/A,ce=ne.e*U>=L+A?1:(ne.e*U-L)/A,ie.push([ae,ce]))}return ie.length||ie.push([0,0]),ie},TrimModifier.prototype.releasePathsData=function(P){var T,A=P.length;for(T=0;T<A;T+=1)segmentsLengthPool.release(P[T]);return P.length=0,P},TrimModifier.prototype.processShapes=function(P){var T,A,L,U;if(this._mdf||P){var W=this.o.v%360/360;if(W<0&&(W+=1),(T=this.s.v>1?1+W:this.s.v<0?0+W:this.s.v+W)>(A=this.e.v>1?1+W:this.e.v<0?0+W:this.e.v+W)){var te=T;T=A,A=te}T=1e-4*Math.round(1e4*T),A=1e-4*Math.round(1e4*A),this.sValue=T,this.eValue=A}else T=this.sValue,A=this.eValue;var ne,ie,oe,ae,ce,he=this.shapes.length,ue=0;if(A===T)for(U=0;U<he;U+=1)this.shapes[U].localShapeCollection.releaseShapes(),this.shapes[U].shape._mdf=!0,this.shapes[U].shape.paths=this.shapes[U].localShapeCollection,this._mdf&&(this.shapes[U].pathsData.length=0);else if(A===1&&T===0||A===0&&T===1){if(this._mdf)for(U=0;U<he;U+=1)this.shapes[U].pathsData.length=0,this.shapes[U].shape._mdf=!0}else{var pe,ge,de=[];for(U=0;U<he;U+=1)if((pe=this.shapes[U]).shape._mdf||this._mdf||P||this.m===2){if(ie=(L=pe.shape.paths)._length,ce=0,!pe.shape._mdf&&pe.pathsData.length)ce=pe.totalShapeLength;else{for(oe=this.releasePathsData(pe.pathsData),ne=0;ne<ie;ne+=1)ae=bez.getSegmentsLength(L.shapes[ne]),oe.push(ae),ce+=ae.totalLength;pe.totalShapeLength=ce,pe.pathsData=oe}ue+=ce,pe.shape._mdf=!0}else pe.shape.paths=pe.localShapeCollection;var me,ye=T,xe=A,Se=0;for(U=he-1;U>=0;U-=1)if((pe=this.shapes[U]).shape._mdf){for((ge=pe.localShapeCollection).releaseShapes(),this.m===2&&he>1?(me=this.calculateShapeEdges(T,A,pe.totalShapeLength,Se,ue),Se+=pe.totalShapeLength):me=[[ye,xe]],ie=me.length,ne=0;ne<ie;ne+=1){ye=me[ne][0],xe=me[ne][1],de.length=0,xe<=1?de.push({s:pe.totalShapeLength*ye,e:pe.totalShapeLength*xe}):ye>=1?de.push({s:pe.totalShapeLength*(ye-1),e:pe.totalShapeLength*(xe-1)}):(de.push({s:pe.totalShapeLength*ye,e:pe.totalShapeLength}),de.push({s:0,e:pe.totalShapeLength*(xe-1)}));var Te=this.addShapes(pe,de[0]);if(de[0].s!==de[0].e){if(de.length>1)if(pe.shape.paths.shapes[pe.shape.paths._length-1].c){var be=Te.pop();this.addPaths(Te,ge),Te=this.addShapes(pe,de[1],be)}else this.addPaths(Te,ge),Te=this.addShapes(pe,de[1]);this.addPaths(Te,ge)}}pe.shape.paths=ge}}},TrimModifier.prototype.addPaths=function(P,T){var A,L=P.length;for(A=0;A<L;A+=1)T.addShape(P[A])},TrimModifier.prototype.addSegment=function(P,T,A,L,U,W,te){U.setXYAt(T[0],T[1],"o",W),U.setXYAt(A[0],A[1],"i",W+1),te&&U.setXYAt(P[0],P[1],"v",W),U.setXYAt(L[0],L[1],"v",W+1)},TrimModifier.prototype.addSegmentFromArray=function(P,T,A,L){T.setXYAt(P[1],P[5],"o",A),T.setXYAt(P[2],P[6],"i",A+1),L&&T.setXYAt(P[0],P[4],"v",A),T.setXYAt(P[3],P[7],"v",A+1)},TrimModifier.prototype.addShapes=function(P,T,A){var L,U,W,te,ne,ie,oe,ae,ce=P.pathsData,he=P.shape.paths.shapes,ue=P.shape.paths._length,pe=0,ge=[],de=!0;for(A?(ne=A._length,ae=A._length):(A=shapePool.newElement(),ne=0,ae=0),ge.push(A),L=0;L<ue;L+=1){for(ie=ce[L].lengths,A.c=he[L].c,W=he[L].c?ie.length:ie.length+1,U=1;U<W;U+=1)if(pe+(te=ie[U-1]).addedLength<T.s)pe+=te.addedLength,A.c=!1;else{if(pe>T.e){A.c=!1;break}T.s<=pe&&T.e>=pe+te.addedLength?(this.addSegment(he[L].v[U-1],he[L].o[U-1],he[L].i[U],he[L].v[U],A,ne,de),de=!1):(oe=bez.getNewSegment(he[L].v[U-1],he[L].v[U],he[L].o[U-1],he[L].i[U],(T.s-pe)/te.addedLength,(T.e-pe)/te.addedLength,ie[U-1]),this.addSegmentFromArray(oe,A,ne,de),de=!1,A.c=!1),pe+=te.addedLength,ne+=1}if(he[L].c&&ie.length){if(te=ie[U-1],pe<=T.e){var me=ie[U-1].addedLength;T.s<=pe&&T.e>=pe+me?(this.addSegment(he[L].v[U-1],he[L].o[U-1],he[L].i[0],he[L].v[0],A,ne,de),de=!1):(oe=bez.getNewSegment(he[L].v[U-1],he[L].v[0],he[L].o[U-1],he[L].i[0],(T.s-pe)/me,(T.e-pe)/me,ie[U-1]),this.addSegmentFromArray(oe,A,ne,de),de=!1,A.c=!1)}else A.c=!1;pe+=te.addedLength,ne+=1}if(A._length&&(A.setXYAt(A.v[ae][0],A.v[ae][1],"i",ae),A.setXYAt(A.v[A._length-1][0],A.v[A._length-1][1],"o",A._length-1)),pe>T.e)break;L<ue-1&&(A=shapePool.newElement(),de=!0,ge.push(A),ne=0)}return ge},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(P,T){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(P,T.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(P,T){var A=T/100,L=[0,0],U=P._length,W=0;for(W=0;W<U;W+=1)L[0]+=P.v[W][0],L[1]+=P.v[W][1];L[0]/=U,L[1]/=U;var te,ne,ie,oe,ae,ce,he=shapePool.newElement();for(he.c=P.c,W=0;W<U;W+=1)te=P.v[W][0]+(L[0]-P.v[W][0])*A,ne=P.v[W][1]+(L[1]-P.v[W][1])*A,ie=P.o[W][0]+(L[0]-P.o[W][0])*-A,oe=P.o[W][1]+(L[1]-P.o[W][1])*-A,ae=P.i[W][0]+(L[0]-P.i[W][0])*-A,ce=P.i[W][1]+(L[1]-P.i[W][1])*-A,he.setTripleAt(te,ne,ie,oe,ae,ce,W);return he},PuckerAndBloatModifier.prototype.processShapes=function(P){var T,A,L,U,W,te,ne=this.shapes.length,ie=this.amount.v;if(ie!==0)for(A=0;A<ne;A+=1){if(te=(W=this.shapes[A]).localShapeCollection,W.shape._mdf||this._mdf||P)for(te.releaseShapes(),W.shape._mdf=!0,T=W.shape.paths.shapes,U=W.shape.paths._length,L=0;L<U;L+=1)te.addShape(this.processPath(T[L],ie));W.shape.paths=W.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var P=[0,0];function T(A,L,U){if(this.elem=A,this.frameId=-1,this.propType="transform",this.data=L,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(U||A),L.p&&L.p.s?(this.px=PropertyFactory.getProp(A,L.p.x,0,0,this),this.py=PropertyFactory.getProp(A,L.p.y,0,0,this),L.p.z&&(this.pz=PropertyFactory.getProp(A,L.p.z,0,0,this))):this.p=PropertyFactory.getProp(A,L.p||{k:[0,0,0]},1,0,this),L.rx){if(this.rx=PropertyFactory.getProp(A,L.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(A,L.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(A,L.rz,0,degToRads,this),L.or.k[0].ti){var W,te=L.or.k.length;for(W=0;W<te;W+=1)L.or.k[W].to=null,L.or.k[W].ti=null}this.or=PropertyFactory.getProp(A,L.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(A,L.r||{k:0},0,degToRads,this);L.sk&&(this.sk=PropertyFactory.getProp(A,L.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(A,L.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(A,L.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(A,L.s||{k:[100,100,100]},1,.01,this),L.o?this.o=PropertyFactory.getProp(A,L.o,0,.01,A):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return T.prototype={applyToMatrix:function(A){var L=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||L,this.a&&A.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&A.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&A.skewFromAxis(-this.sk.v,this.sa.v),this.r?A.rotate(-this.r.v):A.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?A.translate(this.px.v,this.py.v,-this.pz.v):A.translate(this.px.v,this.py.v,0):A.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(A){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||A){var L;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var U,W;if(L=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(U=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/L,0),W=this.p.getValueAtTime(this.p.keyframes[0].t/L,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(U=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/L,0),W=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/L,0)):(U=this.p.pv,W=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/L,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){U=[],W=[];var te=this.px,ne=this.py;te._caching.lastFrame+te.offsetTime<=te.keyframes[0].t?(U[0]=te.getValueAtTime((te.keyframes[0].t+.01)/L,0),U[1]=ne.getValueAtTime((ne.keyframes[0].t+.01)/L,0),W[0]=te.getValueAtTime(te.keyframes[0].t/L,0),W[1]=ne.getValueAtTime(ne.keyframes[0].t/L,0)):te._caching.lastFrame+te.offsetTime>=te.keyframes[te.keyframes.length-1].t?(U[0]=te.getValueAtTime(te.keyframes[te.keyframes.length-1].t/L,0),U[1]=ne.getValueAtTime(ne.keyframes[ne.keyframes.length-1].t/L,0),W[0]=te.getValueAtTime((te.keyframes[te.keyframes.length-1].t-.01)/L,0),W[1]=ne.getValueAtTime((ne.keyframes[ne.keyframes.length-1].t-.01)/L,0)):(U=[te.pv,ne.pv],W[0]=te.getValueAtTime((te._caching.lastFrame+te.offsetTime-.01)/L,te.offsetTime),W[1]=ne.getValueAtTime((ne._caching.lastFrame+ne.offsetTime-.01)/L,ne.offsetTime))}else U=W=P;this.v.rotate(-Math.atan2(U[1]-W[1],U[0]-W[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],T),T.prototype.addDynamicProperty=function(A){this._addDynamicProperty(A),this.elem.addDynamicProperty(A),this._isDirty=!0},T.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(A,L,U){return new T(A,L,U)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(P,T){return 1e5*Math.abs(P-T)<=Math.min(Math.abs(P),Math.abs(T))}function floatZero(P){return Math.abs(P)<=1e-5}function lerp(P,T,A){return P*(1-A)+T*A}function lerpPoint(P,T,A){return[lerp(P[0],T[0],A),lerp(P[1],T[1],A)]}function quadRoots(P,T,A){if(P===0)return[];var L=T*T-4*P*A;if(L<0)return[];var U=-T/(2*P);if(L===0)return[U];var W=Math.sqrt(L)/(2*P);return[U-W,U+W]}function polynomialCoefficients(P,T,A,L){return[3*T-P-3*A+L,3*P-6*T+3*A,-3*P+3*T,P]}function singlePoint(P){return new PolynomialBezier(P,P,P,P,!1)}function PolynomialBezier(P,T,A,L,U){U&&pointEqual(P,T)&&(T=lerpPoint(P,L,1/3)),U&&pointEqual(A,L)&&(A=lerpPoint(P,L,2/3));var W=polynomialCoefficients(P[0],T[0],A[0],L[0]),te=polynomialCoefficients(P[1],T[1],A[1],L[1]);this.a=[W[0],te[0]],this.b=[W[1],te[1]],this.c=[W[2],te[2]],this.d=[W[3],te[3]],this.points=[P,T,A,L]}function extrema(P,T){var A=P.points[0][T],L=P.points[P.points.length-1][T];if(A>L){var U=L;L=A,A=U}for(var W=quadRoots(3*P.a[T],2*P.b[T],P.c[T]),te=0;te<W.length;te+=1)if(W[te]>0&&W[te]<1){var ne=P.point(W[te])[T];ne<A?A=ne:ne>L&&(L=ne)}return{min:A,max:L}}function intersectData(P,T,A){var L=P.boundingBox();return{cx:L.cx,cy:L.cy,width:L.width,height:L.height,bez:P,t:(T+A)/2,t1:T,t2:A}}function splitData(P){var T=P.bez.split(.5);return[intersectData(T[0],P.t1,P.t),intersectData(T[1],P.t,P.t2)]}function boxIntersect(P,T){return 2*Math.abs(P.cx-T.cx)<P.width+T.width&&2*Math.abs(P.cy-T.cy)<P.height+T.height}function intersectsImpl(P,T,A,L,U,W){if(boxIntersect(P,T))if(A>=W||P.width<=L&&P.height<=L&&T.width<=L&&T.height<=L)U.push([P.t,T.t]);else{var te=splitData(P),ne=splitData(T);intersectsImpl(te[0],ne[0],A+1,L,U,W),intersectsImpl(te[0],ne[1],A+1,L,U,W),intersectsImpl(te[1],ne[0],A+1,L,U,W),intersectsImpl(te[1],ne[1],A+1,L,U,W)}}function crossProduct(P,T){return[P[1]*T[2]-P[2]*T[1],P[2]*T[0]-P[0]*T[2],P[0]*T[1]-P[1]*T[0]]}function lineIntersection(P,T,A,L){var U=[P[0],P[1],1],W=[T[0],T[1],1],te=[A[0],A[1],1],ne=[L[0],L[1],1],ie=crossProduct(crossProduct(U,W),crossProduct(te,ne));return floatZero(ie[2])?null:[ie[0]/ie[2],ie[1]/ie[2]]}function polarOffset(P,T,A){return[P[0]+Math.cos(T)*A,P[1]-Math.sin(T)*A]}function pointDistance(P,T){return Math.hypot(P[0]-T[0],P[1]-T[1])}function pointEqual(P,T){return floatEqual(P[0],T[0])&&floatEqual(P[1],T[1])}function ZigZagModifier(){}function setPoint(P,T,A,L,U,W,te){var ne=A-Math.PI/2,ie=A+Math.PI/2,oe=T[0]+Math.cos(A)*L*U,ae=T[1]-Math.sin(A)*L*U;P.setTripleAt(oe,ae,oe+Math.cos(ne)*W,ae-Math.sin(ne)*W,oe+Math.cos(ie)*te,ae-Math.sin(ie)*te,P.length())}function getPerpendicularVector(P,T){var A=[T[0]-P[0],T[1]-P[1]],L=.5*-Math.PI;return[Math.cos(L)*A[0]-Math.sin(L)*A[1],Math.sin(L)*A[0]+Math.cos(L)*A[1]]}function getProjectingAngle(P,T){var A=T===0?P.length()-1:T-1,L=(T+1)%P.length(),U=getPerpendicularVector(P.v[A],P.v[L]);return Math.atan2(0,1)-Math.atan2(U[1],U[0])}function zigZagCorner(P,T,A,L,U,W,te){var ne=getProjectingAngle(T,A),ie=T.v[A%T._length],oe=T.v[A===0?T._length-1:A-1],ae=T.v[(A+1)%T._length],ce=W===2?Math.sqrt(Math.pow(ie[0]-oe[0],2)+Math.pow(ie[1]-oe[1],2)):0,he=W===2?Math.sqrt(Math.pow(ie[0]-ae[0],2)+Math.pow(ie[1]-ae[1],2)):0;setPoint(P,T.v[A%T._length],ne,te,L,he/(2*(U+1)),ce/(2*(U+1)))}function zigZagSegment(P,T,A,L,U,W){for(var te=0;te<L;te+=1){var ne=(te+1)/(L+1),ie=U===2?Math.sqrt(Math.pow(T.points[3][0]-T.points[0][0],2)+Math.pow(T.points[3][1]-T.points[0][1],2)):0,oe=T.normalAngle(ne);setPoint(P,T.point(ne),oe,W,A,ie/(2*(L+1)),ie/(2*(L+1))),W=-W}return W}function linearOffset(P,T,A){var L=Math.atan2(T[0]-P[0],T[1]-P[1]);return[polarOffset(P,L,A),polarOffset(T,L,A)]}function offsetSegment(P,T){var A,L,U,W,te,ne,ie;A=(ie=linearOffset(P.points[0],P.points[1],T))[0],L=ie[1],U=(ie=linearOffset(P.points[1],P.points[2],T))[0],W=ie[1],te=(ie=linearOffset(P.points[2],P.points[3],T))[0],ne=ie[1];var oe=lineIntersection(A,L,U,W);oe===null&&(oe=L);var ae=lineIntersection(te,ne,U,W);return ae===null&&(ae=te),new PolynomialBezier(A,oe,ae,ne)}function joinLines(P,T,A,L,U){var W=T.points[3],te=A.points[0];if(L===3||pointEqual(W,te))return W;if(L===2){var ne=-T.tangentAngle(1),ie=-A.tangentAngle(0)+Math.PI,oe=lineIntersection(W,polarOffset(W,ne+Math.PI/2,100),te,polarOffset(te,ne+Math.PI/2,100)),ae=oe?pointDistance(oe,W):pointDistance(W,te)/2,ce=polarOffset(W,ne,2*ae*roundCorner);return P.setXYAt(ce[0],ce[1],"o",P.length()-1),ce=polarOffset(te,ie,2*ae*roundCorner),P.setTripleAt(te[0],te[1],te[0],te[1],ce[0],ce[1],P.length()),te}var he=lineIntersection(pointEqual(W,T.points[2])?T.points[0]:T.points[2],W,te,pointEqual(te,A.points[1])?A.points[3]:A.points[1]);return he&&pointDistance(he,W)<U?(P.setTripleAt(he[0],he[1],he[0],he[1],he[0],he[1],P.length()),he):W}function getIntersection(P,T){var A=P.intersections(T);return A.length&&floatEqual(A[0][0],1)&&A.shift(),A.length?A[0]:null}function pruneSegmentIntersection(P,T){var A=P.slice(),L=T.slice(),U=getIntersection(P[P.length-1],T[0]);return U&&(A[P.length-1]=P[P.length-1].split(U[0])[0],L[0]=T[0].split(U[1])[1]),P.length>1&&T.length>1&&(U=getIntersection(P[0],T[T.length-1]))?[[P[0].split(U[0])[0]],[T[T.length-1].split(U[1])[1]]]:[A,L]}function pruneIntersections(P){for(var T,A=1;A<P.length;A+=1)T=pruneSegmentIntersection(P[A-1],P[A]),P[A-1]=T[0],P[A]=T[1];return P.length>1&&(T=pruneSegmentIntersection(P[P.length-1],P[0]),P[P.length-1]=T[0],P[0]=T[1]),P}function offsetSegmentSplit(P,T){var A,L,U,W,te=P.inflectionPoints();if(te.length===0)return[offsetSegment(P,T)];if(te.length===1||floatEqual(te[1],1))return A=(U=P.split(te[0]))[0],L=U[1],[offsetSegment(A,T),offsetSegment(L,T)];A=(U=P.split(te[0]))[0];var ne=(te[1]-te[0])/(1-te[0]);return W=(U=U[1].split(ne))[0],L=U[1],[offsetSegment(A,T),offsetSegment(W,T),offsetSegment(L,T)]}function OffsetPathModifier(){}function getFontProperties(P){for(var T=P.fStyle?P.fStyle.split(" "):[],A="normal",L="normal",U=T.length,W=0;W<U;W+=1)switch(T[W].toLowerCase()){case"italic":L="italic";break;case"bold":A="700";break;case"black":A="900";break;case"medium":A="500";break;case"regular":case"normal":A="400";break;case"light":case"thin":A="200"}return{style:L,weight:P.fWeight||A}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(P,T){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(P,T.c,0,null,this),this.o=PropertyFactory.getProp(P,T.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(P,T.tr,this),this.so=PropertyFactory.getProp(P,T.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(P,T.tr.eo,0,.01,this),this.data=T,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(P,T,A,L,U,W){var te=W?-1:1,ne=L.s.v[0]+(1-L.s.v[0])*(1-U),ie=L.s.v[1]+(1-L.s.v[1])*(1-U);P.translate(L.p.v[0]*te*U,L.p.v[1]*te*U,L.p.v[2]),T.translate(-L.a.v[0],-L.a.v[1],L.a.v[2]),T.rotate(-L.r.v*te*U),T.translate(L.a.v[0],L.a.v[1],L.a.v[2]),A.translate(-L.a.v[0],-L.a.v[1],L.a.v[2]),A.scale(W?1/ne:ne,W?1/ie:ie),A.translate(L.a.v[0],L.a.v[1],L.a.v[2])},RepeaterModifier.prototype.init=function(P,T,A,L){for(this.elem=P,this.arr=T,this.pos=A,this.elemsData=L,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(P),this.initModifierProperties(P,T[A]);A>0;)A-=1,this._elements.unshift(T[A]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(P){var T,A=P.length;for(T=0;T<A;T+=1)P[T]._processed=!1,P[T].ty==="gr"&&this.resetElements(P[T].it)},RepeaterModifier.prototype.cloneElements=function(P){var T=JSON.parse(JSON.stringify(P));return this.resetElements(T),T},RepeaterModifier.prototype.changeGroupRender=function(P,T){var A,L=P.length;for(A=0;A<L;A+=1)P[A]._render=T,P[A].ty==="gr"&&this.changeGroupRender(P[A].it,T)},RepeaterModifier.prototype.processShapes=function(P){var T,A,L,U,W,te=!1;if(this._mdf||P){var ne,ie=Math.ceil(this.c.v);if(this._groups.length<ie){for(;this._groups.length<ie;){var oe={it:this.cloneElements(this._elements),ty:"gr"};oe.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,oe),this._groups.splice(0,0,oe),this._currentCopies+=1}this.elem.reloadShapes(),te=!0}for(W=0,L=0;L<=this._groups.length-1;L+=1){if(ne=W<ie,this._groups[L]._render=ne,this.changeGroupRender(this._groups[L].it,ne),!ne){var ae=this.elemsData[L].it,ce=ae[ae.length-1];ce.transform.op.v!==0?(ce.transform.op._mdf=!0,ce.transform.op.v=0):ce.transform.op._mdf=!1}W+=1}this._currentCopies=ie;var he=this.o.v,ue=he%1,pe=he>0?Math.floor(he):Math.ceil(he),ge=this.pMatrix.props,de=this.rMatrix.props,me=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var ye,xe,Se=0;if(he>0){for(;Se<pe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Se+=1;ue&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ue,!1),Se+=ue)}else if(he<0){for(;Se>pe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Se-=1;ue&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ue,!0),Se-=ue)}for(L=this.data.m===1?0:this._currentCopies-1,U=this.data.m===1?1:-1,W=this._currentCopies;W;){if(xe=(A=(T=this.elemsData[L].it)[T.length-1].transform.mProps.v.props).length,T[T.length-1].transform.mProps._mdf=!0,T[T.length-1].transform.op._mdf=!0,T[T.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(L/(this._currentCopies-1)),Se!==0){for((L!==0&&U===1||L!==this._currentCopies-1&&U===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(de[0],de[1],de[2],de[3],de[4],de[5],de[6],de[7],de[8],de[9],de[10],de[11],de[12],de[13],de[14],de[15]),this.matrix.transform(me[0],me[1],me[2],me[3],me[4],me[5],me[6],me[7],me[8],me[9],me[10],me[11],me[12],me[13],me[14],me[15]),this.matrix.transform(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5],ge[6],ge[7],ge[8],ge[9],ge[10],ge[11],ge[12],ge[13],ge[14],ge[15]),ye=0;ye<xe;ye+=1)A[ye]=this.matrix.props[ye];this.matrix.reset()}else for(this.matrix.reset(),ye=0;ye<xe;ye+=1)A[ye]=this.matrix.props[ye];Se+=1,W-=1,L+=U}}else for(W=this._currentCopies,L=0,U=1;W;)A=(T=this.elemsData[L].it)[T.length-1].transform.mProps.v.props,T[T.length-1].transform.mProps._mdf=!1,T[T.length-1].transform.op._mdf=!1,W-=1,L+=U;return te},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(P,T){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(P,T.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(P,T){var A,L=shapePool.newElement();L.c=P.c;var U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge,de=P._length,me=0;for(A=0;A<de;A+=1)U=P.v[A],te=P.o[A],W=P.i[A],U[0]===te[0]&&U[1]===te[1]&&U[0]===W[0]&&U[1]===W[1]?A!==0&&A!==de-1||P.c?(ne=A===0?P.v[de-1]:P.v[A-1],oe=(ie=Math.sqrt(Math.pow(U[0]-ne[0],2)+Math.pow(U[1]-ne[1],2)))?Math.min(ie/2,T)/ie:0,ae=pe=U[0]+(ne[0]-U[0])*oe,ce=ge=U[1]-(U[1]-ne[1])*oe,he=ae-(ae-U[0])*roundCorner,ue=ce-(ce-U[1])*roundCorner,L.setTripleAt(ae,ce,he,ue,pe,ge,me),me+=1,ne=A===de-1?P.v[0]:P.v[A+1],oe=(ie=Math.sqrt(Math.pow(U[0]-ne[0],2)+Math.pow(U[1]-ne[1],2)))?Math.min(ie/2,T)/ie:0,ae=he=U[0]+(ne[0]-U[0])*oe,ce=ue=U[1]+(ne[1]-U[1])*oe,pe=ae-(ae-U[0])*roundCorner,ge=ce-(ce-U[1])*roundCorner,L.setTripleAt(ae,ce,he,ue,pe,ge,me),me+=1):(L.setTripleAt(U[0],U[1],te[0],te[1],W[0],W[1],me),me+=1):(L.setTripleAt(P.v[A][0],P.v[A][1],P.o[A][0],P.o[A][1],P.i[A][0],P.i[A][1],me),me+=1);return L},RoundCornersModifier.prototype.processShapes=function(P){var T,A,L,U,W,te,ne=this.shapes.length,ie=this.rd.v;if(ie!==0)for(A=0;A<ne;A+=1){if(te=(W=this.shapes[A]).localShapeCollection,W.shape._mdf||this._mdf||P)for(te.releaseShapes(),W.shape._mdf=!0,T=W.shape.paths.shapes,U=W.shape.paths._length,L=0;L<U;L+=1)te.addShape(this.processPath(T[L],ie));W.shape.paths=W.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(P){return[((this.a[0]*P+this.b[0])*P+this.c[0])*P+this.d[0],((this.a[1]*P+this.b[1])*P+this.c[1])*P+this.d[1]]},PolynomialBezier.prototype.derivative=function(P){return[(3*P*this.a[0]+2*this.b[0])*P+this.c[0],(3*P*this.a[1]+2*this.b[1])*P+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(P){var T=this.derivative(P);return Math.atan2(T[1],T[0])},PolynomialBezier.prototype.normalAngle=function(P){var T=this.derivative(P);return Math.atan2(T[0],T[1])},PolynomialBezier.prototype.inflectionPoints=function(){var P=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(P))return[];var T=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/P,A=T*T-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/P;if(A<0)return[];var L=Math.sqrt(A);return floatZero(L)?L>0&&L<1?[T]:[]:[T-L,T+L].filter(function(U){return U>0&&U<1})},PolynomialBezier.prototype.split=function(P){if(P<=0)return[singlePoint(this.points[0]),this];if(P>=1)return[this,singlePoint(this.points[this.points.length-1])];var T=lerpPoint(this.points[0],this.points[1],P),A=lerpPoint(this.points[1],this.points[2],P),L=lerpPoint(this.points[2],this.points[3],P),U=lerpPoint(T,A,P),W=lerpPoint(A,L,P),te=lerpPoint(U,W,P);return[new PolynomialBezier(this.points[0],T,U,te,!0),new PolynomialBezier(te,W,L,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var P=this.bounds();return{left:P.x.min,right:P.x.max,top:P.y.min,bottom:P.y.max,width:P.x.max-P.x.min,height:P.y.max-P.y.min,cx:(P.x.max+P.x.min)/2,cy:(P.y.max+P.y.min)/2}},PolynomialBezier.prototype.intersections=function(P,T,A){T===void 0&&(T=2),A===void 0&&(A=7);var L=[];return intersectsImpl(intersectData(this,0,1),intersectData(P,0,1),0,T,L,A),L},PolynomialBezier.shapeSegment=function(P,T){var A=(T+1)%P.length();return new PolynomialBezier(P.v[T],P.o[T],P.i[A],P.v[A],!0)},PolynomialBezier.shapeSegmentInverted=function(P,T){var A=(T+1)%P.length();return new PolynomialBezier(P.v[A],P.i[A],P.o[T],P.v[T],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(P,T){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(P,T.s,0,null,this),this.frequency=PropertyFactory.getProp(P,T.r,0,null,this),this.pointsType=PropertyFactory.getProp(P,T.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(P,T,A,L){var U=P._length,W=shapePool.newElement();if(W.c=P.c,P.c||(U-=1),U===0)return W;var te=-1,ne=PolynomialBezier.shapeSegment(P,0);zigZagCorner(W,P,0,T,A,L,te);for(var ie=0;ie<U;ie+=1)te=zigZagSegment(W,ne,T,A,L,-te),ne=ie!==U-1||P.c?PolynomialBezier.shapeSegment(P,(ie+1)%U):null,zigZagCorner(W,P,ie+1,T,A,L,te);return W},ZigZagModifier.prototype.processShapes=function(P){var T,A,L,U,W,te,ne=this.shapes.length,ie=this.amplitude.v,oe=Math.max(0,Math.round(this.frequency.v)),ae=this.pointsType.v;if(ie!==0)for(A=0;A<ne;A+=1){if(te=(W=this.shapes[A]).localShapeCollection,W.shape._mdf||this._mdf||P)for(te.releaseShapes(),W.shape._mdf=!0,T=W.shape.paths.shapes,U=W.shape.paths._length,L=0;L<U;L+=1)te.addShape(this.processPath(T[L],ie,oe,ae));W.shape.paths=W.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(P,T){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(P,T.a,0,null,this),this.miterLimit=PropertyFactory.getProp(P,T.ml,0,null,this),this.lineJoin=T.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(P,T,A,L){var U=shapePool.newElement();U.c=P.c;var W,te,ne,ie=P.length();P.c||(ie-=1);var oe=[];for(W=0;W<ie;W+=1)ne=PolynomialBezier.shapeSegment(P,W),oe.push(offsetSegmentSplit(ne,T));if(!P.c)for(W=ie-1;W>=0;W-=1)ne=PolynomialBezier.shapeSegmentInverted(P,W),oe.push(offsetSegmentSplit(ne,T));oe=pruneIntersections(oe);var ae=null,ce=null;for(W=0;W<oe.length;W+=1){var he=oe[W];for(ce&&(ae=joinLines(U,ce,he[0],A,L)),ce=he[he.length-1],te=0;te<he.length;te+=1)ne=he[te],ae&&pointEqual(ne.points[0],ae)?U.setXYAt(ne.points[1][0],ne.points[1][1],"o",U.length()-1):U.setTripleAt(ne.points[0][0],ne.points[0][1],ne.points[1][0],ne.points[1][1],ne.points[0][0],ne.points[0][1],U.length()),U.setTripleAt(ne.points[3][0],ne.points[3][1],ne.points[3][0],ne.points[3][1],ne.points[2][0],ne.points[2][1],U.length()),ae=ne.points[3]}return oe.length&&joinLines(U,ce,oe[0][0],A,L),U},OffsetPathModifier.prototype.processShapes=function(P){var T,A,L,U,W,te,ne=this.shapes.length,ie=this.amount.v,oe=this.miterLimit.v,ae=this.lineJoin;if(ie!==0)for(A=0;A<ne;A+=1){if(te=(W=this.shapes[A]).localShapeCollection,W.shape._mdf||this._mdf||P)for(te.releaseShapes(),W.shape._mdf=!0,T=W.shape.paths.shapes,U=W.shape.paths._length,L=0;L<U;L+=1)te.addShape(this.processPath(T[L],ie,ae,oe));W.shape.paths=W.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var P={w:0,size:0,shapes:[],data:{shapes:[]}},T=[];T=T.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var A=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function L(ie,oe){var ae=createTag("span");ae.setAttribute("aria-hidden",!0),ae.style.fontFamily=oe;var ce=createTag("span");ce.innerText="giItT1WQy@!-/#",ae.style.position="absolute",ae.style.left="-10000px",ae.style.top="-10000px",ae.style.fontSize="300px",ae.style.fontVariant="normal",ae.style.fontStyle="normal",ae.style.fontWeight="normal",ae.style.letterSpacing="0",ae.appendChild(ce),document.body.appendChild(ae);var he=ce.offsetWidth;return ce.style.fontFamily=function(ue){var pe,ge=ue.split(","),de=ge.length,me=[];for(pe=0;pe<de;pe+=1)ge[pe]!=="sans-serif"&&ge[pe]!=="monospace"&&me.push(ge[pe]);return me.join(",")}(ie)+", "+oe,{node:ce,w:he,parent:ae}}function U(ie,oe){var ae,ce=document.body&&oe?"svg":"canvas",he=getFontProperties(ie);if(ce==="svg"){var ue=createNS("text");ue.style.fontSize="100px",ue.setAttribute("font-family",ie.fFamily),ue.setAttribute("font-style",he.style),ue.setAttribute("font-weight",he.weight),ue.textContent="1",ie.fClass?(ue.style.fontFamily="inherit",ue.setAttribute("class",ie.fClass)):ue.style.fontFamily=ie.fFamily,oe.appendChild(ue),ae=ue}else{var pe=new OffscreenCanvas(500,500).getContext("2d");pe.font=he.style+" "+he.weight+" 100px "+ie.fFamily,ae=pe}return{measureText:function(ge){return ce==="svg"?(ae.textContent=ge,ae.getComputedTextLength()):ae.measureText(ge).width}}}function W(ie){var oe=0,ae=ie.charCodeAt(0);if(ae>=55296&&ae<=56319){var ce=ie.charCodeAt(1);ce>=56320&&ce<=57343&&(oe=1024*(ae-55296)+ce-56320+65536)}return oe}function te(ie){var oe=W(ie);return oe>=127462&&oe<=127487}var ne=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return ne.isModifier=function(ie,oe){var ae=ie.toString(16)+oe.toString(16);return A.indexOf(ae)!==-1},ne.isZeroWidthJoiner=function(ie){return ie===8205},ne.isFlagEmoji=function(ie){return te(ie.substr(0,2))&&te(ie.substr(2,2))},ne.isRegionalCode=te,ne.isCombinedCharacter=function(ie){return T.indexOf(ie)!==-1},ne.isRegionalFlag=function(ie,oe){var ae=W(ie.substr(oe,2));if(ae!==127988)return!1;var ce=0;for(oe+=2;ce<5;){if((ae=W(ie.substr(oe,2)))<917601||ae>917626)return!1;ce+=1,oe+=2}return W(ie.substr(oe,2))===917631},ne.isVariationSelector=function(ie){return ie===65039},ne.BLACK_FLAG_CODE_POINT=127988,ne.prototype={addChars:function(ie){if(ie){var oe;this.chars||(this.chars=[]);var ae,ce,he=ie.length,ue=this.chars.length;for(oe=0;oe<he;oe+=1){for(ae=0,ce=!1;ae<ue;)this.chars[ae].style===ie[oe].style&&this.chars[ae].fFamily===ie[oe].fFamily&&this.chars[ae].ch===ie[oe].ch&&(ce=!0),ae+=1;ce||(this.chars.push(ie[oe]),ue+=1)}}},addFonts:function(ie,oe){if(ie){if(this.chars)return this.isLoaded=!0,void(this.fonts=ie.list);if(!document.body)return this.isLoaded=!0,ie.list.forEach(function(Se){Se.helper=U(Se),Se.cache={}}),void(this.fonts=ie.list);var ae,ce=ie.list,he=ce.length,ue=he;for(ae=0;ae<he;ae+=1){var pe,ge,de=!0;if(ce[ae].loaded=!1,ce[ae].monoCase=L(ce[ae].fFamily,"monospace"),ce[ae].sansCase=L(ce[ae].fFamily,"sans-serif"),ce[ae].fPath){if(ce[ae].fOrigin==="p"||ce[ae].origin===3){if((pe=document.querySelectorAll('style[f-forigin="p"][f-family="'+ce[ae].fFamily+'"], style[f-origin="3"][f-family="'+ce[ae].fFamily+'"]')).length>0&&(de=!1),de){var me=createTag("style");me.setAttribute("f-forigin",ce[ae].fOrigin),me.setAttribute("f-origin",ce[ae].origin),me.setAttribute("f-family",ce[ae].fFamily),me.type="text/css",me.innerText="@font-face {font-family: "+ce[ae].fFamily+"; font-style: normal; src: url('"+ce[ae].fPath+"');}",oe.appendChild(me)}}else if(ce[ae].fOrigin==="g"||ce[ae].origin===1){for(pe=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ge=0;ge<pe.length;ge+=1)pe[ge].href.indexOf(ce[ae].fPath)!==-1&&(de=!1);if(de){var ye=createTag("link");ye.setAttribute("f-forigin",ce[ae].fOrigin),ye.setAttribute("f-origin",ce[ae].origin),ye.type="text/css",ye.rel="stylesheet",ye.href=ce[ae].fPath,document.body.appendChild(ye)}}else if(ce[ae].fOrigin==="t"||ce[ae].origin===2){for(pe=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ge=0;ge<pe.length;ge+=1)ce[ae].fPath===pe[ge].src&&(de=!1);if(de){var xe=createTag("link");xe.setAttribute("f-forigin",ce[ae].fOrigin),xe.setAttribute("f-origin",ce[ae].origin),xe.setAttribute("rel","stylesheet"),xe.setAttribute("href",ce[ae].fPath),oe.appendChild(xe)}}}else ce[ae].loaded=!0,ue-=1;ce[ae].helper=U(ce[ae],oe),ce[ae].cache={},this.fonts.push(ce[ae])}ue===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(ie,oe,ae){for(var ce=0,he=this.chars.length;ce<he;){if(this.chars[ce].ch===ie&&this.chars[ce].style===oe&&this.chars[ce].fFamily===ae)return this.chars[ce];ce+=1}return(typeof ie=="string"&&ie.charCodeAt(0)!==13||!ie)&&console&&console.warn&&!this._warned&&(this._warned=!0),P},getFontByName:function(ie){for(var oe=0,ae=this.fonts.length;oe<ae;){if(this.fonts[oe].fName===ie)return this.fonts[oe];oe+=1}return this.fonts[0]},measureText:function(ie,oe,ae){var ce=this.getFontByName(oe),he=ie;if(!ce.cache[he]){var ue=ce.helper;if(ie===" "){var pe=ue.measureText("|"+ie+"|"),ge=ue.measureText("||");ce.cache[he]=(pe-ge)/100}else ce.cache[he]=ue.measureText(ie)/100}return ce.cache[he]*ae},checkLoadedFonts:function(){var ie,oe,ae,ce=this.fonts.length,he=ce;for(ie=0;ie<ce;ie+=1)this.fonts[ie].loaded?he-=1:this.fonts[ie].fOrigin==="n"||this.fonts[ie].origin===0?this.fonts[ie].loaded=!0:(oe=this.fonts[ie].monoCase.node,ae=this.fonts[ie].monoCase.w,oe.offsetWidth!==ae?(he-=1,this.fonts[ie].loaded=!0):(oe=this.fonts[ie].sansCase.node,ae=this.fonts[ie].sansCase.w,oe.offsetWidth!==ae&&(he-=1,this.fonts[ie].loaded=!0)),this.fonts[ie].loaded&&(this.fonts[ie].sansCase.parent.parentNode.removeChild(this.fonts[ie].sansCase.parent),this.fonts[ie].monoCase.parent.parentNode.removeChild(this.fonts[ie].monoCase.parent)));he!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},ne}();function SlotManager(P){this.animationData=P}function slotFactory(P){return new SlotManager(P)}function RenderableElement(){}SlotManager.prototype.getProp=function(P){return this.animationData.slots&&this.animationData.slots[P.sid]?Object.assign(P,this.animationData.slots[P.sid].p):P},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(P){this.renderableComponents.indexOf(P)===-1&&this.renderableComponents.push(P)},removeRenderableComponent:function(P){this.renderableComponents.indexOf(P)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(P),1)},prepareRenderableFrame:function(P){this.checkLayerLimits(P)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(P){this.data.ip-this.data.st<=P&&this.data.op-this.data.st>P?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var P,T=this.renderableComponents.length;for(P=0;P<T;P+=1)this.renderableComponents[P].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(P){return blendModeEnums[P]||""}),blendModeEnums;function SliderEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,0,0,A)}function AngleEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,0,0,A)}function ColorEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,1,0,A)}function PointEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,1,0,A)}function LayerIndexEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,0,0,A)}function MaskIndexEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,0,0,A)}function CheckboxEffect(P,T,A){this.p=PropertyFactory.getProp(T,P.v,0,0,A)}function NoValueEffect(){this.p={}}function EffectsManager(P,T){var A,L=P.ef||[];this.effectElements=[];var U,W=L.length;for(A=0;A<W;A+=1)U=new GroupEffect(L[A],T),this.effectElements.push(U)}function GroupEffect(P,T){this.init(P,T)}function BaseElement(){}function FrameElement(){}function FootageElement(P,T,A){this.initFrame(),this.initRenderable(),this.assetData=T.getAssetData(P.refId),this.footageData=T.imageLoader.getAsset(this.assetData),this.initBaseData(P,T,A)}function AudioElement(P,T,A){this.initFrame(),this.initRenderable(),this.assetData=T.getAssetData(P.refId),this.initBaseData(P,T,A),this._isPlaying=!1,this._canPlay=!1;var L=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(L),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=P.tm?PropertyFactory.getProp(this,P.tm,0,T.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,P.au&&P.au.lv?P.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(P,T){var A;this.data=P,this.effectElements=[],this.initDynamicPropertyContainer(T);var L,U=this.data.ef.length,W=this.data.ef;for(A=0;A<U;A+=1){switch(L=null,W[A].ty){case 0:L=new SliderEffect(W[A],T,this);break;case 1:L=new AngleEffect(W[A],T,this);break;case 2:L=new ColorEffect(W[A],T,this);break;case 3:L=new PointEffect(W[A],T,this);break;case 4:case 7:L=new CheckboxEffect(W[A],T,this);break;case 10:L=new LayerIndexEffect(W[A],T,this);break;case 11:L=new MaskIndexEffect(W[A],T,this);break;case 5:L=new EffectsManager(W[A],T);break;default:L=new NoValueEffect(W[A])}L&&this.effectElements.push(L)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var P=0,T=this.data.masksProperties.length;P<T;){if(this.data.masksProperties[P].mode!=="n"&&this.data.masksProperties[P].cl!==!1)return!0;P+=1}return!1},initExpressions:function(){var P=getExpressionInterfaces();if(P){var T=P("layer"),A=P("effects"),L=P("shape"),U=P("text"),W=P("comp");this.layerInterface=T(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var te=A.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(te),this.data.ty===0||this.data.xt?this.compInterface=W(this):this.data.ty===4?(this.layerInterface.shapeInterface=L(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=U(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var P=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=P},initBaseData:function(P,T,A){this.globalData=T,this.comp=A,this.data=P,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(P,T){var A,L=this.dynamicProperties.length;for(A=0;A<L;A+=1)(T||this._isParent&&this.dynamicProperties[A].propType==="transform")&&(this.dynamicProperties[A].getValue(),this.dynamicProperties[A]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(P){this.dynamicProperties.indexOf(P)===-1&&this.dynamicProperties.push(P)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var P=getExpressionInterfaces();if(P){var T=P("footage");this.layerInterface=T(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(P){if(this.prepareRenderableFrame(P,!0),this.prepareProperties(P,!0),this.tm._placeholder)this._currentTime=P/this.data.sr;else{var T=this.tm.v;this._currentTime=T}this._volume=this.lv.v[0];var A=this._volume*this._volumeMultiplier;this._previousVolume!==A&&(this._previousVolume=A,this.audio.volume(A))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(P){this.audio.rate(P)},AudioElement.prototype.volume=function(P){this._volumeMultiplier=P,this._previousVolume=P*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(P){var T,A,L=this.layers.length;for(this.completeLayers=!0,T=L-1;T>=0;T-=1)this.elements[T]||(A=this.layers[T]).ip-A.st<=P-this.layers[T].st&&A.op-A.st>P-this.layers[T].st&&this.buildItem(T),this.completeLayers=!!this.elements[T]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(P){switch(P.ty){case 2:return this.createImage(P);case 0:return this.createComp(P);case 1:return this.createSolid(P);case 3:return this.createNull(P);case 4:return this.createShape(P);case 5:return this.createText(P);case 6:return this.createAudio(P);case 13:return this.createCamera(P);case 15:return this.createFootage(P);default:return this.createNull(P)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(P){return new AudioElement(P,this.globalData,this)},BaseRenderer.prototype.createFootage=function(P){return new FootageElement(P,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var P,T=this.layers.length;for(P=0;P<T;P+=1)this.buildItem(P);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(P){var T;this.completeLayers=!1;var A,L=P.length,U=this.layers.length;for(T=0;T<L;T+=1)for(A=0;A<U;){if(this.layers[A].id===P[T].id){this.layers[A]=P[T];break}A+=1}},BaseRenderer.prototype.setProjectInterface=function(P){this.globalData.projectInterface=P},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(P,T,A){for(var L=this.elements,U=this.layers,W=0,te=U.length;W<te;)U[W].ind==T&&(L[W]&&L[W]!==!0?(A.push(L[W]),L[W].setAsParent(),U[W].parent!==void 0?this.buildElementParenting(P,U[W].parent,A):P.setHierarchy(A)):(this.buildItem(W),this.addPendingElement(P))),W+=1},BaseRenderer.prototype.addPendingElement=function(P){this.pendingElements.push(P)},BaseRenderer.prototype.searchExtraCompositions=function(P){var T,A=P.length;for(T=0;T<A;T+=1)if(P[T].xt){var L=this.createComp(P[T]);L.initExpressions(),this.globalData.projectInterface.registerComposition(L)}},BaseRenderer.prototype.getElementById=function(P){var T,A=this.elements.length;for(T=0;T<A;T+=1)if(this.elements[T].data.ind===P)return this.elements[T];return null},BaseRenderer.prototype.getElementByPath=function(P){var T,A=P.shift();if(typeof A=="number")T=this.elements[A];else{var L,U=this.elements.length;for(L=0;L<U;L+=1)if(this.elements[L].data.nm===A){T=this.elements[L];break}}return P.length===0?T:T.getElementByPath(P)},BaseRenderer.prototype.setupGlobalData=function(P,T){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(P),this.globalData.fontManager.addChars(P.chars),this.globalData.fontManager.addFonts(P.fonts,T),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=P.fr,this.globalData.nm=P.nm,this.globalData.compSize={w:P.w,h:P.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(P,T,A){this.data=P,this.element=T,this.globalData=A,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var L,U,W=this.globalData.defs,te=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(te),this.solidPath="";var ne,ie,oe,ae,ce,he,ue=this.masksProperties,pe=0,ge=[],de=createElementID(),me="clipPath",ye="clip-path";for(L=0;L<te;L+=1)if((ue[L].mode!=="a"&&ue[L].mode!=="n"||ue[L].inv||ue[L].o.k!==100||ue[L].o.x)&&(me="mask",ye="mask"),ue[L].mode!=="s"&&ue[L].mode!=="i"||pe!==0?oe=null:((oe=createNS("rect")).setAttribute("fill","#ffffff"),oe.setAttribute("width",this.element.comp.data.w||0),oe.setAttribute("height",this.element.comp.data.h||0),ge.push(oe)),U=createNS("path"),ue[L].mode==="n")this.viewData[L]={op:PropertyFactory.getProp(this.element,ue[L].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ue[L],3),elem:U,lastPath:""},W.appendChild(U);else{var xe;if(pe+=1,U.setAttribute("fill",ue[L].mode==="s"?"#000000":"#ffffff"),U.setAttribute("clip-rule","nonzero"),ue[L].x.k!==0?(me="mask",ye="mask",he=PropertyFactory.getProp(this.element,ue[L].x,0,null,this.element),xe=createElementID(),(ae=createNS("filter")).setAttribute("id",xe),(ce=createNS("feMorphology")).setAttribute("operator","erode"),ce.setAttribute("in","SourceGraphic"),ce.setAttribute("radius","0"),ae.appendChild(ce),W.appendChild(ae),U.setAttribute("stroke",ue[L].mode==="s"?"#000000":"#ffffff")):(ce=null,he=null),this.storedData[L]={elem:U,x:he,expan:ce,lastPath:"",lastOperator:"",filterId:xe,lastRadius:0},ue[L].mode==="i"){ie=ge.length;var Se=createNS("g");for(ne=0;ne<ie;ne+=1)Se.appendChild(ge[ne]);var Te=createNS("mask");Te.setAttribute("mask-type","alpha"),Te.setAttribute("id",de+"_"+pe),Te.appendChild(U),W.appendChild(Te),Se.setAttribute("mask","url("+getLocationHref()+"#"+de+"_"+pe+")"),ge.length=0,ge.push(Se)}else ge.push(U);ue[L].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[L]={elem:U,lastPath:"",op:PropertyFactory.getProp(this.element,ue[L].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ue[L],3),invRect:oe},this.viewData[L].prop.k||this.drawPath(ue[L],this.viewData[L].prop.v,this.viewData[L])}for(this.maskElement=createNS(me),te=ge.length,L=0;L<te;L+=1)this.maskElement.appendChild(ge[L]);pe>0&&(this.maskElement.setAttribute("id",de),this.element.maskedElement.setAttribute(ye,"url("+getLocationHref()+"#"+de+")"),W.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var P=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:P,localMat:P,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var P,T=this.finalTransform.mat,A=0,L=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;A<L;){if(this.hierarchy[A].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}A+=1}if(this.finalTransform._matMdf)for(P=this.finalTransform.mProp.v.props,T.cloneFromProps(P),A=0;A<L;A+=1)T.multiply(this.hierarchy[A].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var P=0,T=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;P<T;)this.localTransforms[P]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[P]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),P+=1;if(this.finalTransform._localMatMdf){var A=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(A),P=1;P<T;P+=1){var L=this.localTransforms[P].matrix;A.multiply(L)}A.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var U=this.finalTransform.localOpacity;for(P=0;P<T;P+=1)U*=.01*this.localTransforms[P].opacity;this.finalTransform.localOpacity=U}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var P=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(P.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var T=0,A=P.length;for(T=0;T<A;T+=1)this.localTransforms.push(P[T])}}},globalToLocal:function(P){var T=[];T.push(this.finalTransform);for(var A,L=!0,U=this.comp;L;)U.finalTransform?(U.data.hasMask&&T.splice(0,0,U.finalTransform),U=U.comp):L=!1;var W,te=T.length;for(A=0;A<te;A+=1)W=T[A].mat.applyToPointArray(0,0,0),P=[P[0]-W[0],P[1]-W[1],0];return P},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(P){return this.viewData[P].prop},MaskElement.prototype.renderFrame=function(P){var T,A=this.element.finalTransform.mat,L=this.masksProperties.length;for(T=0;T<L;T+=1)if((this.viewData[T].prop._mdf||P)&&this.drawPath(this.masksProperties[T],this.viewData[T].prop.v,this.viewData[T]),(this.viewData[T].op._mdf||P)&&this.viewData[T].elem.setAttribute("fill-opacity",this.viewData[T].op.v),this.masksProperties[T].mode!=="n"&&(this.viewData[T].invRect&&(this.element.finalTransform.mProp._mdf||P)&&this.viewData[T].invRect.setAttribute("transform",A.getInverseMatrix().to2dCSS()),this.storedData[T].x&&(this.storedData[T].x._mdf||P))){var U=this.storedData[T].expan;this.storedData[T].x.v<0?(this.storedData[T].lastOperator!=="erode"&&(this.storedData[T].lastOperator="erode",this.storedData[T].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[T].filterId+")")),U.setAttribute("radius",-this.storedData[T].x.v)):(this.storedData[T].lastOperator!=="dilate"&&(this.storedData[T].lastOperator="dilate",this.storedData[T].elem.setAttribute("filter",null)),this.storedData[T].elem.setAttribute("stroke-width",2*this.storedData[T].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var P="M0,0 ";return P+=" h"+this.globalData.compSize.w,P+=" v"+this.globalData.compSize.h,P+=" h-"+this.globalData.compSize.w,P+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(P,T,A){var L,U,W=" M"+T.v[0][0]+","+T.v[0][1];for(U=T._length,L=1;L<U;L+=1)W+=" C"+T.o[L-1][0]+","+T.o[L-1][1]+" "+T.i[L][0]+","+T.i[L][1]+" "+T.v[L][0]+","+T.v[L][1];if(T.c&&U>1&&(W+=" C"+T.o[L-1][0]+","+T.o[L-1][1]+" "+T.i[0][0]+","+T.i[0][1]+" "+T.v[0][0]+","+T.v[0][1]),A.lastPath!==W){var te="";A.elem&&(T.c&&(te=P.inv?this.solidPath+W:W),A.elem.setAttribute("d",te)),A.lastPath=W}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var P={};return P.createFilter=function(T,A){var L=createNS("filter");return L.setAttribute("id",T),A!==!0&&(L.setAttribute("filterUnits","objectBoundingBox"),L.setAttribute("x","0%"),L.setAttribute("y","0%"),L.setAttribute("width","100%"),L.setAttribute("height","100%")),L},P.createAlphaToLuminanceFilter=function(){var T=createNS("feColorMatrix");return T.setAttribute("type","matrix"),T.setAttribute("color-interpolation-filters","sRGB"),T.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),T},P}(),featureSupport=function(){var P={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(P.maskType=!1),/firefox/i.test(navigator.userAgent)&&(P.svgLumaHidden=!1),P}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(P){var T,A,L="SourceGraphic",U=P.data.ef?P.data.ef.length:0,W=createElementID(),te=filtersFactory.createFilter(W,!0),ne=0;for(this.filters=[],T=0;T<U;T+=1){A=null;var ie=P.data.ef[T].ty;registeredEffects$1[ie]&&(A=new registeredEffects$1[ie].effect(te,P.effectsManager.effectElements[T],P,idPrefix+ne,L),L=idPrefix+ne,registeredEffects$1[ie].countsAsEffect&&(ne+=1)),A&&this.filters.push(A)}ne&&(P.globalData.defs.appendChild(te),P.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+W+")")),this.filters.length&&P.addRenderableComponent(this)}function registerEffect$1(P,T,A){registeredEffects$1[P]={effect:T,countsAsEffect:A}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(P,T,A){this.assetData=T.getAssetData(P.refId),this.assetData&&this.assetData.sid&&(this.assetData=T.slotManager.getProp(this.assetData)),this.initElement(P,T,A),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(P,T){this.elem=P,this.pos=T}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(P){var T,A=this.filters.length;for(T=0;T<A;T+=1)this.filters[T].renderFrame(P)},SVGEffects.prototype.getEffects=function(P){var T,A=this.filters.length,L=[];for(T=0;T<A;T+=1)this.filters[T].type===P&&L.push(this.filters[T]);return L},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var P=null;if(this.data.td){this.matteMasks={};var T=createNS("g");T.setAttribute("id",this.layerId),T.appendChild(this.layerElement),P=T,this.globalData.defs.appendChild(T)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),P=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var A=createNS("clipPath"),L=createNS("path");L.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var U=createElementID();if(A.setAttribute("id",U),A.appendChild(L),this.globalData.defs.appendChild(A),this.checkMasks()){var W=createNS("g");W.setAttribute("clip-path","url("+getLocationHref()+"#"+U+")"),W.appendChild(this.layerElement),this.transformedElement=W,P?P.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+U+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(P){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[P]){var T,A,L,U,W=this.layerId+"_"+P;if(P===1||P===3){var te=createNS("mask");te.setAttribute("id",W),te.setAttribute("mask-type",P===3?"luminance":"alpha"),(L=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),te.appendChild(L),this.globalData.defs.appendChild(te),featureSupport.maskType||P!==1||(te.setAttribute("mask-type","luminance"),T=createElementID(),A=filtersFactory.createFilter(T),this.globalData.defs.appendChild(A),A.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(U=createNS("g")).appendChild(L),te.appendChild(U),U.setAttribute("filter","url("+getLocationHref()+"#"+T+")"))}else if(P===2){var ne=createNS("mask");ne.setAttribute("id",W),ne.setAttribute("mask-type","alpha");var ie=createNS("g");ne.appendChild(ie),T=createElementID(),A=filtersFactory.createFilter(T);var oe=createNS("feComponentTransfer");oe.setAttribute("in","SourceGraphic"),A.appendChild(oe);var ae=createNS("feFuncA");ae.setAttribute("type","table"),ae.setAttribute("tableValues","1.0 0.0"),oe.appendChild(ae),this.globalData.defs.appendChild(A);var ce=createNS("rect");ce.setAttribute("width",this.comp.data.w),ce.setAttribute("height",this.comp.data.h),ce.setAttribute("x","0"),ce.setAttribute("y","0"),ce.setAttribute("fill","#ffffff"),ce.setAttribute("opacity","0"),ie.setAttribute("filter","url("+getLocationHref()+"#"+T+")"),ie.appendChild(ce),(L=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ie.appendChild(L),featureSupport.maskType||(ne.setAttribute("mask-type","luminance"),A.appendChild(filtersFactory.createAlphaToLuminanceFilter()),U=createNS("g"),ie.appendChild(ce),U.appendChild(this.layerElement),ie.appendChild(U)),this.globalData.defs.appendChild(ne)}this.matteMasks[P]=W}return this.matteMasks[P]},setMatte:function(P){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+P+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(P){this.hierarchy=P},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(P,T,A){this.initFrame(),this.initBaseData(P,T,A),this.initTransform(P,T,A),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(P){this._mdf=!1,this.prepareRenderableFrame(P),this.prepareProperties(P,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var P=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",P),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(P){var T,A=this.shapeModifiers.length;for(T=0;T<A;T+=1)this.shapeModifiers[T].addShape(P)},isShapeInAnimatedModifiers:function(P){for(var T=this.shapeModifiers.length;0<T;)if(this.shapeModifiers[0].isAnimatedWithShape(P))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var P,T=this.shapes.length;for(P=0;P<T;P+=1)this.shapes[P].sh.reset();for(P=(T=this.shapeModifiers.length)-1;P>=0&&!this.shapeModifiers[P].processShapes(this._isFirstFrame);P-=1);}},searchProcessedElement:function(P){for(var T=this.processedElements,A=0,L=T.length;A<L;){if(T[A].elem===P)return T[A].pos;A+=1}return 0},addProcessedElement:function(P,T){for(var A=this.processedElements,L=A.length;L;)if(A[L-=1].elem===P)return void(A[L].pos=T);A.push(new ProcessedElement(P,T))},prepareFrame:function(P){this.prepareRenderableFrame(P),this.prepareProperties(P,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(P,T,A){this.caches=[],this.styles=[],this.transformers=P,this.lStr="",this.sh=A,this.lvl=T,this._isAnimated=!!A.k;for(var L=0,U=P.length;L<U;){if(P[L].mProps.dynamicProperties.length){this._isAnimated=!0;break}L+=1}}function SVGStyleData(P,T){this.data=P,this.type=P.ty,this.d="",this.lvl=T,this._mdf=!1,this.closed=P.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(P,T,A,L){var U;this.elem=P,this.frameId=-1,this.dataProps=createSizedArray(T.length),this.renderer=A,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",T.length?T.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(L);var W,te=T.length||0;for(U=0;U<te;U+=1)W=PropertyFactory.getProp(P,T[U].v,0,0,this),this.k=W.k||this.k,this.dataProps[U]={n:T[U].n,p:W};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(P,T,A){this.initDynamicPropertyContainer(P),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(P,T.o,0,.01,this),this.w=PropertyFactory.getProp(P,T.w,0,null,this),this.d=new DashProperty(P,T.d||{},"svg",this),this.c=PropertyFactory.getProp(P,T.c,1,255,this),this.style=A,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(P,T,A){this.initDynamicPropertyContainer(P),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(P,T.o,0,.01,this),this.c=PropertyFactory.getProp(P,T.c,1,255,this),this.style=A}function SVGNoStyleData(P,T,A){this.initDynamicPropertyContainer(P),this.getValue=this.iterateDynamicProperties,this.style=A}function GradientProperty(P,T,A){this.data=T,this.c=createTypedArray("uint8c",4*T.p);var L=T.k.k[0].s?T.k.k[0].s.length-4*T.p:T.k.k.length-4*T.p;this.o=createTypedArray("float32",L),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=L,this.initDynamicPropertyContainer(A),this.prop=PropertyFactory.getProp(P,T.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(P,T,A){this.initDynamicPropertyContainer(P),this.getValue=this.iterateDynamicProperties,this.initGradientData(P,T,A)}function SVGGradientStrokeStyleData(P,T,A){this.initDynamicPropertyContainer(P),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(P,T.w,0,null,this),this.d=new DashProperty(P,T.d||{},"svg",this),this.initGradientData(P,T,A),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(P,T,A){this.transform={mProps:P,op:T,container:A},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(P){if((this.elem.globalData.frameId!==this.frameId||P)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||P,this._mdf)){var T=0,A=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),T=0;T<A;T+=1)this.dataProps[T].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[T].p.v:this.dashArray[T]=this.dataProps[T].p.v:this.dashoffset[0]=this.dataProps[T].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(P,T){for(var A=0,L=this.o.length/2;A<L;){if(Math.abs(P[4*A]-P[4*T+2*A])>.01)return!1;A+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var P=0,T=this.data.k.k.length;P<T;){if(!this.comparePoints(this.data.k.k[P].s,this.data.p))return!1;P+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(P){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||P){var T,A,L,U=4*this.data.p;for(T=0;T<U;T+=1)A=T%4==0?100:255,L=Math.round(this.prop.v[T]*A),this.c[T]!==L&&(this.c[T]=L,this._cmdf=!P);if(this.o.length)for(U=this.prop.v.length,T=4*this.data.p;T<U;T+=1)A=T%2==0?100:1,L=T%2==0?Math.round(100*this.prop.v[T]):this.prop.v[T],this.o[T-4*this.data.p]!==L&&(this.o[T-4*this.data.p]=L,this._omdf=!P);this._mdf=!P}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(P,T,A){this.o=PropertyFactory.getProp(P,T.o,0,.01,this),this.s=PropertyFactory.getProp(P,T.s,1,null,this),this.e=PropertyFactory.getProp(P,T.e,1,null,this),this.h=PropertyFactory.getProp(P,T.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(P,T.a||{k:0},0,degToRads,this),this.g=new GradientProperty(P,T.g,this),this.style=A,this.stops=[],this.setGradientData(A.pElem,T),this.setGradientOpacity(T,A),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(P,T){var A=createElementID(),L=createNS(T.t===1?"linearGradient":"radialGradient");L.setAttribute("id",A),L.setAttribute("spreadMethod","pad"),L.setAttribute("gradientUnits","userSpaceOnUse");var U,W,te,ne=[];for(te=4*T.g.p,W=0;W<te;W+=4)U=createNS("stop"),L.appendChild(U),ne.push(U);P.setAttribute(T.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+A+")"),this.gf=L,this.cst=ne},SVGGradientFillStyleData.prototype.setGradientOpacity=function(P,T){if(this.g._hasOpacity&&!this.g._collapsable){var A,L,U,W=createNS("mask"),te=createNS("path");W.appendChild(te);var ne=createElementID(),ie=createElementID();W.setAttribute("id",ie);var oe=createNS(P.t===1?"linearGradient":"radialGradient");oe.setAttribute("id",ne),oe.setAttribute("spreadMethod","pad"),oe.setAttribute("gradientUnits","userSpaceOnUse"),U=P.g.k.k[0].s?P.g.k.k[0].s.length:P.g.k.k.length;var ae=this.stops;for(L=4*P.g.p;L<U;L+=2)(A=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),oe.appendChild(A),ae.push(A);te.setAttribute(P.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ne+")"),P.ty==="gs"&&(te.setAttribute("stroke-linecap",lineCapEnum[P.lc||2]),te.setAttribute("stroke-linejoin",lineJoinEnum[P.lj||2]),P.lj===1&&te.setAttribute("stroke-miterlimit",P.ml)),this.of=oe,this.ms=W,this.ost=ae,this.maskId=ie,T.msElem=te}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(P,T,A,L){if(T===0)return"";var U,W=P.o,te=P.i,ne=P.v,ie=" M"+L.applyToPointStringified(ne[0][0],ne[0][1]);for(U=1;U<T;U+=1)ie+=" C"+L.applyToPointStringified(W[U-1][0],W[U-1][1])+" "+L.applyToPointStringified(te[U][0],te[U][1])+" "+L.applyToPointStringified(ne[U][0],ne[U][1]);return A&&T&&(ie+=" C"+L.applyToPointStringified(W[U-1][0],W[U-1][1])+" "+L.applyToPointStringified(te[0][0],te[0][1])+" "+L.applyToPointStringified(ne[0][0],ne[0][1]),ie+="z"),ie},SVGElementsRenderer=function(){var P=new Matrix,T=new Matrix;function A(oe,ae,ce){(ce||ae.transform.op._mdf)&&ae.transform.container.setAttribute("opacity",ae.transform.op.v),(ce||ae.transform.mProps._mdf)&&ae.transform.container.setAttribute("transform",ae.transform.mProps.v.to2dCSS())}function L(){}function U(oe,ae,ce){var he,ue,pe,ge,de,me,ye,xe,Se,Te,be=ae.styles.length,Pe=ae.lvl;for(me=0;me<be;me+=1){if(ge=ae.sh._mdf||ce,ae.styles[me].lvl<Pe){for(xe=T.reset(),Se=Pe-ae.styles[me].lvl,Te=ae.transformers.length-1;!ge&&Se>0;)ge=ae.transformers[Te].mProps._mdf||ge,Se-=1,Te-=1;if(ge)for(Se=Pe-ae.styles[me].lvl,Te=ae.transformers.length-1;Se>0;)xe.multiply(ae.transformers[Te].mProps.v),Se-=1,Te-=1}else xe=P;if(ue=(ye=ae.sh.paths)._length,ge){for(pe="",he=0;he<ue;he+=1)(de=ye.shapes[he])&&de._length&&(pe+=buildShapeString(de,de._length,de.c,xe));ae.caches[me]=pe}else pe=ae.caches[me];ae.styles[me].d+=oe.hd===!0?"":pe,ae.styles[me]._mdf=ge||ae.styles[me]._mdf}}function W(oe,ae,ce){var he=ae.style;(ae.c._mdf||ce)&&he.pElem.setAttribute("fill","rgb("+bmFloor(ae.c.v[0])+","+bmFloor(ae.c.v[1])+","+bmFloor(ae.c.v[2])+")"),(ae.o._mdf||ce)&&he.pElem.setAttribute("fill-opacity",ae.o.v)}function te(oe,ae,ce){ne(oe,ae,ce),ie(oe,ae,ce)}function ne(oe,ae,ce){var he,ue,pe,ge,de,me=ae.gf,ye=ae.g._hasOpacity,xe=ae.s.v,Se=ae.e.v;if(ae.o._mdf||ce){var Te=oe.ty==="gf"?"fill-opacity":"stroke-opacity";ae.style.pElem.setAttribute(Te,ae.o.v)}if(ae.s._mdf||ce){var be=oe.t===1?"x1":"cx",Pe=be==="x1"?"y1":"cy";me.setAttribute(be,xe[0]),me.setAttribute(Pe,xe[1]),ye&&!ae.g._collapsable&&(ae.of.setAttribute(be,xe[0]),ae.of.setAttribute(Pe,xe[1]))}if(ae.g._cmdf||ce){he=ae.cst;var Ie=ae.g.c;for(pe=he.length,ue=0;ue<pe;ue+=1)(ge=he[ue]).setAttribute("offset",Ie[4*ue]+"%"),ge.setAttribute("stop-color","rgb("+Ie[4*ue+1]+","+Ie[4*ue+2]+","+Ie[4*ue+3]+")")}if(ye&&(ae.g._omdf||ce)){var De=ae.g.o;for(pe=(he=ae.g._collapsable?ae.cst:ae.ost).length,ue=0;ue<pe;ue+=1)ge=he[ue],ae.g._collapsable||ge.setAttribute("offset",De[2*ue]+"%"),ge.setAttribute("stop-opacity",De[2*ue+1])}if(oe.t===1)(ae.e._mdf||ce)&&(me.setAttribute("x2",Se[0]),me.setAttribute("y2",Se[1]),ye&&!ae.g._collapsable&&(ae.of.setAttribute("x2",Se[0]),ae.of.setAttribute("y2",Se[1])));else if((ae.s._mdf||ae.e._mdf||ce)&&(de=Math.sqrt(Math.pow(xe[0]-Se[0],2)+Math.pow(xe[1]-Se[1],2)),me.setAttribute("r",de),ye&&!ae.g._collapsable&&ae.of.setAttribute("r",de)),ae.e._mdf||ae.h._mdf||ae.a._mdf||ce){de||(de=Math.sqrt(Math.pow(xe[0]-Se[0],2)+Math.pow(xe[1]-Se[1],2)));var we=Math.atan2(Se[1]-xe[1],Se[0]-xe[0]),Fe=ae.h.v;Fe>=1?Fe=.99:Fe<=-1&&(Fe=-.99);var Ge=de*Fe,He=Math.cos(we+ae.a.v)*Ge+xe[0],je=Math.sin(we+ae.a.v)*Ge+xe[1];me.setAttribute("fx",He),me.setAttribute("fy",je),ye&&!ae.g._collapsable&&(ae.of.setAttribute("fx",He),ae.of.setAttribute("fy",je))}}function ie(oe,ae,ce){var he=ae.style,ue=ae.d;ue&&(ue._mdf||ce)&&ue.dashStr&&(he.pElem.setAttribute("stroke-dasharray",ue.dashStr),he.pElem.setAttribute("stroke-dashoffset",ue.dashoffset[0])),ae.c&&(ae.c._mdf||ce)&&he.pElem.setAttribute("stroke","rgb("+bmFloor(ae.c.v[0])+","+bmFloor(ae.c.v[1])+","+bmFloor(ae.c.v[2])+")"),(ae.o._mdf||ce)&&he.pElem.setAttribute("stroke-opacity",ae.o.v),(ae.w._mdf||ce)&&(he.pElem.setAttribute("stroke-width",ae.w.v),he.msElem&&he.msElem.setAttribute("stroke-width",ae.w.v))}return{createRenderFunction:function(oe){switch(oe.ty){case"fl":return W;case"gf":return ne;case"gs":return te;case"st":return ie;case"sh":case"el":case"rc":case"sr":return U;case"tr":return A;case"no":return L;default:return null}}}}();function SVGShapeElement(P,T,A){this.shapes=[],this.shapesData=P.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(P,T,A),this.prevViewData=[]}function LetterProps(P,T,A,L,U,W){this.o=P,this.sw=T,this.sc=A,this.fc=L,this.m=U,this.p=W,this._mdf={o:!0,sw:!!T,sc:!!A,fc:!!L,m:!0,p:!0}}function TextProperty(P,T){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,T.d&&T.d.sid&&(T.d=P.globalData.slotManager.getProp(T.d)),this.data=T,this.elem=P,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var P,T,A,L,U=this.shapes.length,W=this.stylesList.length,te=[],ne=!1;for(A=0;A<W;A+=1){for(L=this.stylesList[A],ne=!1,te.length=0,P=0;P<U;P+=1)(T=this.shapes[P]).styles.indexOf(L)!==-1&&(te.push(T),ne=T._isAnimated||ne);te.length>1&&ne&&this.setShapesAsAnimated(te)}},SVGShapeElement.prototype.setShapesAsAnimated=function(P){var T,A=P.length;for(T=0;T<A;T+=1)P[T].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(P,T){var A,L=new SVGStyleData(P,T),U=L.pElem;return P.ty==="st"?A=new SVGStrokeStyleData(this,P,L):P.ty==="fl"?A=new SVGFillStyleData(this,P,L):P.ty==="gf"||P.ty==="gs"?(A=new(P.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,P,L),this.globalData.defs.appendChild(A.gf),A.maskId&&(this.globalData.defs.appendChild(A.ms),this.globalData.defs.appendChild(A.of),U.setAttribute("mask","url("+getLocationHref()+"#"+A.maskId+")"))):P.ty==="no"&&(A=new SVGNoStyleData(this,P,L)),P.ty!=="st"&&P.ty!=="gs"||(U.setAttribute("stroke-linecap",lineCapEnum[P.lc||2]),U.setAttribute("stroke-linejoin",lineJoinEnum[P.lj||2]),U.setAttribute("fill-opacity","0"),P.lj===1&&U.setAttribute("stroke-miterlimit",P.ml)),P.r===2&&U.setAttribute("fill-rule","evenodd"),P.ln&&U.setAttribute("id",P.ln),P.cl&&U.setAttribute("class",P.cl),P.bm&&(U.style["mix-blend-mode"]=getBlendMode(P.bm)),this.stylesList.push(L),this.addToAnimatedContents(P,A),A},SVGShapeElement.prototype.createGroupElement=function(P){var T=new ShapeGroupData;return P.ln&&T.gr.setAttribute("id",P.ln),P.cl&&T.gr.setAttribute("class",P.cl),P.bm&&(T.gr.style["mix-blend-mode"]=getBlendMode(P.bm)),T},SVGShapeElement.prototype.createTransformElement=function(P,T){var A=TransformPropertyFactory.getTransformProperty(this,P,this),L=new SVGTransformData(A,A.o,T);return this.addToAnimatedContents(P,L),L},SVGShapeElement.prototype.createShapeElement=function(P,T,A){var L=4;P.ty==="rc"?L=5:P.ty==="el"?L=6:P.ty==="sr"&&(L=7);var U=new SVGShapeData(T,A,ShapePropertyFactory.getShapeProp(this,P,L,this));return this.shapes.push(U),this.addShapeToModifiers(U),this.addToAnimatedContents(P,U),U},SVGShapeElement.prototype.addToAnimatedContents=function(P,T){for(var A=0,L=this.animatedContents.length;A<L;){if(this.animatedContents[A].element===T)return;A+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(P),element:T,data:P})},SVGShapeElement.prototype.setElementStyles=function(P){var T,A=P.styles,L=this.stylesList.length;for(T=0;T<L;T+=1)this.stylesList[T].closed||A.push(this.stylesList[T])},SVGShapeElement.prototype.reloadShapes=function(){var P;this._isFirstFrame=!0;var T=this.itemsData.length;for(P=0;P<T;P+=1)this.prevViewData[P]=this.itemsData[P];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),T=this.dynamicProperties.length,P=0;P<T;P+=1)this.dynamicProperties[P].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(P,T,A,L,U,W,te){var ne,ie,oe,ae,ce,he,ue=[].concat(W),pe=P.length-1,ge=[],de=[];for(ne=pe;ne>=0;ne-=1){if((he=this.searchProcessedElement(P[ne]))?T[ne]=A[he-1]:P[ne]._render=te,P[ne].ty==="fl"||P[ne].ty==="st"||P[ne].ty==="gf"||P[ne].ty==="gs"||P[ne].ty==="no")he?T[ne].style.closed=!1:T[ne]=this.createStyleElement(P[ne],U),P[ne]._render&&T[ne].style.pElem.parentNode!==L&&L.appendChild(T[ne].style.pElem),ge.push(T[ne].style);else if(P[ne].ty==="gr"){if(he)for(oe=T[ne].it.length,ie=0;ie<oe;ie+=1)T[ne].prevViewData[ie]=T[ne].it[ie];else T[ne]=this.createGroupElement(P[ne]);this.searchShapes(P[ne].it,T[ne].it,T[ne].prevViewData,T[ne].gr,U+1,ue,te),P[ne]._render&&T[ne].gr.parentNode!==L&&L.appendChild(T[ne].gr)}else P[ne].ty==="tr"?(he||(T[ne]=this.createTransformElement(P[ne],L)),ae=T[ne].transform,ue.push(ae)):P[ne].ty==="sh"||P[ne].ty==="rc"||P[ne].ty==="el"||P[ne].ty==="sr"?(he||(T[ne]=this.createShapeElement(P[ne],ue,U)),this.setElementStyles(T[ne])):P[ne].ty==="tm"||P[ne].ty==="rd"||P[ne].ty==="ms"||P[ne].ty==="pb"||P[ne].ty==="zz"||P[ne].ty==="op"?(he?(ce=T[ne]).closed=!1:((ce=ShapeModifiers.getModifier(P[ne].ty)).init(this,P[ne]),T[ne]=ce,this.shapeModifiers.push(ce)),de.push(ce)):P[ne].ty==="rp"&&(he?(ce=T[ne]).closed=!0:(ce=ShapeModifiers.getModifier(P[ne].ty),T[ne]=ce,ce.init(this,P,ne,T),this.shapeModifiers.push(ce),te=!1),de.push(ce));this.addProcessedElement(P[ne],ne+1)}for(pe=ge.length,ne=0;ne<pe;ne+=1)ge[ne].closed=!0;for(pe=de.length,ne=0;ne<pe;ne+=1)de[ne].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var P;this.renderModifiers();var T=this.stylesList.length;for(P=0;P<T;P+=1)this.stylesList[P].reset();for(this.renderShape(),P=0;P<T;P+=1)(this.stylesList[P]._mdf||this._isFirstFrame)&&(this.stylesList[P].msElem&&(this.stylesList[P].msElem.setAttribute("d",this.stylesList[P].d),this.stylesList[P].d="M0 0"+this.stylesList[P].d),this.stylesList[P].pElem.setAttribute("d",this.stylesList[P].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var P,T,A=this.animatedContents.length;for(P=0;P<A;P+=1)T=this.animatedContents[P],(this._isFirstFrame||T.element._isAnimated)&&T.data!==!0&&T.fn(T.data,T.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(P,T,A,L,U,W){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var te=!1;return this.o!==P&&(this.o=P,this._mdf.o=!0,te=!0),this.sw!==T&&(this.sw=T,this._mdf.sw=!0,te=!0),this.sc!==A&&(this.sc=A,this._mdf.sc=!0,te=!0),this.fc!==L&&(this.fc=L,this._mdf.fc=!0,te=!0),this.m!==U&&(this.m=U,this._mdf.m=!0,te=!0),!W.length||this.p[0]===W[0]&&this.p[1]===W[1]&&this.p[4]===W[4]&&this.p[5]===W[5]&&this.p[12]===W[12]&&this.p[13]===W[13]||(this.p=W,this._mdf.p=!0,te=!0),te},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(P,T){for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(P[A]=T[A]);return P},TextProperty.prototype.setCurrentData=function(P){P.__complete||this.completeTextData(P),this.currentData=P,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(P){this.effectsSequence.push(P),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(P){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||P){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var T=this.currentData,A=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var L;this.lock=!0,this._mdf=!1;var U=this.effectsSequence.length,W=P||this.data.d.k[this.keysIndex].s;for(L=0;L<U;L+=1)W=A!==this.keysIndex?this.effectsSequence[L](W,W.t):this.effectsSequence[L](this.currentData,W.t);T!==W&&this.setCurrentData(W),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var P=this.data.d.k,T=this.elem.comp.renderedFrame,A=0,L=P.length;A<=L-1&&!(A===L-1||P[A+1].t>T);)A+=1;return this.keysIndex!==A&&(this.keysIndex=A),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(P){for(var T,A,L=[],U=0,W=P.length,te=!1,ne=!1,ie="";U<W;)te=ne,ne=!1,T=P.charCodeAt(U),ie=P.charAt(U),FontManager.isCombinedCharacter(T)?te=!0:T>=55296&&T<=56319?FontManager.isRegionalFlag(P,U)?ie=P.substr(U,14):(A=P.charCodeAt(U+1))>=56320&&A<=57343&&(FontManager.isModifier(T,A)?(ie=P.substr(U,2),te=!0):ie=FontManager.isFlagEmoji(P.substr(U,4))?P.substr(U,4):P.substr(U,2)):T>56319?(A=P.charCodeAt(U+1),FontManager.isVariationSelector(T)&&(te=!0)):FontManager.isZeroWidthJoiner(T)&&(te=!0,ne=!0),te?(L[L.length-1]+=ie,te=!1):L.push(ie),U+=ie.length;return L},TextProperty.prototype.completeTextData=function(P){P.__complete=!0;var T,A,L,U,W,te,ne,ie=this.elem.globalData.fontManager,oe=this.data,ae=[],ce=0,he=oe.m.g,ue=0,pe=0,ge=0,de=[],me=0,ye=0,xe=ie.getFontByName(P.f),Se=0,Te=getFontProperties(xe);P.fWeight=Te.weight,P.fStyle=Te.style,P.finalSize=P.s,P.finalText=this.buildFinalText(P.t),A=P.finalText.length,P.finalLineHeight=P.lh;var be,Pe=P.tr/1e3*P.finalSize;if(P.sz)for(var Ie,De,we=!0,Fe=P.sz[0],Ge=P.sz[1];we;){Ie=0,me=0,A=(De=this.buildFinalText(P.t)).length,Pe=P.tr/1e3*P.finalSize;var He=-1;for(T=0;T<A;T+=1)be=De[T].charCodeAt(0),L=!1,De[T]===" "?He=T:be!==13&&be!==3||(me=0,L=!0,Ie+=P.finalLineHeight||1.2*P.finalSize),ie.chars?(ne=ie.getCharData(De[T],xe.fStyle,xe.fFamily),Se=L?0:ne.w*P.finalSize/100):Se=ie.measureText(De[T],P.f,P.finalSize),me+Se>Fe&&De[T]!==" "?(He===-1?A+=1:T=He,Ie+=P.finalLineHeight||1.2*P.finalSize,De.splice(T,He===T?1:0,"\r"),He=-1,me=0):(me+=Se,me+=Pe);Ie+=xe.ascent*P.finalSize/100,this.canResize&&P.finalSize>this.minimumFontSize&&Ge<Ie?(P.finalSize-=1,P.finalLineHeight=P.finalSize*P.lh/P.s):(P.finalText=De,A=P.finalText.length,we=!1)}me=-Pe,Se=0;var je,qe=0;for(T=0;T<A;T+=1)if(L=!1,(be=(je=P.finalText[T]).charCodeAt(0))===13||be===3?(qe=0,de.push(me),ye=me>ye?me:ye,me=-2*Pe,U="",L=!0,ge+=1):U=je,ie.chars?(ne=ie.getCharData(je,xe.fStyle,ie.getFontByName(P.f).fFamily),Se=L?0:ne.w*P.finalSize/100):Se=ie.measureText(U,P.f,P.finalSize),je===" "?qe+=Se+Pe:(me+=Se+Pe+qe,qe=0),ae.push({l:Se,an:Se,add:ue,n:L,anIndexes:[],val:U,line:ge,animatorJustifyOffset:0}),he==2){if(ue+=Se,U===""||U===" "||T===A-1){for(U!==""&&U!==" "||(ue-=Se);pe<=T;)ae[pe].an=ue,ae[pe].ind=ce,ae[pe].extra=Se,pe+=1;ce+=1,ue=0}}else if(he==3){if(ue+=Se,U===""||T===A-1){for(U===""&&(ue-=Se);pe<=T;)ae[pe].an=ue,ae[pe].ind=ce,ae[pe].extra=Se,pe+=1;ue=0,ce+=1}}else ae[ce].ind=ce,ae[ce].extra=0,ce+=1;if(P.l=ae,ye=me>ye?me:ye,de.push(me),P.sz)P.boxWidth=P.sz[0],P.justifyOffset=0;else switch(P.boxWidth=ye,P.j){case 1:P.justifyOffset=-P.boxWidth;break;case 2:P.justifyOffset=-P.boxWidth/2;break;default:P.justifyOffset=0}P.lineWidths=de;var Ye,Ct,Re,Oe,ze=oe.a;te=ze.length;var Ne=[];for(W=0;W<te;W+=1){for((Ye=ze[W]).a.sc&&(P.strokeColorAnim=!0),Ye.a.sw&&(P.strokeWidthAnim=!0),(Ye.a.fc||Ye.a.fh||Ye.a.fs||Ye.a.fb)&&(P.fillColorAnim=!0),Oe=0,Re=Ye.s.b,T=0;T<A;T+=1)(Ct=ae[T]).anIndexes[W]=Oe,(Re==1&&Ct.val!==""||Re==2&&Ct.val!==""&&Ct.val!==" "||Re==3&&(Ct.n||Ct.val==" "||T==A-1)||Re==4&&(Ct.n||T==A-1))&&(Ye.s.rn===1&&Ne.push(Oe),Oe+=1);oe.a[W].s.totalChars=Oe;var Ze,Wt=-1;if(Ye.s.rn===1)for(T=0;T<A;T+=1)Wt!=(Ct=ae[T]).anIndexes[W]&&(Wt=Ct.anIndexes[W],Ze=Ne.splice(Math.floor(Math.random()*Ne.length),1)[0]),Ct.anIndexes[W]=Ze}P.yOffset=P.finalLineHeight||1.2*P.finalSize,P.ls=P.ls||0,P.ascent=xe.ascent*P.finalSize/100},TextProperty.prototype.updateDocumentData=function(P,T){T=T===void 0?this.keysIndex:T;var A=this.copyData({},this.data.d.k[T].s);A=this.copyData(A,P),this.data.d.k[T].s=A,this.recalculate(T),this.setCurrentData(A),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(P){var T=this.data.d.k[P].s;T.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(T)},TextProperty.prototype.canResizeFont=function(P){this.canResize=P,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(P){this.minimumFontSize=Math.floor(P)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var P=Math.max,T=Math.min,A=Math.floor;function L(U,W){this._currentTextLength=-1,this.k=!1,this.data=W,this.elem=U,this.comp=U.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(U),this.s=PropertyFactory.getProp(U,W.s||{k:0},0,0,this),this.e="e"in W?PropertyFactory.getProp(U,W.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(U,W.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(U,W.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(U,W.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(U,W.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(U,W.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return L.prototype={getMult:function(U){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var W=0,te=0,ne=1,ie=1;this.ne.v>0?W=this.ne.v/100:te=-this.ne.v/100,this.xe.v>0?ne=1-this.xe.v/100:ie=1+this.xe.v/100;var oe=BezierFactory.getBezierEasing(W,te,ne,ie).get,ae=0,ce=this.finalS,he=this.finalE,ue=this.data.sh;if(ue===2)ae=oe(ae=he===ce?U>=he?1:0:P(0,T(.5/(he-ce)+(U-ce)/(he-ce),1)));else if(ue===3)ae=oe(ae=he===ce?U>=he?0:1:1-P(0,T(.5/(he-ce)+(U-ce)/(he-ce),1)));else if(ue===4)he===ce?ae=0:(ae=P(0,T(.5/(he-ce)+(U-ce)/(he-ce),1)))<.5?ae*=2:ae=1-2*(ae-.5),ae=oe(ae);else if(ue===5){if(he===ce)ae=0;else{var pe=he-ce,ge=-pe/2+(U=T(P(0,U+.5-ce),he-ce)),de=pe/2;ae=Math.sqrt(1-ge*ge/(de*de))}ae=oe(ae)}else ue===6?(he===ce?ae=0:(U=T(P(0,U+.5-ce),he-ce),ae=(1+Math.cos(Math.PI+2*Math.PI*U/(he-ce)))/2),ae=oe(ae)):(U>=A(ce)&&(ae=P(0,T(U-ce<0?T(he,1)-(ce-U):he-U,1))),ae=oe(ae));if(this.sm.v!==100){var me=.01*this.sm.v;me===0&&(me=1e-8);var ye=.5-.5*me;ae<ye?ae=0:(ae=(ae-ye)/me)>1&&(ae=1)}return ae*this.a.v},getValue:function(U){this.iterateDynamicProperties(),this._mdf=U||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,U&&this.data.r===2&&(this.e.v=this._currentTextLength);var W=this.data.r===2?1:100/this.data.totalChars,te=this.o.v/W,ne=this.s.v/W+te,ie=this.e.v/W+te;if(ne>ie){var oe=ne;ne=ie,ie=oe}this.finalS=ne,this.finalE=ie}},extendPrototype([DynamicPropertyContainer],L),{getTextSelectorProp:function(U,W,te){return new L(U,W)}}}();function TextAnimatorDataProperty(P,T,A){var L={propType:!1},U=PropertyFactory.getProp,W=T.a;this.a={r:W.r?U(P,W.r,0,degToRads,A):L,rx:W.rx?U(P,W.rx,0,degToRads,A):L,ry:W.ry?U(P,W.ry,0,degToRads,A):L,sk:W.sk?U(P,W.sk,0,degToRads,A):L,sa:W.sa?U(P,W.sa,0,degToRads,A):L,s:W.s?U(P,W.s,1,.01,A):L,a:W.a?U(P,W.a,1,0,A):L,o:W.o?U(P,W.o,0,.01,A):L,p:W.p?U(P,W.p,1,0,A):L,sw:W.sw?U(P,W.sw,0,0,A):L,sc:W.sc?U(P,W.sc,1,0,A):L,fc:W.fc?U(P,W.fc,1,0,A):L,fh:W.fh?U(P,W.fh,0,0,A):L,fs:W.fs?U(P,W.fs,0,.01,A):L,fb:W.fb?U(P,W.fb,0,.01,A):L,t:W.t?U(P,W.t,0,0,A):L},this.s=TextSelectorProp.getTextSelectorProp(P,T.s,A),this.s.t=T.s.t}function TextAnimatorProperty(P,T,A){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=P,this._renderType=T,this._elem=A,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(A)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var P,T,A=this._textData.a.length,L=PropertyFactory.getProp;for(P=0;P<A;P+=1)T=this._textData.a[P],this._animatorsData[P]=new TextAnimatorDataProperty(this._elem,T,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:L(this._elem,this._textData.p.a,0,0,this),f:L(this._elem,this._textData.p.f,0,0,this),l:L(this._elem,this._textData.p.l,0,0,this),r:L(this._elem,this._textData.p.r,0,0,this),p:L(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=L(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(P,T){if(this.lettersChangedFlag=T,this._mdf||this._isFirstFrame||T||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var A,L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge,de,me,ye,xe,Se,Te=this._moreOptions.alignment.v,be=this._animatorsData,Pe=this._textData,Ie=this.mHelper,De=this._renderType,we=this.renderedLetters.length,Fe=P.l;if(this._hasMaskedPath){if(Se=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ge,He=Se.v;for(this._pathData.r.v&&(He=He.reverse()),te={tLength:0,segments:[]},W=He._length-1,me=0,U=0;U<W;U+=1)Ge=bez.buildBezierData(He.v[U],He.v[U+1],[He.o[U][0]-He.v[U][0],He.o[U][1]-He.v[U][1]],[He.i[U+1][0]-He.v[U+1][0],He.i[U+1][1]-He.v[U+1][1]]),te.tLength+=Ge.segmentLength,te.segments.push(Ge),me+=Ge.segmentLength;U=W,Se.v.c&&(Ge=bez.buildBezierData(He.v[U],He.v[0],[He.o[U][0]-He.v[U][0],He.o[U][1]-He.v[U][1]],[He.i[0][0]-He.v[0][0],He.i[0][1]-He.v[0][1]]),te.tLength+=Ge.segmentLength,te.segments.push(Ge),me+=Ge.segmentLength),this._pathData.pi=te}if(te=this._pathData.pi,ne=this._pathData.f.v,he=0,ce=1,oe=0,ae=!0,ge=te.segments,ne<0&&Se.v.c)for(te.tLength<Math.abs(ne)&&(ne=-Math.abs(ne)%te.tLength),ce=(pe=ge[he=ge.length-1].points).length-1;ne<0;)ne+=pe[ce].partialLength,(ce-=1)<0&&(ce=(pe=ge[he-=1].points).length-1);ue=(pe=ge[he].points)[ce-1],de=(ie=pe[ce]).partialLength}W=Fe.length,A=0,L=0;var je,qe,Ye,Ct,Re,Oe=1.2*P.finalSize*.714,ze=!0;Ye=be.length;var Ne,Ze,Wt,Qe,Pt,zt,It,Yt,ln,pn,In,$t,jt=-1,Ve=ne,Cn=he,Zt=ce,fn=-1,Jt="",Rn=this.defaultPropsArray;if(P.j===2||P.j===1){var tn=0,We=0,Be=P.j===2?-.5:-1,Mt=0,Ut=!0;for(U=0;U<W;U+=1)if(Fe[U].n){for(tn&&(tn+=We);Mt<U;)Fe[Mt].animatorJustifyOffset=tn,Mt+=1;tn=0,Ut=!0}else{for(qe=0;qe<Ye;qe+=1)(je=be[qe].a).t.propType&&(Ut&&P.j===2&&(We+=je.t.v*Be),(Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars)).length?tn+=je.t.v*Re[0]*Be:tn+=je.t.v*Re*Be);Ut=!1}for(tn&&(tn+=We);Mt<U;)Fe[Mt].animatorJustifyOffset=tn,Mt+=1}for(U=0;U<W;U+=1){if(Ie.reset(),Qe=1,Fe[U].n)A=0,L+=P.yOffset,L+=ze?1:0,ne=Ve,ze=!1,this._hasMaskedPath&&(ce=Zt,ue=(pe=ge[he=Cn].points)[ce-1],de=(ie=pe[ce]).partialLength,oe=0),Jt="",In="",ln="",$t="",Rn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(fn!==Fe[U].line){switch(P.j){case 1:ne+=me-P.lineWidths[Fe[U].line];break;case 2:ne+=(me-P.lineWidths[Fe[U].line])/2}fn=Fe[U].line}jt!==Fe[U].ind&&(Fe[jt]&&(ne+=Fe[jt].extra),ne+=Fe[U].an/2,jt=Fe[U].ind),ne+=Te[0]*Fe[U].an*.005;var Xt=0;for(qe=0;qe<Ye;qe+=1)(je=be[qe].a).p.propType&&((Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars)).length?Xt+=je.p.v[0]*Re[0]:Xt+=je.p.v[0]*Re),je.a.propType&&((Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars)).length?Xt+=je.a.v[0]*Re[0]:Xt+=je.a.v[0]*Re);for(ae=!0,this._pathData.a.v&&(ne=.5*Fe[0].an+(me-this._pathData.f.v-.5*Fe[0].an-.5*Fe[Fe.length-1].an)*jt/(W-1),ne+=this._pathData.f.v);ae;)oe+de>=ne+Xt||!pe?(ye=(ne+Xt-oe)/ie.partialLength,Ze=ue.point[0]+(ie.point[0]-ue.point[0])*ye,Wt=ue.point[1]+(ie.point[1]-ue.point[1])*ye,Ie.translate(-Te[0]*Fe[U].an*.005,-Te[1]*Oe*.01),ae=!1):pe&&(oe+=ie.partialLength,(ce+=1)>=pe.length&&(ce=0,ge[he+=1]?pe=ge[he].points:Se.v.c?(ce=0,pe=ge[he=0].points):(oe-=ie.partialLength,pe=null)),pe&&(ue=ie,de=(ie=pe[ce]).partialLength));Ne=Fe[U].an/2-Fe[U].add,Ie.translate(-Ne,0,0)}else Ne=Fe[U].an/2-Fe[U].add,Ie.translate(-Ne,0,0),Ie.translate(-Te[0]*Fe[U].an*.005,-Te[1]*Oe*.01,0);for(qe=0;qe<Ye;qe+=1)(je=be[qe].a).t.propType&&(Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars),A===0&&P.j===0||(this._hasMaskedPath?Re.length?ne+=je.t.v*Re[0]:ne+=je.t.v*Re:Re.length?A+=je.t.v*Re[0]:A+=je.t.v*Re));for(P.strokeWidthAnim&&(zt=P.sw||0),P.strokeColorAnim&&(Pt=P.sc?[P.sc[0],P.sc[1],P.sc[2]]:[0,0,0]),P.fillColorAnim&&P.fc&&(It=[P.fc[0],P.fc[1],P.fc[2]]),qe=0;qe<Ye;qe+=1)(je=be[qe].a).a.propType&&((Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars)).length?Ie.translate(-je.a.v[0]*Re[0],-je.a.v[1]*Re[1],je.a.v[2]*Re[2]):Ie.translate(-je.a.v[0]*Re,-je.a.v[1]*Re,je.a.v[2]*Re));for(qe=0;qe<Ye;qe+=1)(je=be[qe].a).s.propType&&((Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars)).length?Ie.scale(1+(je.s.v[0]-1)*Re[0],1+(je.s.v[1]-1)*Re[1],1):Ie.scale(1+(je.s.v[0]-1)*Re,1+(je.s.v[1]-1)*Re,1));for(qe=0;qe<Ye;qe+=1){if(je=be[qe].a,Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars),je.sk.propType&&(Re.length?Ie.skewFromAxis(-je.sk.v*Re[0],je.sa.v*Re[1]):Ie.skewFromAxis(-je.sk.v*Re,je.sa.v*Re)),je.r.propType&&(Re.length?Ie.rotateZ(-je.r.v*Re[2]):Ie.rotateZ(-je.r.v*Re)),je.ry.propType&&(Re.length?Ie.rotateY(je.ry.v*Re[1]):Ie.rotateY(je.ry.v*Re)),je.rx.propType&&(Re.length?Ie.rotateX(je.rx.v*Re[0]):Ie.rotateX(je.rx.v*Re)),je.o.propType&&(Re.length?Qe+=(je.o.v*Re[0]-Qe)*Re[0]:Qe+=(je.o.v*Re-Qe)*Re),P.strokeWidthAnim&&je.sw.propType&&(Re.length?zt+=je.sw.v*Re[0]:zt+=je.sw.v*Re),P.strokeColorAnim&&je.sc.propType)for(Yt=0;Yt<3;Yt+=1)Re.length?Pt[Yt]+=(je.sc.v[Yt]-Pt[Yt])*Re[0]:Pt[Yt]+=(je.sc.v[Yt]-Pt[Yt])*Re;if(P.fillColorAnim&&P.fc){if(je.fc.propType)for(Yt=0;Yt<3;Yt+=1)Re.length?It[Yt]+=(je.fc.v[Yt]-It[Yt])*Re[0]:It[Yt]+=(je.fc.v[Yt]-It[Yt])*Re;je.fh.propType&&(It=Re.length?addHueToRGB(It,je.fh.v*Re[0]):addHueToRGB(It,je.fh.v*Re)),je.fs.propType&&(It=Re.length?addSaturationToRGB(It,je.fs.v*Re[0]):addSaturationToRGB(It,je.fs.v*Re)),je.fb.propType&&(It=Re.length?addBrightnessToRGB(It,je.fb.v*Re[0]):addBrightnessToRGB(It,je.fb.v*Re))}}for(qe=0;qe<Ye;qe+=1)(je=be[qe].a).p.propType&&(Re=be[qe].s.getMult(Fe[U].anIndexes[qe],Pe.a[qe].s.totalChars),this._hasMaskedPath?Re.length?Ie.translate(0,je.p.v[1]*Re[0],-je.p.v[2]*Re[1]):Ie.translate(0,je.p.v[1]*Re,-je.p.v[2]*Re):Re.length?Ie.translate(je.p.v[0]*Re[0],je.p.v[1]*Re[1],-je.p.v[2]*Re[2]):Ie.translate(je.p.v[0]*Re,je.p.v[1]*Re,-je.p.v[2]*Re));if(P.strokeWidthAnim&&(ln=zt<0?0:zt),P.strokeColorAnim&&(pn="rgb("+Math.round(255*Pt[0])+","+Math.round(255*Pt[1])+","+Math.round(255*Pt[2])+")"),P.fillColorAnim&&P.fc&&(In="rgb("+Math.round(255*It[0])+","+Math.round(255*It[1])+","+Math.round(255*It[2])+")"),this._hasMaskedPath){if(Ie.translate(0,-P.ls),Ie.translate(0,Te[1]*Oe*.01+L,0),this._pathData.p.v){xe=(ie.point[1]-ue.point[1])/(ie.point[0]-ue.point[0]);var Gt=180*Math.atan(xe)/Math.PI;ie.point[0]<ue.point[0]&&(Gt+=180),Ie.rotate(-Gt*Math.PI/180)}Ie.translate(Ze,Wt,0),ne-=Te[0]*Fe[U].an*.005,Fe[U+1]&&jt!==Fe[U+1].ind&&(ne+=Fe[U].an/2,ne+=.001*P.tr*P.finalSize)}else{switch(Ie.translate(A,L,0),P.ps&&Ie.translate(P.ps[0],P.ps[1]+P.ascent,0),P.j){case 1:Ie.translate(Fe[U].animatorJustifyOffset+P.justifyOffset+(P.boxWidth-P.lineWidths[Fe[U].line]),0,0);break;case 2:Ie.translate(Fe[U].animatorJustifyOffset+P.justifyOffset+(P.boxWidth-P.lineWidths[Fe[U].line])/2,0,0)}Ie.translate(0,-P.ls),Ie.translate(Ne,0,0),Ie.translate(Te[0]*Fe[U].an*.005,Te[1]*Oe*.01,0),A+=Fe[U].l+.001*P.tr*P.finalSize}De==="html"?Jt=Ie.toCSS():De==="svg"?Jt=Ie.to2dCSS():Rn=[Ie.props[0],Ie.props[1],Ie.props[2],Ie.props[3],Ie.props[4],Ie.props[5],Ie.props[6],Ie.props[7],Ie.props[8],Ie.props[9],Ie.props[10],Ie.props[11],Ie.props[12],Ie.props[13],Ie.props[14],Ie.props[15]],$t=Qe}we<=U?(Ct=new LetterProps($t,ln,pn,In,Jt,Rn),this.renderedLetters.push(Ct),we+=1,this.lettersChangedFlag=!0):(Ct=this.renderedLetters[U],this.lettersChangedFlag=Ct.update($t,ln,pn,In,Jt,Rn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(P,T,A){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(P,T,A),this.textProperty=new TextProperty(this,P.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(P.t,this.renderType,this),this.initTransform(P,T,A),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(P){this._mdf=!1,this.prepareRenderableFrame(P),this.prepareProperties(P,this.isInRange)},ITextElement.prototype.createPathShape=function(P,T){var A,L,U=T.length,W="";for(A=0;A<U;A+=1)T[A].ty==="sh"&&(L=T[A].ks.k,W+=buildShapeString(L,L.i.length,!0,P));return W},ITextElement.prototype.updateDocumentData=function(P,T){this.textProperty.updateDocumentData(P,T)},ITextElement.prototype.canResizeFont=function(P){this.textProperty.canResizeFont(P)},ITextElement.prototype.setMinimumFontSize=function(P){this.textProperty.setMinimumFontSize(P)},ITextElement.prototype.applyTextPropertiesToMatrix=function(P,T,A,L,U){switch(P.ps&&T.translate(P.ps[0],P.ps[1]+P.ascent,0),T.translate(0,-P.ls,0),P.j){case 1:T.translate(P.justifyOffset+(P.boxWidth-P.lineWidths[A]),0,0);break;case 2:T.translate(P.justifyOffset+(P.boxWidth-P.lineWidths[A])/2,0,0)}T.translate(L,U,0)},ITextElement.prototype.buildColor=function(P){return"rgb("+Math.round(255*P[0])+","+Math.round(255*P[1])+","+Math.round(255*P[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(P,T,A){this.textSpans=[],this.renderType="svg",this.initElement(P,T,A)}function ISolidElement(P,T,A){this.initElement(P,T,A)}function NullElement(P,T,A){this.initFrame(),this.initBaseData(P,T,A),this.initFrame(),this.initTransform(P,T,A),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(P,T,A){this.layers=P.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(P,T,A),this.tm=P.tm?PropertyFactory.getProp(this,P.tm,0,T.frameRate,this):{_placeholder:!0}}function SVGRenderer(P,T){this.animationItem=P,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var A="";if(T&&T.title){var L=createNS("title"),U=createElementID();L.setAttribute("id",U),L.textContent=T.title,this.svgElement.appendChild(L),A+=U}if(T&&T.description){var W=createNS("desc"),te=createElementID();W.setAttribute("id",te),W.textContent=T.description,this.svgElement.appendChild(W),A+=" "+te}A&&this.svgElement.setAttribute("aria-labelledby",A);var ne=createNS("defs");this.svgElement.appendChild(ne);var ie=createNS("g");this.svgElement.appendChild(ie),this.layerElement=ie,this.renderConfig={preserveAspectRatio:T&&T.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:T&&T.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:T&&T.contentVisibility||"visible",progressiveLoad:T&&T.progressiveLoad||!1,hideOnTransparent:!(T&&T.hideOnTransparent===!1),viewBoxOnly:T&&T.viewBoxOnly||!1,viewBoxSize:T&&T.viewBoxSize||!1,className:T&&T.className||"",id:T&&T.id||"",focusable:T&&T.focusable,filterSize:{width:T&&T.filterSize&&T.filterSize.width||"100%",height:T&&T.filterSize&&T.filterSize.height||"100%",x:T&&T.filterSize&&T.filterSize.x||"0%",y:T&&T.filterSize&&T.filterSize.y||"0%"},width:T&&T.width,height:T&&T.height,runExpressions:!T||T.runExpressions===void 0||T.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ne,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(P){for(var T=0,A=P.length,L=[],U="";T<A;)P[T]==="\r"||P[T]===""?(L.push(U),U=""):U+=P[T],T+=1;return L.push(U),L},SVGTextLottieElement.prototype.buildShapeData=function(P,T){if(P.shapes&&P.shapes.length){var A=P.shapes[0];if(A.it){var L=A.it[A.it.length-1];L.s&&(L.s.k[0]=T,L.s.k[1]=T)}}return P},SVGTextLottieElement.prototype.buildNewText=function(){var P,T;this.addDynamicProperty(this);var A=this.textProperty.currentData;this.renderedLetters=createSizedArray(A?A.l.length:0),A.fc?this.layerElement.setAttribute("fill",this.buildColor(A.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),A.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(A.sc)),this.layerElement.setAttribute("stroke-width",A.sw)),this.layerElement.setAttribute("font-size",A.finalSize);var L=this.globalData.fontManager.getFontByName(A.f);if(L.fClass)this.layerElement.setAttribute("class",L.fClass);else{this.layerElement.setAttribute("font-family",L.fFamily);var U=A.fWeight,W=A.fStyle;this.layerElement.setAttribute("font-style",W),this.layerElement.setAttribute("font-weight",U)}this.layerElement.setAttribute("aria-label",A.t);var te,ne=A.l||[],ie=!!this.globalData.fontManager.chars;T=ne.length;var oe=this.mHelper,ae=this.data.singleShape,ce=0,he=0,ue=!0,pe=.001*A.tr*A.finalSize;if(!ae||ie||A.sz){var ge,de=this.textSpans.length;for(P=0;P<T;P+=1){if(this.textSpans[P]||(this.textSpans[P]={span:null,childSpan:null,glyph:null}),!ie||!ae||P===0){if(te=de>P?this.textSpans[P].span:createNS(ie?"g":"text"),de<=P){if(te.setAttribute("stroke-linecap","butt"),te.setAttribute("stroke-linejoin","round"),te.setAttribute("stroke-miterlimit","4"),this.textSpans[P].span=te,ie){var me=createNS("g");te.appendChild(me),this.textSpans[P].childSpan=me}this.textSpans[P].span=te,this.layerElement.appendChild(te)}te.style.display="inherit"}if(oe.reset(),ae&&(ne[P].n&&(ce=-pe,he+=A.yOffset,he+=ue?1:0,ue=!1),this.applyTextPropertiesToMatrix(A,oe,ne[P].line,ce,he),ce+=ne[P].l||0,ce+=pe),ie){var ye;if((ge=this.globalData.fontManager.getCharData(A.finalText[P],L.fStyle,this.globalData.fontManager.getFontByName(A.f).fFamily)).t===1)ye=new SVGCompElement(ge.data,this.globalData,this);else{var xe=emptyShapeData;ge.data&&ge.data.shapes&&(xe=this.buildShapeData(ge.data,A.finalSize)),ye=new SVGShapeElement(xe,this.globalData,this)}if(this.textSpans[P].glyph){var Se=this.textSpans[P].glyph;this.textSpans[P].childSpan.removeChild(Se.layerElement),Se.destroy()}this.textSpans[P].glyph=ye,ye._debug=!0,ye.prepareFrame(0),ye.renderFrame(),this.textSpans[P].childSpan.appendChild(ye.layerElement),ge.t===1&&this.textSpans[P].childSpan.setAttribute("transform","scale("+A.finalSize/100+","+A.finalSize/100+")")}else ae&&te.setAttribute("transform","translate("+oe.props[12]+","+oe.props[13]+")"),te.textContent=ne[P].val,te.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ae&&te&&te.setAttribute("d","")}else{var Te=this.textContainer,be="start";switch(A.j){case 1:be="end";break;case 2:be="middle";break;default:be="start"}Te.setAttribute("text-anchor",be),Te.setAttribute("letter-spacing",pe);var Pe=this.buildTextContents(A.finalText);for(T=Pe.length,he=A.ps?A.ps[1]+A.ascent:0,P=0;P<T;P+=1)(te=this.textSpans[P].span||createNS("tspan")).textContent=Pe[P],te.setAttribute("x",0),te.setAttribute("y",he),te.style.display="inherit",Te.appendChild(te),this.textSpans[P]||(this.textSpans[P]={span:null,glyph:null}),this.textSpans[P].span=te,he+=A.finalLineHeight;this.layerElement.appendChild(Te)}for(;P<this.textSpans.length;)this.textSpans[P].span.style.display="none",P+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var P=this.layerElement.getBBox();this.bbox={top:P.y,left:P.x,width:P.width,height:P.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var P,T,A=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,P=0;P<A;P+=1)(T=this.textSpans[P].glyph)&&(T.prepareFrame(this.comp.renderedFrame-this.data.st),T._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var P,T;this._sizeChanged=!0;var A,L,U,W=this.textAnimator.renderedLetters,te=this.textProperty.currentData.l;for(T=te.length,P=0;P<T;P+=1)te[P].n||(A=W[P],L=this.textSpans[P].span,(U=this.textSpans[P].glyph)&&U.renderFrame(),A._mdf.m&&L.setAttribute("transform",A.m),A._mdf.o&&L.setAttribute("opacity",A.o),A._mdf.sw&&L.setAttribute("stroke-width",A.sw),A._mdf.sc&&L.setAttribute("stroke",A.sc),A._mdf.fc&&L.setAttribute("fill",A.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var P=createNS("rect");P.setAttribute("width",this.data.sw),P.setAttribute("height",this.data.sh),P.setAttribute("fill",this.data.sc),this.layerElement.appendChild(P)},NullElement.prototype.prepareFrame=function(P){this.prepareProperties(P,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(P){return new NullElement(P,this.globalData,this)},SVGRendererBase.prototype.createShape=function(P){return new SVGShapeElement(P,this.globalData,this)},SVGRendererBase.prototype.createText=function(P){return new SVGTextLottieElement(P,this.globalData,this)},SVGRendererBase.prototype.createImage=function(P){return new IImageElement(P,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(P){return new ISolidElement(P,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(P){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+P.w+" "+P.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",P.w),this.svgElement.setAttribute("height",P.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var T=this.globalData.defs;this.setupGlobalData(P,T),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=P;var A=createNS("clipPath"),L=createNS("rect");L.setAttribute("width",P.w),L.setAttribute("height",P.h),L.setAttribute("x",0),L.setAttribute("y",0);var U=createElementID();A.setAttribute("id",U),A.appendChild(L),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+U+")"),T.appendChild(A),this.layers=P.layers,this.elements=createSizedArray(P.layers.length)},SVGRendererBase.prototype.destroy=function(){var P;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var T=this.layers?this.layers.length:0;for(P=0;P<T;P+=1)this.elements[P]&&this.elements[P].destroy&&this.elements[P].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(P){var T=0,A=this.layers.length;for(T=0;T<A;T+=1)if(this.layers[T].ind===P)return T;return-1},SVGRendererBase.prototype.buildItem=function(P){var T=this.elements;if(!T[P]&&this.layers[P].ty!==99){T[P]=!0;var A=this.createItem(this.layers[P]);if(T[P]=A,getExpressionsPlugin()&&(this.layers[P].ty===0&&this.globalData.projectInterface.registerComposition(A),A.initExpressions()),this.appendElementInPos(A,P),this.layers[P].tt){var L="tp"in this.layers[P]?this.findIndexByInd(this.layers[P].tp):P-1;if(L===-1)return;if(this.elements[L]&&this.elements[L]!==!0){var U=T[L].getMatte(this.layers[P].tt);A.setMatte(U)}else this.buildItem(L),this.addPendingElement(A)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var P=this.pendingElements.pop();if(P.checkParenting(),P.data.tt)for(var T=0,A=this.elements.length;T<A;){if(this.elements[T]===P){var L="tp"in P.data?this.findIndexByInd(P.data.tp):T-1,U=this.elements[L].getMatte(this.layers[T].tt);P.setMatte(U);break}T+=1}}},SVGRendererBase.prototype.renderFrame=function(P){if(this.renderedFrame!==P&&!this.destroyed){var T;P===null?P=this.renderedFrame:this.renderedFrame=P,this.globalData.frameNum=P,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=P,this.globalData._mdf=!1;var A=this.layers.length;for(this.completeLayers||this.checkLayers(P),T=A-1;T>=0;T-=1)(this.completeLayers||this.elements[T])&&this.elements[T].prepareFrame(P-this.layers[T].st);if(this.globalData._mdf)for(T=0;T<A;T+=1)(this.completeLayers||this.elements[T])&&this.elements[T].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(P,T){var A=P.getBaseElement();if(A){for(var L,U=0;U<T;)this.elements[U]&&this.elements[U]!==!0&&this.elements[U].getBaseElement()&&(L=this.elements[U].getBaseElement()),U+=1;L?this.layerElement.insertBefore(A,L):this.layerElement.appendChild(A)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(P,T,A){this.initFrame(),this.initBaseData(P,T,A),this.initTransform(P,T,A),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&T.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(P){if(this._mdf=!1,this.prepareRenderableFrame(P),this.prepareProperties(P,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=P/this.data.sr;else{var T=this.tm.v;T===this.data.op&&(T=this.data.op-1),this.renderedFrame=T}var A,L=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),A=L-1;A>=0;A-=1)(this.completeLayers||this.elements[A])&&(this.elements[A].prepareFrame(this.renderedFrame-this.layers[A].st),this.elements[A]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var P,T=this.layers.length;for(P=0;P<T;P+=1)(this.completeLayers||this.elements[P])&&this.elements[P].renderFrame()},ICompElement.prototype.setElements=function(P){this.elements=P},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var P,T=this.layers.length;for(P=0;P<T;P+=1)this.elements[P]&&this.elements[P].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(P){return new SVGCompElement(P,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(P){return new SVGCompElement(P,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(P){var T,A=P.length,L="_";for(T=0;T<A;T+=1)L+=P[T].transform.key+"_";var U=this.sequences[L];return U||(U={transforms:[].concat(P),finalTransform:new Matrix,_mdf:!1},this.sequences[L]=U,this.sequenceList.push(U)),U},processSequence:function(P,T){for(var A=0,L=P.transforms.length,U=T;A<L&&!T;){if(P.transforms[A].transform.mProps._mdf){U=!0;break}A+=1}if(U)for(P.finalTransform.reset(),A=L-1;A>=0;A-=1)P.finalTransform.multiply(P.transforms[A].transform.mProps.v);P._mdf=U},processSequences:function(P){var T,A=this.sequenceList.length;for(T=0;T<A;T+=1)this.processSequence(this.sequenceList[T],P)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var P="__lottie_element_luma_buffer",T=null,A=null,L=null;function U(){var W,te,ne;T||(W=createNS("svg"),te=createNS("filter"),ne=createNS("feColorMatrix"),te.setAttribute("id",P),ne.setAttribute("type","matrix"),ne.setAttribute("color-interpolation-filters","sRGB"),ne.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),te.appendChild(ne),W.appendChild(te),W.setAttribute("id",P+"_svg"),featureSupport.svgLumaHidden&&(W.style.display="none"),L=W,document.body.appendChild(L),T=createTag("canvas"),(A=T.getContext("2d")).filter="url(#"+P+")",A.fillStyle="rgba(0,0,0,0)",A.fillRect(0,0,1,1))}return{load:U,get:function(W){return T||U(),T.width=W.width,T.height=W.height,A.filter="url(#"+P+")",T}}};function createCanvas(P,T){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(P,T);var A=createTag("canvas");return A.width=P,A.height=T,A}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(P){var T,A,L=P.data.ef?P.data.ef.length:0;for(this.filters=[],T=0;T<L;T+=1){A=null;var U=P.data.ef[T].ty;registeredEffects[U]&&(A=new registeredEffects[U].effect(P.effectsManager.effectElements[T],P)),A&&this.filters.push(A)}this.filters.length&&P.addRenderableComponent(this)}function registerEffect(P,T){registeredEffects[P]={effect:T}}function CVMaskElement(P,T){var A;this.data=P,this.element=T,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var L=this.masksProperties.length,U=!1;for(A=0;A<L;A+=1)this.masksProperties[A].mode!=="n"&&(U=!0),this.viewData[A]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[A],3);this.hasMasks=U,U&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(P){var T,A=this.filters.length;for(T=0;T<A;T+=1)this.filters[T].renderFrame(P)},CVEffects.prototype.getEffects=function(P){var T,A=this.filters.length,L=[];for(T=0;T<A;T+=1)this.filters[T].type===P&&L.push(this.filters[T]);return L},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var P,T,A,L,U=this.element.finalTransform.mat,W=this.element.canvasContext,te=this.masksProperties.length;for(W.beginPath(),P=0;P<te;P+=1)if(this.masksProperties[P].mode!=="n"){var ne;this.masksProperties[P].inv&&(W.moveTo(0,0),W.lineTo(this.element.globalData.compSize.w,0),W.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),W.lineTo(0,this.element.globalData.compSize.h),W.lineTo(0,0)),L=this.viewData[P].v,T=U.applyToPointArray(L.v[0][0],L.v[0][1],0),W.moveTo(T[0],T[1]);var ie=L._length;for(ne=1;ne<ie;ne+=1)A=U.applyToTriplePoints(L.o[ne-1],L.i[ne],L.v[ne]),W.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);A=U.applyToTriplePoints(L.o[ne-1],L.i[0],L.v[0]),W.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5])}this.element.globalData.renderer.save(!0),W.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(P,T,A,L){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var U,W=4;T.ty==="rc"?W=5:T.ty==="el"?W=6:T.ty==="sr"&&(W=7),this.sh=ShapePropertyFactory.getShapeProp(P,T,W,P);var te,ne=A.length;for(U=0;U<ne;U+=1)A[U].closed||(te={transforms:L.addTransformSequence(A[U].transforms),trNodes:[]},this.styledShapes.push(te),A[U].elements.push(te))}function CVShapeElement(P,T,A){this.shapes=[],this.shapesData=P.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(P,T,A)}function CVTextElement(P,T,A){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(P,T,A)}function CVImageElement(P,T,A){this.assetData=T.getAssetData(P.refId),this.img=T.imageLoader.getAsset(this.assetData),this.initElement(P,T,A)}function CVSolidElement(P,T,A){this.initElement(P,T,A)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var P;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,P=0;P<15;P+=1){var T=new CanvasContext;this.stack[P]=T}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(P,T,A){this.completeLayers=!1,this.layers=P.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(P,T,A),this.tm=P.tm?PropertyFactory.getProp(this,P.tm,0,T.frameRate,this):{_placeholder:!0}}function CanvasRenderer(P,T){this.animationItem=P,this.renderConfig={clearCanvas:!T||T.clearCanvas===void 0||T.clearCanvas,context:T&&T.context||null,progressiveLoad:T&&T.progressiveLoad||!1,preserveAspectRatio:T&&T.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:T&&T.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:T&&T.contentVisibility||"visible",className:T&&T.className||"",id:T&&T.id||"",runExpressions:!T||T.runExpressions===void 0||T.runExpressions},this.renderConfig.dpr=T&&T.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=T&&T.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(P,T,A){this.initElement(P,T,A)}function HShapeElement(P,T,A){this.shapes=[],this.shapesData=P.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(P,T,A),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(P,T,A){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(P,T,A)}function HCameraElement(P,T,A){this.initFrame(),this.initBaseData(P,T,A),this.initHierarchy();var L=PropertyFactory.getProp;if(this.pe=L(this,P.pe,0,0,this),P.ks.p.s?(this.px=L(this,P.ks.p.x,1,0,this),this.py=L(this,P.ks.p.y,1,0,this),this.pz=L(this,P.ks.p.z,1,0,this)):this.p=L(this,P.ks.p,1,0,this),P.ks.a&&(this.a=L(this,P.ks.a,1,0,this)),P.ks.or.k.length&&P.ks.or.k[0].to){var U,W=P.ks.or.k.length;for(U=0;U<W;U+=1)P.ks.or.k[U].to=null,P.ks.or.k[U].ti=null}this.or=L(this,P.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=L(this,P.ks.rx,0,degToRads,this),this.ry=L(this,P.ks.ry,0,degToRads,this),this.rz=L(this,P.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(P,T,A){this.assetData=T.getAssetData(P.refId),this.initElement(P,T,A)}function HybridRendererBase(P,T){this.animationItem=P,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:T&&T.className||"",imagePreserveAspectRatio:T&&T.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(T&&T.hideOnTransparent===!1),filterSize:{width:T&&T.filterSize&&T.filterSize.width||"400%",height:T&&T.filterSize&&T.filterSize.height||"400%",x:T&&T.filterSize&&T.filterSize.x||"-100%",y:T&&T.filterSize&&T.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(P,T,A){this.layers=P.layers,this.supports3d=!P.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(P,T,A),this.tm=P.tm?PropertyFactory.getProp(this,P.tm,0,T.frameRate,this):{_placeholder:!0}}function HybridRenderer(P,T){this.animationItem=P,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:T&&T.className||"",imagePreserveAspectRatio:T&&T.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(T&&T.hideOnTransparent===!1),filterSize:{width:T&&T.filterSize&&T.filterSize.width||"400%",height:T&&T.filterSize&&T.filterSize.height||"400%",x:T&&T.filterSize&&T.filterSize.x||"-100%",y:T&&T.filterSize&&T.filterSize.y||"-100%"},runExpressions:!T||T.runExpressions===void 0||T.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var P=this.globalData.canvasContext,T=assetLoader.createCanvas(P.canvas.width,P.canvas.height);this.buffers.push(T);var A=assetLoader.createCanvas(P.canvas.width,P.canvas.height);this.buffers.push(A),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var P=this.globalData;if(P.blendMode!==this.data.bm){P.blendMode=this.data.bm;var T=getBlendMode(this.data.bm);P.canvasContext.globalCompositeOperation=T}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(P){P.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var P=this.buffers[0].getContext("2d");this.clearCanvas(P),P.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var P=this.buffers[1],T=P.getContext("2d");if(this.clearCanvas(T),T.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var A=assetLoader.getLumaCanvas(this.canvasContext.canvas);A.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(A,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(P,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(P){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||P)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var T=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(T),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(T),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(P,T){var A={data:P,type:P.ty,preTransforms:this.transformsManager.addTransformSequence(T),transforms:[],elements:[],closed:P.hd===!0},L={};if(P.ty==="fl"||P.ty==="st"?(L.c=PropertyFactory.getProp(this,P.c,1,255,this),L.c.k||(A.co="rgb("+bmFloor(L.c.v[0])+","+bmFloor(L.c.v[1])+","+bmFloor(L.c.v[2])+")")):P.ty!=="gf"&&P.ty!=="gs"||(L.s=PropertyFactory.getProp(this,P.s,1,null,this),L.e=PropertyFactory.getProp(this,P.e,1,null,this),L.h=PropertyFactory.getProp(this,P.h||{k:0},0,.01,this),L.a=PropertyFactory.getProp(this,P.a||{k:0},0,degToRads,this),L.g=new GradientProperty(this,P.g,this)),L.o=PropertyFactory.getProp(this,P.o,0,.01,this),P.ty==="st"||P.ty==="gs"){if(A.lc=lineCapEnum[P.lc||2],A.lj=lineJoinEnum[P.lj||2],P.lj==1&&(A.ml=P.ml),L.w=PropertyFactory.getProp(this,P.w,0,null,this),L.w.k||(A.wi=L.w.v),P.d){var U=new DashProperty(this,P.d,"canvas",this);L.d=U,L.d.k||(A.da=L.d.dashArray,A.do=L.d.dashoffset[0])}}else A.r=P.r===2?"evenodd":"nonzero";return this.stylesList.push(A),L.style=A,L},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(P){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,P.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,P,this)}}},CVShapeElement.prototype.createShapeElement=function(P){var T=new CVShapeData(this,P,this.stylesList,this.transformsManager);return this.shapes.push(T),this.addShapeToModifiers(T),T},CVShapeElement.prototype.reloadShapes=function(){var P;this._isFirstFrame=!0;var T=this.itemsData.length;for(P=0;P<T;P+=1)this.prevViewData[P]=this.itemsData[P];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),T=this.dynamicProperties.length,P=0;P<T;P+=1)this.dynamicProperties[P].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(P){var T,A=this.stylesList.length;for(T=0;T<A;T+=1)this.stylesList[T].closed||this.stylesList[T].transforms.push(P)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var P,T=this.stylesList.length;for(P=0;P<T;P+=1)this.stylesList[P].closed||this.stylesList[P].transforms.pop()},CVShapeElement.prototype.closeStyles=function(P){var T,A=P.length;for(T=0;T<A;T+=1)P[T].closed=!0},CVShapeElement.prototype.searchShapes=function(P,T,A,L,U){var W,te,ne,ie,oe,ae,ce=P.length-1,he=[],ue=[],pe=[].concat(U);for(W=ce;W>=0;W-=1){if((ie=this.searchProcessedElement(P[W]))?T[W]=A[ie-1]:P[W]._shouldRender=L,P[W].ty==="fl"||P[W].ty==="st"||P[W].ty==="gf"||P[W].ty==="gs")ie?T[W].style.closed=!1:T[W]=this.createStyleElement(P[W],pe),he.push(T[W].style);else if(P[W].ty==="gr"){if(ie)for(ne=T[W].it.length,te=0;te<ne;te+=1)T[W].prevViewData[te]=T[W].it[te];else T[W]=this.createGroupElement(P[W]);this.searchShapes(P[W].it,T[W].it,T[W].prevViewData,L,pe)}else P[W].ty==="tr"?(ie||(ae=this.createTransformElement(P[W]),T[W]=ae),pe.push(T[W]),this.addTransformToStyleList(T[W])):P[W].ty==="sh"||P[W].ty==="rc"||P[W].ty==="el"||P[W].ty==="sr"?ie||(T[W]=this.createShapeElement(P[W])):P[W].ty==="tm"||P[W].ty==="rd"||P[W].ty==="pb"||P[W].ty==="zz"||P[W].ty==="op"?(ie?(oe=T[W]).closed=!1:((oe=ShapeModifiers.getModifier(P[W].ty)).init(this,P[W]),T[W]=oe,this.shapeModifiers.push(oe)),ue.push(oe)):P[W].ty==="rp"&&(ie?(oe=T[W]).closed=!0:(oe=ShapeModifiers.getModifier(P[W].ty),T[W]=oe,oe.init(this,P,W,T),this.shapeModifiers.push(oe),L=!1),ue.push(oe));this.addProcessedElement(P[W],W+1)}for(this.removeTransformFromStyleList(),this.closeStyles(he),ce=ue.length,W=0;W<ce;W+=1)ue[W].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(P,T){(P._opMdf||T.op._mdf||this._isFirstFrame)&&(T.opacity=P.opacity,T.opacity*=T.op.v,T._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var P,T,A,L,U,W,te,ne,ie,oe=this.stylesList.length,ae=this.globalData.renderer,ce=this.globalData.canvasContext;for(P=0;P<oe;P+=1)if(((ne=(ie=this.stylesList[P]).type)!=="st"&&ne!=="gs"||ie.wi!==0)&&ie.data._shouldRender&&ie.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(ae.save(),W=ie.elements,ne==="st"||ne==="gs"?(ae.ctxStrokeStyle(ne==="st"?ie.co:ie.grd),ae.ctxLineWidth(ie.wi),ae.ctxLineCap(ie.lc),ae.ctxLineJoin(ie.lj),ae.ctxMiterLimit(ie.ml||0)):ae.ctxFillStyle(ne==="fl"?ie.co:ie.grd),ae.ctxOpacity(ie.coOp),ne!=="st"&&ne!=="gs"&&ce.beginPath(),ae.ctxTransform(ie.preTransforms.finalTransform.props),A=W.length,T=0;T<A;T+=1){for(ne!=="st"&&ne!=="gs"||(ce.beginPath(),ie.da&&(ce.setLineDash(ie.da),ce.lineDashOffset=ie.do)),U=(te=W[T].trNodes).length,L=0;L<U;L+=1)te[L].t==="m"?ce.moveTo(te[L].p[0],te[L].p[1]):te[L].t==="c"?ce.bezierCurveTo(te[L].pts[0],te[L].pts[1],te[L].pts[2],te[L].pts[3],te[L].pts[4],te[L].pts[5]):ce.closePath();ne!=="st"&&ne!=="gs"||(ae.ctxStroke(),ie.da&&ce.setLineDash(this.dashResetter))}ne!=="st"&&ne!=="gs"&&this.globalData.renderer.ctxFill(ie.r),ae.restore()}},CVShapeElement.prototype.renderShape=function(P,T,A,L){var U,W;for(W=P,U=T.length-1;U>=0;U-=1)T[U].ty==="tr"?(W=A[U].transform,this.renderShapeTransform(P,W)):T[U].ty==="sh"||T[U].ty==="el"||T[U].ty==="rc"||T[U].ty==="sr"?this.renderPath(T[U],A[U]):T[U].ty==="fl"?this.renderFill(T[U],A[U],W):T[U].ty==="st"?this.renderStroke(T[U],A[U],W):T[U].ty==="gf"||T[U].ty==="gs"?this.renderGradientFill(T[U],A[U],W):T[U].ty==="gr"?this.renderShape(W,T[U].it,A[U].it):T[U].ty;L&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(P,T){if(this._isFirstFrame||T._mdf||P.transforms._mdf){var A,L,U,W=P.trNodes,te=T.paths,ne=te._length;W.length=0;var ie=P.transforms.finalTransform;for(U=0;U<ne;U+=1){var oe=te.shapes[U];if(oe&&oe.v){for(L=oe._length,A=1;A<L;A+=1)A===1&&W.push({t:"m",p:ie.applyToPointArray(oe.v[0][0],oe.v[0][1],0)}),W.push({t:"c",pts:ie.applyToTriplePoints(oe.o[A-1],oe.i[A],oe.v[A])});L===1&&W.push({t:"m",p:ie.applyToPointArray(oe.v[0][0],oe.v[0][1],0)}),oe.c&&L&&(W.push({t:"c",pts:ie.applyToTriplePoints(oe.o[A-1],oe.i[0],oe.v[0])}),W.push({t:"z"}))}}P.trNodes=W}},CVShapeElement.prototype.renderPath=function(P,T){if(P.hd!==!0&&P._shouldRender){var A,L=T.styledShapes.length;for(A=0;A<L;A+=1)this.renderStyledShape(T.styledShapes[A],T.sh)}},CVShapeElement.prototype.renderFill=function(P,T,A){var L=T.style;(T.c._mdf||this._isFirstFrame)&&(L.co="rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||A._opMdf||this._isFirstFrame)&&(L.coOp=T.o.v*A.opacity)},CVShapeElement.prototype.renderGradientFill=function(P,T,A){var L,U=T.style;if(!U.grd||T.g._mdf||T.s._mdf||T.e._mdf||P.t!==1&&(T.h._mdf||T.a._mdf)){var W,te=this.globalData.canvasContext,ne=T.s.v,ie=T.e.v;if(P.t===1)L=te.createLinearGradient(ne[0],ne[1],ie[0],ie[1]);else{var oe=Math.sqrt(Math.pow(ne[0]-ie[0],2)+Math.pow(ne[1]-ie[1],2)),ae=Math.atan2(ie[1]-ne[1],ie[0]-ne[0]),ce=T.h.v;ce>=1?ce=.99:ce<=-1&&(ce=-.99);var he=oe*ce,ue=Math.cos(ae+T.a.v)*he+ne[0],pe=Math.sin(ae+T.a.v)*he+ne[1];L=te.createRadialGradient(ue,pe,0,ne[0],ne[1],oe)}var ge=P.g.p,de=T.g.c,me=1;for(W=0;W<ge;W+=1)T.g._hasOpacity&&T.g._collapsable&&(me=T.g.o[2*W+1]),L.addColorStop(de[4*W]/100,"rgba("+de[4*W+1]+","+de[4*W+2]+","+de[4*W+3]+","+me+")");U.grd=L}U.coOp=T.o.v*A.opacity},CVShapeElement.prototype.renderStroke=function(P,T,A){var L=T.style,U=T.d;U&&(U._mdf||this._isFirstFrame)&&(L.da=U.dashArray,L.do=U.dashoffset[0]),(T.c._mdf||this._isFirstFrame)&&(L.co="rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||A._opMdf||this._isFirstFrame)&&(L.coOp=T.o.v*A.opacity),(T.w._mdf||this._isFirstFrame)&&(L.wi=T.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var P=this.textProperty.currentData;this.renderedLetters=createSizedArray(P.l?P.l.length:0);var T=!1;P.fc?(T=!0,this.values.fill=this.buildColor(P.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=T;var A=!1;P.sc&&(A=!0,this.values.stroke=this.buildColor(P.sc),this.values.sWidth=P.sw);var L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge=this.globalData.fontManager.getFontByName(P.f),de=P.l,me=this.mHelper;this.stroke=A,this.values.fValue=P.finalSize+"px "+this.globalData.fontManager.getFontByName(P.f).fFamily,U=P.finalText.length;var ye=this.data.singleShape,xe=.001*P.tr*P.finalSize,Se=0,Te=0,be=!0,Pe=0;for(L=0;L<U;L+=1){te=(W=this.globalData.fontManager.getCharData(P.finalText[L],ge.fStyle,this.globalData.fontManager.getFontByName(P.f).fFamily))&&W.data||{},me.reset(),ye&&de[L].n&&(Se=-xe,Te+=P.yOffset,Te+=be?1:0,be=!1),ce=(oe=te.shapes?te.shapes[0].it:[]).length,me.scale(P.finalSize/100,P.finalSize/100),ye&&this.applyTextPropertiesToMatrix(P,me,de[L].line,Se,Te),ue=createSizedArray(ce-1);var Ie=0;for(ae=0;ae<ce;ae+=1)if(oe[ae].ty==="sh"){for(ie=oe[ae].ks.k.i.length,he=oe[ae].ks.k,pe=[],ne=1;ne<ie;ne+=1)ne===1&&pe.push(me.applyToX(he.v[0][0],he.v[0][1],0),me.applyToY(he.v[0][0],he.v[0][1],0)),pe.push(me.applyToX(he.o[ne-1][0],he.o[ne-1][1],0),me.applyToY(he.o[ne-1][0],he.o[ne-1][1],0),me.applyToX(he.i[ne][0],he.i[ne][1],0),me.applyToY(he.i[ne][0],he.i[ne][1],0),me.applyToX(he.v[ne][0],he.v[ne][1],0),me.applyToY(he.v[ne][0],he.v[ne][1],0));pe.push(me.applyToX(he.o[ne-1][0],he.o[ne-1][1],0),me.applyToY(he.o[ne-1][0],he.o[ne-1][1],0),me.applyToX(he.i[0][0],he.i[0][1],0),me.applyToY(he.i[0][0],he.i[0][1],0),me.applyToX(he.v[0][0],he.v[0][1],0),me.applyToY(he.v[0][0],he.v[0][1],0)),ue[Ie]=pe,Ie+=1}ye&&(Se+=de[L].l,Se+=xe),this.textSpans[Pe]?this.textSpans[Pe].elem=ue:this.textSpans[Pe]={elem:ue},Pe+=1}},CVTextElement.prototype.renderInnerContent=function(){var P,T,A,L,U,W;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var te,ne=this.textAnimator.renderedLetters,ie=this.textProperty.currentData.l;T=ie.length;var oe,ae,ce=null,he=null,ue=null,pe=this.globalData.renderer;for(P=0;P<T;P+=1)if(!ie[P].n){if((te=ne[P])&&(pe.save(),pe.ctxTransform(te.p),pe.ctxOpacity(te.o)),this.fill){for(te&&te.fc?ce!==te.fc&&(pe.ctxFillStyle(te.fc),ce=te.fc):ce!==this.values.fill&&(ce=this.values.fill,pe.ctxFillStyle(this.values.fill)),L=(oe=this.textSpans[P].elem).length,this.globalData.canvasContext.beginPath(),A=0;A<L;A+=1)for(W=(ae=oe[A]).length,this.globalData.canvasContext.moveTo(ae[0],ae[1]),U=2;U<W;U+=6)this.globalData.canvasContext.bezierCurveTo(ae[U],ae[U+1],ae[U+2],ae[U+3],ae[U+4],ae[U+5]);this.globalData.canvasContext.closePath(),pe.ctxFill()}if(this.stroke){for(te&&te.sw?ue!==te.sw&&(ue=te.sw,pe.ctxLineWidth(te.sw)):ue!==this.values.sWidth&&(ue=this.values.sWidth,pe.ctxLineWidth(this.values.sWidth)),te&&te.sc?he!==te.sc&&(he=te.sc,pe.ctxStrokeStyle(te.sc)):he!==this.values.stroke&&(he=this.values.stroke,pe.ctxStrokeStyle(this.values.stroke)),L=(oe=this.textSpans[P].elem).length,this.globalData.canvasContext.beginPath(),A=0;A<L;A+=1)for(W=(ae=oe[A]).length,this.globalData.canvasContext.moveTo(ae[0],ae[1]),U=2;U<W;U+=6)this.globalData.canvasContext.bezierCurveTo(ae[U],ae[U+1],ae[U+2],ae[U+3],ae[U+4],ae[U+5]);this.globalData.canvasContext.closePath(),pe.ctxStroke()}te&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var P=createTag("canvas");P.width=this.assetData.w,P.height=this.assetData.h;var T,A,L=P.getContext("2d"),U=this.img.width,W=this.img.height,te=U/W,ne=this.assetData.w/this.assetData.h,ie=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;te>ne&&ie==="xMidYMid slice"||te<ne&&ie!=="xMidYMid slice"?T=(A=W)*ne:A=(T=U)/ne,L.drawImage(this.img,(U-T)/2,(W-A)/2,T,A,0,0,this.assetData.w,this.assetData.h),this.img=P}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(P){return new CVShapeElement(P,this.globalData,this)},CanvasRendererBase.prototype.createText=function(P){return new CVTextElement(P,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(P){return new CVImageElement(P,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(P){return new CVSolidElement(P,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(P){P[0]===1&&P[1]===0&&P[4]===0&&P[5]===1&&P[12]===0&&P[13]===0||this.canvasContext.transform(P[0],P[1],P[4],P[5],P[12],P[13])},CanvasRendererBase.prototype.ctxOpacity=function(P){this.canvasContext.globalAlpha*=P<0?0:P},CanvasRendererBase.prototype.ctxFillStyle=function(P){this.canvasContext.fillStyle=P},CanvasRendererBase.prototype.ctxStrokeStyle=function(P){this.canvasContext.strokeStyle=P},CanvasRendererBase.prototype.ctxLineWidth=function(P){this.canvasContext.lineWidth=P},CanvasRendererBase.prototype.ctxLineCap=function(P){this.canvasContext.lineCap=P},CanvasRendererBase.prototype.ctxLineJoin=function(P){this.canvasContext.lineJoin=P},CanvasRendererBase.prototype.ctxMiterLimit=function(P){this.canvasContext.miterLimit=P},CanvasRendererBase.prototype.ctxFill=function(P){this.canvasContext.fill(P)},CanvasRendererBase.prototype.ctxFillRect=function(P,T,A,L){this.canvasContext.fillRect(P,T,A,L)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(P){this.renderConfig.clearCanvas?(P&&(this.globalData.blendMode="source-over"),this.contextData.restore(P)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(P){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var T=this.animationItem.container.style;T.width="100%",T.height="100%";var A="0px 0px 0px";T.transformOrigin=A,T.mozTransformOrigin=A,T.webkitTransformOrigin=A,T["-webkit-transform"]=A,T.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=P,this.layers=P.layers,this.transformCanvas={w:P.w,h:P.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(P,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(P.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(P,T){var A,L,U,W;if(this.reset(),P?(A=P,L=T,this.canvasContext.canvas.width=A,this.canvasContext.canvas.height=L):(this.animationItem.wrapper&&this.animationItem.container?(A=this.animationItem.wrapper.offsetWidth,L=this.animationItem.wrapper.offsetHeight):(A=this.canvasContext.canvas.width,L=this.canvasContext.canvas.height),this.canvasContext.canvas.width=A*this.renderConfig.dpr,this.canvasContext.canvas.height=L*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var te=this.renderConfig.preserveAspectRatio.split(" "),ne=te[1]||"meet",ie=te[0]||"xMidYMid",oe=ie.substr(0,4),ae=ie.substr(4);U=A/L,(W=this.transformCanvas.w/this.transformCanvas.h)>U&&ne==="meet"||W<U&&ne==="slice"?(this.transformCanvas.sx=A/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=A/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=L/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=L/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=oe==="xMid"&&(W<U&&ne==="meet"||W>U&&ne==="slice")?(A-this.transformCanvas.w*(L/this.transformCanvas.h))/2*this.renderConfig.dpr:oe==="xMax"&&(W<U&&ne==="meet"||W>U&&ne==="slice")?(A-this.transformCanvas.w*(L/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=ae==="YMid"&&(W>U&&ne==="meet"||W<U&&ne==="slice")?(L-this.transformCanvas.h*(A/this.transformCanvas.w))/2*this.renderConfig.dpr:ae==="YMax"&&(W>U&&ne==="meet"||W<U&&ne==="slice")?(L-this.transformCanvas.h*(A/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=A/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=L/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var P;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),P=(this.layers?this.layers.length:0)-1;P>=0;P-=1)this.elements[P]&&this.elements[P].destroy&&this.elements[P].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(P,T){if((this.renderedFrame!==P||this.renderConfig.clearCanvas!==!0||T)&&!this.destroyed&&P!==-1){var A;this.renderedFrame=P,this.globalData.frameNum=P-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||T,this.globalData.projectInterface.currentFrame=P;var L=this.layers.length;for(this.completeLayers||this.checkLayers(P),A=L-1;A>=0;A-=1)(this.completeLayers||this.elements[A])&&this.elements[A].prepareFrame(P-this.layers[A].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),A=L-1;A>=0;A-=1)(this.completeLayers||this.elements[A])&&this.elements[A].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(P){var T=this.elements;if(!T[P]&&this.layers[P].ty!==99){var A=this.createItem(this.layers[P],this,this.globalData);T[P]=A,A.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var P=2*this._length,T=0;for(T=this._length;T<P;T+=1)this.stack[T]=new CanvasContext;this._length=P},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(P){this.cArrPos-=1;var T,A=this.stack[this.cArrPos],L=A.transform,U=this.cTr.props;for(T=0;T<16;T+=1)U[T]=L[T];if(P){this.nativeContext.restore();var W=this.stack[this.cArrPos+1];this.appliedFillStyle=W.fillStyle,this.appliedStrokeStyle=W.strokeStyle,this.appliedLineWidth=W.lineWidth,this.appliedLineCap=W.lineCap,this.appliedLineJoin=W.lineJoin,this.appliedMiterLimit=W.miterLimit}this.nativeContext.setTransform(L[0],L[1],L[4],L[5],L[12],L[13]),(P||A.opacity!==-1&&this.currentOpacity!==A.opacity)&&(this.nativeContext.globalAlpha=A.opacity,this.currentOpacity=A.opacity),this.currentFillStyle=A.fillStyle,this.currentStrokeStyle=A.strokeStyle,this.currentLineWidth=A.lineWidth,this.currentLineCap=A.lineCap,this.currentLineJoin=A.lineJoin,this.currentMiterLimit=A.miterLimit},CVContextData.prototype.save=function(P){P&&this.nativeContext.save();var T=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var A,L=this.stack[this.cArrPos];for(A=0;A<16;A+=1)L.transform[A]=T[A];this.cArrPos+=1;var U=this.stack[this.cArrPos];U.opacity=L.opacity,U.fillStyle=L.fillStyle,U.strokeStyle=L.strokeStyle,U.lineWidth=L.lineWidth,U.lineCap=L.lineCap,U.lineJoin=L.lineJoin,U.miterLimit=L.miterLimit},CVContextData.prototype.setOpacity=function(P){this.stack[this.cArrPos].opacity=P},CVContextData.prototype.setContext=function(P){this.nativeContext=P},CVContextData.prototype.fillStyle=function(P){this.stack[this.cArrPos].fillStyle!==P&&(this.currentFillStyle=P,this.stack[this.cArrPos].fillStyle=P)},CVContextData.prototype.strokeStyle=function(P){this.stack[this.cArrPos].strokeStyle!==P&&(this.currentStrokeStyle=P,this.stack[this.cArrPos].strokeStyle=P)},CVContextData.prototype.lineWidth=function(P){this.stack[this.cArrPos].lineWidth!==P&&(this.currentLineWidth=P,this.stack[this.cArrPos].lineWidth=P)},CVContextData.prototype.lineCap=function(P){this.stack[this.cArrPos].lineCap!==P&&(this.currentLineCap=P,this.stack[this.cArrPos].lineCap=P)},CVContextData.prototype.lineJoin=function(P){this.stack[this.cArrPos].lineJoin!==P&&(this.currentLineJoin=P,this.stack[this.cArrPos].lineJoin=P)},CVContextData.prototype.miterLimit=function(P){this.stack[this.cArrPos].miterLimit!==P&&(this.currentMiterLimit=P,this.stack[this.cArrPos].miterLimit=P)},CVContextData.prototype.transform=function(P){this.transformMat.cloneFromProps(P);var T=this.cTr;this.transformMat.multiply(T),T.cloneFromProps(this.transformMat.props);var A=T.props;this.nativeContext.setTransform(A[0],A[1],A[4],A[5],A[12],A[13])},CVContextData.prototype.opacity=function(P){var T=this.stack[this.cArrPos].opacity;T*=P<0?0:P,this.stack[this.cArrPos].opacity!==T&&(this.currentOpacity!==P&&(this.nativeContext.globalAlpha=P,this.currentOpacity=P),this.stack[this.cArrPos].opacity=T)},CVContextData.prototype.fill=function(P){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(P)},CVContextData.prototype.fillRect=function(P,T,A,L){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(P,T,A,L)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var P,T=this.canvasContext;for(T.beginPath(),T.moveTo(0,0),T.lineTo(this.data.w,0),T.lineTo(this.data.w,this.data.h),T.lineTo(0,this.data.h),T.lineTo(0,0),T.clip(),P=this.layers.length-1;P>=0;P-=1)(this.completeLayers||this.elements[P])&&this.elements[P].renderFrame()},CVCompElement.prototype.destroy=function(){var P;for(P=this.layers.length-1;P>=0;P-=1)this.elements[P]&&this.elements[P].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(P){return new CVCompElement(P,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(P){return new CVCompElement(P,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var P=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var T=this.finalTransform.mat.toCSS();P.transform=T,P.webkitTransform=T}this.finalTransform._opMdf&&(P.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var P;this.data.hasMask?((P=createNS("rect")).setAttribute("width",this.data.sw),P.setAttribute("height",this.data.sh),P.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((P=createTag("div")).style.width=this.data.sw+"px",P.style.height=this.data.sh+"px",P.style.backgroundColor=this.data.sc),this.layerElement.appendChild(P)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var P;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),P=this.svgElement;else{P=createNS("svg");var T=this.comp.data?this.comp.data:this.globalData.compSize;P.setAttribute("width",T.w),P.setAttribute("height",T.h),P.appendChild(this.shapesContainer),this.layerElement.appendChild(P)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=P},HShapeElement.prototype.getTransformedPoint=function(P,T){var A,L=P.length;for(A=0;A<L;A+=1)T=P[A].mProps.v.applyToPointArray(T[0],T[1],0);return T},HShapeElement.prototype.calculateShapeBoundingBox=function(P,T){var A,L,U,W,te,ne=P.sh.v,ie=P.transformers,oe=ne._length;if(!(oe<=1)){for(A=0;A<oe-1;A+=1)L=this.getTransformedPoint(ie,ne.v[A]),U=this.getTransformedPoint(ie,ne.o[A]),W=this.getTransformedPoint(ie,ne.i[A+1]),te=this.getTransformedPoint(ie,ne.v[A+1]),this.checkBounds(L,U,W,te,T);ne.c&&(L=this.getTransformedPoint(ie,ne.v[A]),U=this.getTransformedPoint(ie,ne.o[A]),W=this.getTransformedPoint(ie,ne.i[0]),te=this.getTransformedPoint(ie,ne.v[0]),this.checkBounds(L,U,W,te,T))}},HShapeElement.prototype.checkBounds=function(P,T,A,L,U){this.getBoundsOfCurve(P,T,A,L);var W=this.shapeBoundingBox;U.x=bmMin(W.left,U.x),U.xMax=bmMax(W.right,U.xMax),U.y=bmMin(W.top,U.y),U.yMax=bmMax(W.bottom,U.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(P,T,A,L){for(var U,W,te,ne,ie,oe,ae,ce=[[P[0],L[0]],[P[1],L[1]]],he=0;he<2;++he)W=6*P[he]-12*T[he]+6*A[he],U=-3*P[he]+9*T[he]-9*A[he]+3*L[he],te=3*T[he]-3*P[he],W|=0,te|=0,(U|=0)===0&&W===0||(U===0?(ne=-te/W)>0&&ne<1&&ce[he].push(this.calculateF(ne,P,T,A,L,he)):(ie=W*W-4*te*U)>=0&&((oe=(-W+bmSqrt(ie))/(2*U))>0&&oe<1&&ce[he].push(this.calculateF(oe,P,T,A,L,he)),(ae=(-W-bmSqrt(ie))/(2*U))>0&&ae<1&&ce[he].push(this.calculateF(ae,P,T,A,L,he))));this.shapeBoundingBox.left=bmMin.apply(null,ce[0]),this.shapeBoundingBox.top=bmMin.apply(null,ce[1]),this.shapeBoundingBox.right=bmMax.apply(null,ce[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ce[1])},HShapeElement.prototype.calculateF=function(P,T,A,L,U,W){return bmPow(1-P,3)*T[W]+3*bmPow(1-P,2)*P*A[W]+3*(1-P)*bmPow(P,2)*L[W]+bmPow(P,3)*U[W]},HShapeElement.prototype.calculateBoundingBox=function(P,T){var A,L=P.length;for(A=0;A<L;A+=1)P[A]&&P[A].sh?this.calculateShapeBoundingBox(P[A],T):P[A]&&P[A].it?this.calculateBoundingBox(P[A].it,T):P[A]&&P[A].style&&P[A].w&&this.expandStrokeBoundingBox(P[A].w,T)},HShapeElement.prototype.expandStrokeBoundingBox=function(P,T){var A=0;if(P.keyframes){for(var L=0;L<P.keyframes.length;L+=1){var U=P.keyframes[L].s;U>A&&(A=U)}A*=P.mult}else A=P.v*P.mult;T.x-=A,T.xMax+=A,T.y-=A,T.yMax+=A},HShapeElement.prototype.currentBoxContains=function(P){return this.currentBBox.x<=P.x&&this.currentBBox.y<=P.y&&this.currentBBox.width+this.currentBBox.x>=P.x+P.width&&this.currentBBox.height+this.currentBBox.y>=P.y+P.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var P=this.tempBoundingBox,T=999999;if(P.x=T,P.xMax=-T,P.y=T,P.yMax=-T,this.calculateBoundingBox(this.itemsData,P),P.width=P.xMax<P.x?0:P.xMax-P.x,P.height=P.yMax<P.y?0:P.yMax-P.y,this.currentBoxContains(P))return;var A=!1;if(this.currentBBox.w!==P.width&&(this.currentBBox.w=P.width,this.shapeCont.setAttribute("width",P.width),A=!0),this.currentBBox.h!==P.height&&(this.currentBBox.h=P.height,this.shapeCont.setAttribute("height",P.height),A=!0),A||this.currentBBox.x!==P.x||this.currentBBox.y!==P.y){this.currentBBox.w=P.width,this.currentBBox.h=P.height,this.currentBBox.x=P.x,this.currentBBox.y=P.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var L=this.shapeCont.style,U="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";L.transform=U,L.webkitTransform=U}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var P=createNS("g");this.maskedElement.appendChild(P),this.innerElem=P}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var P=this.textProperty.currentData;this.renderedLetters=createSizedArray(P.l?P.l.length:0);var T=this.innerElem.style,A=P.fc?this.buildColor(P.fc):"rgba(0,0,0,0)";T.fill=A,T.color=A,P.sc&&(T.stroke=this.buildColor(P.sc),T.strokeWidth=P.sw+"px");var L,U,W=this.globalData.fontManager.getFontByName(P.f);if(!this.globalData.fontManager.chars)if(T.fontSize=P.finalSize+"px",T.lineHeight=P.finalSize+"px",W.fClass)this.innerElem.className=W.fClass;else{T.fontFamily=W.fFamily;var te=P.fWeight,ne=P.fStyle;T.fontStyle=ne,T.fontWeight=te}var ie,oe,ae,ce=P.l;U=ce.length;var he,ue=this.mHelper,pe="",ge=0;for(L=0;L<U;L+=1){if(this.globalData.fontManager.chars?(this.textPaths[ge]?ie=this.textPaths[ge]:((ie=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),ie.setAttribute("stroke-linejoin",lineJoinEnum[2]),ie.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[ge]?ae=(oe=this.textSpans[ge]).children[0]:((oe=createTag("div")).style.lineHeight=0,(ae=createNS("svg")).appendChild(ie),styleDiv(oe)))):this.isMasked?ie=this.textPaths[ge]?this.textPaths[ge]:createNS("text"):this.textSpans[ge]?(oe=this.textSpans[ge],ie=this.textPaths[ge]):(styleDiv(oe=createTag("span")),styleDiv(ie=createTag("span")),oe.appendChild(ie)),this.globalData.fontManager.chars){var de,me=this.globalData.fontManager.getCharData(P.finalText[L],W.fStyle,this.globalData.fontManager.getFontByName(P.f).fFamily);if(de=me?me.data:null,ue.reset(),de&&de.shapes&&de.shapes.length&&(he=de.shapes[0].it,ue.scale(P.finalSize/100,P.finalSize/100),pe=this.createPathShape(ue,he),ie.setAttribute("d",pe)),this.isMasked)this.innerElem.appendChild(ie);else{if(this.innerElem.appendChild(oe),de&&de.shapes){document.body.appendChild(ae);var ye=ae.getBBox();ae.setAttribute("width",ye.width+2),ae.setAttribute("height",ye.height+2),ae.setAttribute("viewBox",ye.x-1+" "+(ye.y-1)+" "+(ye.width+2)+" "+(ye.height+2));var xe=ae.style,Se="translate("+(ye.x-1)+"px,"+(ye.y-1)+"px)";xe.transform=Se,xe.webkitTransform=Se,ce[L].yOffset=ye.y-1}else ae.setAttribute("width",1),ae.setAttribute("height",1);oe.appendChild(ae)}}else if(ie.textContent=ce[L].val,ie.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ie);else{this.innerElem.appendChild(oe);var Te=ie.style,be="translate3d(0,"+-P.finalSize/1.2+"px,0)";Te.transform=be,Te.webkitTransform=be}this.isMasked?this.textSpans[ge]=ie:this.textSpans[ge]=oe,this.textSpans[ge].style.display="block",this.textPaths[ge]=ie,ge+=1}for(;ge<this.textSpans.length;)this.textSpans[ge].style.display="none",ge+=1},HTextElement.prototype.renderInnerContent=function(){var P;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),P=this.svgElement.style;var T="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";P.transform=T,P.webkitTransform=T}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var A,L,U,W,te,ne=0,ie=this.textAnimator.renderedLetters,oe=this.textProperty.currentData.l;for(L=oe.length,A=0;A<L;A+=1)oe[A].n?ne+=1:(W=this.textSpans[A],te=this.textPaths[A],U=ie[ne],ne+=1,U._mdf.m&&(this.isMasked?W.setAttribute("transform",U.m):(W.style.webkitTransform=U.m,W.style.transform=U.m)),W.style.opacity=U.o,U.sw&&U._mdf.sw&&te.setAttribute("stroke-width",U.sw),U.sc&&U._mdf.sc&&te.setAttribute("stroke",U.sc),U.fc&&U._mdf.fc&&(te.setAttribute("fill",U.fc),te.style.color=U.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ae=this.innerElem.getBBox();if(this.currentBBox.w!==ae.width&&(this.currentBBox.w=ae.width,this.svgElement.setAttribute("width",ae.width)),this.currentBBox.h!==ae.height&&(this.currentBBox.h=ae.height,this.svgElement.setAttribute("height",ae.height)),this.currentBBox.w!==ae.width+2||this.currentBBox.h!==ae.height+2||this.currentBBox.x!==ae.x-1||this.currentBBox.y!==ae.y-1){this.currentBBox.w=ae.width+2,this.currentBBox.h=ae.height+2,this.currentBBox.x=ae.x-1,this.currentBBox.y=ae.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),P=this.svgElement.style;var ce="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";P.transform=ce,P.webkitTransform=ce}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var P,T,A,L,U=this.comp.threeDElements.length;for(P=0;P<U;P+=1)if((T=this.comp.threeDElements[P]).type==="3d"){A=T.perspectiveElem.style,L=T.container.style;var W=this.pe.v+"px",te="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";A.perspective=W,A.webkitPerspective=W,L.transformOrigin="0px 0px 0px",L.mozTransformOrigin="0px 0px 0px",L.webkitTransformOrigin="0px 0px 0px",A.transform=te,A.webkitTransform=te}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var P,T,A=this._isFirstFrame;if(this.hierarchy)for(T=this.hierarchy.length,P=0;P<T;P+=1)A=this.hierarchy[P].finalTransform.mProp._mdf||A;if(A||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(P=T=this.hierarchy.length-1;P>=0;P-=1){var L=this.hierarchy[P].finalTransform.mProp;this.mat.translate(-L.p.v[0],-L.p.v[1],L.p.v[2]),this.mat.rotateX(-L.or.v[0]).rotateY(-L.or.v[1]).rotateZ(L.or.v[2]),this.mat.rotateX(-L.rx.v).rotateY(-L.ry.v).rotateZ(L.rz.v),this.mat.scale(1/L.s.v[0],1/L.s.v[1],1/L.s.v[2]),this.mat.translate(L.a.v[0],L.a.v[1],L.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var U;U=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var W=Math.sqrt(Math.pow(U[0],2)+Math.pow(U[1],2)+Math.pow(U[2],2)),te=[U[0]/W,U[1]/W,U[2]/W],ne=Math.sqrt(te[2]*te[2]+te[0]*te[0]),ie=Math.atan2(te[1],ne),oe=Math.atan2(te[0],-te[2]);this.mat.rotateY(oe).rotateX(-ie)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ae=!this._prevMat.equals(this.mat);if((ae||this.pe._mdf)&&this.comp.threeDElements){var ce,he,ue;for(T=this.comp.threeDElements.length,P=0;P<T;P+=1)if((ce=this.comp.threeDElements[P]).type==="3d"){if(ae){var pe=this.mat.toCSS();(ue=ce.container.style).transform=pe,ue.webkitTransform=pe}this.pe._mdf&&((he=ce.perspectiveElem.style).perspective=this.pe.v+"px",he.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(P){this.prepareProperties(P,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var P=this.globalData.getAssetsPath(this.assetData),T=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",P),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(T),T.crossOrigin="anonymous",T.src=P,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(P,T){var A=P.getBaseElement();if(A){var L=this.layers[T];if(L.ddd&&this.supports3d)this.addTo3dContainer(A,T);else if(this.threeDElements)this.addTo3dContainer(A,T);else{for(var U,W,te=0;te<T;)this.elements[te]&&this.elements[te]!==!0&&this.elements[te].getBaseElement&&(W=this.elements[te],U=(this.layers[te].ddd?this.getThreeDContainerByPos(te):W.getBaseElement())||U),te+=1;U?L.ddd&&this.supports3d||this.layerElement.insertBefore(A,U):L.ddd&&this.supports3d||this.layerElement.appendChild(A)}}},HybridRendererBase.prototype.createShape=function(P){return this.supports3d?new HShapeElement(P,this.globalData,this):new SVGShapeElement(P,this.globalData,this)},HybridRendererBase.prototype.createText=function(P){return this.supports3d?new HTextElement(P,this.globalData,this):new SVGTextLottieElement(P,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(P){return this.camera=new HCameraElement(P,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(P){return this.supports3d?new HImageElement(P,this.globalData,this):new IImageElement(P,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(P){return this.supports3d?new HSolidElement(P,this.globalData,this):new ISolidElement(P,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(P){for(var T=0,A=this.threeDElements.length;T<A;){if(this.threeDElements[T].startPos<=P&&this.threeDElements[T].endPos>=P)return this.threeDElements[T].perspectiveElem;T+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(P,T){var A,L,U=createTag("div");styleDiv(U);var W=createTag("div");if(styleDiv(W),T==="3d"){(A=U.style).width=this.globalData.compSize.w+"px",A.height=this.globalData.compSize.h+"px",A.webkitTransformOrigin="50% 50%",A.mozTransformOrigin="50% 50%",A.transformOrigin="50% 50%";var te="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(L=W.style).transform=te,L.webkitTransform=te}U.appendChild(W);var ne={container:W,perspectiveElem:U,startPos:P,endPos:P,type:T};return this.threeDElements.push(ne),ne},HybridRendererBase.prototype.build3dContainers=function(){var P,T,A=this.layers.length,L="";for(P=0;P<A;P+=1)this.layers[P].ddd&&this.layers[P].ty!==3?(L!=="3d"&&(L="3d",T=this.createThreeDContainer(P,"3d")),T.endPos=Math.max(T.endPos,P)):(L!=="2d"&&(L="2d",T=this.createThreeDContainer(P,"2d")),T.endPos=Math.max(T.endPos,P));for(P=(A=this.threeDElements.length)-1;P>=0;P-=1)this.resizerElem.appendChild(this.threeDElements[P].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(P,T){for(var A=0,L=this.threeDElements.length;A<L;){if(T<=this.threeDElements[A].endPos){for(var U,W=this.threeDElements[A].startPos;W<T;)this.elements[W]&&this.elements[W].getBaseElement&&(U=this.elements[W].getBaseElement()),W+=1;U?this.threeDElements[A].container.insertBefore(P,U):this.threeDElements[A].container.appendChild(P);break}A+=1}},HybridRendererBase.prototype.configAnimation=function(P){var T=createTag("div"),A=this.animationItem.wrapper,L=T.style;L.width=P.w+"px",L.height=P.h+"px",this.resizerElem=T,styleDiv(T),L.transformStyle="flat",L.mozTransformStyle="flat",L.webkitTransformStyle="flat",this.renderConfig.className&&T.setAttribute("class",this.renderConfig.className),A.appendChild(T),L.overflow="hidden";var U=createNS("svg");U.setAttribute("width","1"),U.setAttribute("height","1"),styleDiv(U),this.resizerElem.appendChild(U);var W=createNS("defs");U.appendChild(W),this.data=P,this.setupGlobalData(P,U),this.globalData.defs=W,this.layers=P.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var P;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var T=this.layers?this.layers.length:0;for(P=0;P<T;P+=1)this.elements[P]&&this.elements[P].destroy&&this.elements[P].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var P,T,A,L,U=this.animationItem.wrapper.offsetWidth,W=this.animationItem.wrapper.offsetHeight,te=U/W;this.globalData.compSize.w/this.globalData.compSize.h>te?(P=U/this.globalData.compSize.w,T=U/this.globalData.compSize.w,A=0,L=(W-this.globalData.compSize.h*(U/this.globalData.compSize.w))/2):(P=W/this.globalData.compSize.h,T=W/this.globalData.compSize.h,A=(U-this.globalData.compSize.w*(W/this.globalData.compSize.h))/2,L=0);var ne=this.resizerElem.style;ne.webkitTransform="matrix3d("+P+",0,0,0,0,"+T+",0,0,0,0,1,0,"+A+","+L+",0,1)",ne.transform=ne.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var P,T=this.globalData.compSize.w,A=this.globalData.compSize.h,L=this.threeDElements.length;for(P=0;P<L;P+=1){var U=this.threeDElements[P].perspectiveElem.style;U.webkitPerspective=Math.sqrt(Math.pow(T,2)+Math.pow(A,2))+"px",U.perspective=U.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(P){var T,A=P.length,L=createTag("div");for(T=0;T<A;T+=1)if(P[T].xt){var U=this.createComp(P[T],L,this.globalData.comp,null);U.initExpressions(),this.globalData.projectInterface.registerComposition(U)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(P,T){for(var A,L=0;L<T;)this.elements[L]&&this.elements[L].getBaseElement&&(A=this.elements[L].getBaseElement()),L+=1;A?this.layerElement.insertBefore(P,A):this.layerElement.appendChild(P)},HCompElement.prototype.createComp=function(P){return this.supports3d?new HCompElement(P,this.globalData,this):new SVGCompElement(P,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(P){return this.supports3d?new HCompElement(P,this.globalData,this):new SVGCompElement(P,this.globalData,this)};var CompExpressionInterface=function(P){function T(A){for(var L=0,U=P.layers.length;L<U;){if(P.layers[L].nm===A||P.layers[L].ind===A)return P.elements[L].layerInterface;L+=1}return null}return Object.defineProperty(T,"_name",{value:P.data.nm}),T.layer=T,T.pixelAspect=1,T.height=P.data.h||P.globalData.compSize.h,T.width=P.data.w||P.globalData.compSize.w,T.pixelAspect=1,T.frameDuration=1/P.globalData.frameRate,T.displayStartTime=0,T.numLayers=P.layers.length,T};function _typeof$2(P){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}function seedRandom(P,T){var A=this,L=T.pow(256,6),U=T.pow(2,52),W=2*U;function te(ae){var ce,he=ae.length,ue=this,pe=0,ge=ue.i=ue.j=0,de=ue.S=[];for(he||(ae=[he++]);pe<256;)de[pe]=pe++;for(pe=0;pe<256;pe++)de[pe]=de[ge=255&ge+ae[pe%he]+(ce=de[pe])],de[ge]=ce;ue.g=function(me){for(var ye,xe=0,Se=ue.i,Te=ue.j,be=ue.S;me--;)ye=be[Se=255&Se+1],xe=256*xe+be[255&(be[Se]=be[Te=255&Te+ye])+(be[Te]=ye)];return ue.i=Se,ue.j=Te,xe}}function ne(ae,ce){return ce.i=ae.i,ce.j=ae.j,ce.S=ae.S.slice(),ce}function ie(ae,ce){for(var he,ue=ae+"",pe=0;pe<ue.length;)ce[255&pe]=255&(he^=19*ce[255&pe])+ue.charCodeAt(pe++);return oe(ce)}function oe(ae){return String.fromCharCode.apply(0,ae)}T.seedrandom=function(ae,ce,he){var ue=[],pe=ie(function me(ye,xe){var Se,Te=[],be=_typeof$2(ye);if(xe&&be=="object")for(Se in ye)try{Te.push(me(ye[Se],xe-1))}catch{}return Te.length?Te:be=="string"?ye:ye+"\0"}((ce=ce===!0?{entropy:!0}:ce||{}).entropy?[ae,oe(P)]:ae===null?function(){try{var me=new Uint8Array(256);return(A.crypto||A.msCrypto).getRandomValues(me),oe(me)}catch{var ye=A.navigator,xe=ye&&ye.plugins;return[+new Date,A,xe,A.screen,oe(P)]}}():ae,3),ue),ge=new te(ue),de=function(){for(var me=ge.g(6),ye=L,xe=0;me<U;)me=256*(me+xe),ye*=256,xe=ge.g(1);for(;me>=W;)me/=2,ye/=2,xe>>>=1;return(me+xe)/ye};return de.int32=function(){return 0|ge.g(4)},de.quick=function(){return ge.g(4)/4294967296},de.double=de,ie(oe(ge.S),P),(ce.pass||he||function(me,ye,xe,Se){return Se&&(Se.S&&ne(Se,ge),me.state=function(){return ne(ge,{})}),xe?(T.random=me,ye):me})(de,pe,"global"in ce?ce.global:this==T,ce.state)},ie(T.random(),P)}function initialize$2(P){seedRandom([],P)}var propTypes={SHAPE:"shape"};function _typeof$1(P){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(P){return P.constructor===Array||P.constructor===Float32Array}function isNumerable(P,T){return P==="number"||T instanceof Number||P==="boolean"||P==="string"}function $bm_neg(P){var T=_typeof$1(P);if(T==="number"||P instanceof Number||T==="boolean")return-P;if($bm_isInstanceOfArray(P)){var A,L=P.length,U=[];for(A=0;A<L;A+=1)U[A]=-P[A];return U}return P.propType?P.v:-P}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(P,T){var A=_typeof$1(P),L=_typeof$1(T);if(isNumerable(A,P)&&isNumerable(L,T)||A==="string"||L==="string")return P+T;if($bm_isInstanceOfArray(P)&&isNumerable(L,T))return(P=P.slice(0))[0]+=T,P;if(isNumerable(A,P)&&$bm_isInstanceOfArray(T))return(T=T.slice(0))[0]=P+T[0],T;if($bm_isInstanceOfArray(P)&&$bm_isInstanceOfArray(T)){for(var U=0,W=P.length,te=T.length,ne=[];U<W||U<te;)(typeof P[U]=="number"||P[U]instanceof Number)&&(typeof T[U]=="number"||T[U]instanceof Number)?ne[U]=P[U]+T[U]:ne[U]=T[U]===void 0?P[U]:P[U]||T[U],U+=1;return ne}return 0}var add=sum;function sub(P,T){var A=_typeof$1(P),L=_typeof$1(T);if(isNumerable(A,P)&&isNumerable(L,T))return A==="string"&&(P=parseInt(P,10)),L==="string"&&(T=parseInt(T,10)),P-T;if($bm_isInstanceOfArray(P)&&isNumerable(L,T))return(P=P.slice(0))[0]-=T,P;if(isNumerable(A,P)&&$bm_isInstanceOfArray(T))return(T=T.slice(0))[0]=P-T[0],T;if($bm_isInstanceOfArray(P)&&$bm_isInstanceOfArray(T)){for(var U=0,W=P.length,te=T.length,ne=[];U<W||U<te;)(typeof P[U]=="number"||P[U]instanceof Number)&&(typeof T[U]=="number"||T[U]instanceof Number)?ne[U]=P[U]-T[U]:ne[U]=T[U]===void 0?P[U]:P[U]||T[U],U+=1;return ne}return 0}function mul(P,T){var A,L,U,W=_typeof$1(P),te=_typeof$1(T);if(isNumerable(W,P)&&isNumerable(te,T))return P*T;if($bm_isInstanceOfArray(P)&&isNumerable(te,T)){for(U=P.length,A=createTypedArray("float32",U),L=0;L<U;L+=1)A[L]=P[L]*T;return A}if(isNumerable(W,P)&&$bm_isInstanceOfArray(T)){for(U=T.length,A=createTypedArray("float32",U),L=0;L<U;L+=1)A[L]=P*T[L];return A}return 0}function div(P,T){var A,L,U,W=_typeof$1(P),te=_typeof$1(T);if(isNumerable(W,P)&&isNumerable(te,T))return P/T;if($bm_isInstanceOfArray(P)&&isNumerable(te,T)){for(U=P.length,A=createTypedArray("float32",U),L=0;L<U;L+=1)A[L]=P[L]/T;return A}if(isNumerable(W,P)&&$bm_isInstanceOfArray(T)){for(U=T.length,A=createTypedArray("float32",U),L=0;L<U;L+=1)A[L]=P/T[L];return A}return 0}function mod(P,T){return typeof P=="string"&&(P=parseInt(P,10)),typeof T=="string"&&(T=parseInt(T,10)),P%T}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(P,T,A){if(T>A){var L=A;A=T,T=L}return Math.min(Math.max(P,T),A)}function radiansToDegrees(P){return P/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(P){return P*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(P,T){if(typeof P=="number"||P instanceof Number)return T=T||0,Math.abs(P-T);var A;T||(T=helperLengthArray);var L=Math.min(P.length,T.length),U=0;for(A=0;A<L;A+=1)U+=Math.pow(T[A]-P[A],2);return Math.sqrt(U)}function normalize(P){return div(P,length(P))}function rgbToHsl(P){var T,A,L=P[0],U=P[1],W=P[2],te=Math.max(L,U,W),ne=Math.min(L,U,W),ie=(te+ne)/2;if(te===ne)T=0,A=0;else{var oe=te-ne;switch(A=ie>.5?oe/(2-te-ne):oe/(te+ne),te){case L:T=(U-W)/oe+(U<W?6:0);break;case U:T=(W-L)/oe+2;break;case W:T=(L-U)/oe+4}T/=6}return[T,A,ie,P[3]]}function hue2rgb(P,T,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?P+6*(T-P)*A:A<.5?T:A<2/3?P+(T-P)*(2/3-A)*6:P}function hslToRgb(P){var T,A,L,U=P[0],W=P[1],te=P[2];if(W===0)T=te,L=te,A=te;else{var ne=te<.5?te*(1+W):te+W-te*W,ie=2*te-ne;T=hue2rgb(ie,ne,U+1/3),A=hue2rgb(ie,ne,U),L=hue2rgb(ie,ne,U-1/3)}return[T,A,L,P[3]]}function linear(P,T,A,L,U){if(L!==void 0&&U!==void 0||(L=T,U=A,T=0,A=1),A<T){var W=A;A=T,T=W}if(P<=T)return L;if(P>=A)return U;var te,ne=A===T?0:(P-T)/(A-T);if(!L.length)return L+(U-L)*ne;var ie=L.length,oe=createTypedArray("float32",ie);for(te=0;te<ie;te+=1)oe[te]=L[te]+(U[te]-L[te])*ne;return oe}function random(P,T){if(T===void 0&&(P===void 0?(P=0,T=1):(T=P,P=void 0)),T.length){var A,L=T.length;P||(P=createTypedArray("float32",L));var U=createTypedArray("float32",L),W=BMMath.random();for(A=0;A<L;A+=1)U[A]=P[A]+W*(T[A]-P[A]);return U}return P===void 0&&(P=0),P+BMMath.random()*(T-P)}function createPath(P,T,A,L){var U,W=P.length,te=shapePool.newElement();te.setPathData(!!L,W);var ne,ie,oe=[0,0];for(U=0;U<W;U+=1)ne=T&&T[U]?T[U]:oe,ie=A&&A[U]?A[U]:oe,te.setTripleAt(P[U][0],P[U][1],ie[0]+P[U][0],ie[1]+P[U][1],ne[0]+P[U][0],ne[1]+P[U][1],U,!0);return te}function initiateExpression(elem,data,property){function noOp(P){return P}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(P,T){var A,L,U=this.pv.length?this.pv.length:1,W=createTypedArray("float32",U),te=Math.floor(5*time);for(A=0,L=0;A<te;){for(L=0;L<U;L+=1)W[L]+=-T+2*T*BMMath.random();A+=1}var ne=5*time,ie=ne-Math.floor(ne),oe=createTypedArray("float32",U);if(U>1){for(L=0;L<U;L+=1)oe[L]=this.pv[L]+W[L]+(-T+2*T*BMMath.random())*ie;return oe}return this.pv+W[0]+(-T+2*T*BMMath.random())*ie}).bind(this);function loopInDuration(P,T){return loopIn(P,T,!0)}function loopOutDuration(P,T){return loopOut(P,T,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(P,T){var A=[T[0]-P[0],T[1]-P[1],T[2]-P[2]],L=Math.atan2(A[0],Math.sqrt(A[1]*A[1]+A[2]*A[2]))/degToRads;return[-Math.atan2(A[1],A[2])/degToRads,L,0]}function easeOut(P,T,A,L,U){return applyEase(easeOutBez,P,T,A,L,U)}function easeIn(P,T,A,L,U){return applyEase(easeInBez,P,T,A,L,U)}function ease(P,T,A,L,U){return applyEase(easeInOutBez,P,T,A,L,U)}function applyEase(P,T,A,L,U,W){U===void 0?(U=A,W=L):T=(T-A)/(L-A),T>1?T=1:T<0&&(T=0);var te=P(T);if($bm_isInstanceOfArray(U)){var ne,ie=U.length,oe=createTypedArray("float32",ie);for(ne=0;ne<ie;ne+=1)oe[ne]=(W[ne]-U[ne])*te+U[ne];return oe}return(W-U)*te+U}function nearestKey(P){var T,A,L,U=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(A=-1,(P*=elem.comp.globalData.frameRate)<data.k[0].t)A=1,L=data.k[0].t;else{for(T=0;T<U-1;T+=1){if(P===data.k[T].t){A=T+1,L=data.k[T].t;break}if(P>data.k[T].t&&P<data.k[T+1].t){P-data.k[T].t>data.k[T+1].t-P?(A=T+2,L=data.k[T+1].t):(A=T+1,L=data.k[T].t);break}}A===-1&&(A=T+1,L=data.k[T].t)}else A=0,L=0;var W={};return W.index=A,W.time=L/elem.comp.globalData.frameRate,W}function key(P){var T,A,L;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+P);P-=1,T={time:data.k[P].t/elem.comp.globalData.frameRate,value:[]};var U=Object.prototype.hasOwnProperty.call(data.k[P],"s")?data.k[P].s:data.k[P-1].e;for(L=U.length,A=0;A<L;A+=1)T[A]=U[A],T.value[A]=U[A];return T}function framesToTime(P,T){return T||(T=elem.comp.globalData.frameRate),P/T}function timeToFrames(P,T){return P||P===0||(P=time),T||(T=elem.comp.globalData.frameRate),P*T}function seedRandom(P){BMMath.seedrandom(randSeed+P)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(P,T){return typeof value=="string"?T===void 0?value.substring(P):value.substring(P,T):""}function substr(P,T){return typeof value=="string"?T===void 0?value.substr(P):value.substr(P,T):""}function posterizeTime(P){time=P===0?0:Math.floor(time*P)/P,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(P){return value=P,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var P={};return P.initExpressions=function(T){var A=0,L=[];T.renderer.compInterface=CompExpressionInterface(T.renderer),T.renderer.globalData.projectInterface.registerComposition(T.renderer),T.renderer.globalData.pushExpression=function(){A+=1},T.renderer.globalData.popExpression=function(){(A-=1)===0&&function(){var U,W=L.length;for(U=0;U<W;U+=1)L[U].release();L.length=0}()},T.renderer.globalData.registerExpressionProperty=function(U){L.indexOf(U)===-1&&L.push(U)}},P.resetFrame=ExpressionManager.resetFrame,P}(),MaskManagerInterface=function(){function P(T,A){this._mask=T,this._data=A}return Object.defineProperty(P.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(P.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(T){var A,L=createSizedArray(T.viewData.length),U=T.viewData.length;for(A=0;A<U;A+=1)L[A]=new P(T.viewData[A],T.masksProperties[A]);return function(W){for(A=0;A<U;){if(T.masksProperties[A].nm===W)return L[A];A+=1}return null}}}(),ExpressionPropertyInterface=function(){var P={pv:0,v:0,mult:1},T={pv:[0,0,0],v:[0,0,0],mult:1};function A(U,W,te){Object.defineProperty(U,"velocity",{get:function(){return W.getVelocityAtTime(W.comp.currentFrame)}}),U.numKeys=W.keyframes?W.keyframes.length:0,U.key=function(ne){if(!U.numKeys)return 0;var ie="";ie="s"in W.keyframes[ne-1]?W.keyframes[ne-1].s:"e"in W.keyframes[ne-2]?W.keyframes[ne-2].e:W.keyframes[ne-2].s;var oe=te==="unidimensional"?new Number(ie):Object.assign({},ie);return oe.time=W.keyframes[ne-1].t/W.elem.comp.globalData.frameRate,oe.value=te==="unidimensional"?ie[0]:ie,oe},U.valueAtTime=W.getValueAtTime,U.speedAtTime=W.getSpeedAtTime,U.velocityAtTime=W.getVelocityAtTime,U.propertyGroup=W.propertyGroup}function L(){return P}return function(U){return U?U.propType==="unidimensional"?function(W){W&&"pv"in W||(W=P);var te=1/W.mult,ne=W.pv*te,ie=new Number(ne);return ie.value=ne,A(ie,W,"unidimensional"),function(){return W.k&&W.getValue(),ne=W.v*te,ie.value!==ne&&((ie=new Number(ne)).value=ne,A(ie,W,"unidimensional")),ie}}(U):function(W){W&&"pv"in W||(W=T);var te=1/W.mult,ne=W.data&&W.data.l||W.pv.length,ie=createTypedArray("float32",ne),oe=createTypedArray("float32",ne);return ie.value=oe,A(ie,W,"multidimensional"),function(){W.k&&W.getValue();for(var ae=0;ae<ne;ae+=1)oe[ae]=W.v[ae]*te,ie[ae]=oe[ae];return ie}}(U):L}}(),TransformExpressionInterface=function(P){function T(te){switch(te){case"scale":case"Scale":case"ADBE Scale":case 6:return T.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return T.rotation;case"ADBE Rotate X":return T.xRotation;case"ADBE Rotate Y":return T.yRotation;case"position":case"Position":case"ADBE Position":case 2:return T.position;case"ADBE Position_0":return T.xPosition;case"ADBE Position_1":return T.yPosition;case"ADBE Position_2":return T.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return T.anchorPoint;case"opacity":case"Opacity":case 11:return T.opacity;default:return null}}var A,L,U,W;return Object.defineProperty(T,"rotation",{get:ExpressionPropertyInterface(P.r||P.rz)}),Object.defineProperty(T,"zRotation",{get:ExpressionPropertyInterface(P.rz||P.r)}),Object.defineProperty(T,"xRotation",{get:ExpressionPropertyInterface(P.rx)}),Object.defineProperty(T,"yRotation",{get:ExpressionPropertyInterface(P.ry)}),Object.defineProperty(T,"scale",{get:ExpressionPropertyInterface(P.s)}),P.p?W=ExpressionPropertyInterface(P.p):(A=ExpressionPropertyInterface(P.px),L=ExpressionPropertyInterface(P.py),P.pz&&(U=ExpressionPropertyInterface(P.pz))),Object.defineProperty(T,"position",{get:function(){return P.p?W():[A(),L(),U?U():0]}}),Object.defineProperty(T,"xPosition",{get:ExpressionPropertyInterface(P.px)}),Object.defineProperty(T,"yPosition",{get:ExpressionPropertyInterface(P.py)}),Object.defineProperty(T,"zPosition",{get:ExpressionPropertyInterface(P.pz)}),Object.defineProperty(T,"anchorPoint",{get:ExpressionPropertyInterface(P.a)}),Object.defineProperty(T,"opacity",{get:ExpressionPropertyInterface(P.o)}),Object.defineProperty(T,"skew",{get:ExpressionPropertyInterface(P.sk)}),Object.defineProperty(T,"skewAxis",{get:ExpressionPropertyInterface(P.sa)}),Object.defineProperty(T,"orientation",{get:ExpressionPropertyInterface(P.or)}),T},LayerExpressionInterface=function(){function P(oe){var ae=new Matrix;return oe!==void 0?this._elem.finalTransform.mProp.getValueAtTime(oe).clone(ae):this._elem.finalTransform.mProp.applyToMatrix(ae),ae}function T(oe,ae){var ce=this.getMatrix(ae);return ce.props[12]=0,ce.props[13]=0,ce.props[14]=0,this.applyPoint(ce,oe)}function A(oe,ae){var ce=this.getMatrix(ae);return this.applyPoint(ce,oe)}function L(oe,ae){var ce=this.getMatrix(ae);return ce.props[12]=0,ce.props[13]=0,ce.props[14]=0,this.invertPoint(ce,oe)}function U(oe,ae){var ce=this.getMatrix(ae);return this.invertPoint(ce,oe)}function W(oe,ae){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ce,he=this._elem.hierarchy.length;for(ce=0;ce<he;ce+=1)this._elem.hierarchy[ce].finalTransform.mProp.applyToMatrix(oe)}return oe.applyToPointArray(ae[0],ae[1],ae[2]||0)}function te(oe,ae){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ce,he=this._elem.hierarchy.length;for(ce=0;ce<he;ce+=1)this._elem.hierarchy[ce].finalTransform.mProp.applyToMatrix(oe)}return oe.inversePoint(ae)}function ne(oe){var ae=new Matrix;if(ae.reset(),this._elem.finalTransform.mProp.applyToMatrix(ae),this._elem.hierarchy&&this._elem.hierarchy.length){var ce,he=this._elem.hierarchy.length;for(ce=0;ce<he;ce+=1)this._elem.hierarchy[ce].finalTransform.mProp.applyToMatrix(ae);return ae.inversePoint(oe)}return ae.inversePoint(oe)}function ie(){return[1,1,1,1]}return function(oe){var ae;function ce(ue){switch(ue){case"ADBE Root Vectors Group":case"Contents":case 2:return ce.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ae;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ce.effect;case"ADBE Text Properties":return ce.textInterface;default:return null}}ce.getMatrix=P,ce.invertPoint=te,ce.applyPoint=W,ce.toWorld=A,ce.toWorldVec=T,ce.fromWorld=U,ce.fromWorldVec=L,ce.toComp=A,ce.fromComp=ne,ce.sampleImage=ie,ce.sourceRectAtTime=oe.sourceRectAtTime.bind(oe),ce._elem=oe;var he=getDescriptor(ae=TransformExpressionInterface(oe.finalTransform.mProp),"anchorPoint");return Object.defineProperties(ce,{hasParent:{get:function(){return oe.hierarchy.length}},parent:{get:function(){return oe.hierarchy[0].layerInterface}},rotation:getDescriptor(ae,"rotation"),scale:getDescriptor(ae,"scale"),position:getDescriptor(ae,"position"),opacity:getDescriptor(ae,"opacity"),anchorPoint:he,anchor_point:he,transform:{get:function(){return ae}},active:{get:function(){return oe.isInRange}}}),ce.startTime=oe.data.st,ce.index=oe.data.ind,ce.source=oe.data.refId,ce.height=oe.data.ty===0?oe.data.h:100,ce.width=oe.data.ty===0?oe.data.w:100,ce.inPoint=oe.data.ip/oe.comp.globalData.frameRate,ce.outPoint=oe.data.op/oe.comp.globalData.frameRate,ce._name=oe.data.nm,ce.registerMaskInterface=function(ue){ce.mask=new MaskManagerInterface(ue,oe)},ce.registerEffectsInterface=function(ue){ce.effect=ue},ce}}(),propertyGroupFactory=function(P,T){return function(A){return(A=A===void 0?1:A)<=0?P:T(A-1)}},PropertyInterface=function(P,T){var A={_name:P};return function(L){return(L=L===void 0?1:L)<=0?A:T(L-1)}},EffectsExpressionInterface=function(){function P(A,L,U,W){function te(ce){for(var he=A.ef,ue=0,pe=he.length;ue<pe;){if(ce===he[ue].nm||ce===he[ue].mn||ce===he[ue].ix)return he[ue].ty===5?oe[ue]:oe[ue]();ue+=1}throw new Error}var ne,ie=propertyGroupFactory(te,U),oe=[],ae=A.ef.length;for(ne=0;ne<ae;ne+=1)A.ef[ne].ty===5?oe.push(P(A.ef[ne],L.effectElements[ne],L.effectElements[ne].propertyGroup,W)):oe.push(T(L.effectElements[ne],A.ef[ne].ty,W,ie));return A.mn==="ADBE Color Control"&&Object.defineProperty(te,"color",{get:function(){return oe[0]()}}),Object.defineProperties(te,{numProperties:{get:function(){return A.np}},_name:{value:A.nm},propertyGroup:{value:ie}}),te.enabled=A.en!==0,te.active=te.enabled,te}function T(A,L,U,W){var te=ExpressionPropertyInterface(A.p);return A.p.setGroupProperty&&A.p.setGroupProperty(PropertyInterface("",W)),function(){return L===10?U.comp.compInterface(A.p.v):te()}}return{createEffectsInterface:function(A,L){if(A.effectsManager){var U,W=[],te=A.data.ef,ne=A.effectsManager.effectElements.length;for(U=0;U<ne;U+=1)W.push(P(te[U],A.effectsManager.effectElements[U],L,A));var ie=A.data.ef||[],oe=function(ae){for(U=0,ne=ie.length;U<ne;){if(ae===ie[U].nm||ae===ie[U].mn||ae===ie[U].ix)return W[U];U+=1}return null};return Object.defineProperty(oe,"numProperties",{get:function(){return ie.length}}),oe}return null}}}(),ShapePathInterface=function(P,T,A){var L=T.sh;function U(te){return te==="Shape"||te==="shape"||te==="Path"||te==="path"||te==="ADBE Vector Shape"||te===2?U.path:null}var W=propertyGroupFactory(U,A);return L.setGroupProperty(PropertyInterface("Path",W)),Object.defineProperties(U,{path:{get:function(){return L.k&&L.getValue(),L}},shape:{get:function(){return L.k&&L.getValue(),L}},_name:{value:P.nm},ix:{value:P.ix},propertyIndex:{value:P.ix},mn:{value:P.mn},propertyGroup:{value:A}}),U},ShapeExpressionInterface=function(){function P(ue,pe,ge){var de,me=[],ye=ue?ue.length:0;for(de=0;de<ye;de+=1)ue[de].ty==="gr"?me.push(T(ue[de],pe[de],ge)):ue[de].ty==="fl"?me.push(A(ue[de],pe[de],ge)):ue[de].ty==="st"?me.push(W(ue[de],pe[de],ge)):ue[de].ty==="tm"?me.push(te(ue[de],pe[de],ge)):ue[de].ty==="tr"||(ue[de].ty==="el"?me.push(ie(ue[de],pe[de],ge)):ue[de].ty==="sr"?me.push(oe(ue[de],pe[de],ge)):ue[de].ty==="sh"?me.push(ShapePathInterface(ue[de],pe[de],ge)):ue[de].ty==="rc"?me.push(ae(ue[de],pe[de],ge)):ue[de].ty==="rd"?me.push(ce(ue[de],pe[de],ge)):ue[de].ty==="rp"?me.push(he(ue[de],pe[de],ge)):ue[de].ty==="gf"?me.push(L(ue[de],pe[de],ge)):me.push(U(ue[de],pe[de])));return me}function T(ue,pe,ge){var de=function(xe){switch(xe){case"ADBE Vectors Group":case"Contents":case 2:return de.content;default:return de.transform}};de.propertyGroup=propertyGroupFactory(de,ge);var me=function(xe,Se,Te){var be,Pe=function(De){for(var we=0,Fe=be.length;we<Fe;){if(be[we]._name===De||be[we].mn===De||be[we].propertyIndex===De||be[we].ix===De||be[we].ind===De)return be[we];we+=1}return typeof De=="number"?be[De-1]:null};Pe.propertyGroup=propertyGroupFactory(Pe,Te),be=P(xe.it,Se.it,Pe.propertyGroup),Pe.numProperties=be.length;var Ie=ne(xe.it[xe.it.length-1],Se.it[Se.it.length-1],Pe.propertyGroup);return Pe.transform=Ie,Pe.propertyIndex=xe.cix,Pe._name=xe.nm,Pe}(ue,pe,de.propertyGroup),ye=ne(ue.it[ue.it.length-1],pe.it[pe.it.length-1],de.propertyGroup);return de.content=me,de.transform=ye,Object.defineProperty(de,"_name",{get:function(){return ue.nm}}),de.numProperties=ue.np,de.propertyIndex=ue.ix,de.nm=ue.nm,de.mn=ue.mn,de}function A(ue,pe,ge){function de(me){return me==="Color"||me==="color"?de.color:me==="Opacity"||me==="opacity"?de.opacity:null}return Object.defineProperties(de,{color:{get:ExpressionPropertyInterface(pe.c)},opacity:{get:ExpressionPropertyInterface(pe.o)},_name:{value:ue.nm},mn:{value:ue.mn}}),pe.c.setGroupProperty(PropertyInterface("Color",ge)),pe.o.setGroupProperty(PropertyInterface("Opacity",ge)),de}function L(ue,pe,ge){function de(me){return me==="Start Point"||me==="start point"?de.startPoint:me==="End Point"||me==="end point"?de.endPoint:me==="Opacity"||me==="opacity"?de.opacity:null}return Object.defineProperties(de,{startPoint:{get:ExpressionPropertyInterface(pe.s)},endPoint:{get:ExpressionPropertyInterface(pe.e)},opacity:{get:ExpressionPropertyInterface(pe.o)},type:{get:function(){return"a"}},_name:{value:ue.nm},mn:{value:ue.mn}}),pe.s.setGroupProperty(PropertyInterface("Start Point",ge)),pe.e.setGroupProperty(PropertyInterface("End Point",ge)),pe.o.setGroupProperty(PropertyInterface("Opacity",ge)),de}function U(){return function(){return null}}function W(ue,pe,ge){var de,me=propertyGroupFactory(be,ge),ye=propertyGroupFactory(Te,me);function xe(Pe){Object.defineProperty(Te,ue.d[Pe].nm,{get:ExpressionPropertyInterface(pe.d.dataProps[Pe].p)})}var Se=ue.d?ue.d.length:0,Te={};for(de=0;de<Se;de+=1)xe(de),pe.d.dataProps[de].p.setGroupProperty(ye);function be(Pe){return Pe==="Color"||Pe==="color"?be.color:Pe==="Opacity"||Pe==="opacity"?be.opacity:Pe==="Stroke Width"||Pe==="stroke width"?be.strokeWidth:null}return Object.defineProperties(be,{color:{get:ExpressionPropertyInterface(pe.c)},opacity:{get:ExpressionPropertyInterface(pe.o)},strokeWidth:{get:ExpressionPropertyInterface(pe.w)},dash:{get:function(){return Te}},_name:{value:ue.nm},mn:{value:ue.mn}}),pe.c.setGroupProperty(PropertyInterface("Color",me)),pe.o.setGroupProperty(PropertyInterface("Opacity",me)),pe.w.setGroupProperty(PropertyInterface("Stroke Width",me)),be}function te(ue,pe,ge){function de(ye){return ye===ue.e.ix||ye==="End"||ye==="end"?de.end:ye===ue.s.ix?de.start:ye===ue.o.ix?de.offset:null}var me=propertyGroupFactory(de,ge);return de.propertyIndex=ue.ix,pe.s.setGroupProperty(PropertyInterface("Start",me)),pe.e.setGroupProperty(PropertyInterface("End",me)),pe.o.setGroupProperty(PropertyInterface("Offset",me)),de.propertyIndex=ue.ix,de.propertyGroup=ge,Object.defineProperties(de,{start:{get:ExpressionPropertyInterface(pe.s)},end:{get:ExpressionPropertyInterface(pe.e)},offset:{get:ExpressionPropertyInterface(pe.o)},_name:{value:ue.nm}}),de.mn=ue.mn,de}function ne(ue,pe,ge){function de(ye){return ue.a.ix===ye||ye==="Anchor Point"?de.anchorPoint:ue.o.ix===ye||ye==="Opacity"?de.opacity:ue.p.ix===ye||ye==="Position"?de.position:ue.r.ix===ye||ye==="Rotation"||ye==="ADBE Vector Rotation"?de.rotation:ue.s.ix===ye||ye==="Scale"?de.scale:ue.sk&&ue.sk.ix===ye||ye==="Skew"?de.skew:ue.sa&&ue.sa.ix===ye||ye==="Skew Axis"?de.skewAxis:null}var me=propertyGroupFactory(de,ge);return pe.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",me)),pe.transform.mProps.p.setGroupProperty(PropertyInterface("Position",me)),pe.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",me)),pe.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",me)),pe.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",me)),pe.transform.mProps.sk&&(pe.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",me)),pe.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",me))),pe.transform.op.setGroupProperty(PropertyInterface("Opacity",me)),Object.defineProperties(de,{opacity:{get:ExpressionPropertyInterface(pe.transform.mProps.o)},position:{get:ExpressionPropertyInterface(pe.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(pe.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(pe.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(pe.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(pe.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(pe.transform.mProps.sa)},_name:{value:ue.nm}}),de.ty="tr",de.mn=ue.mn,de.propertyGroup=ge,de}function ie(ue,pe,ge){function de(xe){return ue.p.ix===xe?de.position:ue.s.ix===xe?de.size:null}var me=propertyGroupFactory(de,ge);de.propertyIndex=ue.ix;var ye=pe.sh.ty==="tm"?pe.sh.prop:pe.sh;return ye.s.setGroupProperty(PropertyInterface("Size",me)),ye.p.setGroupProperty(PropertyInterface("Position",me)),Object.defineProperties(de,{size:{get:ExpressionPropertyInterface(ye.s)},position:{get:ExpressionPropertyInterface(ye.p)},_name:{value:ue.nm}}),de.mn=ue.mn,de}function oe(ue,pe,ge){function de(xe){return ue.p.ix===xe?de.position:ue.r.ix===xe?de.rotation:ue.pt.ix===xe?de.points:ue.or.ix===xe||xe==="ADBE Vector Star Outer Radius"?de.outerRadius:ue.os.ix===xe?de.outerRoundness:!ue.ir||ue.ir.ix!==xe&&xe!=="ADBE Vector Star Inner Radius"?ue.is&&ue.is.ix===xe?de.innerRoundness:null:de.innerRadius}var me=propertyGroupFactory(de,ge),ye=pe.sh.ty==="tm"?pe.sh.prop:pe.sh;return de.propertyIndex=ue.ix,ye.or.setGroupProperty(PropertyInterface("Outer Radius",me)),ye.os.setGroupProperty(PropertyInterface("Outer Roundness",me)),ye.pt.setGroupProperty(PropertyInterface("Points",me)),ye.p.setGroupProperty(PropertyInterface("Position",me)),ye.r.setGroupProperty(PropertyInterface("Rotation",me)),ue.ir&&(ye.ir.setGroupProperty(PropertyInterface("Inner Radius",me)),ye.is.setGroupProperty(PropertyInterface("Inner Roundness",me))),Object.defineProperties(de,{position:{get:ExpressionPropertyInterface(ye.p)},rotation:{get:ExpressionPropertyInterface(ye.r)},points:{get:ExpressionPropertyInterface(ye.pt)},outerRadius:{get:ExpressionPropertyInterface(ye.or)},outerRoundness:{get:ExpressionPropertyInterface(ye.os)},innerRadius:{get:ExpressionPropertyInterface(ye.ir)},innerRoundness:{get:ExpressionPropertyInterface(ye.is)},_name:{value:ue.nm}}),de.mn=ue.mn,de}function ae(ue,pe,ge){function de(xe){return ue.p.ix===xe?de.position:ue.r.ix===xe?de.roundness:ue.s.ix===xe||xe==="Size"||xe==="ADBE Vector Rect Size"?de.size:null}var me=propertyGroupFactory(de,ge),ye=pe.sh.ty==="tm"?pe.sh.prop:pe.sh;return de.propertyIndex=ue.ix,ye.p.setGroupProperty(PropertyInterface("Position",me)),ye.s.setGroupProperty(PropertyInterface("Size",me)),ye.r.setGroupProperty(PropertyInterface("Rotation",me)),Object.defineProperties(de,{position:{get:ExpressionPropertyInterface(ye.p)},roundness:{get:ExpressionPropertyInterface(ye.r)},size:{get:ExpressionPropertyInterface(ye.s)},_name:{value:ue.nm}}),de.mn=ue.mn,de}function ce(ue,pe,ge){function de(xe){return ue.r.ix===xe||xe==="Round Corners 1"?de.radius:null}var me=propertyGroupFactory(de,ge),ye=pe;return de.propertyIndex=ue.ix,ye.rd.setGroupProperty(PropertyInterface("Radius",me)),Object.defineProperties(de,{radius:{get:ExpressionPropertyInterface(ye.rd)},_name:{value:ue.nm}}),de.mn=ue.mn,de}function he(ue,pe,ge){function de(xe){return ue.c.ix===xe||xe==="Copies"?de.copies:ue.o.ix===xe||xe==="Offset"?de.offset:null}var me=propertyGroupFactory(de,ge),ye=pe;return de.propertyIndex=ue.ix,ye.c.setGroupProperty(PropertyInterface("Copies",me)),ye.o.setGroupProperty(PropertyInterface("Offset",me)),Object.defineProperties(de,{copies:{get:ExpressionPropertyInterface(ye.c)},offset:{get:ExpressionPropertyInterface(ye.o)},_name:{value:ue.nm}}),de.mn=ue.mn,de}return function(ue,pe,ge){var de;function me(ye){if(typeof ye=="number")return(ye=ye===void 0?1:ye)===0?ge:de[ye-1];for(var xe=0,Se=de.length;xe<Se;){if(de[xe]._name===ye)return de[xe];xe+=1}return null}return me.propertyGroup=propertyGroupFactory(me,function(){return ge}),de=P(ue,pe,me.propertyGroup),me.numProperties=de.length,me._name="Contents",me}}(),TextExpressionInterface=function(P){var T;function A(L){switch(L){case"ADBE Text Document":return A.sourceText;default:return null}}return Object.defineProperty(A,"sourceText",{get:function(){P.textProperty.getValue();var L=P.textProperty.currentData.t;return T&&L===T.value||((T=new String(L)).value=L||new String(L),Object.defineProperty(T,"style",{get:function(){return{fillColor:P.textProperty.currentData.fc}}})),T}}),A};function _typeof(P){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}var FootageInterface=(dataInterfaceFactory=function(P){function T(A){return A==="Outline"?T.outlineInterface():null}return T._name="Outline",T.outlineInterface=function(A){var L="",U=A.getFootageData();function W(te){if(U[te])return L=te,_typeof(U=U[te])==="object"?W:U;var ne=te.indexOf(L);if(ne!==-1){var ie=parseInt(te.substr(ne+L.length),10);return _typeof(U=U[ie])==="object"?W:U}return""}return function(){return L="",U=A.getFootageData(),W}}(P),T},function(P){function T(A){return A==="Data"?T.dataInterface:null}return T._name="Data",T.dataInterface=dataInterfaceFactory(P),T}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(P){return interfaces[P]||null}var expressionHelpers={searchExpressions:function(P,T,A){T.x&&(A.k=!0,A.x=!0,A.initiateExpression=ExpressionManager.initiateExpression,A.effectsSequence.push(A.initiateExpression(P,T,A).bind(A)))},getSpeedAtTime:function(P){var T=this.getValueAtTime(P),A=this.getValueAtTime(P+-.01),L=0;if(T.length){var U;for(U=0;U<T.length;U+=1)L+=Math.pow(A[U]-T[U],2);L=100*Math.sqrt(L)}else L=0;return L},getVelocityAtTime:function(P){if(this.vel!==void 0)return this.vel;var T,A,L=this.getValueAtTime(P),U=this.getValueAtTime(P+-.001);if(L.length)for(T=createTypedArray("float32",L.length),A=0;A<L.length;A+=1)T[A]=(U[A]-L[A])/-.001;else T=(U-L)/-.001;return T},getValueAtTime:function(P){return P*=this.elem.globalData.frameRate,(P-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<P?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(P,this._cachingAtTime),this._cachingAtTime.lastFrame=P),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(P){this.propertyGroup=P}};function addPropertyDecorator(){function P(ce,he,ue){if(!this.k||!this.keyframes)return this.pv;ce=ce?ce.toLowerCase():"";var pe,ge,de,me,ye,xe=this.comp.renderedFrame,Se=this.keyframes,Te=Se[Se.length-1].t;if(xe<=Te)return this.pv;if(ue?ge=Te-(pe=he?Math.abs(Te-this.elem.comp.globalData.frameRate*he):Math.max(0,Te-this.elem.data.ip)):((!he||he>Se.length-1)&&(he=Se.length-1),pe=Te-(ge=Se[Se.length-1-he].t)),ce==="pingpong"){if(Math.floor((xe-ge)/pe)%2!=0)return this.getValueAtTime((pe-(xe-ge)%pe+ge)/this.comp.globalData.frameRate,0)}else{if(ce==="offset"){var be=this.getValueAtTime(ge/this.comp.globalData.frameRate,0),Pe=this.getValueAtTime(Te/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime(((xe-ge)%pe+ge)/this.comp.globalData.frameRate,0),De=Math.floor((xe-ge)/pe);if(this.pv.length){for(me=(ye=new Array(be.length)).length,de=0;de<me;de+=1)ye[de]=(Pe[de]-be[de])*De+Ie[de];return ye}return(Pe-be)*De+Ie}if(ce==="continue"){var we=this.getValueAtTime(Te/this.comp.globalData.frameRate,0),Fe=this.getValueAtTime((Te-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(me=(ye=new Array(we.length)).length,de=0;de<me;de+=1)ye[de]=we[de]+(we[de]-Fe[de])*((xe-Te)/this.comp.globalData.frameRate)/5e-4;return ye}return we+(xe-Te)/.001*(we-Fe)}}return this.getValueAtTime(((xe-ge)%pe+ge)/this.comp.globalData.frameRate,0)}function T(ce,he,ue){if(!this.k)return this.pv;ce=ce?ce.toLowerCase():"";var pe,ge,de,me,ye,xe=this.comp.renderedFrame,Se=this.keyframes,Te=Se[0].t;if(xe>=Te)return this.pv;if(ue?ge=Te+(pe=he?Math.abs(this.elem.comp.globalData.frameRate*he):Math.max(0,this.elem.data.op-Te)):((!he||he>Se.length-1)&&(he=Se.length-1),pe=(ge=Se[he].t)-Te),ce==="pingpong"){if(Math.floor((Te-xe)/pe)%2==0)return this.getValueAtTime(((Te-xe)%pe+Te)/this.comp.globalData.frameRate,0)}else{if(ce==="offset"){var be=this.getValueAtTime(Te/this.comp.globalData.frameRate,0),Pe=this.getValueAtTime(ge/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((pe-(Te-xe)%pe+Te)/this.comp.globalData.frameRate,0),De=Math.floor((Te-xe)/pe)+1;if(this.pv.length){for(me=(ye=new Array(be.length)).length,de=0;de<me;de+=1)ye[de]=Ie[de]-(Pe[de]-be[de])*De;return ye}return Ie-(Pe-be)*De}if(ce==="continue"){var we=this.getValueAtTime(Te/this.comp.globalData.frameRate,0),Fe=this.getValueAtTime((Te+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(me=(ye=new Array(we.length)).length,de=0;de<me;de+=1)ye[de]=we[de]+(we[de]-Fe[de])*(Te-xe)/.001;return ye}return we+(we-Fe)*(Te-xe)/.001}}return this.getValueAtTime((pe-((Te-xe)%pe+Te))/this.comp.globalData.frameRate,0)}function A(ce,he){if(!this.k)return this.pv;if(ce=.5*(ce||.4),(he=Math.floor(he||5))<=1)return this.pv;var ue,pe,ge=this.comp.renderedFrame/this.comp.globalData.frameRate,de=ge-ce,me=he>1?(ge+ce-de)/(he-1):1,ye=0,xe=0;for(ue=this.pv.length?createTypedArray("float32",this.pv.length):0;ye<he;){if(pe=this.getValueAtTime(de+ye*me),this.pv.length)for(xe=0;xe<this.pv.length;xe+=1)ue[xe]+=pe[xe];else ue+=pe;ye+=1}if(this.pv.length)for(xe=0;xe<this.pv.length;xe+=1)ue[xe]/=he;else ue/=he;return ue}function L(ce){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var he=this._transformCachingAtTime.v;if(he.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ue=this.a.getValueAtTime(ce);he.translate(-ue[0]*this.a.mult,-ue[1]*this.a.mult,ue[2]*this.a.mult)}if(this.appliedTransformations<2){var pe=this.s.getValueAtTime(ce);he.scale(pe[0]*this.s.mult,pe[1]*this.s.mult,pe[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ge=this.sk.getValueAtTime(ce),de=this.sa.getValueAtTime(ce);he.skewFromAxis(-ge*this.sk.mult,de*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var me=this.r.getValueAtTime(ce);he.rotate(-me*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ye=this.rz.getValueAtTime(ce),xe=this.ry.getValueAtTime(ce),Se=this.rx.getValueAtTime(ce),Te=this.or.getValueAtTime(ce);he.rotateZ(-ye*this.rz.mult).rotateY(xe*this.ry.mult).rotateX(Se*this.rx.mult).rotateZ(-Te[2]*this.or.mult).rotateY(Te[1]*this.or.mult).rotateX(Te[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var be=this.px.getValueAtTime(ce),Pe=this.py.getValueAtTime(ce);if(this.data.p.z){var Ie=this.pz.getValueAtTime(ce);he.translate(be*this.px.mult,Pe*this.py.mult,-Ie*this.pz.mult)}else he.translate(be*this.px.mult,Pe*this.py.mult,0)}else{var De=this.p.getValueAtTime(ce);he.translate(De[0]*this.p.mult,De[1]*this.p.mult,-De[2]*this.p.mult)}return he}function U(){return this.v.clone(new Matrix)}var W=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ce,he,ue){var pe=W(ce,he,ue);return pe.dynamicProperties.length?pe.getValueAtTime=L.bind(pe):pe.getValueAtTime=U.bind(pe),pe.setGroupProperty=expressionHelpers.setGroupProperty,pe};var te=PropertyFactory.getProp;PropertyFactory.getProp=function(ce,he,ue,pe,ge){var de=te(ce,he,ue,pe,ge);de.kf?de.getValueAtTime=expressionHelpers.getValueAtTime.bind(de):de.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(de),de.setGroupProperty=expressionHelpers.setGroupProperty,de.loopOut=P,de.loopIn=T,de.smooth=A,de.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(de),de.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(de),de.numKeys=he.a===1?he.k.length:0,de.propertyIndex=he.ix;var me=0;return ue!==0&&(me=createTypedArray("float32",he.a===1?he.k[0].s.length:he.k.length)),de._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:me},expressionHelpers.searchExpressions(ce,he,de),de.k&&ge.addDynamicProperty(de),de};var ne=ShapePropertyFactory.getConstructorFunction(),ie=ShapePropertyFactory.getKeyframedConstructorFunction();function oe(){}oe.prototype={vertices:function(ce,he){this.k&&this.getValue();var ue,pe=this.v;he!==void 0&&(pe=this.getValueAtTime(he,0));var ge=pe._length,de=pe[ce],me=pe.v,ye=createSizedArray(ge);for(ue=0;ue<ge;ue+=1)ye[ue]=ce==="i"||ce==="o"?[de[ue][0]-me[ue][0],de[ue][1]-me[ue][1]]:[de[ue][0],de[ue][1]];return ye},points:function(ce){return this.vertices("v",ce)},inTangents:function(ce){return this.vertices("i",ce)},outTangents:function(ce){return this.vertices("o",ce)},isClosed:function(){return this.v.c},pointOnPath:function(ce,he){var ue=this.v;he!==void 0&&(ue=this.getValueAtTime(he,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ue));for(var pe,ge=this._segmentsLength,de=ge.lengths,me=ge.totalLength*ce,ye=0,xe=de.length,Se=0;ye<xe;){if(Se+de[ye].addedLength>me){var Te=ye,be=ue.c&&ye===xe-1?0:ye+1,Pe=(me-Se)/de[ye].addedLength;pe=bez.getPointInSegment(ue.v[Te],ue.v[be],ue.o[Te],ue.i[be],Pe,de[ye]);break}Se+=de[ye].addedLength,ye+=1}return pe||(pe=ue.c?[ue.v[0][0],ue.v[0][1]]:[ue.v[ue._length-1][0],ue.v[ue._length-1][1]]),pe},vectorOnPath:function(ce,he,ue){ce==1?ce=this.v.c:ce==0&&(ce=.999);var pe=this.pointOnPath(ce,he),ge=this.pointOnPath(ce+.001,he),de=ge[0]-pe[0],me=ge[1]-pe[1],ye=Math.sqrt(Math.pow(de,2)+Math.pow(me,2));return ye===0?[0,0]:ue==="tangent"?[de/ye,me/ye]:[-me/ye,de/ye]},tangentOnPath:function(ce,he){return this.vectorOnPath(ce,he,"tangent")},normalOnPath:function(ce,he){return this.vectorOnPath(ce,he,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([oe],ne),extendPrototype([oe],ie),ie.prototype.getValueAtTime=function(ce){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ce*=this.elem.globalData.frameRate,(ce-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ce?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ce,this.interpolateShape(ce,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},ie.prototype.initiateExpression=ExpressionManager.initiateExpression;var ae=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ce,he,ue,pe,ge){var de=ae(ce,he,ue,pe,ge);return de.propertyIndex=he.ix,de.lock=!1,ue===3?expressionHelpers.searchExpressions(ce,he.pt,de):ue===4&&expressionHelpers.searchExpressions(ce,he.ks,de),de.k&&ce.addDynamicProperty(de),de}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(P,T){var A=this.calculateExpression(T);if(P.t!==A){var L={};return this.copyData(L,P),L.t=A.toString(),L.__complete=!1,L}return P},TextProperty.prototype.searchProperty=function(){var P=this.searchKeyframes(),T=this.searchExpressions();return this.kf=P||T,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(P,T){var A,L,U=createNS("feMerge");for(U.setAttribute("result",P),L=0;L<T.length;L+=1)(A=createNS("feMergeNode")).setAttribute("in",T[L]),U.appendChild(A),U.appendChild(A);return U}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(P,T,A,L,U){this.filterManager=T;var W=createNS("feColorMatrix");W.setAttribute("type","matrix"),W.setAttribute("color-interpolation-filters","linearRGB"),W.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=W,W.setAttribute("result",L+"_tint_1"),P.appendChild(W),(W=createNS("feColorMatrix")).setAttribute("type","matrix"),W.setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),W.setAttribute("result",L+"_tint_2"),P.appendChild(W),this.matrixFilter=W;var te=this.createMergeNode(L,[U,L+"_tint_1",L+"_tint_2"]);P.appendChild(te)}function SVGFillFilter(P,T,A,L){this.filterManager=T;var U=createNS("feColorMatrix");U.setAttribute("type","matrix"),U.setAttribute("color-interpolation-filters","sRGB"),U.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),U.setAttribute("result",L),P.appendChild(U),this.matrixFilter=U}function SVGStrokeEffect(P,T,A){this.initialized=!1,this.filterManager=T,this.elem=A,this.paths=[]}function SVGTritoneFilter(P,T,A,L){this.filterManager=T;var U=createNS("feColorMatrix");U.setAttribute("type","matrix"),U.setAttribute("color-interpolation-filters","linearRGB"),U.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),P.appendChild(U);var W=createNS("feComponentTransfer");W.setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("result",L),this.matrixFilter=W;var te=createNS("feFuncR");te.setAttribute("type","table"),W.appendChild(te),this.feFuncR=te;var ne=createNS("feFuncG");ne.setAttribute("type","table"),W.appendChild(ne),this.feFuncG=ne;var ie=createNS("feFuncB");ie.setAttribute("type","table"),W.appendChild(ie),this.feFuncB=ie,P.appendChild(W)}function SVGProLevelsFilter(P,T,A,L){this.filterManager=T;var U=this.filterManager.effectElements,W=createNS("feComponentTransfer");(U[10].p.k||U[10].p.v!==0||U[11].p.k||U[11].p.v!==1||U[12].p.k||U[12].p.v!==1||U[13].p.k||U[13].p.v!==0||U[14].p.k||U[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",W)),(U[17].p.k||U[17].p.v!==0||U[18].p.k||U[18].p.v!==1||U[19].p.k||U[19].p.v!==1||U[20].p.k||U[20].p.v!==0||U[21].p.k||U[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",W)),(U[24].p.k||U[24].p.v!==0||U[25].p.k||U[25].p.v!==1||U[26].p.k||U[26].p.v!==1||U[27].p.k||U[27].p.v!==0||U[28].p.k||U[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",W)),(U[31].p.k||U[31].p.v!==0||U[32].p.k||U[32].p.v!==1||U[33].p.k||U[33].p.v!==1||U[34].p.k||U[34].p.v!==0||U[35].p.k||U[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",W)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(W.setAttribute("color-interpolation-filters","sRGB"),P.appendChild(W)),(U[3].p.k||U[3].p.v!==0||U[4].p.k||U[4].p.v!==1||U[5].p.k||U[5].p.v!==1||U[6].p.k||U[6].p.v!==0||U[7].p.k||U[7].p.v!==1)&&((W=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("result",L),P.appendChild(W),this.feFuncRComposed=this.createFeFunc("feFuncR",W),this.feFuncGComposed=this.createFeFunc("feFuncG",W),this.feFuncBComposed=this.createFeFunc("feFuncB",W))}function SVGDropShadowEffect(P,T,A,L,U){var W=T.container.globalData.renderConfig.filterSize,te=T.data.fs||W;P.setAttribute("x",te.x||W.x),P.setAttribute("y",te.y||W.y),P.setAttribute("width",te.width||W.width),P.setAttribute("height",te.height||W.height),this.filterManager=T;var ne=createNS("feGaussianBlur");ne.setAttribute("in","SourceAlpha"),ne.setAttribute("result",L+"_drop_shadow_1"),ne.setAttribute("stdDeviation","0"),this.feGaussianBlur=ne,P.appendChild(ne);var ie=createNS("feOffset");ie.setAttribute("dx","25"),ie.setAttribute("dy","0"),ie.setAttribute("in",L+"_drop_shadow_1"),ie.setAttribute("result",L+"_drop_shadow_2"),this.feOffset=ie,P.appendChild(ie);var oe=createNS("feFlood");oe.setAttribute("flood-color","#00ff00"),oe.setAttribute("flood-opacity","1"),oe.setAttribute("result",L+"_drop_shadow_3"),this.feFlood=oe,P.appendChild(oe);var ae=createNS("feComposite");ae.setAttribute("in",L+"_drop_shadow_3"),ae.setAttribute("in2",L+"_drop_shadow_2"),ae.setAttribute("operator","in"),ae.setAttribute("result",L+"_drop_shadow_4"),P.appendChild(ae);var ce=this.createMergeNode(L,[L+"_drop_shadow_4",U]);P.appendChild(ce)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(P){if(P||this.filterManager._mdf){var T=this.filterManager.effectElements[0].p.v,A=this.filterManager.effectElements[1].p.v,L=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+L+" 0"),this.matrixFilter.setAttribute("values",A[0]-T[0]+" 0 0 0 "+T[0]+" "+(A[1]-T[1])+" 0 0 0 "+T[1]+" "+(A[2]-T[2])+" 0 0 0 "+T[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(P){if(P||this.filterManager._mdf){var T=this.filterManager.effectElements[2].p.v,A=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+T[0]+" 0 0 0 0 "+T[1]+" 0 0 0 0 "+T[2]+" 0 0 0 "+A+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var P,T,A,L,U=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(L=this.elem.maskManager.masksProperties.length,A=0):L=(A=this.filterManager.effectElements[0].p.v-1)+1,(T=createNS("g")).setAttribute("fill","none"),T.setAttribute("stroke-linecap","round"),T.setAttribute("stroke-dashoffset",1);A<L;A+=1)P=createNS("path"),T.appendChild(P),this.paths.push({p:P,m:A});if(this.filterManager.effectElements[10].p.v===3){var W=createNS("mask"),te=createElementID();W.setAttribute("id",te),W.setAttribute("mask-type","alpha"),W.appendChild(T),this.elem.globalData.defs.appendChild(W);var ne=createNS("g");for(ne.setAttribute("mask","url("+getLocationHref()+"#"+te+")");U[0];)ne.appendChild(U[0]);this.elem.layerElement.appendChild(ne),this.masker=W,T.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(U=this.elem.layerElement.children||this.elem.layerElement.childNodes;U.length;)this.elem.layerElement.removeChild(U[0]);this.elem.layerElement.appendChild(T),this.elem.layerElement.removeAttribute("mask"),T.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=T},SVGStrokeEffect.prototype.renderFrame=function(P){var T;this.initialized||this.initialize();var A,L,U=this.paths.length;for(T=0;T<U;T+=1)if(this.paths[T].m!==-1&&(A=this.elem.maskManager.viewData[this.paths[T].m],L=this.paths[T].p,(P||this.filterManager._mdf||A.prop._mdf)&&L.setAttribute("d",A.lastPath),P||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||A.prop._mdf)){var W;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var te=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),ne=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),ie=L.getTotalLength();W="0 0 0 "+ie*te+" ";var oe,ae=ie*(ne-te),ce=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,he=Math.floor(ae/ce);for(oe=0;oe<he;oe+=1)W+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";W+="0 "+10*ie+" 0 0"}else W="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;L.setAttribute("stroke-dasharray",W)}if((P||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(P||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(P||this.filterManager.effectElements[3].p._mdf)){var ue=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*ue[0])+","+bmFloor(255*ue[1])+","+bmFloor(255*ue[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(P){if(P||this.filterManager._mdf){var T=this.filterManager.effectElements[0].p.v,A=this.filterManager.effectElements[1].p.v,L=this.filterManager.effectElements[2].p.v,U=L[0]+" "+A[0]+" "+T[0],W=L[1]+" "+A[1]+" "+T[1],te=L[2]+" "+A[2]+" "+T[2];this.feFuncR.setAttribute("tableValues",U),this.feFuncG.setAttribute("tableValues",W),this.feFuncB.setAttribute("tableValues",te)}},SVGProLevelsFilter.prototype.createFeFunc=function(P,T){var A=createNS(P);return A.setAttribute("type","table"),T.appendChild(A),A},SVGProLevelsFilter.prototype.getTableValue=function(P,T,A,L,U){for(var W,te,ne=0,ie=Math.min(P,T),oe=Math.max(P,T),ae=Array.call(null,{length:256}),ce=0,he=U-L,ue=T-P;ne<=256;)te=(W=ne/256)<=ie?ue<0?U:L:W>=oe?ue<0?L:U:L+he*Math.pow((W-P)/ue,1/A),ae[ce]=te,ce+=1,ne+=256/255;return ae.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(P){if(P||this.filterManager._mdf){var T,A=this.filterManager.effectElements;this.feFuncRComposed&&(P||A[3].p._mdf||A[4].p._mdf||A[5].p._mdf||A[6].p._mdf||A[7].p._mdf)&&(T=this.getTableValue(A[3].p.v,A[4].p.v,A[5].p.v,A[6].p.v,A[7].p.v),this.feFuncRComposed.setAttribute("tableValues",T),this.feFuncGComposed.setAttribute("tableValues",T),this.feFuncBComposed.setAttribute("tableValues",T)),this.feFuncR&&(P||A[10].p._mdf||A[11].p._mdf||A[12].p._mdf||A[13].p._mdf||A[14].p._mdf)&&(T=this.getTableValue(A[10].p.v,A[11].p.v,A[12].p.v,A[13].p.v,A[14].p.v),this.feFuncR.setAttribute("tableValues",T)),this.feFuncG&&(P||A[17].p._mdf||A[18].p._mdf||A[19].p._mdf||A[20].p._mdf||A[21].p._mdf)&&(T=this.getTableValue(A[17].p.v,A[18].p.v,A[19].p.v,A[20].p.v,A[21].p.v),this.feFuncG.setAttribute("tableValues",T)),this.feFuncB&&(P||A[24].p._mdf||A[25].p._mdf||A[26].p._mdf||A[27].p._mdf||A[28].p._mdf)&&(T=this.getTableValue(A[24].p.v,A[25].p.v,A[26].p.v,A[27].p.v,A[28].p.v),this.feFuncB.setAttribute("tableValues",T)),this.feFuncA&&(P||A[31].p._mdf||A[32].p._mdf||A[33].p._mdf||A[34].p._mdf||A[35].p._mdf)&&(T=this.getTableValue(A[31].p.v,A[32].p.v,A[33].p.v,A[34].p.v,A[35].p.v),this.feFuncA.setAttribute("tableValues",T))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(P){if(P||this.filterManager._mdf){if((P||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),P||this.filterManager.effectElements[0].p._mdf){var T=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*T[0]),Math.round(255*T[1]),Math.round(255*T[2])))}if((P||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),P||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var A=this.filterManager.effectElements[3].p.v,L=(this.filterManager.effectElements[2].p.v-90)*degToRads,U=A*Math.cos(L),W=A*Math.sin(L);this.feOffset.setAttribute("dx",U),this.feOffset.setAttribute("dy",W)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(P,T,A){this.initialized=!1,this.filterManager=T,this.filterElem=P,this.elem=A,A.matteElement=createNS("g"),A.matteElement.appendChild(A.layerElement),A.matteElement.appendChild(A.transformedElement),A.baseElement=A.matteElement}function SVGGaussianBlurEffect(P,T,A,L){P.setAttribute("x","-100%"),P.setAttribute("y","-100%"),P.setAttribute("width","300%"),P.setAttribute("height","300%"),this.filterManager=T;var U=createNS("feGaussianBlur");U.setAttribute("result",L),P.appendChild(U),this.feGaussianBlur=U}function TransformEffect(){}function SVGTransformEffect(P,T){this.init(T)}function CVTransformEffect(P){this.init(P)}return SVGMatte3Effect.prototype.findSymbol=function(P){for(var T=0,A=_svgMatteSymbols.length;T<A;){if(_svgMatteSymbols[T]===P)return _svgMatteSymbols[T];T+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(P,T){var A=P.layerElement.parentNode;if(A){for(var L,U=A.children,W=0,te=U.length;W<te&&U[W]!==P.layerElement;)W+=1;W<=te-2&&(L=U[W+1]);var ne=createNS("use");ne.setAttribute("href","#"+T),L?A.insertBefore(ne,L):A.appendChild(ne)}},SVGMatte3Effect.prototype.setElementAsMask=function(P,T){if(!this.findSymbol(T)){var A=createElementID(),L=createNS("mask");L.setAttribute("id",T.layerId),L.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(T);var U=P.globalData.defs;U.appendChild(L);var W=createNS("symbol");W.setAttribute("id",A),this.replaceInParent(T,A),W.appendChild(T.layerElement),U.appendChild(W);var te=createNS("use");te.setAttribute("href","#"+A),L.appendChild(te),T.data.hd=!1,T.show()}P.setMatte(T.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var P=this.filterManager.effectElements[0].p.v,T=this.elem.comp.elements,A=0,L=T.length;A<L;)T[A]&&T[A].data.ind===P&&this.setElementAsMask(this.elem,T[A]),A+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(P){if(P||this.filterManager._mdf){var T=.3*this.filterManager.effectElements[0].p.v,A=this.filterManager.effectElements[1].p.v,L=A==3?0:T,U=A==2?0:T;this.feGaussianBlur.setAttribute("stdDeviation",L+" "+U);var W=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",W)}},TransformEffect.prototype.init=function(P){this.effectsManager=P,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(P){if(this._opMdf=!1,this._mdf=!1,P||this.effectsManager._mdf){var T=this.effectsManager.effectElements,A=T[0].p.v,L=T[1].p.v,U=T[2].p.v===1,W=T[3].p.v,te=U?W:T[4].p.v,ne=T[5].p.v,ie=T[6].p.v,oe=T[7].p.v;this.matrix.reset(),this.matrix.translate(-A[0],-A[1],A[2]),this.matrix.scale(.01*te,.01*W,1),this.matrix.rotate(-oe*degToRads),this.matrix.skewFromAxis(-ne*degToRads,(ie+90)*degToRads),this.matrix.translate(L[0],L[1],0),this._mdf=!0,this.opacity!==T[8].p.v&&(this.opacity=T[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}),REACT_LOTTIE_PLAYER_VERSION="3.6.0",LOTTIE_WEB_VERSION="^5.12.2",PlayerState,PlayerEvent;function parseSrc(P){if(typeof P=="object")return P;try{return JSON.parse(P)}catch{}try{return new URL(P).toString()}catch{}return P}(function(P){P.Loading="loading",P.Playing="playing",P.Paused="paused",P.Stopped="stopped",P.Frozen="frozen",P.Error="error"})(PlayerState||(PlayerState={})),function(P){P.Load="load",P.InstanceSaved="instanceSaved",P.Error="error",P.Ready="ready",P.Play="play",P.Pause="pause",P.Stop="stop",P.Freeze="freeze",P.Loop="loop",P.Complete="complete",P.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(P){function T(A){var L=P.call(this,A)||this;return L.container=null,L.unmounted=!1,L.handleBgChange=function(U){L.setState({background:U})},L.triggerDownload=function(U,W){var te=document.createElement("a");te.href=U,te.download=W,document.body.appendChild(te),te.click(),document.body.removeChild(te)},L.snapshot=function(U){var W;U===void 0&&(U=!0);var te=L.props.id?L.props.id:"lottie",ne=document.getElementById(te);if(L.props.renderer==="svg"){if(ne){var ie=ne.querySelector("svg");if(ie){var oe=new XMLSerializer().serializeToString(ie);W="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(oe)}}U&&L.triggerDownload(W,"snapshot.svg")}else if(L.props.renderer==="canvas"){if(ne){var ae=ne.querySelector("canvas");ae&&(W=ae.toDataURL("image/png"))}U&&L.triggerDownload(W,"snapshot.png")}return W},typeof window<"u"&&(window.lottie=lottie),L.state={animationData:null,background:"transparent",containerRef:reactExports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},L}return __extends(T,P),T.getDerivedStateFromProps=function(A,L){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(U){return A.background!==L.background?[2,{background:A.background}]:[2,null]})})},T.prototype.getVersions=function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:REACT_LOTTIE_PLAYER_VERSION}},T.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(A){switch(A.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:A.sent(),A.label=2;case 2:return[2]}})})},T.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},T.prototype.componentDidUpdate=function(A){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(L){switch(L.label){case 0:return this.props.src===A.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:L.sent(),L.label=2;case 2:return[2]}})})},T.prototype.render=function(){var A=this,L=this.props,U=L.children,W=L.loop,te=L.style,ne=L.onBackgroundChange,ie=L.className,oe=this.state,ae=oe.animationData,ce=oe.instance,he=oe.playerState,ue=oe.seeker,pe=oe.debug,ge=oe.background;return reactExports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?reactExports.createElement("div",{className:"lf-error"},reactExports.createElement("span",{"aria-label":"error-symbol",role:"img"},"⚠️")):reactExports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(de){return A.container=de},style:__assign({background:ge,margin:"0 auto",outline:"none",overflow:"hidden"},te),className:ie}),reactExports.Children.map(U,function(de){return reactExports.isValidElement(de)?reactExports.cloneElement(de,{animationData:ae,background:ge,debug:pe,instance:ce,loop:W,pause:function(){return A.pause()},play:function(){return A.play()},playerState:he,seeker:ue,setBackground:function(me){A.setState({background:me}),typeof ne=="function"&&ne(me)},setSeeker:function(me,ye){return A.setSeeker(me,ye)},stop:function(){return A.stop()},toggleDebug:function(){return A.toggleDebug()},setLoop:function(me){return A.setLoop(me)},colorChangedEvent:function(me){A.handleBgChange(me)},snapshot:function(){A.snapshot()}}):null}))},T.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},T.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,function(){var A,L,U,W,te,ne,ie,oe,ae,ce,he,ue,pe,ge,de=this;return __generator(this,function(me){switch(me.label){case 0:if(A=this.props,L=A.autoplay,U=A.direction,W=A.loop,te=A.lottieRef,ne=A.renderer,ie=A.speed,oe=A.src,ae=A.background,ce=A.rendererSettings,he=A.hover,ue=this.state.instance,!oe||!this.container)return[2];me.label=1;case 1:return me.trys.push([1,5,,6]),typeof(pe=parseSrc(oe))!="string"?[3,4]:[4,fetch(pe).catch(function(){throw de.setState({playerState:PlayerState.Error}),de.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 2:return[4,me.sent().json().catch(function(){throw de.setState({playerState:PlayerState.Error}),de.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 3:pe=me.sent(),me.label=4;case 4:return ue&&ue.destroy(),ge=lottie.loadAnimation({rendererSettings:ce||defaultOptions,animationData:pe,autoplay:L||!1,container:this.container,loop:W||!1,renderer:ne}),ie&&ge.setSpeed(ie),this.setState({animationData:pe}),this.setState({instance:ge},function(){de.triggerEvent(PlayerEvent.InstanceSaved),typeof te=="function"&&te(ge),L&&de.play()}),ge.addEventListener("enterFrame",function(){de.triggerEvent(PlayerEvent.Frame),de.setState({seeker:Math.floor(ge.currentFrame)})}),ge.addEventListener("DOMLoaded",function(){de.triggerEvent(PlayerEvent.Load)}),ge.addEventListener("data_ready",function(){de.triggerEvent(PlayerEvent.Ready)}),ge.addEventListener("data_failed",function(){de.setState({playerState:PlayerState.Error}),de.triggerEvent(PlayerEvent.Error)}),ge.addEventListener("loopComplete",function(){de.triggerEvent(PlayerEvent.Loop)}),ge.addEventListener("complete",function(){de.triggerEvent(PlayerEvent.Complete),de.setState({playerState:PlayerState.Paused}),de.props.keepLastFrame&&!de.props.loop||de.setSeeker(0)}),this.container&&(this.container.addEventListener("mouseenter",function(){he&&de.state.playerState!==PlayerState.Playing&&(de.props.keepLastFrame&&de.stop(),de.play())}),this.container.addEventListener("mouseleave",function(){he&&de.state.playerState===PlayerState.Playing&&de.stop()})),ie&&this.setPlayerSpeed(ie),U&&this.setPlayerDirection(U),ae&&this.setState({background:ae}),[3,6];case 5:return me.sent(),this.setState({playerState:PlayerState.Error}),this.triggerEvent(PlayerEvent.Error),[3,6];case 6:return[2]}})})},T.prototype.play=function(){var A=this.state.instance;A&&(this.triggerEvent(PlayerEvent.Play),A.play(),this.setState({playerState:PlayerState.Playing}))},T.prototype.pause=function(){var A=this.state.instance;A&&(this.triggerEvent(PlayerEvent.Pause),A.pause(),this.setState({playerState:PlayerState.Paused}))},T.prototype.stop=function(){var A=this.state.instance;A&&(this.triggerEvent(PlayerEvent.Stop),A.stop(),this.setState({playerState:PlayerState.Stopped}))},T.prototype.setPlayerSpeed=function(A){var L=this.state.instance;L&&L.setSpeed(A)},T.prototype.setPlayerDirection=function(A){var L=this.state.instance;L&&L.setDirection(A)},T.prototype.setSeeker=function(A,L){L===void 0&&(L=!1);var U=this.state,W=U.instance,te=U.playerState;W&&(L&&te===PlayerState.Playing?W.goToAndPlay(A,!0):(W.goToAndStop(A,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},T.prototype.setLoop=function(A){var L=this.state.instance;L&&(L.loop=A,this.setState({instance:L}))},T.prototype.triggerEvent=function(A){var L=this.props.onEvent;L&&L(A)},T.defaultProps={loop:!1},T}(reactExports.Component);function styleInject(P,T){T===void 0&&(T={});var A=T.insertAt;if(typeof document<"u"){var L=document.head||document.getElementsByTagName("head")[0],U=document.createElement("style");U.type="text/css",A==="top"&&L.firstChild?L.insertBefore(U,L.firstChild):L.appendChild(U),U.styleSheet?U.styleSheet.cssText=P:U.appendChild(document.createTextNode(P))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '⥼';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(P){function T(){var A=P!==null&&P.apply(this,arguments)||this;return A.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},A.handleChange=function(L,U){if(L==="r"){var W="#"+(256|U).toString(16).slice(1)+(256|A.state.green).toString(16).slice(1)+(256|A.state.blue).toString(16).slice(1);A.setState({hex:W})}else L==="g"?(W="#"+(256|A.state.red).toString(16).slice(1)+(256|U).toString(16).slice(1)+(256|A.state.blue).toString(16).slice(1),A.setState({hex:W})):L==="b"&&(W="#"+(256|A.state.red).toString(16).slice(1)+(256|A.state.green).toString(16).slice(1)+(256|U).toString(16).slice(1),A.setState({hex:W}))},A.parseColor=function(L){var U;if(typeof L=="string"){if(L[0]==="#"){var W=L.length===4?[L.slice(1,2),L.slice(2,3),L.slice(3,4)].map(function(te){return parseInt(""+te+te,16)}):[L.slice(1,3),L.slice(3,5),L.slice(5,7)].map(function(te){return parseInt(te,16)});A.setState({colorComponents:W})}else L.startsWith("rgb")&&(W=(U=L.match(/\d+/g))===null||U===void 0?void 0:U.map(function(te){return parseInt(te)}))!==void 0&&A.setState({colorComponents:W});A.state.colorComponents.length&&(A.setState({red:A.state.colorComponents[0]}),A.setState({green:A.state.colorComponents[1]}),A.setState({blue:A.state.colorComponents[2]}))}},A}return __extends(T,P),T.prototype.componentDidUpdate=function(A,L){return this.props.colorChangedEvent&&this.state.hex!==L.hex&&this.props.colorChangedEvent(this.state.hex),!0},T.prototype.render=function(){var A=this;return reactExports.createElement("div",{className:"lf-color-picker"},reactExports.createElement("div",{className:"lf-color-selectors"},reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Red"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(L){A.setState({red:L.target.value}),A.handleChange("r",L.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(L){A.setState({red:L.target.value}),A.handleChange("r",L.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Green"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(L){A.setState({green:L.target.value}),A.handleChange("g",L.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(L){A.setState({green:L.target.value}),A.handleChange("g",L.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Blue"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(L){A.setState({blue:L.target.value}),A.handleChange("b",L.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(L){A.setState({blue:L.target.value}),A.handleChange("b",L.target.value)}}))),reactExports.createElement("div",{className:"lf-color-preview"},reactExports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),reactExports.createElement("div",null,reactExports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(L){A.setState({hex:L.target.value}),A.parseColor(L.target.value)}}))))},T}(reactExports.Component),Popover=function(P){var T=P.children,A=P.icon,L=reactExports.useState(null),U=L[0],W=L[1],te=reactExports.useState(null),ne=te[0],ie=te[1],oe=reactExports.useState(null),ae=oe[0],ce=oe[1],he=reactExports.useState(!1),ue=he[0],pe=he[1];return reactExports.useEffect(function(){if(U&&ne){var ge=U.getBoundingClientRect(),de=ne.getBoundingClientRect(),me=ge.left+de.width>window.innerWidth?-1:0;ce(me)}},[ae,ne,U]),reactExports.createElement("div",{className:"lf-popover",onMouseOver:function(){pe(!0)},onMouseLeave:function(){pe(!1)},ref:function(ge){W(ge)}},reactExports.createElement("div",{className:" lf-player-btn"},A),reactExports.createElement("div",{className:"lf-popover-content",ref:function(ge){ie(ge)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:ue?"visible":"hidden"}},T))},Seeker=function(P){function T(A){var L=P.call(this,A)||this;return L.inputRef=reactExports.createRef(),L.handleChange=function(){return function(U){var W=U.target.value,te=Math.floor(W/100*L.props.max);L.props.onChange(te)}},L.state={value:0},L}return __extends(T,P),T.prototype.render=function(){var A=this.props.value/this.props.max*100,L={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+A+"%, rgba(15, 204, 206, 0.4)), color-stop("+A+"%, #DAE1E7))"},U={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},W={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return reactExports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},reactExports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress","aria-label":"progress",type:"range",min:"0",max:"100",step:"0.1",value:A,onInput:this.handleChange(),onChange:this.handleChange(),style:L}),this.props.showLabels&&reactExports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},reactExports.createElement("div",{style:U},this.props.min),reactExports.createElement("div",{style:W},this.props.max)))},T}(reactExports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"},Controls=function(P){function T(A){var L=P.call(this,A)||this;return L.state={activeFrame:0,mouseDown:!1},L}return __extends(T,P),T.prototype.render=function(){var A=this,L=this.props,U=L.instance,W=L.playerState,te=L.seeker,ne=L.setLoop,ie=L.setSeeker,oe=L.play,ae=L.pause,ce=L.stop,he=L.visible,ue=L.buttons;if(!U||!he)return null;var pe=!ue||ue.includes("play"),ge=!ue||ue.includes("stop"),de=!ue||ue.includes("repeat"),me=!ue||ue.includes("frame"),ye=!ue||ue.includes("background"),xe=!ue||ue.includes("snapshot"),Se={width:14,height:14,viewBox:"0 0 24 24"},Te=Math.round(U.currentFrame);return reactExports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},pe&&reactExports.createElement("div",{role:"button","aria-label":W===PlayerState.Playing?PlayerEvent.Pause:PlayerEvent.Play,tabIndex:0,onClick:function(){W===PlayerState.Playing?typeof ae=="function"&&ae():typeof oe=="function"&&oe()},onKeyDown:function(){W===PlayerState.Playing?typeof ae=="function"&&ae():typeof oe=="function"&&oe()},className:"lf-player-btn",style:ControlButtonStyle},W===PlayerState.Playing?reactExports.createElement("svg",__assign({},Se),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):reactExports.createElement("svg",__assign({},Se),reactExports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),ge&&reactExports.createElement("div",{tabIndex:0,role:"button","aria-label":PlayerEvent.Stop,onClick:function(){return ce&&ce()},onKeyDown:function(){return ce&&ce()},className:W===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},Se),reactExports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),reactExports.createElement(Seeker,{min:0,step:1,max:U?U.totalFrames:1,value:te||0,onChange:function(be){ie&&A.setState({activeFrame:be},function(){ie(be,!1)})},onChangeEnd:function(be){ie&&A.setState({activeFrame:be},function(){ie(be,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),me&&reactExports.createElement("div",{role:"button",className:"lf-player-btn-container"},reactExports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:Te,readOnly:!0})),de&&reactExports.createElement("div",{role:"button","aria-label":PlayerEvent.Loop,tabIndex:0,onClick:function(){U&&ne&&ne(!U.loop)},onKeyDown:function(){U&&ne&&ne(!U.loop)},className:U.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},Se),reactExports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),reactExports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),ye&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},Se),reactExports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},reactExports.createElement("div",{slot:"content",className:"lf-popover popover-background"},reactExports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),xe&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},Se),reactExports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),reactExports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),reactExports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),reactExports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},reactExports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(be){ie&&ie(Te+(be.deltaY>0?-1:1),!1)}},reactExports.createElement("h5",null,"Frame ",Te),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),reactExports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},T}(reactExports.Component);const ReviewCard=({body:P})=>jsxRuntimeExports.jsx("figure",{className:"text-[4em] font-black text-transparent text-white",children:jsxRuntimeExports.jsx("blockquote",{children:P})});function MainSection(){const P=[{Image:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline"})}],T=P.slice(0,P.length/1);return jsxRuntimeExports.jsxs("section",{className:"bg-[var(--Cinzabase)] w-full h-[100vh]",children:[jsxRuntimeExports.jsxs("div",{className:"fixed z-50 right-0 top-1/2 transform bg-black border border-white -translate-y-1/2 flex flex-col items-center justify-center w-[4%] h-full gap-y-20",children:[jsxRuntimeExports.jsx("img",{src:Github_Icon,alt:"Github Icon",className:"flex items-center size-min cursor-pointer"}),jsxRuntimeExports.jsx("img",{src:Linkdin_Icon,alt:"LinkedIn Icon",className:"flex items-center size-min cursor-pointer"}),jsxRuntimeExports.jsx("img",{src:Instagran_Icon,alt:"Instagram Icon",className:"flex items-center size-min cursor-pointer"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center w-full h-[80%]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center justify-start w-full h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-start h-full w-[40%]  border border-white ",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white w-[100%] h-[15%] mt-[4.4rem] flex items-center px-10 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-x-2",children:[jsxRuntimeExports.jsx("img",{src:Green_Dot,alt:"green dot",className:" size-5 object-contain"}),jsxRuntimeExports.jsx("p",{className:"text-black font-bold text-3xl",children:"MY CHAT"})]}),jsxRuntimeExports.jsx("img",{src:Foto_Perfil,alt:"Foto de Perfil",className:" size-14 items-center object-contain"})]}),jsxRuntimeExports.jsxs("div",{className:"w-[100%] h-full flex flex-col items-start px-10 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"w-[100%] h-full flex flex-col gap-y-5 mt-5",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center justify-start",children:jsxRuntimeExports.jsx("p",{className:"font-light text-lg border p-2 border-white rounded-xl",children:"Hi everyone!"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center justify-start",children:jsxRuntimeExports.jsxs("p",{className:"font-light text-lg border p-2 border-white rounded-xl",children:["my name is"," ",jsxRuntimeExports.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[var(--CorPrimaria)] to-[var(--CorSecundaria)] font-black text-xl",children:"Nikolas Guedes"})," ","and this is my portifolio."]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center justify-start",children:jsxRuntimeExports.jsx("p",{className:"font-light text-lg border p-2 border-white rounded-xl",children:"Hope you liked =)"})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center justify-center my-5 w-full",children:jsxRuntimeExports.jsx("p",{className:"font-black text-lg border px-8 py-3 mb-2 text-black bg-white rounded-xl cursor-pointer",children:"CONTACT ME"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-row items-center justify-center h-full w-[60%]",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full",children:[jsxRuntimeExports.jsx(S$1,{style:{position:"absolute",top:0},children:jsxRuntimeExports.jsx(M,{control:"query",urlString:"https://www.shadergradient.co/customize?animate=on&axesHelper=off&bgColor1=%23000000&bgColor2=%23000000&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=15.9&color1=%236A00FF&color2=%231D00FF&color3=%23FF5ECC&destination=onCanvas&embedMode=off&envPreset=city&format=gif&fov=45&frameRate=10&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&positionX=-0.1&positionY=0&positionZ=0&range=enabled&rangeEnd=40&rangeStart=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.5&uStrength=0.3&uTime=0&wireframe=false"})}),jsxRuntimeExports.jsx("div",{className:"z-10 absolute w-full h-full",children:jsxRuntimeExports.jsx("div",{className:"bg-transparent border-white border w-full h-full",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-end w-full h-full gap-y-10",children:[jsxRuntimeExports.jsx(Marquee,{className:"[--duration:60s]",children:T.map(()=>jsxRuntimeExports.jsx(ReviewCard,{body:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline",onMouseOver:A=>{A.currentTarget.src=Text_Marquee},onMouseOut:A=>{A.currentTarget.src=Text_Marquee_Outline}})}))}),jsxRuntimeExports.jsx(Marquee,{reverse:!0,className:"[--duration:60s]",children:T.map(()=>jsxRuntimeExports.jsx(ReviewCard,{body:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline",onMouseOver:A=>{A.currentTarget.src=Text_Marquee},onMouseOut:A=>{A.currentTarget.src=Text_Marquee_Outline}})}))}),jsxRuntimeExports.jsx(Marquee,{className:"[--duration:60s]",children:T.map(()=>jsxRuntimeExports.jsx(ReviewCard,{body:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline",onMouseOver:A=>{A.currentTarget.src=Text_Marquee},onMouseOut:A=>{A.currentTarget.src=Text_Marquee_Outline}})}))}),jsxRuntimeExports.jsx(Marquee,{reverse:!0,className:"[--duration:60s]",children:T.map(()=>jsxRuntimeExports.jsx(ReviewCard,{body:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline",onMouseOver:A=>{A.currentTarget.src=Text_Marquee},onMouseOut:A=>{A.currentTarget.src=Text_Marquee_Outline}})}))}),jsxRuntimeExports.jsx(Marquee,{className:"[--duration:60s]",children:T.map(()=>jsxRuntimeExports.jsx(ReviewCard,{body:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline",onMouseOver:A=>{A.currentTarget.src=Text_Marquee},onMouseOut:A=>{A.currentTarget.src=Text_Marquee_Outline}})}))}),jsxRuntimeExports.jsx(Marquee,{reverse:!0,className:"[--duration:60s]",children:T.map(()=>jsxRuntimeExports.jsx(ReviewCard,{body:jsxRuntimeExports.jsx("img",{src:Text_Marquee_Outline,alt:"Marquee Outline",onMouseOver:A=>{A.currentTarget.src=Text_Marquee},onMouseOut:A=>{A.currentTarget.src=Text_Marquee_Outline}})}))})]})})})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row h-[20%] items-start justify-start w-full border border-white",children:[jsxRuntimeExports.jsx("div",{className:"w-[20%] h-full",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full border-r-2 border-white",children:[jsxRuntimeExports.jsx(S$1,{style:{position:"absolute",top:0},children:jsxRuntimeExports.jsx(M,{control:"query",urlString:"https://www.shadergradient.co/customize?animate=on&axesHelper=off&bgColor1=%23000000&bgColor2=%23000000&brightness=0.8&cAzimuthAngle=270&cDistance=0.5&cPolarAngle=180&cameraZoom=14.6&color1=%236A00FF&color2=%231D00FF&color3=%23FF5ECC&destination=onCanvas&embedMode=off&envPreset=city&format=gif&fov=80&frameRate=10&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&positionX=-0.1&positionY=0&positionZ=0&range=enabled&rangeEnd=40&rangeStart=0&reflection=0.4&rotationX=0&rotationY=130&rotationZ=70&shader=defaults&type=sphere&uAmplitude=3.2&uDensity=0.8&uFrequency=5.5&uSpeed=0.3&uStrength=0.3&uTime=0&wireframe=false&zoomOut=true"})}),jsxRuntimeExports.jsx("div",{className:"z-10 absolute w-full h-full"}),jsxRuntimeExports.jsx("div",{className:"-z-40 absolute flex justify-center w-full h-full",children:jsxRuntimeExports.jsx("img",{src:Tunel_Grid,alt:"tunel grid",className:"size-full cursor-pointer"})})]})}),jsxRuntimeExports.jsxs("div",{className:"w-[20%] h-full flex flex-col justify-between items-start gap-x-5 p-3",children:[jsxRuntimeExports.jsx("div",{className:"flex w-full h-full p-2",children:jsxRuntimeExports.jsxs("p",{children:["STATUS: ",jsxRuntimeExports.jsx("span",{className:"pl-1 font-black",children:"STEADY"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-start justify-start w-full h-full",children:[jsxRuntimeExports.jsx(Player,{autoplay:!0,src:"https://lottie.host/a7a1fb1f-8890-4c4f-bd89-d998690df07d/TM357qwJHu.json",loop:!0,style:{width:"5em",height:"100%"},children:jsxRuntimeExports.jsx(Controls,{visible:!1,buttons:["play","repeat","frame","debug"]})}),jsxRuntimeExports.jsx(Player,{autoplay:!0,src:"https://lottie.host/a7a1fb1f-8890-4c4f-bd89-d998690df07d/TM357qwJHu.json",loop:!0,style:{width:"5em",height:"100%"},children:jsxRuntimeExports.jsx(Controls,{visible:!1,buttons:["play","repeat","frame","debug"]})})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-end justify-center h-full pr-22 text-[var(--CinzaEscuro)] text-xs p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex w-72 flex-col items-start justify-end gap-y-3",children:[jsxRuntimeExports.jsx("p",{children:"TERMINAL"}),jsxRuntimeExports.jsxs("div",{className:"flex w-72 flex-col items-start justify-end gap-y-3",children:[jsxRuntimeExports.jsx("p",{children:"Loading stuff_"}),jsxRuntimeExports.jsx("p",{children:"Probably broke something"}),jsxRuntimeExports.jsx("p",{children:"checking for bugs_"})]})]})})})]})]})}function SkillsSection(){return jsxRuntimeExports.jsx("section",{className:"bg-[var(--Cinzabase)] w-full h-[100vh]"})}function App(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"3xl:container 3xl:mx-auto",children:[jsxRuntimeExports.jsx(HeaderPage,{}),jsxRuntimeExports.jsx(MainSection,{}),jsxRuntimeExports.jsx(SkillsSection,{})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
